
        if (a.ep)
            return;
        a.ep = !0;
        const i = r(a);
        fetch(a.href, i)
    }
})();
function Ty(t) {
    return t && t.__esModule && Object.prototype.hasOwnProperty.call(t, "default") ? t.default : t
}
var L2 = {
        exports: {}
    },
    sf = {},
    F2 = {
        exports: {}
    },
    Ct = {}; /**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */







var em = Symbol.for("react.element"),
    gI = Symbol.for("react.portal"),
    vI = Symbol.for("react.fragment"),
    yI = Symbol.for("react.strict_mode"),
    jI = Symbol.for("react.profiler"),
    bI = Symbol.for("react.provider"),
    NI = Symbol.for("react.context"),
    wI = Symbol.for("react.forward_ref"),
    CI = Symbol.for("react.suspense"),
    SI = Symbol.for("react.memo"),
    EI = Symbol.for("react.lazy"),
    Ib = Symbol.iterator;
function kI(t) {
    return t === null || typeof t != "object" ? null : (t = Ib && t[Ib] || t["@@iterator"], typeof t == "function" ? t : null)
}
var z2 = {
        isMounted: function() {
            return !1
        },
        enqueueForceUpdate: function() {},
        enqueueReplaceState: function() {},
        enqueueSetState: function() {}
    },
    $2 = Object.assign,
    V2 = {};
function Gc(t, s, r) {
    this.props = t,
    this.context = s,
    this.refs = V2,
    this.updater = r || z2
}
Gc.prototype.isReactComponent = {};
Gc.prototype.setState = function(t, s) {
    if (typeof t != "object" && typeof t != "function" && t != null)
        throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");
    this.updater.enqueueSetState(this, t, s, "setState")
};
Gc.prototype.forceUpdate = function(t) {
    this.updater.enqueueForceUpdate(this, t, "forceUpdate")
};
function U2() {}
U2.prototype = Gc.prototype;
function Ay(t, s, r) {
    this.props = t,
    this.context = s,
    this.refs = V2,
    this.updater = r || z2
}
var My = Ay.prototype = new U2;
My.constructor = Ay;
$2(My, Gc.prototype);
My.isPureReactComponent = !0;
var Rb = Array.isArray,
    q2 = Object.prototype.hasOwnProperty,
    Iy = {
        current: null
    },
    B2 = {
        key: !0,
        ref: !0,
        __self: !0,
        __source: !0
    };
function H2(t, s, r) {
    var n,
        a = {},
        i = null,
        o = null;
    if (s != null)
        for (n in s.ref !== void 0 && (o = s.ref), s.key !== void 0 && (i = "" + s.key), s)
            q2.call(s, n) && !B2.hasOwnProperty(n) && (a[n] = s[n]);
    var l = arguments.length - 2;
    if (l === 1)
        a.children = r;
    else if (1 < l) {
        for (var c = Array(l), d = 0; d < l; d++)
            c[d] = arguments[d + 2];
        a.children = c
    }
    if (t && t.defaultProps)
        for (n in l = t.defaultProps, l)
            a[n] === void 0 && (a[n] = l[n]);
    return {
        $$typeof: em,
        type: t,
        key: i,
        ref: o,
        props: a,
        _owner: Iy.current
    }
}
function PI(t, s) {
    return {
        $$typeof: em,
        type: t.type,
        key: s,
        ref: t.ref,
        props: t.props,
        _owner: t._owner
    }
}
function Ry(t) {
    return typeof t == "object" && t !== null && t.$$typeof === em
}
function _I(t) {
    var s = {
        "=": "=0",
        ":": "=2"
    };
    return "$" + t.replace(/[=:]/g, function(r) {
        return s[r]
    })
}
var Db = /\/+/g;
function Nx(t, s) {
    return typeof t == "object" && t !== null && t.key != null ? _I("" + t.key) : s.toString(36)
}
function gh(t, s, r, n, a) {
    var i = typeof t;
    (i === "undefined" || i === "boolean") && (t = null);
    var o = !1;
    if (t === null)
        o = !0;
    else
        switch (i) {
        case "string":
        case "number":
            o = !0;
            break;
        case "object":
            switch (t.$$typeof) {
            case em:
            case gI:
                o = !0
            }
        }
    if (o)
        return o = t, a = a(o), t = n === "" ? "." + Nx(o, 0) : n, Rb(a) ? (r = "", t != null && (r = t.replace(Db, "$&/") + "/"), gh(a, s, r, "", function(d) {
            return d
        })) : a != null && (Ry(a) && (a = PI(a, r + (!a.key || o && o.key === a.key ? "" : ("" + a.key).replace(Db, "$&/") + "/") + t)), s.push(a)), 1;
    if (o = 0, n = n === "" ? "." : n + ":", Rb(t))
        for (var l = 0; l < t.length; l++) {
            i = t[l];
            var c = n + Nx(i, l);
            o += gh(i, s, r, c, a)
        }
    else if (c = kI(t), typeof c == "function")
        for (t = c.call(t), l = 0; !(i = t.next()).done;)
            i = i.value,
            c = n + Nx(i, l++),
            o += gh(i, s, r, c, a);
    else if (i === "object")
        throw s = String(t), Error("Objects are not valid as a React child (found: " + (s === "[object Object]" ? "object with keys {" + Object.keys(t).join(", ") + "}" : s) + "). If you meant to render a collection of children, use an array instead.");
    return o
}
function Fm(t, s, r) {
    if (t == null)
        return t;
    var n = [],
        a = 0;
    return gh(t, n, "", "", function(i) {
        return s.call(r, i, a++)
    }), n
}
function TI(t) {
    if (t._status === -1) {
        var s = t._result;
        s = s(),
        s.then(function(r) {
            (t._status === 0 || t._status === -1) && (t._status = 1, t._result = r)
        }, function(r) {
            (t._status === 0 || t._status === -1) && (t._status = 2, t._result = r)
        }),
        t._status === -1 && (t._status = 0, t._result = s)
    }
    if (t._status === 1)
        return t._result.default;
    throw t._result
}
var _r = {
        current: null
    },
    vh = {
        transition: null
    },
    AI = {
        ReactCurrentDispatcher: _r,
        ReactCurrentBatchConfig: vh,
        ReactCurrentOwner: Iy
    };
function W2() {
    throw Error("act(...) is not supported in production builds of React.")
}
Ct.Children = {
    map: Fm,
    forEach: function(t, s, r) {
        Fm(t, function() {
            s.apply(this, arguments)
        }, r)
    },
    count: function(t) {
        var s = 0;
        return Fm(t, function() {
            s++
        }), s
    },
    toArray: function(t) {
        return Fm(t, function(s) {
                return s
            }) || []
    },
    only: function(t) {
        if (!Ry(t))
            throw Error("React.Children.only expected to receive a single React element child.");
        return t
    }
};
Ct.Component = Gc;
Ct.Fragment = vI;
Ct.Profiler = jI;
Ct.PureComponent = Ay;
Ct.StrictMode = yI;
Ct.Suspense = CI;
Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = AI;
Ct.act = W2;
Ct.cloneElement = function(t, s, r) {
    if (t == null)
        throw Error("React.cloneElement(...): The argument must be a React element, but you passed " + t + ".");
    var n = $2({}, t.props),
        a = t.key,
        i = t.ref,
        o = t._owner;
    if (s != null) {
        if (s.ref !== void 0 && (i = s.ref, o = Iy.current), s.key !== void 0 && (a = "" + s.key), t.type && t.type.defaultProps)
            var l = t.type.defaultProps;
        for (c in s)
            q2.call(s, c) && !B2.hasOwnProperty(c) && (n[c] = s[c] === void 0 && l !== void 0 ? l[c] : s[c])
    }
    var c = arguments.length - 2;
    if (c === 1)
        n.children = r;
    else if (1 < c) {
        l = Array(c);
        for (var d = 0; d < c; d++)
            l[d] = arguments[d + 2];
        n.children = l
    }
    return {
        $$typeof: em,
        type: t.type,
        key: a,
        ref: i,
        props: n,
        _owner: o
    }
};
Ct.createContext = function(t) {
    return t = {
        $$typeof: NI,
        _currentValue: t,
        _currentValue2: t,
        _threadCount: 0,
        Provider: null,
        Consumer: null,
        _defaultValue: null,
        _globalName: null
    }, t.Provider = {
        $$typeof: bI,
        _context: t
    }, t.Consumer = t
};
Ct.createElement = H2;
Ct.createFactory = function(t) {
    var s = H2.bind(null, t);
    return s.type = t, s
};
Ct.createRef = function() {
    return {
        current: null
    }
};
Ct.forwardRef = function(t) {
    return {
        $$typeof: wI,
        render: t
    }
};
Ct.isValidElement = Ry;
Ct.lazy = function(t) {
    return {
        $$typeof: EI,
        _payload: {
            _status: -1,
            _result: t
        },
        _init: TI
    }
};
Ct.memo = function(t, s) {
    return {
        $$typeof: SI,
        type: t,
        compare: s === void 0 ? null : s
    }
};
Ct.startTransition = function(t) {
    var s = vh.transition;
    vh.transition = {};
    try {
        t()
    } finally {
        vh.transition = s
    }
};
Ct.unstable_act = W2;
Ct.useCallback = function(t, s) {
    return _r.current.useCallback(t, s)
};
Ct.useContext = function(t) {
    return _r.current.useContext(t)
};
Ct.useDebugValue = function() {};
Ct.useDeferredValue = function(t) {
    return _r.current.useDeferredValue(t)
};
Ct.useEffect = function(t, s) {
    return _r.current.useEffect(t, s)
};
Ct.useId = function() {
    return _r.current.useId()
};
Ct.useImperativeHandle = function(t, s, r) {
    return _r.current.useImperativeHandle(t, s, r)
};
Ct.useInsertionEffect = function(t, s) {
    return _r.current.useInsertionEffect(t, s)
};
Ct.useLayoutEffect = function(t, s) {
    return _r.current.useLayoutEffect(t, s)
};
Ct.useMemo = function(t, s) {
    return _r.current.useMemo(t, s)
};
Ct.useReducer = function(t, s, r) {
    return _r.current.useReducer(t, s, r)
};
Ct.useRef = function(t) {
    return _r.current.useRef(t)
};
Ct.useState = function(t) {
    return _r.current.useState(t)
};
Ct.useSyncExternalStore = function(t, s, r) {
    return _r.current.useSyncExternalStore(t, s, r)
};
Ct.useTransition = function() {
    return _r.current.useTransition()
};
Ct.version = "18.3.1";
F2.exports = Ct;
var h = F2.exports;
const ke = Ty(h),
    G2 = xI({
        __proto__: null,
        default: ke
    }, [h]); /**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */







var MI = h,
    II = Symbol.for("react.element"),
    RI = Symbol.for("react.fragment"),
    DI = Object.prototype.hasOwnProperty,
    OI = MI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,
    LI = {
        key: !0,
        ref: !0,
        __self: !0,
        __source: !0
    };
function K2(t, s, r) {
    var n,
        a = {},
        i = null,
        o = null;
    r !== void 0 && (i = "" + r),
    s.key !== void 0 && (i = "" + s.key),
    s.ref !== void 0 && (o = s.ref);
    for (n in s)
        DI.call(s, n) && !LI.hasOwnProperty(n) && (a[n] = s[n]);
    if (t && t.defaultProps)
        for (n in s = t.defaultProps, s)
            a[n] === void 0 && (a[n] = s[n]);
    return {
        $$typeof: II,
        type: t,
        key: i,
        ref: o,
        props: a,
        _owner: OI.current
    }
}
sf.Fragment = RI;
sf.jsx = K2;
sf.jsxs = K2;
L2.exports = sf;
var e = L2.exports,
    Y2 = {
        exports: {}
    },
    fn = {},
    Q2 = {
        exports: {}
    },
    Z2 = {}; /**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */







(function(t) {
    function s(I, W) {
        var oe = I.length;
        I.push(W);
        e:
        for (; 0 < oe;) {
            var O = oe - 1 >>> 1,
                M = I[O];
            if (0 < a(M, W))
                I[O] = W,
                I[oe] = M,
                oe = O;
            else
                break e
        }
    }
    function r(I) {
        return I.length === 0 ? null : I[0]
    }
    function n(I) {
        if (I.length === 0)
            return null;
        var W = I[0],
            oe = I.pop();
        if (oe !== W) {
            I[0] = oe;
            e:
            for (var O = 0, M = I.length, re = M >>> 1; O < re;) {
                var ue = 2 * (O + 1) - 1,
                    Y = I[ue],
                    he = ue + 1,
                    D = I[he];
                if (0 > a(Y, oe))
                    he < M && 0 > a(D, Y) ? (I[O] = D, I[he] = oe, O = he) : (I[O] = Y, I[ue] = oe, O = ue);
                else if (he < M && 0 > a(D, oe))
                    I[O] = D,
                    I[he] = oe,
                    O = he;
                else
                    break e
            }
        }
        return W
    }
    function a(I, W) {
        var oe = I.sortIndex - W.sortIndex;
        return oe !== 0 ? oe : I.id - W.id
    }
    if (typeof performance == "object" && typeof performance.now == "function") {
        var i = performance;
        t.unstable_now = function() {
            return i.now()
        }
    } else {
        var o = Date,
            l = o.now();
        t.unstable_now = function() {
            return o.now() - l
        }
    }
    var c = [],
        d = [],
        u = 1,
        m = null,
        p = 3,
        j = !1,
        g = !1,
        x = !1,
        y = typeof setTimeout == "function" ? setTimeout : null,
        v = typeof clearTimeout == "function" ? clearTimeout : null,
        f = typeof setImmediate < "u" ? setImmediate : null;
    typeof navigator < "u" && navigator.scheduling !== void 0 && navigator.scheduling.isInputPending !== void 0 && navigator.scheduling.isInputPending.bind(navigator.scheduling);
    function b(I) {
        for (var W = r(d); W !== null;) {
            if (W.callback === null)
                n(d);
            else if (W.startTime <= I)
                n(d),
                W.sortIndex = W.expirationTime,
                s(c, W);
            else
                break;
            W = r(d)
        }
    }
    function N(I) {
        if (x = !1, b(I), !g)
            if (r(c) !== null)
                g = !0,
                _(w);
            else {
                var W = r(d);
                W !== null && S(N, W.startTime - I)
            }
    }
    function w(I, W) {
        g = !1,
        x && (x = !1, v(k), k = -1),
        j = !0;
        var oe = p;
        try {
            for (b(W), m = r(c); m !== null && (!(m.expirationTime > W) || I && !z());) {
                var O = m.callback;
                if (typeof O == "function") {
                    m.callback = null,
                    p = m.priorityLevel;
                    var M = O(m.expirationTime <= W);
                    W = t.unstable_now(),
                    typeof M == "function" ? m.callback = M : m === r(c) && n(c),
                    b(W)
                } else
                    n(c);
                m = r(c)
            }
            if (m !== null)
                var re = !0;
            else {
                var ue = r(d);
                ue !== null && S(N, ue.startTime - W),
                re = !1
            }
            return re
        } finally {
            m = null,
            p = oe,
            j = !1
        }
    }
    var C = !1,
        E = null,
        k = -1,
        R = 5,
        H = -1;
    function z() {
        return !(t.unstable_now() - H < R)
    }
    function A() {
        if (E !== null) {
            var I = t.unstable_now();
            H = I;
            var W = !0;
            try {
                W = E(!0, I)
            } finally {
                W ? $() : (C = !1, E = null)
            }
        } else
            C = !1
    }
    var $;
    if (typeof f == "function")
        $ = function() {
            f(A)
        };
    else if (typeof MessageChannel < "u") {
        var G = new MessageChannel,
            F = G.port2;
        G.port1.onmessage = A,
        $ = function() {
            F.postMessage(null)
        }
    } else
        $ = function() {
            y(A, 0)
        };
    function _(I) {
        E = I,
        C || (C = !0, $())
    }
    function S(I, W) {
        k = y(function() {
            I(t.unstable_now())
        }, W)
    }
    t.unstable_IdlePriority = 5,
    t.unstable_ImmediatePriority = 1,
    t.unstable_LowPriority = 4,
    t.unstable_NormalPriority = 3,
    t.unstable_Profiling = null,
    t.unstable_UserBlockingPriority = 2,
    t.unstable_cancelCallback = function(I) {
        I.callback = null
    },
    t.unstable_continueExecution = function() {
        g || j || (g = !0, _(w))
    },
    t.unstable_forceFrameRate = function(I) {
        0 > I || 125 < I ? console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported") : R = 0 < I ? Math.floor(1e3 / I) : 5
    },
    t.unstable_getCurrentPriorityLevel = function() {
        return p
    },
    t.unstable_getFirstCallbackNode = function() {
        return r(c)
    },
    t.unstable_next = function(I) {
        switch (p) {
        case 1:
        case 2:
        case 3:
            var W = 3;
            break;
        default:
            W = p
        }
        var oe = p;
        p = W;
        try {
            return I()
        } finally {
            p = oe
        }
    },
    t.unstable_pauseExecution = function() {},
    t.unstable_requestPaint = function() {},
    t.unstable_runWithPriority = function(I, W) {
        switch (I) {
        case 1:
        case 2:
        case 3:
        case 4:
        case 5:
            break;
        default:
            I = 3
        }
        var oe = p;
        p = I;
        try {
            return W()
        } finally {
            p = oe
        }
    },
    t.unstable_scheduleCallback = function(I, W, oe) {
        var O = t.unstable_now();
        switch (typeof oe == "object" && oe !== null ? (oe = oe.delay, oe = typeof oe == "number" && 0 < oe ? O + oe : O) : oe = O, I) {
        case 1:
            var M = -1;
            break;
        case 2:
            M = 250;
            break;
        case 5:
            M = 1073741823;
            break;
        case 4:
            M = 1e4;
            break;
        default:
            M = 5e3
        }
        return M = oe + M, I = {
            id: u++,
            callback: W,
            priorityLevel: I,
            startTime: oe,
            expirationTime: M,
            sortIndex: -1
        }, oe > O ? (I.sortIndex = oe, s(d, I), r(c) === null && I === r(d) && (x ? (v(k), k = -1) : x = !0, S(N, oe - O))) : (I.sortIndex = M, s(c, I), g || j || (g = !0, _(w))), I
    },
    t.unstable_shouldYield = z,
    t.unstable_wrapCallback = function(I) {
        var W = p;
        return function() {
            var oe = p;
            p = W;
            try {
                return I.apply(this, arguments)
            } finally {
                p = oe
            }
        }
    }
})(Z2);
Q2.exports = Z2;
var FI = Q2.exports; /**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */







var zI = h,
    pn = FI;
function Ee(t) {
    for (var s = "https://reactjs.org/docs/error-decoder.html?invariant=" + t, r = 1; r < arguments.length; r++)
        s += "&args[]=" + encodeURIComponent(arguments[r]);
    return "Minified React error #" + t + "; visit " + s + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings."
}
var X2 = new Set,
    su = {};
function gl(t, s) {
    Nc(t, s),
    Nc(t + "Capture", s)
}
function Nc(t, s) {
    for (su[t] = s, t = 0; t < s.length; t++)
        X2.add(s[t])
}
var mi = !(typeof window > "u" || typeof window.document > "u" || typeof window.document.createElement > "u"),
    _g = Object.prototype.hasOwnProperty,
    $I = /^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
    Ob = {},
    Lb = {};
function VI(t) {
    return _g.call(Lb, t) ? !0 : _g.call(Ob, t) ? !1 : $I.test(t) ? Lb[t] = !0 : (Ob[t] = !0, !1)
}
function UI(t, s, r, n) {
    if (r !== null && r.type === 0)
        return !1;
    switch (typeof s) {
    case "function":
    case "symbol":
        return !0;
    case "boolean":
        return n ? !1 : r !== null ? !r.acceptsBooleans : (t = t.toLowerCase().slice(0, 5), t !== "data-" && t !== "aria-");
    default:
        return !1
    }
}
function qI(t, s, r, n) {
    if (s === null || typeof s > "u" || UI(t, s, r, n))
        return !0;
    if (n)
        return !1;
    if (r !== null)
        switch (r.type) {
        case 3:
            return !s;
        case 4:
            return s === !1;
        case 5:
            return isNaN(s);
        case 6:
            return isNaN(s) || 1 > s
        }
    return !1
}
function Tr(t, s, r, n, a, i, o) {
    this.acceptsBooleans = s === 2 || s === 3 || s === 4,
    this.attributeName = n,
    this.attributeNamespace = a,
    this.mustUseProperty = r,
    this.propertyName = t,
    this.type = s,
    this.sanitizeURL = i,
    this.removeEmptyString = o
}
var Js = {};
"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t) {
    Js[t] = new Tr(t, 0, !1, t, null, !1, !1)
});
[["acceptCharset", "accept-charset"], ["className", "class"], ["htmlFor", "for"], ["httpEquiv", "http-equiv"]].forEach(function(t) {
    var s = t[0];
    Js[s] = new Tr(s, 1, !1, t[1], null, !1, !1)
});
["contentEditable", "draggable", "spellCheck", "value"].forEach(function(t) {
    Js[t] = new Tr(t, 2, !1, t.toLowerCase(), null, !1, !1)
});
["autoReverse", "externalResourcesRequired", "focusable", "preserveAlpha"].forEach(function(t) {
    Js[t] = new Tr(t, 2, !1, t, null, !1, !1)
});
"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t) {
    Js[t] = new Tr(t, 3, !1, t.toLowerCase(), null, !1, !1)
});
["checked", "multiple", "muted", "selected"].forEach(function(t) {
    Js[t] = new Tr(t, 3, !0, t, null, !1, !1)
});
["capture", "download"].forEach(function(t) {
    Js[t] = new Tr(t, 4, !1, t, null, !1, !1)
});
["cols", "rows", "size", "span"].forEach(function(t) {
    Js[t] = new Tr(t, 6, !1, t, null, !1, !1)
});
["rowSpan", "start"].forEach(function(t) {
    Js[t] = new Tr(t, 5, !1, t.toLowerCase(), null, !1, !1)
});
var Dy = /[\-:]([a-z])/g;
function Oy(t) {
    return t[1].toUpperCase()
}
"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t) {
    var s = t.replace(Dy, Oy);
    Js[s] = new Tr(s, 1, !1, t, null, !1, !1)
});
"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t) {
    var s = t.replace(Dy, Oy);
    Js[s] = new Tr(s, 1, !1, t, "http://www.w3.org/1999/xlink", !1, !1)
});
["xml:base", "xml:lang", "xml:space"].forEach(function(t) {
    var s = t.replace(Dy, Oy);
    Js[s] = new Tr(s, 1, !1, t, "http://www.w3.org/XML/1998/namespace", !1, !1)
});
["tabIndex", "crossOrigin"].forEach(function(t) {
    Js[t] = new Tr(t, 1, !1, t.toLowerCase(), null, !1, !1)
});
Js.xlinkHref = new Tr("xlinkHref", 1, !1, "xlink:href", "http://www.w3.org/1999/xlink", !0, !1);
["src", "href", "action", "formAction"].forEach(function(t) {
    Js[t] = new Tr(t, 1, !1, t.toLowerCase(), null, !0, !0)
});
function Ly(t, s, r, n) {
    var a = Js.hasOwnProperty(s) ? Js[s] : null;
    (a !== null ? a.type !== 0 : n || !(2 < s.length) || s[0] !== "o" && s[0] !== "O" || s[1] !== "n" && s[1] !== "N") && (qI(s, r, a, n) && (r = null), n || a === null ? VI(s) && (r === null ? t.removeAttribute(s) : t.setAttribute(s, "" + r)) : a.mustUseProperty ? t[a.propertyName] = r === null ? a.type === 3 ? !1 : "" : r : (s = a.attributeName, n = a.attributeNamespace, r === null ? t.removeAttribute(s) : (a = a.type, r = a === 3 || a === 4 && r === !0 ? "" : "" + r, n ? t.setAttributeNS(n, s, r) : t.setAttribute(s, r))))
}
var bi = zI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,
    zm = Symbol.for("react.element"),
    Dl = Symbol.for("react.portal"),
    Ol = Symbol.for("react.fragment"),
    Fy = Symbol.for("react.strict_mode"),
    Tg = Symbol.for("react.profiler"),
    J2 = Symbol.for("react.provider"),
    eC = Symbol.for("react.context"),
    zy = Symbol.for("react.forward_ref"),
    Ag = Symbol.for("react.suspense"),
    Mg = Symbol.for("react.suspense_list"),
    $y = Symbol.for("react.memo"),
    Ii = Symbol.for("react.lazy"),
    tC = Symbol.for("react.offscreen"),
    Fb = Symbol.iterator;
function cd(t) {
    return t === null || typeof t != "object" ? null : (t = Fb && t[Fb] || t["@@iterator"], typeof t == "function" ? t : null)
}
var os = Object.assign,
    wx;
function Td(t) {
    if (wx === void 0)
        try {
            throw Error()
        } catch (r) {
            var s = r.stack.trim().match(/\n( *(at )?)/);
            wx = s && s[1] || ""
        }
    return `
`
    + wx + t
}
var Cx = !1;
function Sx(t, s) {
    if (!t || Cx)
        return "";
    Cx = !0;
    var r = Error.prepareStackTrace;
    Error.prepareStackTrace = void 0;
    try {
        if (s)
            if (s = function() {
                throw Error()
            }, Object.defineProperty(s.prototype, "props", {
                set: function() {
                    throw Error()
                }
            }), typeof Reflect == "object" && Reflect.construct) {
                try {
                    Reflect.construct(s, [])
                } catch (d) {
                    var n = d
                }
                Reflect.construct(t, [], s)
            } else {
                try {
                    s.call()
                } catch (d) {
                    n = d
                }
                t.call(s.prototype)
            }
        else {
            try {
                throw Error()
            } catch (d) {
                n = d
            }
            t()
        }
    } catch (d) {
        if (d && n && typeof d.stack == "string") {
            for (var a = d.stack.split(`
`
                ), i = n.stack.split(`
`
                ), o = a.length - 1, l = i.length - 1; 1 <= o && 0 <= l && a[o] !== i[l];)
                l--;
            for (; 1 <= o && 0 <= l; o--, l--)
                if (a[o] !== i[l]) {
                    if (o !== 1 || l !== 1)
                        do if (o--, l--, 0 > l || a[o] !== i[l]) {
                            var c = `
`
                            + a[o].replace(" at new ", " at ");
                            return t.displayName && c.includes("<anonymous>") && (c = c.replace("<anonymous>", t.displayName)), c
                        }
                        while (1 <= o && 0 <= l);
                    break
                }
        }
    } finally {
        Cx = !1,
        Error.prepareStackTrace = r
    }
    return (t = t ? t.displayName || t.name : "") ? Td(t) : ""
}
function BI(t) {
    switch (t.tag) {
    case 5:
        return Td(t.type);
    case 16:
        return Td("Lazy");
    case 13:
        return Td("Suspense");
    case 19:
        return Td("SuspenseList");
    case 0:
    case 2:
    case 15:
        return t = Sx(t.type, !1), t;
    case 11:
        return t = Sx(t.type.render, !1), t;
    case 1:
        return t = Sx(t.type, !0), t;
    default:
        return ""
    }
}
function Ig(t) {
    if (t == null)
        return null;
    if (typeof t == "function")
        return t.displayName || t.name || null;
    if (typeof t == "string")
        return t;
    switch (t) {
    case Ol:
        return "Fragment";
    case Dl:
        return "Portal";
    case Tg:
        return "Profiler";
    case Fy:
        return "StrictMode";
    case Ag:
        return "Suspense";
    case Mg:
        return "SuspenseList"
    }
    if (typeof t == "object")
        switch (t.$$typeof) {
        case eC:
            return (t.displayName || "Context") + ".Consumer";
        case J2:
            return (t._context.displayName || "Context") + ".Provider";
        case zy:
            var s = t.render;
            return t = t.displayName, t || (t = s.displayName || s.name || "", t = t !== "" ? "ForwardRef(" + t + ")" : "ForwardRef"), t;
        case $y:
            return s = t.displayName || null, s !== null ? s : Ig(t.type) || "Memo";
        case Ii:
            s = t._payload,
            t = t._init;
            try {
                return Ig(t(s))
            } catch {}
        }
    return null
}
function HI(t) {
    var s = t.type;
    switch (t.tag) {
    case 24:
        return "Cache";
    case 9:
        return (s.displayName || "Context") + ".Consumer";
    case 10:
        return (s._context.displayName || "Context") + ".Provider";
    case 18:
        return "DehydratedFragment";
    case 11:
        return t = s.render, t = t.displayName || t.name || "", s.displayName || (t !== "" ? "ForwardRef(" + t + ")" : "ForwardRef");
    case 7:
        return "Fragment";
    case 5:
        return s;
    case 4:
        return "Portal";
    case 3:
        return "Root";
    case 6:
        return "Text";
    case 16:
        return Ig(s);
    case 8:
        return s === Fy ? "StrictMode" : "Mode";
    case 22:
        return "Offscreen";
    case 12:
        return "Profiler";
    case 21:
        return "Scope";
    case 13:
        return "Suspense";
    case 19:
        return "SuspenseList";
    case 25:
        return "TracingMarker";
    case 1:
    case 0:
    case 17:
    case 2:
    case 14:
    case 15:
        if (typeof s == "function")
            return s.displayName || s.name || null;
        if (typeof s == "string")
            return s
    }
    return null
}
function oo(t) {
    switch (typeof t) {
    case "boolean":
    case "number":
    case "string":
    case "undefined":
        return t;
    case "object":
        return t;
    default:
        return ""
    }
}
function sC(t) {
    var s = t.type;
    return (t = t.nodeName) && t.toLowerCase() === "input" && (s === "checkbox" || s === "radio")
}
function WI(t) {
    var s = sC(t) ? "checked" : "value",
        r = Object.getOwnPropertyDescriptor(t.constructor.prototype, s),
        n = "" + t[s];
    if (!t.hasOwnProperty(s) && typeof r < "u" && typeof r.get == "function" && typeof r.set == "function") {
        var a = r.get,
            i = r.set;
        return Object.defineProperty(t, s, {
            configurable: !0,
            get: function() {
                return a.call(this)
            },
            set: function(o) {
                n = "" + o,
                i.call(this, o)
            }
        }), Object.defineProperty(t, s, {
            enumerable: r.enumerable
        }), {
            getValue: function() {
                return n
            },
            setValue: function(o) {
                n = "" + o
            },
            stopTracking: function() {
                t._valueTracker = null,
                delete t[s]
            }
        }
    }
}
function $m(t) {
    t._valueTracker || (t._valueTracker = WI(t))
}
function rC(t) {
    if (!t)
        return !1;
    var s = t._valueTracker;
    if (!s)
        return !0;
    var r = s.getValue(),
        n = "";
    return t && (n = sC(t) ? t.checked ? "true" : "false" : t.value), t = n, t !== r ? (s.setValue(t), !0) : !1
}
function Wh(t) {
    if (t = t || (typeof document < "u" ? document : void 0), typeof t > "u")
        return null;
    try {
        return t.activeElement || t.body
    } catch {
        return t.body
    }
}
function Rg(t, s) {
    var r = s.checked;
    return os({}, s, {
        defaultChecked: void 0,
        defaultValue: void 0,
        value: void 0,
        checked: r ?? t._wrapperState.initialChecked
    })
}
function zb(t, s) {
    var r = s.defaultValue == null ? "" : s.defaultValue,
        n = s.checked != null ? s.checked : s.defaultChecked;
    r = oo(s.value != null ? s.value : r),
    t._wrapperState = {
        initialChecked: n,
        initialValue: r,
        controlled: s.type === "checkbox" || s.type === "radio" ? s.checked != null : s.value != null
    }
}
function nC(t, s) {
    s = s.checked,
    s != null && Ly(t, "checked", s, !1)
}
function Dg(t, s) {
    nC(t, s);
    var r = oo(s.value),
        n = s.type;
    if (r != null)
        n === "number" ? (r === 0 && t.value === "" || t.value != r) && (t.value = "" + r) : t.value !== "" + r && (t.value = "" + r);
    else if (n === "submit" || n === "reset") {
        t.removeAttribute("value");
        return
    }
    s.hasOwnProperty("value") ? Og(t, s.type, r) : s.hasOwnProperty("defaultValue") && Og(t, s.type, oo(s.defaultValue)),
    s.checked == null && s.defaultChecked != null && (t.defaultChecked = !!s.defaultChecked)
}
function $b(t, s, r) {
    if (s.hasOwnProperty("value") || s.hasOwnProperty("defaultValue")) {
        var n = s.type;
        if (!(n !== "submit" && n !== "reset" || s.value !== void 0 && s.value !== null))
            return;
        s = "" + t._wrapperState.initialValue,
        r || s === t.value || (t.value = s),
        t.defaultValue = s
    }
    r = t.name,
    r !== "" && (t.name = ""),
    t.defaultChecked = !!t._wrapperState.initialChecked,
    r !== "" && (t.name = r)
}
function Og(t, s, r) {
    (s !== "number" || Wh(t.ownerDocument) !== t) && (r == null ? t.defaultValue = "" + t._wrapperState.initialValue : t.defaultValue !== "" + r && (t.defaultValue = "" + r))
}
var Ad = Array.isArray;
function Yl(t, s, r, n) {
    if (t = t.options, s) {
        s = {};
        for (var a = 0; a < r.length; a++)
            s["$" + r[a]] = !0;
        for (r = 0; r < t.length; r++)
            a = s.hasOwnProperty("$" + t[r].value),
            t[r].selected !== a && (t[r].selected = a),
            a && n && (t[r].defaultSelected = !0)
    } else {
        for (r = "" + oo(r), s = null, a = 0; a < t.length; a++) {
            if (t[a].value === r) {
                t[a].selected = !0,
                n && (t[a].defaultSelected = !0);
                return
            }
            s !== null || t[a].disabled || (s = t[a])
        }
        s !== null && (s.selected = !0)
    }
}
function Lg(t, s) {
    if (s.dangerouslySetInnerHTML != null)
        throw Error(Ee(91));
    return os({}, s, {
        value: void 0,
        defaultValue: void 0,
        children: "" + t._wrapperState.initialValue
    })
}
function Vb(t, s) {
    var r = s.value;
    if (r == null) {
        if (r = s.children, s = s.defaultValue, r != null) {
            if (s != null)
                throw Error(Ee(92));
            if (Ad(r)) {
                if (1 < r.length)
                    throw Error(Ee(93));
                r = r[0]
            }
            s = r
        }
        s == null && (s = ""),
        r = s
    }
    t._wrapperState = {
        initialValue: oo(r)
    }
}
function aC(t, s) {
    var r = oo(s.value),
        n = oo(s.defaultValue);
    r != null && (r = "" + r, r !== t.value && (t.value = r), s.defaultValue == null && t.defaultValue !== r && (t.defaultValue = r)),
    n != null && (t.defaultValue = "" + n)
}
function Ub(t) {
    var s = t.textContent;
    s === t._wrapperState.initialValue && s !== "" && s !== null && (t.value = s)
}
function iC(t) {
    switch (t) {
    case "svg":
        return "http://www.w3.org/2000/svg";
    case "math":
        return "http://www.w3.org/1998/Math/MathML";
    default:
        return "http://www.w3.org/1999/xhtml"
    }
}
function Fg(t, s) {
    return t == null || t === "http://www.w3.org/1999/xhtml" ? iC(s) : t === "http://www.w3.org/2000/svg" && s === "foreignObject" ? "http://www.w3.org/1999/xhtml" : t
}
var Vm,
    oC = function(t) {
        return typeof MSApp < "u" && MSApp.execUnsafeLocalFunction ? function(s, r, n, a) {
            MSApp.execUnsafeLocalFunction(function() {
                return t(s, r, n, a)
            })
        } : t
    }(function(t, s) {
        if (t.namespaceURI !== "http://www.w3.org/2000/svg" || "innerHTML" in t)
            t.innerHTML = s;
        else {
            for (Vm = Vm || document.createElement("div"), Vm.innerHTML = "<svg>" + s.valueOf().toString() + "</svg>", s = Vm.firstChild; t.firstChild;)
                t.removeChild(t.firstChild);
            for (; s.firstChild;)
                t.appendChild(s.firstChild)
        }
    });
function ru(t, s) {
    if (s) {
        var r = t.firstChild;
        if (r && r === t.lastChild && r.nodeType === 3) {
            r.nodeValue = s;
            return
        }
    }
    t.textContent = s
}
var Vd = {
        animationIterationCount: !0,
        aspectRatio: !0,
        borderImageOutset: !0,
        borderImageSlice: !0,
        borderImageWidth: !0,
        boxFlex: !0,
        boxFlexGroup: !0,
        boxOrdinalGroup: !0,
        columnCount: !0,
        columns: !0,
        flex: !0,
        flexGrow: !0,
        flexPositive: !0,
        flexShrink: !0,
        flexNegative: !0,
        flexOrder: !0,
        gridArea: !0,
        gridRow: !0,
        gridRowEnd: !0,
        gridRowSpan: !0,
        gridRowStart: !0,
        gridColumn: !0,
        gridColumnEnd: !0,
        gridColumnSpan: !0,
        gridColumnStart: !0,
        fontWeight: !0,
        lineClamp: !0,
        lineHeight: !0,
        opacity: !0,
        order: !0,
        orphans: !0,
        tabSize: !0,
        widows: !0,
        zIndex: !0,
        zoom: !0,
        fillOpacity: !0,
        floodOpacity: !0,
        stopOpacity: !0,
        strokeDasharray: !0,
        strokeDashoffset: !0,
        strokeMiterlimit: !0,
        strokeOpacity: !0,
        strokeWidth: !0
    },
    GI = ["Webkit", "ms", "Moz", "O"];
Object.keys(Vd).forEach(function(t) {
    GI.forEach(function(s) {
        s = s + t.charAt(0).toUpperCase() + t.substring(1),
        Vd[s] = Vd[t]
    })
});
function lC(t, s, r) {
    return s == null || typeof s == "boolean" || s === "" ? "" : r || typeof s != "number" || s === 0 || Vd.hasOwnProperty(t) && Vd[t] ? ("" + s).trim() : s + "px"
}
function cC(t, s) {
    t = t.style;
    for (var r in s)
        if (s.hasOwnProperty(r)) {
            var n = r.indexOf("--") === 0,
                a = lC(r, s[r], n);
            r === "float" && (r = "cssFloat"),
            n ? t.setProperty(r, a) : t[r] = a
        }
}
var KI = os({
    menuitem: !0
}, {
    area: !0,
    base: !0,
    br: !0,
    col: !0,
    embed: !0,
    hr: !0,
    img: !0,
    input: !0,
    keygen: !0,
    link: !0,
    meta: !0,
    param: !0,
    source: !0,
    track: !0,
    wbr: !0
});
function zg(t, s) {
    if (s) {
        if (KI[t] && (s.children != null || s.dangerouslySetInnerHTML != null))
            throw Error(Ee(137, t));
        if (s.dangerouslySetInnerHTML != null) {
            if (s.children != null)
                throw Error(Ee(60));
            if (typeof s.dangerouslySetInnerHTML != "object" || !("__html" in s.dangerouslySetInnerHTML))
                throw Error(Ee(61))
        }
        if (s.style != null && typeof s.style != "object")
            throw Error(Ee(62))
    }
}
function $g(t, s) {
    if (t.indexOf("-") === -1)
        return typeof s.is == "string";
    switch (t) {
    case "annotation-xml":
    case "color-profile":
    case "font-face":
    case "font-face-src":
    case "font-face-uri":
    case "font-face-format":
    case "font-face-name":
    case "missing-glyph":
        return !1;
    default:
        return !0
    }
}
var Vg = null;
function Vy(t) {
    return t = t.target || t.srcElement || window, t.correspondingUseElement && (t = t.correspondingUseElement), t.nodeType === 3 ? t.parentNode : t
}
var Ug = null,
    Ql = null,
    Zl = null;
function qb(t) {
    if (t = rm(t)) {
        if (typeof Ug != "function")
            throw Error(Ee(280));
        var s = t.stateNode;
        s && (s = lf(s), Ug(t.stateNode, t.type, s))
    }
}
function dC(t) {
    Ql ? Zl ? Zl.push(t) : Zl = [t] : Ql = t
}
function uC() {
    if (Ql) {
        var t = Ql,
            s = Zl;
        if (Zl = Ql = null, qb(t), s)
            for (t = 0; t < s.length; t++)
                qb(s[t])
    }
}
function mC(t, s) {
    return t(s)
}
function hC() {}
var Ex = !1;
function pC(t, s, r) {
    if (Ex)
        return t(s, r);
    Ex = !0;
    try {
        return mC(t, s, r)
    } finally {
        Ex = !1,
        (Ql !== null || Zl !== null) && (hC(), uC())
    }
}
function nu(t, s) {
    var r = t.stateNode;
    if (r === null)
        return null;
    var n = lf(r);
    if (n === null)
        return null;
    r = n[s];
    e:
    switch (s) {
    case "onClick":
    case "onClickCapture":
    case "onDoubleClick":
    case "onDoubleClickCapture":
    case "onMouseDown":
    case "onMouseDownCapture":
    case "onMouseMove":
    case "onMouseMoveCapture":
    case "onMouseUp":
    case "onMouseUpCapture":
    case "onMouseEnter":
        (n = !n.disabled) || (t = t.type, n = !(t === "button" || t === "input" || t === "select" || t === "textarea")),
        t = !n;
        break e;
    default:
        t = !1
    }
    if (t)
        return null;
    if (r && typeof r != "function")
        throw Error(Ee(231, s, typeof r));
    return r
}
var qg = !1;
if (mi)
    try {
        var dd = {};
        Object.defineProperty(dd, "passive", {
            get: function() {
                qg = !0
            }
        }),
        window.addEventListener("test", dd, dd),
        window.removeEventListener("test", dd, dd)
    } catch {
        qg = !1
    }
function YI(t, s, r, n, a, i, o, l, c) {
    var d = Array.prototype.slice.call(arguments, 3);
    try {
        s.apply(r, d)
    } catch (u) {
        this.onError(u)
    }
}
var Ud = !1,
    Gh = null,
    Kh = !1,
    Bg = null,
    QI = {
        onError: function(t) {
            Ud = !0,
            Gh = t
        }
    };
function ZI(t, s, r, n, a, i, o, l, c) {
    Ud = !1,
    Gh = null,
    YI.apply(QI, arguments)
}
function XI(t, s, r, n, a, i, o, l, c) {
    if (ZI.apply(this, arguments), Ud) {
        if (Ud) {
            var d = Gh;
            Ud = !1,
            Gh = null
        } else
            throw Error(Ee(198));
        Kh || (Kh = !0, Bg = d)
    }
}
function vl(t) {
    var s = t,
        r = t;
    if (t.alternate)
        for (; s.return;)
            s = s.return;
    else {
        t = s;
        do s = t,
        s.flags & 4098 && (r = s.return),
        t = s.return;
        while (t)
    }
    return s.tag === 3 ? r : null
}
function fC(t) {
    if (t.tag === 13) {
        var s = t.memoizedState;
        if (s === null && (t = t.alternate, t !== null && (s = t.memoizedState)), s !== null)
            return s.dehydrated
    }
    return null
}
function Bb(t) {
    if (vl(t) !== t)
        throw Error(Ee(188))
}
function JI(t) {
    var s = t.alternate;
    if (!s) {
        if (s = vl(t), s === null)
            throw Error(Ee(188));
        return s !== t ? null : t
    }
    for (var r = t, n = s;;) {
        var a = r.return;
        if (a === null)
            break;
        var i = a.alternate;
        if (i === null) {
            if (n = a.return, n !== null) {
                r = n;
                continue
            }
            break
        }
        if (a.child === i.child) {
            for (i = a.child; i;) {
                if (i === r)
                    return Bb(a), t;
                if (i === n)
                    return Bb(a), s;
                i = i.sibling
            }
            throw Error(Ee(188))
        }
        if (r.return !== n.return)
            r = a,
            n = i;
        else {
            for (var o = !1, l = a.child; l;) {
                if (l === r) {
                    o = !0,
                    r = a,
                    n = i;
                    break
                }
                if (l === n) {
                    o = !0,
                    n = a,
                    r = i;
                    break
                }
                l = l.sibling
            }
            if (!o) {
                for (l = i.child; l;) {
                    if (l === r) {
                        o = !0,
                        r = i,
                        n = a;
                        break
                    }
                    if (l === n) {
                        o = !0,
                        n = i,
                        r = a;
                        break
                    }
                    l = l.sibling
                }
                if (!o)
                    throw Error(Ee(189))
            }
        }
        if (r.alternate !== n)
            throw Error(Ee(190))
    }
    if (r.tag !== 3)
        throw Error(Ee(188));
    return r.stateNode.current === r ? t : s
}
function xC(t) {
    return t = JI(t), t !== null ? gC(t) : null
}
function gC(t) {
    if (t.tag === 5 || t.tag === 6)
        return t;
    for (t = t.child; t !== null;) {
        var s = gC(t);
        if (s !== null)
            return s;
        t = t.sibling
    }
    return null
}
var vC = pn.unstable_scheduleCallback,
    Hb = pn.unstable_cancelCallback,
    eR = pn.unstable_shouldYield,
    tR = pn.unstable_requestPaint,
    fs = pn.unstable_now,
    sR = pn.unstable_getCurrentPriorityLevel,
    Uy = pn.unstable_ImmediatePriority,
    yC = pn.unstable_UserBlockingPriority,
    Yh = pn.unstable_NormalPriority,
    rR = pn.unstable_LowPriority,
    jC = pn.unstable_IdlePriority,
    rf = null,
    ba = null;
function nR(t) {
    if (ba && typeof ba.onCommitFiberRoot == "function")
        try {
            ba.onCommitFiberRoot(rf, t, void 0, (t.current.flags & 128) === 128)
        } catch {}
}
var Hn = Math.clz32 ? Math.clz32 : oR,
    aR = Math.log,
    iR = Math.LN2;
function oR(t) {
    return t >>>= 0, t === 0 ? 32 : 31 - (aR(t) / iR | 0) | 0
}
var Um = 64,
    qm = 4194304;
function Md(t) {
    switch (t & -t) {
    case 1:
        return 1;
    case 2:
        return 2;
    case 4:
        return 4;
    case 8:
        return 8;
    case 16:
        return 16;
    case 32:
        return 32;
    case 64:
    case 128:
    case 256:
    case 512:
    case 1024:
    case 2048:
    case 4096:
    case 8192:
    case 16384:
    case 32768:
    case 65536:
    case 131072:
    case 262144:
    case 524288:
    case 1048576:
    case 2097152:
        return t & 4194240;
    case 4194304:
    case 8388608:
    case 16777216:
    case 33554432:
    case 67108864:
        return t & 130023424;
    case 134217728:
        return 134217728;
    case 268435456:
        return 268435456;
    case 536870912:
        return 536870912;
    case 1073741824:
        return 1073741824;
    default:
        return t
    }
}
function Qh(t, s) {
    var r = t.pendingLanes;
    if (r === 0)
        return 0;
    var n = 0,
        a = t.suspendedLanes,
        i = t.pingedLanes,
        o = r & 268435455;
    if (o !== 0) {
        var l = o & ~a;
        l !== 0 ? n = Md(l) : (i &= o, i !== 0 && (n = Md(i)))
    } else
        o = r & ~a,
        o !== 0 ? n = Md(o) : i !== 0 && (n = Md(i));
    if (n === 0)
        return 0;
    if (s !== 0 && s !== n && !(s & a) && (a = n & -n, i = s & -s, a >= i || a === 16 && (i & 4194240) !== 0))
        return s;
    if (n & 4 && (n |= r & 16), s = t.entangledLanes, s !== 0)
        for (t = t.entanglements, s &= n; 0 < s;)
            r = 31 - Hn(s),
            a = 1 << r,
            n |= t[r],
            s &= ~a;
    return n
}
function lR(t, s) {
    switch (t) {
    case 1:
    case 2:
    case 4:
        return s + 250;
    case 8:
    case 16:
    case 32:
    case 64:
    case 128:
    case 256:
    case 512:
    case 1024:
    case 2048:
    case 4096:
    case 8192:
    case 16384:
    case 32768:
    case 65536:
    case 131072:
    case 262144:
    case 524288:
    case 1048576:
    case 2097152:
        return s + 5e3;
    case 4194304:
    case 8388608:
    case 16777216:
    case 33554432:
    case 67108864:
        return -1;
    case 134217728:
    case 268435456:
    case 536870912:
    case 1073741824:
        return -1;
    default:
        return -1
    }
}
function cR(t, s) {
    for (var r = t.suspendedLanes, n = t.pingedLanes, a = t.expirationTimes, i = t.pendingLanes; 0 < i;) {
        var o = 31 - Hn(i),
            l = 1 << o,
            c = a[o];
        c === -1 ? (!(l & r) || l & n) && (a[o] = lR(l, s)) : c <= s && (t.expiredLanes |= l),
        i &= ~l
    }
}
function Hg(t) {
    return t = t.pendingLanes & -1073741825, t !== 0 ? t : t & 1073741824 ? 1073741824 : 0
}
function bC() {
    var t = Um;
    return Um <<= 1, !(Um & 4194240) && (Um = 64), t
}
function kx(t) {
    for (var s = [], r = 0; 31 > r; r++)
        s.push(t);
    return s
}
function tm(t, s, r) {
    t.pendingLanes |= s,
    s !== 536870912 && (t.suspendedLanes = 0, t.pingedLanes = 0),
    t = t.eventTimes,
    s = 31 - Hn(s),
    t[s] = r
}
function dR(t, s) {
    var r = t.pendingLanes & ~s;
    t.pendingLanes = s,
    t.suspendedLanes = 0,
    t.pingedLanes = 0,
    t.expiredLanes &= s,
    t.mutableReadLanes &= s,
    t.entangledLanes &= s,
    s = t.entanglements;
    var n = t.eventTimes;
    for (t = t.expirationTimes; 0 < r;) {
        var a = 31 - Hn(r),
            i = 1 << a;
        s[a] = 0,
        n[a] = -1,
        t[a] = -1,
        r &= ~i
    }
}
function qy(t, s) {
    var r = t.entangledLanes |= s;
    for (t = t.entanglements; r;) {
        var n = 31 - Hn(r),
            a = 1 << n;
        a & s | t[n] & s && (t[n] |= s),
        r &= ~a
    }
}
var zt = 0;
function NC(t) {
    return t &= -t, 1 < t ? 4 < t ? t & 268435455 ? 16 : 536870912 : 4 : 1
}
var wC,
    By,
    CC,
    SC,
    EC,
    Wg = !1,
    Bm = [],
    Zi = null,
    Xi = null,
    Ji = null,
    au = new Map,
    iu = new Map,
    Di = [],
    uR = "mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");
function Wb(t, s) {
    switch (t) {
    case "focusin":
    case "focusout":
        Zi = null;
        break;
    case "dragenter":
    case "dragleave":
        Xi = null;
        break;
    case "mouseover":
    case "mouseout":
        Ji = null;
        break;
    case "pointerover":
    case "pointerout":
        au.delete(s.pointerId);
        break;
    case "gotpointercapture":
    case "lostpointercapture":
        iu.delete(s.pointerId)
    }
}
function ud(t, s, r, n, a, i) {
    return t === null || t.nativeEvent !== i ? (t = {
        blockedOn: s,
        domEventName: r,
        eventSystemFlags: n,
        nativeEvent: i,
        targetContainers: [a]
    }, s !== null && (s = rm(s), s !== null && By(s)), t) : (t.eventSystemFlags |= n, s = t.targetContainers, a !== null && s.indexOf(a) === -1 && s.push(a), t)
}
function mR(t, s, r, n, a) {
    switch (s) {
    case "focusin":
        return Zi = ud(Zi, t, s, r, n, a), !0;
    case "dragenter":
        return Xi = ud(Xi, t, s, r, n, a), !0;
    case "mouseover":
        return Ji = ud(Ji, t, s, r, n, a), !0;
    case "pointerover":
        var i = a.pointerId;
        return au.set(i, ud(au.get(i) || null, t, s, r, n, a)), !0;
    case "gotpointercapture":
        return i = a.pointerId, iu.set(i, ud(iu.get(i) || null, t, s, r, n, a)), !0
    }
    return !1
}
function kC(t) {
    var s = Io(t.target);
    if (s !== null) {
        var r = vl(s);
        if (r !== null) {
            if (s = r.tag, s === 13) {
                if (s = fC(r), s !== null) {
                    t.blockedOn = s,
                    EC(t.priority, function() {
                        CC(r)
                    });
                    return
                }
            } else if (s === 3 && r.stateNode.current.memoizedState.isDehydrated) {
                t.blockedOn = r.tag === 3 ? r.stateNode.containerInfo : null;
                return
            }
        }
    }
    t.blockedOn = null
}
function yh(t) {
    if (t.blockedOn !== null)
        return !1;
    for (var s = t.targetContainers; 0 < s.length;) {
        var r = Gg(t.domEventName, t.eventSystemFlags, s[0], t.nativeEvent);
        if (r === null) {
            r = t.nativeEvent;
            var n = new r.constructor(r.type, r);
            Vg = n,
            r.target.dispatchEvent(n),
            Vg = null
        } else
            return s = rm(r), s !== null && By(s), t.blockedOn = r, !1;
        s.shift()
    }
    return !0
}
function Gb(t, s, r) {
    yh(t) && r.delete(s)
}
function hR() {
    Wg = !1,
    Zi !== null && yh(Zi) && (Zi = null),
    Xi !== null && yh(Xi) && (Xi = null),
    Ji !== null && yh(Ji) && (Ji = null),
    au.forEach(Gb),
    iu.forEach(Gb)
}
function md(t, s) {
    t.blockedOn === s && (t.blockedOn = null, Wg || (Wg = !0, pn.unstable_scheduleCallback(pn.unstable_NormalPriority, hR)))
}
function ou(t) {
    function s(a) {
        return md(a, t)
    }
    if (0 < Bm.length) {
        md(Bm[0], t);
        for (var r = 1; r < Bm.length; r++) {
            var n = Bm[r];
            n.blockedOn === t && (n.blockedOn = null)
        }
    }
    for (Zi !== null && md(Zi, t), Xi !== null && md(Xi, t), Ji !== null && md(Ji, t), au.forEach(s), iu.forEach(s), r = 0; r < Di.length; r++)
        n = Di[r],
        n.blockedOn === t && (n.blockedOn = null);
    for (; 0 < Di.length && (r = Di[0], r.blockedOn === null);)
        kC(r),
        r.blockedOn === null && Di.shift()
}
var Xl = bi.ReactCurrentBatchConfig,
    Zh = !0;
function pR(t, s, r, n) {
    var a = zt,
        i = Xl.transition;
    Xl.transition = null;
    try {
        zt = 1,
        Hy(t, s, r, n)
    } finally {
        zt = a,
        Xl.transition = i
    }
}
function fR(t, s, r, n) {
    var a = zt,
        i = Xl.transition;
    Xl.transition = null;
    try {
        zt = 4,
        Hy(t, s, r, n)
    } finally {
        zt = a,
        Xl.transition = i
    }
}
function Hy(t, s, r, n) {
    if (Zh) {
        var a = Gg(t, s, r, n);
        if (a === null)
            Lx(t, s, n, Xh, r),
            Wb(t, n);
        else if (mR(a, t, s, r, n))
            n.stopPropagation();
        else if (Wb(t, n), s & 4 && -1 < uR.indexOf(t)) {
            for (; a !== null;) {
                var i = rm(a);
                if (i !== null && wC(i), i = Gg(t, s, r, n), i === null && Lx(t, s, n, Xh, r), i === a)
                    break;
                a = i
            }
            a !== null && n.stopPropagation()
        } else
            Lx(t, s, n, null, r)
    }
}
var Xh = null;
function Gg(t, s, r, n) {
    if (Xh = null, t = Vy(n), t = Io(t), t !== null)
        if (s = vl(t), s === null)
            t = null;
        else if (r = s.tag, r === 13) {
            if (t = fC(s), t !== null)
                return t;
            t = null
        } else if (r === 3) {
            if (s.stateNode.current.memoizedState.isDehydrated)
                return s.tag === 3 ? s.stateNode.containerInfo : null;
            t = null
        } else
            s !== t && (t = null);
    return Xh = t, null
}
function PC(t) {
    switch (t) {
    case "cancel":
    case "click":
    case "close":
    case "contextmenu":
    case "copy":
    case "cut":
    case "auxclick":
    case "dblclick":
    case "dragend":
    case "dragstart":
    case "drop":
    case "focusin":
    case "focusout":
    case "input":
    case "invalid":
    case "keydown":
    case "keypress":
    case "keyup":
    case "mousedown":
    case "mouseup":
    case "paste":
    case "pause":
    case "play":
    case "pointercancel":
    case "pointerdown":
    case "pointerup":
    case "ratechange":
    case "reset":
    case "resize":
    case "seeked":
    case "submit":
    case "touchcancel":
    case "touchend":
    case "touchstart":
    case "volumechange":
    case "change":
    case "selectionchange":
    case "textInput":
    case "compositionstart":
    case "compositionend":
    case "compositionupdate":
    case "beforeblur":
    case "afterblur":
    case "beforeinput":
    case "blur":
    case "fullscreenchange":
    case "focus":
    case "hashchange":
    case "popstate":
    case "select":
    case "selectstart":
        return 1;
    case "drag":
    case "dragenter":
    case "dragexit":
    case "dragleave":
    case "dragover":
    case "mousemove":
    case "mouseout":
    case "mouseover":
    case "pointermove":
    case "pointerout":
    case "pointerover":
    case "scroll":
    case "toggle":
    case "touchmove":
    case "wheel":
    case "mouseenter":
    case "mouseleave":
    case "pointerenter":
    case "pointerleave":
        return 4;
    case "message":
        switch (sR()) {
        case Uy:
            return 1;
        case yC:
            return 4;
        case Yh:
        case rR:
            return 16;
        case jC:
            return 536870912;
        default:
            return 16
        }
    default:
        return 16
    }
}
var Ki = null,
    Wy = null,
    jh = null;
function _C() {
    if (jh)
        return jh;
    var t,
        s = Wy,
        r = s.length,
        n,
        a = "value" in Ki ? Ki.value : Ki.textContent,
        i = a.length;
    for (t = 0; t < r && s[t] === a[t]; t++)
        ;
    var o = r - t;
    for (n = 1; n <= o && s[r - n] === a[i - n]; n++)
        ;
    return jh = a.slice(t, 1 < n ? 1 - n : void 0)
}
function bh(t) {
    var s = t.keyCode;
    return "charCode" in t ? (t = t.charCode, t === 0 && s === 13 && (t = 13)) : t = s, t === 10 && (t = 13), 32 <= t || t === 13 ? t : 0
}
function Hm() {
    return !0
}
function Kb() {
    return !1
}
function xn(t) {
    function s(r, n, a, i, o) {
        this._reactName = r,
        this._targetInst = a,
        this.type = n,
        this.nativeEvent = i,
        this.target = o,
        this.currentTarget = null;
        for (var l in t)
            t.hasOwnProperty(l) && (r = t[l], this[l] = r ? r(i) : i[l]);
        return this.isDefaultPrevented = (i.defaultPrevented != null ? i.defaultPrevented : i.returnValue === !1) ? Hm : Kb, this.isPropagationStopped = Kb, this
    }
    return os(s.prototype, {
        preventDefault: function() {
            this.defaultPrevented = !0;
            var r = this.nativeEvent;
            r && (r.preventDefault ? r.preventDefault() : typeof r.returnValue != "unknown" && (r.returnValue = !1), this.isDefaultPrevented = Hm)
        },
        stopPropagation: function() {
            var r = this.nativeEvent;
            r && (r.stopPropagation ? r.stopPropagation() : typeof r.cancelBubble != "unknown" && (r.cancelBubble = !0), this.isPropagationStopped = Hm)
        },
        persist: function() {},
        isPersistent: Hm
    }), s
}
var Kc = {
        eventPhase: 0,
        bubbles: 0,
        cancelable: 0,
        timeStamp: function(t) {
            return t.timeStamp || Date.now()
        },
        defaultPrevented: 0,
        isTrusted: 0
    },
    Gy = xn(Kc),
    sm = os({}, Kc, {
        view: 0,
        detail: 0
    }),
    xR = xn(sm),
    Px,
    _x,
    hd,
    nf = os({}, sm, {
        screenX: 0,
        screenY: 0,
        clientX: 0,
        clientY: 0,
        pageX: 0,
        pageY: 0,
        ctrlKey: 0,
        shiftKey: 0,
        altKey: 0,
        metaKey: 0,
        getModifierState: Ky,
        button: 0,
        buttons: 0,
        relatedTarget: function(t) {
            return t.relatedTarget === void 0 ? t.fromElement === t.srcElement ? t.toElement : t.fromElement : t.relatedTarget
        },
        movementX: function(t) {
            return "movementX" in t ? t.movementX : (t !== hd && (hd && t.type === "mousemove" ? (Px = t.screenX - hd.screenX, _x = t.screenY - hd.screenY) : _x = Px = 0, hd = t), Px)
        },
        movementY: function(t) {
            return "movementY" in t ? t.movementY : _x
        }
    }),
    Yb = xn(nf),
    gR = os({}, nf, {
        dataTransfer: 0
    }),
    vR = xn(gR),
    yR = os({}, sm, {
        relatedTarget: 0
    }),
    Tx = xn(yR),
    jR = os({}, Kc, {
        animationName: 0,
        elapsedTime: 0,
        pseudoElement: 0
    }),
    bR = xn(jR),
    NR = os({}, Kc, {
        clipboardData: function(t) {
            return "clipboardData" in t ? t.clipboardData : window.clipboardData
        }
    }),
    wR = xn(NR),
    CR = os({}, Kc, {
        data: 0
    }),
    Qb = xn(CR),
    SR = {
        Esc: "Escape",
        Spacebar: " ",
        Left: "ArrowLeft",
        Up: "ArrowUp",
        Right: "ArrowRight",
        Down: "ArrowDown",
        Del: "Delete",
        Win: "OS",
        Menu: "ContextMenu",
        Apps: "ContextMenu",
        Scroll: "ScrollLock",
        MozPrintableKey: "Unidentified"
    },
    ER = {
        8: "Backspace",
        9: "Tab",
        12: "Clear",
        13: "Enter",
        16: "Shift",
        17: "Control",
        18: "Alt",
        19: "Pause",
        20: "CapsLock",
        27: "Escape",
        32: " ",
        33: "PageUp",
        34: "PageDown",
        35: "End",
        36: "Home",
        37: "ArrowLeft",
        38: "ArrowUp",
        39: "ArrowRight",
        40: "ArrowDown",
        45: "Insert",
        46: "Delete",
        112: "F1",
        113: "F2",
        114: "F3",
        115: "F4",
        116: "F5",
        117: "F6",
        118: "F7",
        119: "F8",
        120: "F9",
        121: "F10",
        122: "F11",
        123: "F12",
        144: "NumLock",
        145: "ScrollLock",
        224: "Meta"
    },
    kR = {
        Alt: "altKey",
        Control: "ctrlKey",
        Meta: "metaKey",
        Shift: "shiftKey"
    };
function PR(t) {
    var s = this.nativeEvent;
    return s.getModifierState ? s.getModifierState(t) : (t = kR[t]) ? !!s[t] : !1
}
function Ky() {
    return PR
}
var _R = os({}, sm, {
        key: function(t) {
            if (t.key) {
                var s = SR[t.key] || t.key;
                if (s !== "Unidentified")
                    return s
            }
            return t.type === "keypress" ? (t = bh(t), t === 13 ? "Enter" : String.fromCharCode(t)) : t.type === "keydown" || t.type === "keyup" ? ER[t.keyCode] || "Unidentified" : ""
        },
        code: 0,
        location: 0,
        ctrlKey: 0,
        shiftKey: 0,
        altKey: 0,
        metaKey: 0,
        repeat: 0,
        locale: 0,
        getModifierState: Ky,
        charCode: function(t) {
            return t.type === "keypress" ? bh(t) : 0
        },
        keyCode: function(t) {
            return t.type === "keydown" || t.type === "keyup" ? t.keyCode : 0
        },
        which: function(t) {
            return t.type === "keypress" ? bh(t) : t.type === "keydown" || t.type === "keyup" ? t.keyCode : 0
        }
    }),
    TR = xn(_R),
    AR = os({}, nf, {
        pointerId: 0,
        width: 0,
        height: 0,
        pressure: 0,
        tangentialPressure: 0,
        tiltX: 0,
        tiltY: 0,
        twist: 0,
        pointerType: 0,
        isPrimary: 0
    }),
    Zb = xn(AR),
    MR = os({}, sm, {
        touches: 0,
        targetTouches: 0,
        changedTouches: 0,
        altKey: 0,
        metaKey: 0,
        ctrlKey: 0,
        shiftKey: 0,
        getModifierState: Ky
    }),
    IR = xn(MR),
    RR = os({}, Kc, {
        propertyName: 0,
        elapsedTime: 0,
        pseudoElement: 0
    }),
    DR = xn(RR),
    OR = os({}, nf, {
        deltaX: function(t) {
            return "deltaX" in t ? t.deltaX : "wheelDeltaX" in t ? -t.wheelDeltaX : 0
        },
        deltaY: function(t) {
            return "deltaY" in t ? t.deltaY : "wheelDeltaY" in t ? -t.wheelDeltaY : "wheelDelta" in t ? -t.wheelDelta : 0
        },
        deltaZ: 0,
        deltaMode: 0
    }),
    LR = xn(OR),
    FR = [9, 13, 27, 32],
    Yy = mi && "CompositionEvent" in window,
    qd = null;
mi && "documentMode" in document && (qd = document.documentMode);
var zR = mi && "TextEvent" in window && !qd,
    TC = mi && (!Yy || qd && 8 < qd && 11 >= qd),
    Xb = " ",
    Jb = !1;
function AC(t, s) {
    switch (t) {
    case "keyup":
        return FR.indexOf(s.keyCode) !== -1;
    case "keydown":
        return s.keyCode !== 229;
    case "keypress":
    case "mousedown":
    case "focusout":
        return !0;
    default:
        return !1
    }
}
function MC(t) {
    return t = t.detail, typeof t == "object" && "data" in t ? t.data : null
}
var Ll = !1;
function $R(t, s) {
    switch (t) {
    case "compositionend":
        return MC(s);
    case "keypress":
        return s.which !== 32 ? null : (Jb = !0, Xb);
    case "textInput":
        return t = s.data, t === Xb && Jb ? null : t;
    default:
        return null
    }
}
function VR(t, s) {
    if (Ll)
        return t === "compositionend" || !Yy && AC(t, s) ? (t = _C(), jh = Wy = Ki = null, Ll = !1, t) : null;
    switch (t) {
    case "paste":
        return null;
    case "keypress":
        if (!(s.ctrlKey || s.altKey || s.metaKey) || s.ctrlKey && s.altKey) {
            if (s.char && 1 < s.char.length)
                return s.char;
            if (s.which)
                return String.fromCharCode(s.which)
        }
        return null;
    case "compositionend":
        return TC && s.locale !== "ko" ? null : s.data;
    default:
        return null
    }
}
var UR = {
    color: !0,
    date: !0,
    datetime: !0,
    "datetime-local": !0,
    email: !0,
    month: !0,
    number: !0,
    password: !0,
    range: !0,
    search: !0,
    tel: !0,
    text: !0,
    time: !0,
    url: !0,
    week: !0
};
function eN(t) {
    var s = t && t.nodeName && t.nodeName.toLowerCase();
    return s === "input" ? !!UR[t.type] : s === "textarea"
}
function IC(t, s, r, n) {
    dC(n),
    s = Jh(s, "onChange"),
    0 < s.length && (r = new Gy("onChange", "change", null, r, n), t.push({
        event: r,
        listeners: s
    }))
}
var Bd = null,
    lu = null;
function qR(t) {
    BC(t, 0)
}
function af(t) {
    var s = $l(t);
    if (rC(s))
        return t
}
function BR(t, s) {
    if (t === "change")
        return s
}
var RC = !1;
if (mi) {
    var Ax;
    if (mi) {
        var Mx = "oninput" in document;
        if (!Mx) {
            var tN = document.createElement("div");
            tN.setAttribute("oninput", "return;"),
            Mx = typeof tN.oninput == "function"
        }
        Ax = Mx
    } else
        Ax = !1;
    RC = Ax && (!document.documentMode || 9 < document.documentMode)
}
function sN() {
    Bd && (Bd.detachEvent("onpropertychange", DC), lu = Bd = null)
}
function DC(t) {
    if (t.propertyName === "value" && af(lu)) {
        var s = [];
        IC(s, lu, t, Vy(t)),
        pC(qR, s)
    }
}
function HR(t, s, r) {
    t === "focusin" ? (sN(), Bd = s, lu = r, Bd.attachEvent("onpropertychange", DC)) : t === "focusout" && sN()
}
function WR(t) {
    if (t === "selectionchange" || t === "keyup" || t === "keydown")
        return af(lu)
}
function GR(t, s) {
    if (t === "click")
        return af(s)
}
function KR(t, s) {
    if (t === "input" || t === "change")
        return af(s)
}
function YR(t, s) {
    return t === s && (t !== 0 || 1 / t === 1 / s) || t !== t && s !== s
}
var Zn = typeof Object.is == "function" ? Object.is : YR;
function cu(t, s) {
    if (Zn(t, s))
        return !0;
    if (typeof t != "object" || t === null || typeof s != "object" || s === null)
        return !1;
    var r = Object.keys(t),
        n = Object.keys(s);
    if (r.length !== n.length)
        return !1;
    for (n = 0; n < r.length; n++) {
        var a = r[n];
        if (!_g.call(s, a) || !Zn(t[a], s[a]))
            return !1
    }
    return !0
}
function rN(t) {
    for (; t && t.firstChild;)
        t = t.firstChild;
    return t
}
function nN(t, s) {
    var r = rN(t);
    t = 0;
    for (var n; r;) {
        if (r.nodeType === 3) {
            if (n = t + r.textContent.length, t <= s && n >= s)
                return {
                    node: r,
                    offset: s - t
                };
            t = n
        }
        e:
        {
            for (; r;) {
                if (r.nextSibling) {
                    r = r.nextSibling;
                    break e
                }
                r = r.parentNode
            }
            r = void 0
        }r = rN(r)
    }
}
function OC(t, s) {
    return t && s ? t === s ? !0 : t && t.nodeType === 3 ? !1 : s && s.nodeType === 3 ? OC(t, s.parentNode) : "contains" in t ? t.contains(s) : t.compareDocumentPosition ? !!(t.compareDocumentPosition(s) & 16) : !1 : !1
}
function LC() {
    for (var t = window, s = Wh(); s instanceof t.HTMLIFrameElement;) {
        try {
            var r = typeof s.contentWindow.location.href == "string"
        } catch {
            r = !1
        }
        if (r)
            t = s.contentWindow;
        else
            break;
        s = Wh(t.document)
    }
    return s
}
function Qy(t) {
    var s = t && t.nodeName && t.nodeName.toLowerCase();
    return s && (s === "input" && (t.type === "text" || t.type === "search" || t.type === "tel" || t.type === "url" || t.type === "password") || s === "textarea" || t.contentEditable === "true")
}
function QR(t) {
    var s = LC(),
        r = t.focusedElem,
        n = t.selectionRange;
    if (s !== r && r && r.ownerDocument && OC(r.ownerDocument.documentElement, r)) {
        if (n !== null && Qy(r)) {
            if (s = n.start, t = n.end, t === void 0 && (t = s), "selectionStart" in r)
                r.selectionStart = s,
                r.selectionEnd = Math.min(t, r.value.length);
            else if (t = (s = r.ownerDocument || document) && s.defaultView || window, t.getSelection) {
                t = t.getSelection();
                var a = r.textContent.length,
                    i = Math.min(n.start, a);
                n = n.end === void 0 ? i : Math.min(n.end, a),
                !t.extend && i > n && (a = n, n = i, i = a),
                a = nN(r, i);
                var o = nN(r, n);
                a && o && (t.rangeCount !== 1 || t.anchorNode !== a.node || t.anchorOffset !== a.offset || t.focusNode !== o.node || t.focusOffset !== o.offset) && (s = s.createRange(), s.setStart(a.node, a.offset), t.removeAllRanges(), i > n ? (t.addRange(s), t.extend(o.node, o.offset)) : (s.setEnd(o.node, o.offset), t.addRange(s)))
            }
        }
        for (s = [], t = r; t = t.parentNode;)
            t.nodeType === 1 && s.push({
                element: t,
                left: t.scrollLeft,
                top: t.scrollTop
            });
        for (typeof r.focus == "function" && r.focus(), r = 0; r < s.length; r++)
            t = s[r],
            t.element.scrollLeft = t.left,
            t.element.scrollTop = t.top
    }
}
var ZR = mi && "documentMode" in document && 11 >= document.documentMode,
    Fl = null,
    Kg = null,
    Hd = null,
    Yg = !1;
function aN(t, s, r) {
    var n = r.window === r ? r.document : r.nodeType === 9 ? r : r.ownerDocument;
    Yg || Fl == null || Fl !== Wh(n) || (n = Fl, "selectionStart" in n && Qy(n) ? n = {
        start: n.selectionStart,
        end: n.selectionEnd
    } : (n = (n.ownerDocument && n.ownerDocument.defaultView || window).getSelection(), n = {
        anchorNode: n.anchorNode,
        anchorOffset: n.anchorOffset,
        focusNode: n.focusNode,
        focusOffset: n.focusOffset
    }), Hd && cu(Hd, n) || (Hd = n, n = Jh(Kg, "onSelect"), 0 < n.length && (s = new Gy("onSelect", "select", null, s, r), t.push({
        event: s,
        listeners: n
    }), s.target = Fl)))
}
function Wm(t, s) {
    var r = {};
    return r[t.toLowerCase()] = s.toLowerCase(), r["Webkit" + t] = "webkit" + s, r["Moz" + t] = "moz" + s, r
}
var zl = {
        animationend: Wm("Animation", "AnimationEnd"),
        animationiteration: Wm("Animation", "AnimationIteration"),
        animationstart: Wm("Animation", "AnimationStart"),
        transitionend: Wm("Transition", "TransitionEnd")
    },
    Ix = {},
    FC = {};
mi && (FC = document.createElement("div").style, "AnimationEvent" in window || (delete zl.animationend.animation, delete zl.animationiteration.animation, delete zl.animationstart.animation), "TransitionEvent" in window || delete zl.transitionend.transition);
function of(t) {
    if (Ix[t])
        return Ix[t];
    if (!zl[t])
        return t;
    var s = zl[t],
        r;
    for (r in s)
        if (s.hasOwnProperty(r) && r in FC)
            return Ix[t] = s[r];
    return t
}
var zC = of("animationend"),
    $C = of("animationiteration"),
    VC = of("animationstart"),
    UC = of("transitionend"),
    qC = new Map,
    iN = "abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");
function yo(t, s) {
    qC.set(t, s),
    gl(s, [t])
}
for (var Rx = 0; Rx < iN.length; Rx++) {
    var Dx = iN[Rx],
        XR = Dx.toLowerCase(),
        JR = Dx[0].toUpperCase() + Dx.slice(1);
    yo(XR, "on" + JR)
}
yo(zC, "onAnimationEnd");
yo($C, "onAnimationIteration");
yo(VC, "onAnimationStart");
yo("dblclick", "onDoubleClick");
yo("focusin", "onFocus");
yo("focusout", "onBlur");
yo(UC, "onTransitionEnd");
Nc("onMouseEnter", ["mouseout", "mouseover"]);
Nc("onMouseLeave", ["mouseout", "mouseover"]);
Nc("onPointerEnter", ["pointerout", "pointerover"]);
Nc("onPointerLeave", ["pointerout", "pointerover"]);
gl("onChange", "change click focusin focusout input keydown keyup selectionchange".split(" "));
gl("onSelect", "focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));
gl("onBeforeInput", ["compositionend", "keypress", "textInput", "paste"]);
gl("onCompositionEnd", "compositionend focusout keydown keypress keyup mousedown".split(" "));
gl("onCompositionStart", "compositionstart focusout keydown keypress keyup mousedown".split(" "));
gl("onCompositionUpdate", "compositionupdate focusout keydown keypress keyup mousedown".split(" "));
var Id = "abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),
    eD = new Set("cancel close invalid load scroll toggle".split(" ").concat(Id));
function oN(t, s, r) {
    var n = t.type || "unknown-event";
    t.currentTarget = r,
    XI(n, s, void 0, t),
    t.currentTarget = null
}
function BC(t, s) {
    s = (s & 4) !== 0;
    for (var r = 0; r < t.length; r++) {
        var n = t[r],
            a = n.event;
        n = n.listeners;
        e:
        {
            var i = void 0;
            if (s)
                for (var o = n.length - 1; 0 <= o; o--) {
                    var l = n[o],
                        c = l.instance,
                        d = l.currentTarget;
                    if (l = l.listener, c !== i && a.isPropagationStopped())
                        break e;
                    oN(a, l, d),
                    i = c
                }
            else
                for (o = 0; o < n.length; o++) {
                    if (l = n[o], c = l.instance, d = l.currentTarget, l = l.listener, c !== i && a.isPropagationStopped())
                        break e;
                    oN(a, l, d),
                    i = c
                }
        }
    }
    if (Kh)
        throw t = Bg, Kh = !1, Bg = null, t
}
function Gt(t, s) {
    var r = s[ev];
    r === void 0 && (r = s[ev] = new Set);
    var n = t + "__bubble";
    r.has(n) || (HC(s, t, 2, !1), r.add(n))
}
function Ox(t, s, r) {
    var n = 0;
    s && (n |= 4),
    HC(r, t, n, s)
}
var Gm = "_reactListening" + Math.random().toString(36).slice(2);
function du(t) {
    if (!t[Gm]) {
        t[Gm] = !0,
        X2.forEach(function(r) {
            r !== "selectionchange" && (eD.has(r) || Ox(r, !1, t), Ox(r, !0, t))
        });
        var s = t.nodeType === 9 ? t : t.ownerDocument;
        s === null || s[Gm] || (s[Gm] = !0, Ox("selectionchange", !1, s))
    }
}
function HC(t, s, r, n) {
    switch (PC(s)) {
    case 1:
        var a = pR;
        break;
    case 4:
        a = fR;
        break;
    default:
        a = Hy
    }
    r = a.bind(null, s, r, t),
    a = void 0,
    !qg || s !== "touchstart" && s !== "touchmove" && s !== "wheel" || (a = !0),
    n ? a !== void 0 ? t.addEventListener(s, r, {
        capture: !0,
        passive: a
    }) : t.addEventListener(s, r, !0) : a !== void 0 ? t.addEventListener(s, r, {
        passive: a
    }) : t.addEventListener(s, r, !1)
}
function Lx(t, s, r, n, a) {
    var i = n;
    if (!(s & 1) && !(s & 2) && n !== null)
        e:
        for (;;) {
            if (n === null)
                return;
            var o = n.tag;
            if (o === 3 || o === 4) {
                var l = n.stateNode.containerInfo;
                if (l === a || l.nodeType === 8 && l.parentNode === a)
                    break;
                if (o === 4)
                    for (o = n.return; o !== null;) {
                        var c = o.tag;
                        if ((c === 3 || c === 4) && (c = o.stateNode.containerInfo, c === a || c.nodeType === 8 && c.parentNode === a))
                            return;
                        o = o.return
                    }
                for (; l !== null;) {
                    if (o = Io(l), o === null)
                        return;
                    if (c = o.tag, c === 5 || c === 6) {
                        n = i = o;
                        continue e
                    }
                    l = l.parentNode
                }
            }
            n = n.return
        }
    pC(function() {
        var d = i,
            u = Vy(r),
            m = [];
        e:
        {
            var p = qC.get(t);
            if (p !== void 0) {
                var j = Gy,
                    g = t;
                switch (t) {
                case "keypress":
                    if (bh(r) === 0)
                        break e;
                case "keydown":
                case "keyup":
                    j = TR;
                    break;
                case "focusin":
                    g = "focus",
                    j = Tx;
                    break;
                case "focusout":
                    g = "blur",
                    j = Tx;
                    break;
                case "beforeblur":
                case "afterblur":
                    j = Tx;
                    break;
                case "click":
                    if (r.button === 2)
                        break e;
                case "auxclick":
                case "dblclick":
                case "mousedown":
                case "mousemove":
                case "mouseup":
                case "mouseout":
                case "mouseover":
                case "contextmenu":
                    j = Yb;
                    break;
                case "drag":
                case "dragend":
                case "dragenter":
                case "dragexit":
                case "dragleave":
                case "dragover":
                case "dragstart":
                case "drop":
                    j = vR;
                    break;
                case "touchcancel":
                case "touchend":
                case "touchmove":
                case "touchstart":
                    j = IR;
                    break;
                case zC:
                case $C:
                case VC:
                    j = bR;
                    break;
                case UC:
                    j = DR;
                    break;
                case "scroll":
                    j = xR;
                    break;
                case "wheel":
                    j = LR;
                    break;
                case "copy":
                case "cut":
                case "paste":
                    j = wR;
                    break;
                case "gotpointercapture":
                case "lostpointercapture":
                case "pointercancel":
                case "pointerdown":
                case "pointermove":
                case "pointerout":
                case "pointerover":
                case "pointerup":
                    j = Zb
                }
                var x = (s & 4) !== 0,
                    y = !x && t === "scroll",
                    v = x ? p !== null ? p + "Capture" : null : p;
                x = [];
                for (var f = d, b; f !== null;) {
                    b = f;
                    var N = b.stateNode;
                    if (b.tag === 5 && N !== null && (b = N, v !== null && (N = nu(f, v), N != null && x.push(uu(f, N, b)))), y)
                        break;
                    f = f.return
                }
                0 < x.length && (p = new j(p, g, null, r, u), m.push({
                    event: p,
                    listeners: x
                }))
            }
        }if (!(s & 7)) {
            e:
            {
                if (p = t === "mouseover" || t === "pointerover", j = t === "mouseout" || t === "pointerout", p && r !== Vg && (g = r.relatedTarget || r.fromElement) && (Io(g) || g[hi]))
                    break e;
                if ((j || p) && (p = u.window === u ? u : (p = u.ownerDocument) ? p.defaultView || p.parentWindow : window, j ? (g = r.relatedTarget || r.toElement, j = d, g = g ? Io(g) : null, g !== null && (y = vl(g), g !== y || g.tag !== 5 && g.tag !== 6) && (g = null)) : (j = null, g = d), j !== g)) {
                    if (x = Yb, N = "onMouseLeave", v = "onMouseEnter", f = "mouse", (t === "pointerout" || t === "pointerover") && (x = Zb, N = "onPointerLeave", v = "onPointerEnter", f = "pointer"), y = j == null ? p : $l(j), b = g == null ? p : $l(g), p = new x(N, f + "leave", j, r, u), p.target = y, p.relatedTarget = b, N = null, Io(u) === d && (x = new x(v, f + "enter", g, r, u), x.target = b, x.relatedTarget = y, N = x), y = N, j && g)
                        t:
                        {
                            for (x = j, v = g, f = 0, b = x; b; b = Pl(b))
                                f++;
                            for (b = 0, N = v; N; N = Pl(N))
                                b++;
                            for (; 0 < f - b;)
                                x = Pl(x),
                                f--;
                            for (; 0 < b - f;)
                                v = Pl(v),
                                b--;
                            for (; f--;) {
                                if (x === v || v !== null && x === v.alternate)
                                    break t;
                                x = Pl(x),
                                v = Pl(v)
                            }
                            x = null
                        } else
                        x = null;
                    j !== null && lN(m, p, j, x, !1),
                    g !== null && y !== null && lN(m, y, g, x, !0)
                }
            }e:
            {
                if (p = d ? $l(d) : window, j = p.nodeName && p.nodeName.toLowerCase(), j === "select" || j === "input" && p.type === "file")
                    var w = BR;
                else if (eN(p))
                    if (RC)
                        w = KR;
                    else {
                        w = WR;
                        var C = HR
                    }
                else
                    (j = p.nodeName) && j.toLowerCase() === "input" && (p.type === "checkbox" || p.type === "radio") && (w = GR);
                if (w && (w = w(t, d))) {
                    IC(m, w, r, u);
                    break e
                }
                C && C(t, p, d),
                t === "focusout" && (C = p._wrapperState) && C.controlled && p.type === "number" && Og(p, "number", p.value)
            }switch (C = d ? $l(d) : window, t) {
            case "focusin":
                (eN(C) || C.contentEditable === "true") && (Fl = C, Kg = d, Hd = null);
                break;
            case "focusout":
                Hd = Kg = Fl = null;
                break;
            case "mousedown":
                Yg = !0;
                break;
            case "contextmenu":
            case "mouseup":
            case "dragend":
                Yg = !1,
                aN(m, r, u);
                break;
            case "selectionchange":
                if (ZR)
                    break;
            case "keydown":
            case "keyup":
                aN(m, r, u)
            }
            var E;
            if (Yy)
                e:
                {
                    switch (t) {
                    case "compositionstart":
                        var k = "onCompositionStart";
                        break e;
                    case "compositionend":
                        k = "onCompositionEnd";
                        break e;
                    case "compositionupdate":
                        k = "onCompositionUpdate";
                        break e
                    }
                    k = void 0
                } else
                Ll ? AC(t, r) && (k = "onCompositionEnd") : t === "keydown" && r.keyCode === 229 && (k = "onCompositionStart");
            k && (TC && r.locale !== "ko" && (Ll || k !== "onCompositionStart" ? k === "onCompositionEnd" && Ll && (E = _C()) : (Ki = u, Wy = "value" in Ki ? Ki.value : Ki.textContent, Ll = !0)), C = Jh(d, k), 0 < C.length && (k = new Qb(k, t, null, r, u), m.push({
                event: k,
                listeners: C
            }), E ? k.data = E : (E = MC(r), E !== null && (k.data = E)))),
            (E = zR ? $R(t, r) : VR(t, r)) && (d = Jh(d, "onBeforeInput"), 0 < d.length && (u = new Qb("onBeforeInput", "beforeinput", null, r, u), m.push({
                event: u,
                listeners: d
            }), u.data = E))
        }
        BC(m, s)
    })
}
function uu(t, s, r) {
    return {
        instance: t,
        listener: s,
        currentTarget: r
    }
}
function Jh(t, s) {
    for (var r = s + "Capture", n = []; t !== null;) {
        var a = t,
            i = a.stateNode;
        a.tag === 5 && i !== null && (a = i, i = nu(t, r), i != null && n.unshift(uu(t, i, a)), i = nu(t, s), i != null && n.push(uu(t, i, a))),
        t = t.return
    }
    return n
}
function Pl(t) {
    if (t === null)
        return null;
    do t = t.return;
    while (t && t.tag !== 5);
    return t || null
}
function lN(t, s, r, n, a) {
    for (var i = s._reactName, o = []; r !== null && r !== n;) {
        var l = r,
            c = l.alternate,
            d = l.stateNode;
        if (c !== null && c === n)
            break;
        l.tag === 5 && d !== null && (l = d, a ? (c = nu(r, i), c != null && o.unshift(uu(r, c, l))) : a || (c = nu(r, i), c != null && o.push(uu(r, c, l)))),
        r = r.return
    }
    o.length !== 0 && t.push({
        event: s,
        listeners: o
    })
}
var tD = /\r\n?/g,
    sD = /\u0000|\uFFFD/g;
function cN(t) {
    return (typeof t == "string" ? t : "" + t).replace(tD, `
`
    ).replace(sD, "")
}
function Km(t, s, r) {
    if (s = cN(s), cN(t) !== s && r)
        throw Error(Ee(425))
}
function ep() {}
var Qg = null,
    Zg = null;
function Xg(t, s) {
    return t === "textarea" || t === "noscript" || typeof s.children == "string" || typeof s.children == "number" || typeof s.dangerouslySetInnerHTML == "object" && s.dangerouslySetInnerHTML !== null && s.dangerouslySetInnerHTML.__html != null
}
var Jg = typeof setTimeout == "function" ? setTimeout : void 0,
    rD = typeof clearTimeout == "function" ? clearTimeout : void 0,
    dN = typeof Promise == "function" ? Promise : void 0,
    nD = typeof queueMicrotask == "function" ? queueMicrotask : typeof dN < "u" ? function(t) {
        return dN.resolve(null).then(t).catch(aD)
    } : Jg;
function aD(t) {
    setTimeout(function() {
        throw t
    })
}
function Fx(t, s) {
    var r = s,
        n = 0;
    do {
        var a = r.nextSibling;
        if (t.removeChild(r), a && a.nodeType === 8)
            if (r = a.data, r === "/$") {
                if (n === 0) {
                    t.removeChild(a),
                    ou(s);
                    return
                }
                n--
            } else
                r !== "$" && r !== "$?" && r !== "$!" || n++;
        r = a
    } while (r);
    ou(s)
}
function eo(t) {
    for (; t != null; t = t.nextSibling) {
        var s = t.nodeType;
        if (s === 1 || s === 3)
            break;
        if (s === 8) {
            if (s = t.data, s === "$" || s === "$!" || s === "$?")
                break;
            if (s === "/$")
                return null
        }
    }
    return t
}
function uN(t) {
    t = t.previousSibling;
    for (var s = 0; t;) {
        if (t.nodeType === 8) {
            var r = t.data;
            if (r === "$" || r === "$!" || r === "$?") {
                if (s === 0)
                    return t;
                s--
            } else
                r === "/$" && s++
        }
        t = t.previousSibling
    }
    return null
}
var Yc = Math.random().toString(36).slice(2),
    pa = "__reactFiber$" + Yc,
    mu = "__reactProps$" + Yc,
    hi = "__reactContainer$" + Yc,
    ev = "__reactEvents$" + Yc,
    iD = "__reactListeners$" + Yc,
    oD = "__reactHandles$" + Yc;
function Io(t) {
    var s = t[pa];
    if (s)
        return s;
    for (var r = t.parentNode; r;) {
        if (s = r[hi] || r[pa]) {
            if (r = s.alternate, s.child !== null || r !== null && r.child !== null)
                for (t = uN(t); t !== null;) {
                    if (r = t[pa])
                        return r;
                    t = uN(t)
                }
            return s
        }
        t = r,
        r = t.parentNode
    }
    return null
}
function rm(t) {
    return t = t[pa] || t[hi], !t || t.tag !== 5 && t.tag !== 6 && t.tag !== 13 && t.tag !== 3 ? null : t
}
function $l(t) {
    if (t.tag === 5 || t.tag === 6)
        return t.stateNode;
    throw Error(Ee(33))
}
function lf(t) {
    return t[mu] || null
}
var tv = [],
    Vl = -1;
function jo(t) {
    return {
        current: t
    }
}
function Kt(t) {
    0 > Vl || (t.current = tv[Vl], tv[Vl] = null, Vl--)
}
function Vt(t, s) {
    Vl++,
    tv[Vl] = t.current,
    t.current = s
}
var lo = {},
    mr = jo(lo),
    Vr = jo(!1),
    Xo = lo;
function wc(t, s) {
    var r = t.type.contextTypes;
    if (!r)
        return lo;
    var n = t.stateNode;
    if (n && n.__reactInternalMemoizedUnmaskedChildContext === s)
        return n.__reactInternalMemoizedMaskedChildContext;
    var a = {},
        i;
    for (i in r)
        a[i] = s[i];
    return n && (t = t.stateNode, t.__reactInternalMemoizedUnmaskedChildContext = s, t.__reactInternalMemoizedMaskedChildContext = a), a
}
function Ur(t) {
    return t = t.childContextTypes, t != null
}
function tp() {
    Kt(Vr),
    Kt(mr)
}
function mN(t, s, r) {
    if (mr.current !== lo)
        throw Error(Ee(168));
    Vt(mr, s),
    Vt(Vr, r)
}
function WC(t, s, r) {
    var n = t.stateNode;
    if (s = s.childContextTypes, typeof n.getChildContext != "function")
        return r;
    n = n.getChildContext();
    for (var a in n)
        if (!(a in s))
            throw Error(Ee(108, HI(t) || "Unknown", a));
    return os({}, r, n)
}
function sp(t) {
    return t = (t = t.stateNode) && t.__reactInternalMemoizedMergedChildContext || lo, Xo = mr.current, Vt(mr, t), Vt(Vr, Vr.current), !0
}
function hN(t, s, r) {
    var n = t.stateNode;
    if (!n)
        throw Error(Ee(169));
    r ? (t = WC(t, s, Xo), n.__reactInternalMemoizedMergedChildContext = t, Kt(Vr), Kt(mr), Vt(mr, t)) : Kt(Vr),
    Vt(Vr, r)
}
var Wa = null,
    cf = !1,
    zx = !1;
function GC(t) {
    Wa === null ? Wa = [t] : Wa.push(t)
}
function lD(t) {
    cf = !0,
    GC(t)
}
function bo() {
    if (!zx && Wa !== null) {
        zx = !0;
        var t = 0,
            s = zt;
        try {
            var r = Wa;
            for (zt = 1; t < r.length; t++) {
                var n = r[t];
                do n = n(!0);
                while (n !== null)
            }
            Wa = null,
            cf = !1
        } catch (a) {
            throw Wa !== null && (Wa = Wa.slice(t + 1)), vC(Uy, bo), a
        } finally {
            zt = s,
            zx = !1
        }
    }
    return null
}
var Ul = [],
    ql = 0,
    rp = null,
    np = 0,
    yn = [],
    jn = 0,
    Jo = null,
    ri = 1,
    ni = "";
function _o(t, s) {
    Ul[ql++] = np,
    Ul[ql++] = rp,
    rp = t,
    np = s
}
function KC(t, s, r) {
    yn[jn++] = ri,
    yn[jn++] = ni,
    yn[jn++] = Jo,
    Jo = t;
    var n = ri;
    t = ni;
    var a = 32 - Hn(n) - 1;
    n &= ~(1 << a),
    r += 1;
    var i = 32 - Hn(s) + a;
    if (30 < i) {
        var o = a - a % 5;
        i = (n & (1 << o) - 1).toString(32),
        n >>= o,
        a -= o,
        ri = 1 << 32 - Hn(s) + a | r << a | n,
        ni = i + t
    } else
        ri = 1 << i | r << a | n,
        ni = t
}
function Zy(t) {
    t.return !== null && (_o(t, 1), KC(t, 1, 0))
}
function Xy(t) {
    for (; t === rp;)
        rp = Ul[--ql],
        Ul[ql] = null,
        np = Ul[--ql],
        Ul[ql] = null;
    for (; t === Jo;)
        Jo = yn[--jn],
        yn[jn] = null,
        ni = yn[--jn],
        yn[jn] = null,
        ri = yn[--jn],
        yn[jn] = null
}
var an = null,
    nn = null,
    Qt = !1,
    zn = null;
function YC(t, s) {
    var r = bn(5, null, null, 0);
    r.elementType = "DELETED",
    r.stateNode = s,
    r.return = t,
    s = t.deletions,
    s === null ? (t.deletions = [r], t.flags |= 16) : s.push(r)
}
function pN(t, s) {
    switch (t.tag) {
    case 5:
        var r = t.type;
        return s = s.nodeType !== 1 || r.toLowerCase() !== s.nodeName.toLowerCase() ? null : s, s !== null ? (t.stateNode = s, an = t, nn = eo(s.firstChild), !0) : !1;
    case 6:
        return s = t.pendingProps === "" || s.nodeType !== 3 ? null : s, s !== null ? (t.stateNode = s, an = t, nn = null, !0) : !1;
    case 13:
        return s = s.nodeType !== 8 ? null : s, s !== null ? (r = Jo !== null ? {
            id: ri,
            overflow: ni
        } : null, t.memoizedState = {
            dehydrated: s,
            treeContext: r,
            retryLane: 1073741824
        }, r = bn(18, null, null, 0), r.stateNode = s, r.return = t, t.child = r, an = t, nn = null, !0) : !1;
    default:
        return !1
    }
}
function sv(t) {
    return (t.mode & 1) !== 0 && (t.flags & 128) === 0
}
function rv(t) {
    if (Qt) {
        var s = nn;
        if (s) {
            var r = s;
            if (!pN(t, s)) {
                if (sv(t))
                    throw Error(Ee(418));
                s = eo(r.nextSibling);
                var n = an;
                s && pN(t, s) ? YC(n, r) : (t.flags = t.flags & -4097 | 2, Qt = !1, an = t)
            }
        } else {
            if (sv(t))
                throw Error(Ee(418));
            t.flags = t.flags & -4097 | 2,
            Qt = !1,
            an = t
        }
    }
}
function fN(t) {
    for (t = t.return; t !== null && t.tag !== 5 && t.tag !== 3 && t.tag !== 13;)
        t = t.return;
    an = t
}
function Ym(t) {
    if (t !== an)
        return !1;
    if (!Qt)
        return fN(t), Qt = !0, !1;
    var s;
    if ((s = t.tag !== 3) && !(s = t.tag !== 5) && (s = t.type, s = s !== "head" && s !== "body" && !Xg(t.type, t.memoizedProps)), s && (s = nn)) {
        if (sv(t))
            throw QC(), Error(Ee(418));
        for (; s;)
            YC(t, s),
            s = eo(s.nextSibling)
    }
    if (fN(t), t.tag === 13) {
        if (t = t.memoizedState, t = t !== null ? t.dehydrated : null, !t)
            throw Error(Ee(317));
        e:
        {
            for (t = t.nextSibling, s = 0; t;) {
                if (t.nodeType === 8) {
                    var r = t.data;
                    if (r === "/$") {
                        if (s === 0) {
                            nn = eo(t.nextSibling);
                            break e
                        }
                        s--
                    } else
                        r !== "$" && r !== "$!" && r !== "$?" || s++
                }
                t = t.nextSibling
            }
            nn = null
        }
    } else
        nn = an ? eo(t.stateNode.nextSibling) : null;
    return !0
}
function QC() {
    for (var t = nn; t;)
        t = eo(t.nextSibling)
}
function Cc() {
    nn = an = null,
    Qt = !1
}
function Jy(t) {
    zn === null ? zn = [t] : zn.push(t)
}
var cD = bi.ReactCurrentBatchConfig;
function pd(t, s, r) {
    if (t = r.ref, t !== null && typeof t != "function" && typeof t != "object") {
        if (r._owner) {
            if (r = r._owner, r) {
                if (r.tag !== 1)
                    throw Error(Ee(309));
                var n = r.stateNode
            }
            if (!n)
                throw Error(Ee(147, t));
            var a = n,
                i = "" + t;
            return s !== null && s.ref !== null && typeof s.ref == "function" && s.ref._stringRef === i ? s.ref : (s = function(o) {
                var l = a.refs;
                o === null ? delete l[i] : l[i] = o
            }, s._stringRef = i, s)
        }
        if (typeof t != "string")
            throw Error(Ee(284));
        if (!r._owner)
            throw Error(Ee(290, t))
    }
    return t
}
function Qm(t, s) {
    throw t = Object.prototype.toString.call(s), Error(Ee(31, t === "[object Object]" ? "object with keys {" + Object.keys(s).join(", ") + "}" : t))
}
function xN(t) {
    var s = t._init;
    return s(t._payload)
}
function ZC(t) {
    function s(v, f) {
        if (t) {
            var b = v.deletions;
            b === null ? (v.deletions = [f], v.flags |= 16) : b.push(f)
        }
    }
    function r(v, f) {
        if (!t)
            return null;
        for (; f !== null;)
            s(v, f),
            f = f.sibling;
        return null
    }
    function n(v, f) {
        for (v = new Map; f !== null;)
            f.key !== null ? v.set(f.key, f) : v.set(f.index, f),
            f = f.sibling;
        return v
    }
    function a(v, f) {
        return v = no(v, f), v.index = 0, v.sibling = null, v
    }
    function i(v, f, b) {
        return v.index = b, t ? (b = v.alternate, b !== null ? (b = b.index, b < f ? (v.flags |= 2, f) : b) : (v.flags |= 2, f)) : (v.flags |= 1048576, f)
    }
    function o(v) {
        return t && v.alternate === null && (v.flags |= 2), v
    }
    function l(v, f, b, N) {
        return f === null || f.tag !== 6 ? (f = Wx(b, v.mode, N), f.return = v, f) : (f = a(f, b), f.return = v, f)
    }
    function c(v, f, b, N) {
        var w = b.type;
        return w === Ol ? u(v, f, b.props.children, N, b.key) : f !== null && (f.elementType === w || typeof w == "object" && w !== null && w.$$typeof === Ii && xN(w) === f.type) ? (N = a(f, b.props), N.ref = pd(v, f, b), N.return = v, N) : (N = Ph(b.type, b.key, b.props, null, v.mode, N), N.ref = pd(v, f, b), N.return = v, N)
    }
    function d(v, f, b, N) {
        return f === null || f.tag !== 4 || f.stateNode.containerInfo !== b.containerInfo || f.stateNode.implementation !== b.implementation ? (f = Gx(b, v.mode, N), f.return = v, f) : (f = a(f, b.children || []), f.return = v, f)
    }
    function u(v, f, b, N, w) {
        return f === null || f.tag !== 7 ? (f = Go(b, v.mode, N, w), f.return = v, f) : (f = a(f, b), f.return = v, f)
    }
    function m(v, f, b) {
        if (typeof f == "string" && f !== "" || typeof f == "number")
            return f = Wx("" + f, v.mode, b), f.return = v, f;
        if (typeof f == "object" && f !== null) {
            switch (f.$$typeof) {
            case zm:
                return b = Ph(f.type, f.key, f.props, null, v.mode, b), b.ref = pd(v, null, f), b.return = v, b;
            case Dl:
                return f = Gx(f, v.mode, b), f.return = v, f;
            case Ii:
                var N = f._init;
                return m(v, N(f._payload), b)
            }
            if (Ad(f) || cd(f))
                return f = Go(f, v.mode, b, null), f.return = v, f;
            Qm(v, f)
        }
        return null
    }
    function p(v, f, b, N) {
        var w = f !== null ? f.key : null;
        if (typeof b == "string" && b !== "" || typeof b == "number")
            return w !== null ? null : l(v, f, "" + b, N);
        if (typeof b == "object" && b !== null) {
            switch (b.$$typeof) {
            case zm:
                return b.key === w ? c(v, f, b, N) : null;
            case Dl:
                return b.key === w ? d(v, f, b, N) : null;
            case Ii:
                return w = b._init, p(v, f, w(b._payload), N)
            }
            if (Ad(b) || cd(b))
                return w !== null ? null : u(v, f, b, N, null);
            Qm(v, b)
        }
        return null
    }
    function j(v, f, b, N, w) {
        if (typeof N == "string" && N !== "" || typeof N == "number")
            return v = v.get(b) || null, l(f, v, "" + N, w);
        if (typeof N == "object" && N !== null) {
            switch (N.$$typeof) {
            case zm:
                return v = v.get(N.key === null ? b : N.key) || null, c(f, v, N, w);
            case Dl:
                return v = v.get(N.key === null ? b : N.key) || null, d(f, v, N, w);
            case Ii:
                var C = N._init;
                return j(v, f, b, C(N._payload), w)
            }
            if (Ad(N) || cd(N))
                return v = v.get(b) || null, u(f, v, N, w, null);
            Qm(f, N)
        }
        return null
    }
    function g(v, f, b, N) {
        for (var w = null, C = null, E = f, k = f = 0, R = null; E !== null && k < b.length; k++) {
            E.index > k ? (R = E, E = null) : R = E.sibling;
            var H = p(v, E, b[k], N);
            if (H === null) {
                E === null && (E = R);
                break
            }
            t && E && H.alternate === null && s(v, E),
            f = i(H, f, k),
            C === null ? w = H : C.sibling = H,
            C = H,
            E = R
        }
        if (k === b.length)
            return r(v, E), Qt && _o(v, k), w;
        if (E === null) {
            for (; k < b.length; k++)
                E = m(v, b[k], N),
                E !== null && (f = i(E, f, k), C === null ? w = E : C.sibling = E, C = E);
            return Qt && _o(v, k), w
        }
        for (E = n(v, E); k < b.length; k++)
            R = j(E, v, k, b[k], N),
            R !== null && (t && R.alternate !== null && E.delete(R.key === null ? k : R.key), f = i(R, f, k), C === null ? w = R : C.sibling = R, C = R);
        return t && E.forEach(function(z) {
            return s(v, z)
        }), Qt && _o(v, k), w
    }
    function x(v, f, b, N) {
        var w = cd(b);
        if (typeof w != "function")
            throw Error(Ee(150));
        if (b = w.call(b), b == null)
            throw Error(Ee(151));
        for (var C = w = null, E = f, k = f = 0, R = null, H = b.next(); E !== null && !H.done; k++, H = b.next()) {
            E.index > k ? (R = E, E = null) : R = E.sibling;
            var z = p(v, E, H.value, N);
            if (z === null) {
                E === null && (E = R);
                break
            }
            t && E && z.alternate === null && s(v, E),
            f = i(z, f, k),
            C === null ? w = z : C.sibling = z,
            C = z,
            E = R
        }
        if (H.done)
            return r(v, E), Qt && _o(v, k), w;
        if (E === null) {
            for (; !H.done; k++, H = b.next())
                H = m(v, H.value, N),
                H !== null && (f = i(H, f, k), C === null ? w = H : C.sibling = H, C = H);
            return Qt && _o(v, k), w
        }
        for (E = n(v, E); !H.done; k++, H = b.next())
            H = j(E, v, k, H.value, N),
            H !== null && (t && H.alternate !== null && E.delete(H.key === null ? k : H.key), f = i(H, f, k), C === null ? w = H : C.sibling = H, C = H);
        return t && E.forEach(function(A) {
            return s(v, A)
        }), Qt && _o(v, k), w
    }
    function y(v, f, b, N) {
        if (typeof b == "object" && b !== null && b.type === Ol && b.key === null && (b = b.props.children), typeof b == "object" && b !== null) {
            switch (b.$$typeof) {
            case zm:
                e:
                {
                    for (var w = b.key, C = f; C !== null;) {
                        if (C.key === w) {
                            if (w = b.type, w === Ol) {
                                if (C.tag === 7) {
                                    r(v, C.sibling),
                                    f = a(C, b.props.children),
                                    f.return = v,
                                    v = f;
                                    break e
                                }
                            } else if (C.elementType === w || typeof w == "object" && w !== null && w.$$typeof === Ii && xN(w) === C.type) {
                                r(v, C.sibling),
                                f = a(C, b.props),
                                f.ref = pd(v, C, b),
                                f.return = v,
                                v = f;
                                break e
                            }
                            r(v, C);
                            break
                        } else
                            s(v, C);
                        C = C.sibling
                    }
                    b.type === Ol ? (f = Go(b.props.children, v.mode, N, b.key), f.return = v, v = f) : (N = Ph(b.type, b.key, b.props, null, v.mode, N), N.ref = pd(v, f, b), N.return = v, v = N)
                }return o(v);
            case Dl:
                e:
                {
                    for (C = b.key; f !== null;) {
                        if (f.key === C)
                            if (f.tag === 4 && f.stateNode.containerInfo === b.containerInfo && f.stateNode.implementation === b.implementation) {
                                r(v, f.sibling),
                                f = a(f, b.children || []),
                                f.return = v,
                                v = f;
                                break e
                            } else {
                                r(v, f);
                                break
                            }
                        else
                            s(v, f);
                        f = f.sibling
                    }
                    f = Gx(b, v.mode, N),
                    f.return = v,
                    v = f
                }return o(v);
            case Ii:
                return C = b._init, y(v, f, C(b._payload), N)
            }
            if (Ad(b))
                return g(v, f, b, N);
            if (cd(b))
                return x(v, f, b, N);
            Qm(v, b)
        }
        return typeof b == "string" && b !== "" || typeof b == "number" ? (b = "" + b, f !== null && f.tag === 6 ? (r(v, f.sibling), f = a(f, b), f.return = v, v = f) : (r(v, f), f = Wx(b, v.mode, N), f.return = v, v = f), o(v)) : r(v, f)
    }
    return y
}
var Sc = ZC(!0),
    XC = ZC(!1),
    ap = jo(null),
    ip = null,
    Bl = null,
    ej = null;
function tj() {
    ej = Bl = ip = null
}
function sj(t) {
    var s = ap.current;
    Kt(ap),
    t._currentValue = s
}
function nv(t, s, r) {
    for (; t !== null;) {
        var n = t.alternate;
        if ((t.childLanes & s) !== s ? (t.childLanes |= s, n !== null && (n.childLanes |= s)) : n !== null && (n.childLanes & s) !== s && (n.childLanes |= s), t === r)
            break;
        t = t.return
    }
}
function Jl(t, s) {
    ip = t,
    ej = Bl = null,
    t = t.dependencies,
    t !== null && t.firstContext !== null && (t.lanes & s && (Fr = !0), t.firstContext = null)
}
function En(t) {
    var s = t._currentValue;
    if (ej !== t)
        if (t = {
            context: t,
            memoizedValue: s,
            next: null
        }, Bl === null) {
            if (ip === null)
                throw Error(Ee(308));
            Bl = t,
            ip.dependencies = {
                lanes: 0,
                firstContext: t
            }
        } else
            Bl = Bl.next = t;
    return s
}
var Ro = null;
function rj(t) {
    Ro === null ? Ro = [t] : Ro.push(t)
}
function JC(t, s, r, n) {
    var a = s.interleaved;
    return a === null ? (r.next = r, rj(s)) : (r.next = a.next, a.next = r), s.interleaved = r, pi(t, n)
}
function pi(t, s) {
    t.lanes |= s;
    var r = t.alternate;
    for (r !== null && (r.lanes |= s), r = t, t = t.return; t !== null;)
        t.childLanes |= s,
        r = t.alternate,
        r !== null && (r.childLanes |= s),
        r = t,
        t = t.return;
    return r.tag === 3 ? r.stateNode : null
}
var Ri = !1;
function nj(t) {
    t.updateQueue = {
        baseState: t.memoizedState,
        firstBaseUpdate: null,
        lastBaseUpdate: null,
        shared: {
            pending: null,
            interleaved: null,
            lanes: 0
        },
        effects: null
    }
}
function eS(t, s) {
    t = t.updateQueue,
    s.updateQueue === t && (s.updateQueue = {
        baseState: t.baseState,
        firstBaseUpdate: t.firstBaseUpdate,
        lastBaseUpdate: t.lastBaseUpdate,
        shared: t.shared,
        effects: t.effects
    })
}
function oi(t, s) {
    return {
        eventTime: t,
        lane: s,
        tag: 0,
        payload: null,
        callback: null,
        next: null
    }
}
function to(t, s, r) {
    var n = t.updateQueue;
    if (n === null)
        return null;
    if (n = n.shared, Tt & 2) {
        var a = n.pending;
        return a === null ? s.next = s : (s.next = a.next, a.next = s), n.pending = s, pi(t, r)
    }
    return a = n.interleaved, a === null ? (s.next = s, rj(n)) : (s.next = a.next, a.next = s), n.interleaved = s, pi(t, r)
}
function Nh(t, s, r) {
    if (s = s.updateQueue, s !== null && (s = s.shared, (r & 4194240) !== 0)) {
        var n = s.lanes;
        n &= t.pendingLanes,
        r |= n,
        s.lanes = r,
        qy(t, r)
    }
}
function gN(t, s) {
    var r = t.updateQueue,
        n = t.alternate;
    if (n !== null && (n = n.updateQueue, r === n)) {
        var a = null,
            i = null;
        if (r = r.firstBaseUpdate, r !== null) {
            do {
                var o = {
                    eventTime: r.eventTime,
                    lane: r.lane,
                    tag: r.tag,
                    payload: r.payload,
                    callback: r.callback,
                    next: null
                };
                i === null ? a = i = o : i = i.next = o,
                r = r.next
            } while (r !== null);
            i === null ? a = i = s : i = i.next = s
        } else
            a = i = s;
        r = {
            baseState: n.baseState,
            firstBaseUpdate: a,
            lastBaseUpdate: i,
            shared: n.shared,
            effects: n.effects
        },
        t.updateQueue = r;
        return
    }
    t = r.lastBaseUpdate,
    t === null ? r.firstBaseUpdate = s : t.next = s,
    r.lastBaseUpdate = s
}
function op(t, s, r, n) {
    var a = t.updateQueue;
    Ri = !1;
    var i = a.firstBaseUpdate,
        o = a.lastBaseUpdate,
        l = a.shared.pending;
    if (l !== null) {
        a.shared.pending = null;
        var c = l,
            d = c.next;
        c.next = null,
        o === null ? i = d : o.next = d,
        o = c;
        var u = t.alternate;
        u !== null && (u = u.updateQueue, l = u.lastBaseUpdate, l !== o && (l === null ? u.firstBaseUpdate = d : l.next = d, u.lastBaseUpdate = c))
    }
    if (i !== null) {
        var m = a.baseState;
        o = 0,
        u = d = c = null,
        l = i;
        do {
            var p = l.lane,
                j = l.eventTime;
            if ((n & p) === p) {
                u !== null && (u = u.next = {
                    eventTime: j,
                    lane: 0,
                    tag: l.tag,
                    payload: l.payload,
                    callback: l.callback,
                    next: null
                });
                e:
                {
                    var g = t,
                        x = l;
                    switch (p = s, j = r, x.tag) {
                    case 1:
                        if (g = x.payload, typeof g == "function") {
                            m = g.call(j, m, p);
                            break e
                        }
                        m = g;
                        break e;
                    case 3:
                        g.flags = g.flags & -65537 | 128;
                    case 0:
                        if (g = x.payload, p = typeof g == "function" ? g.call(j, m, p) : g, p == null)
                            break e;
                        m = os({}, m, p);
                        break e;
                    case 2:
                        Ri = !0
                    }
                }l.callback !== null && l.lane !== 0 && (t.flags |= 64, p = a.effects, p === null ? a.effects = [l] : p.push(l))
            } else
                j = {
                    eventTime: j,
                    lane: p,
                    tag: l.tag,
                    payload: l.payload,
                    callback: l.callback,
                    next: null
                },
                u === null ? (d = u = j, c = m) : u = u.next = j,
                o |= p;
            if (l = l.next, l === null) {
                if (l = a.shared.pending, l === null)
                    break;
                p = l,
                l = p.next,
                p.next = null,
                a.lastBaseUpdate = p,
                a.shared.pending = null
            }
        } while (!0);
        if (u === null && (c = m), a.baseState = c, a.firstBaseUpdate = d, a.lastBaseUpdate = u, s = a.shared.interleaved, s !== null) {
            a = s;
            do o |= a.lane,
            a = a.next;
            while (a !== s)
        } else
            i === null && (a.shared.lanes = 0);
        tl |= o,
        t.lanes = o,
        t.memoizedState = m
    }
}
function vN(t, s, r) {
    if (t = s.effects, s.effects = null, t !== null)
        for (s = 0; s < t.length; s++) {
            var n = t[s],
                a = n.callback;
            if (a !== null) {
                if (n.callback = null, n = r, typeof a != "function")
                    throw Error(Ee(191, a));
                a.call(n)
            }
        }
}
var nm = {},
    Na = jo(nm),
    hu = jo(nm),
    pu = jo(nm);
function Do(t) {
    if (t === nm)
        throw Error(Ee(174));
    return t
}
function aj(t, s) {
    switch (Vt(pu, s), Vt(hu, t), Vt(Na, nm), t = s.nodeType, t) {
    case 9:
    case 11:
        s = (s = s.documentElement) ? s.namespaceURI : Fg(null, "");
        break;
    default:
        t = t === 8 ? s.parentNode : s,
        s = t.namespaceURI || null,
        t = t.tagName,
        s = Fg(s, t)
    }
    Kt(Na),
    Vt(Na, s)
}
function Ec() {
    Kt(Na),
    Kt(hu),
    Kt(pu)
}
function tS(t) {
    Do(pu.current);
    var s = Do(Na.current),
        r = Fg(s, t.type);
    s !== r && (Vt(hu, t), Vt(Na, r))
}
function ij(t) {
    hu.current === t && (Kt(Na), Kt(hu))
}
var ns = jo(0);
function lp(t) {
    for (var s = t; s !== null;) {
        if (s.tag === 13) {
            var r = s.memoizedState;
            if (r !== null && (r = r.dehydrated, r === null || r.data === "$?" || r.data === "$!"))
                return s
        } else if (s.tag === 19 && s.memoizedProps.revealOrder !== void 0) {
            if (s.flags & 128)
                return s
        } else if (s.child !== null) {
            s.child.return = s,
            s = s.child;
            continue
        }
        if (s === t)
            break;
        for (; s.sibling === null;) {
            if (s.return === null || s.return === t)
                return null;
            s = s.return
        }
        s.sibling.return = s.return,
        s = s.sibling
    }
    return null
}
var $x = [];
function oj() {
    for (var t = 0; t < $x.length; t++)
        $x[t]._workInProgressVersionPrimary = null;
    $x.length = 0
}
var wh = bi.ReactCurrentDispatcher,
    Vx = bi.ReactCurrentBatchConfig,
    el = 0,
    is = null,
    Ds = null,
    Vs = null,
    cp = !1,
    Wd = !1,
    fu = 0,
    dD = 0;
function nr() {
    throw Error(Ee(321))
}
function lj(t, s) {
    if (s === null)
        return !1;
    for (var r = 0; r < s.length && r < t.length; r++)
        if (!Zn(t[r], s[r]))
            return !1;
    return !0
}
function cj(t, s, r, n, a, i) {
    if (el = i, is = s, s.memoizedState = null, s.updateQueue = null, s.lanes = 0, wh.current = t === null || t.memoizedState === null ? pD : fD, t = r(n, a), Wd) {
        i = 0;
        do {
            if (Wd = !1, fu = 0, 25 <= i)
                throw Error(Ee(301));
            i += 1,
            Vs = Ds = null,
            s.updateQueue = null,
            wh.current = xD,
            t = r(n, a)
        } while (Wd)
    }
    if (wh.current = dp, s = Ds !== null && Ds.next !== null, el = 0, Vs = Ds = is = null, cp = !1, s)
        throw Error(Ee(300));
    return t
}
function dj() {
    var t = fu !== 0;
    return fu = 0, t
}
function ca() {
    var t = {
        memoizedState: null,
        baseState: null,
        baseQueue: null,
        queue: null,
        next: null
    };
    return Vs === null ? is.memoizedState = Vs = t : Vs = Vs.next = t, Vs
}
function kn() {
    if (Ds === null) {
        var t = is.alternate;
        t = t !== null ? t.memoizedState : null
    } else
        t = Ds.next;
    var s = Vs === null ? is.memoizedState : Vs.next;
    if (s !== null)
        Vs = s,
        Ds = t;
    else {
        if (t === null)
            throw Error(Ee(310));
        Ds = t,
        t = {
            memoizedState: Ds.memoizedState,
            baseState: Ds.baseState,
            baseQueue: Ds.baseQueue,
            queue: Ds.queue,
            next: null
        },
        Vs === null ? is.memoizedState = Vs = t : Vs = Vs.next = t
    }
    return Vs
}
function xu(t, s) {
    return typeof s == "function" ? s(t) : s
}
function Ux(t) {
    var s = kn(),
        r = s.queue;
    if (r === null)
        throw Error(Ee(311));
    r.lastRenderedReducer = t;
    var n = Ds,
        a = n.baseQueue,
        i = r.pending;
    if (i !== null) {
        if (a !== null) {
            var o = a.next;
            a.next = i.next,
            i.next = o
        }
        n.baseQueue = a = i,
        r.pending = null
    }
    if (a !== null) {
        i = a.next,
        n = n.baseState;
        var l = o = null,
            c = null,
            d = i;
        do {
            var u = d.lane;
            if ((el & u) === u)
                c !== null && (c = c.next = {
                    lane: 0,
                    action: d.action,
                    hasEagerState: d.hasEagerState,
                    eagerState: d.eagerState,
                    next: null
                }),
                n = d.hasEagerState ? d.eagerState : t(n, d.action);
            else {
                var m = {
                    lane: u,
                    action: d.action,
                    hasEagerState: d.hasEagerState,
                    eagerState: d.eagerState,
                    next: null
                };
                c === null ? (l = c = m, o = n) : c = c.next = m,
                is.lanes |= u,
                tl |= u
            }
            d = d.next
        } while (d !== null && d !== i);
        c === null ? o = n : c.next = l,
        Zn(n, s.memoizedState) || (Fr = !0),
        s.memoizedState = n,
        s.baseState = o,
        s.baseQueue = c,
        r.lastRenderedState = n
    }
    if (t = r.interleaved, t !== null) {
        a = t;
        do i = a.lane,
        is.lanes |= i,
        tl |= i,
        a = a.next;
        while (a !== t)
    } else
        a === null && (r.lanes = 0);
    return [s.memoizedState, r.dispatch]
}
function qx(t) {
    var s = kn(),
        r = s.queue;
    if (r === null)
        throw Error(Ee(311));
    r.lastRenderedReducer = t;
    var n = r.dispatch,
        a = r.pending,
        i = s.memoizedState;
    if (a !== null) {
        r.pending = null;
        var o = a = a.next;
        do i = t(i, o.action),
        o = o.next;
        while (o !== a);
        Zn(i, s.memoizedState) || (Fr = !0),
        s.memoizedState = i,
        s.baseQueue === null && (s.baseState = i),
        r.lastRenderedState = i
    }
    return [i, n]
}
function sS() {}
function rS(t, s) {
    var r = is,
        n = kn(),
        a = s(),
        i = !Zn(n.memoizedState, a);
    if (i && (n.memoizedState = a, Fr = !0), n = n.queue, uj(iS.bind(null, r, n, t), [t]), n.getSnapshot !== s || i || Vs !== null && Vs.memoizedState.tag & 1) {
        if (r.flags |= 2048, gu(9, aS.bind(null, r, n, a, s), void 0, null), Us === null)
            throw Error(Ee(349));
        el & 30 || nS(r, s, a)
    }
    return a
}
function nS(t, s, r) {
    t.flags |= 16384,
    t = {
        getSnapshot: s,
        value: r
    },
    s = is.updateQueue,
    s === null ? (s = {
        lastEffect: null,
        stores: null
    }, is.updateQueue = s, s.stores = [t]) : (r = s.stores, r === null ? s.stores = [t] : r.push(t))
}
function aS(t, s, r, n) {
    s.value = r,
    s.getSnapshot = n,
    oS(s) && lS(t)
}
function iS(t, s, r) {
    return r(function() {
        oS(s) && lS(t)
    })
}
function oS(t) {
    var s = t.getSnapshot;
    t = t.value;
    try {
        var r = s();
        return !Zn(t, r)
    } catch {
        return !0
    }
}
function lS(t) {
    var s = pi(t, 1);
    s !== null && Wn(s, t, 1, -1)
}
function yN(t) {
    var s = ca();
    return typeof t == "function" && (t = t()), s.memoizedState = s.baseState = t, t = {
        pending: null,
        interleaved: null,
        lanes: 0,
        dispatch: null,
        lastRenderedReducer: xu,
        lastRenderedState: t
    }, s.queue = t, t = t.dispatch = hD.bind(null, is, t), [s.memoizedState, t]
}
function gu(t, s, r, n) {
    return t = {
        tag: t,
        create: s,
        destroy: r,
        deps: n,
        next: null
    }, s = is.updateQueue, s === null ? (s = {
        lastEffect: null,
        stores: null
    }, is.updateQueue = s, s.lastEffect = t.next = t) : (r = s.lastEffect, r === null ? s.lastEffect = t.next = t : (n = r.next, r.next = t, t.next = n, s.lastEffect = t)), t
}
function cS() {
    return kn().memoizedState
}
function Ch(t, s, r, n) {
    var a = ca();
    is.flags |= t,
    a.memoizedState = gu(1 | s, r, void 0, n === void 0 ? null : n)
}
function df(t, s, r, n) {
    var a = kn();
    n = n === void 0 ? null : n;
    var i = void 0;
    if (Ds !== null) {
        var o = Ds.memoizedState;
        if (i = o.destroy, n !== null && lj(n, o.deps)) {
            a.memoizedState = gu(s, r, i, n);
            return
        }
    }
    is.flags |= t,
    a.memoizedState = gu(1 | s, r, i, n)
}
function jN(t, s) {
    return Ch(8390656, 8, t, s)
}
function uj(t, s) {
    return df(2048, 8, t, s)
}
function dS(t, s) {
    return df(4, 2, t, s)
}
function uS(t, s) {
    return df(4, 4, t, s)
}
function mS(t, s) {
    if (typeof s == "function")
        return t = t(), s(t), function() {
            s(null)
        };
    if (s != null)
        return t = t(), s.current = t, function() {
            s.current = null
        }
}
function hS(t, s, r) {
    return r = r != null ? r.concat([t]) : null, df(4, 4, mS.bind(null, s, t), r)
}
function mj() {}
function pS(t, s) {
    var r = kn();
    s = s === void 0 ? null : s;
    var n = r.memoizedState;
    return n !== null && s !== null && lj(s, n[1]) ? n[0] : (r.memoizedState = [t, s], t)
}
function fS(t, s) {
    var r = kn();
    s = s === void 0 ? null : s;
    var n = r.memoizedState;
    return n !== null && s !== null && lj(s, n[1]) ? n[0] : (t = t(), r.memoizedState = [t, s], t)
}
function xS(t, s, r) {
    return el & 21 ? (Zn(r, s) || (r = bC(), is.lanes |= r, tl |= r, t.baseState = !0), s) : (t.baseState && (t.baseState = !1, Fr = !0), t.memoizedState = r)
}
function uD(t, s) {
    var r = zt;
    zt = r !== 0 && 4 > r ? r : 4,
    t(!0);
    var n = Vx.transition;
    Vx.transition = {};
    try {
        t(!1),
        s()
    } finally {
        zt = r,
        Vx.transition = n
    }
}
function gS() {
    return kn().memoizedState
}
function mD(t, s, r) {
    var n = ro(t);
    if (r = {
        lane: n,
        action: r,
        hasEagerState: !1,
        eagerState: null,
        next: null
    }, vS(t))
        yS(s, r);
    else if (r = JC(t, s, r, n), r !== null) {
        var a = wr();
        Wn(r, t, n, a),
        jS(r, s, n)
    }
}
function hD(t, s, r) {
    var n = ro(t),
        a = {
            lane: n,
            action: r,
            hasEagerState: !1,
            eagerState: null,
            next: null
        };
    if (vS(t))
        yS(s, a);
    else {
        var i = t.alternate;
        if (t.lanes === 0 && (i === null || i.lanes === 0) && (i = s.lastRenderedReducer, i !== null))
            try {
                var o = s.lastRenderedState,
                    l = i(o, r);
                if (a.hasEagerState = !0, a.eagerState = l, Zn(l, o)) {
                    var c = s.interleaved;
                    c === null ? (a.next = a, rj(s)) : (a.next = c.next, c.next = a),
                    s.interleaved = a;
                    return
                }
            } catch {} finally {}
        r = JC(t, s, a, n),
        r !== null && (a = wr(), Wn(r, t, n, a), jS(r, s, n))
    }
}
function vS(t) {
    var s = t.alternate;
    return t === is || s !== null && s === is
}
function yS(t, s) {
    Wd = cp = !0;
    var r = t.pending;
    r === null ? s.next = s : (s.next = r.next, r.next = s),
    t.pending = s
}
function jS(t, s, r) {
    if (r & 4194240) {
        var n = s.lanes;
        n &= t.pendingLanes,
        r |= n,
        s.lanes = r,
        qy(t, r)
    }
}
var dp = {
        readContext: En,
        useCallback: nr,
        useContext: nr,
        useEffect: nr,
        useImperativeHandle: nr,
        useInsertionEffect: nr,
        useLayoutEffect: nr,
        useMemo: nr,
        useReducer: nr,
        useRef: nr,
        useState: nr,
        useDebugValue: nr,
        useDeferredValue: nr,
        useTransition: nr,
        useMutableSource: nr,
        useSyncExternalStore: nr,
        useId: nr,
        unstable_isNewReconciler: !1
    },
    pD = {
        readContext: En,
        useCallback: function(t, s) {
            return ca().memoizedState = [t, s === void 0 ? null : s], t
        },
        useContext: En,
        useEffect: jN,
        useImperativeHandle: function(t, s, r) {
            return r = r != null ? r.concat([t]) : null, Ch(4194308, 4, mS.bind(null, s, t), r)
        },
        useLayoutEffect: function(t, s) {
            return Ch(4194308, 4, t, s)
        },
        useInsertionEffect: function(t, s) {
            return Ch(4, 2, t, s)
        },
        useMemo: function(t, s) {
            var r = ca();
            return s = s === void 0 ? null : s, t = t(), r.memoizedState = [t, s], t
        },
        useReducer: function(t, s, r) {
            var n = ca();
            return s = r !== void 0 ? r(s) : s, n.memoizedState = n.baseState = s, t = {
                pending: null,
                interleaved: null,
                lanes: 0,
                dispatch: null,
                lastRenderedReducer: t,
                lastRenderedState: s
            }, n.queue = t, t = t.dispatch = mD.bind(null, is, t), [n.memoizedState, t]
        },
        useRef: function(t) {
            var s = ca();
            return t = {
                current: t
            }, s.memoizedState = t
        },
        useState: yN,
        useDebugValue: mj,
        useDeferredValue: function(t) {
            return ca().memoizedState = t
        },
        useTransition: function() {
            var t = yN(!1),
                s = t[0];
            return t = uD.bind(null, t[1]), ca().memoizedState = t, [s, t]
        },
        useMutableSource: function() {},
        useSyncExternalStore: function(t, s, r) {
            var n = is,
                a = ca();
            if (Qt) {
                if (r === void 0)
                    throw Error(Ee(407));
                r = r()
            } else {
                if (r = s(), Us === null)
                    throw Error(Ee(349));
                el & 30 || nS(n, s, r)
            }
            a.memoizedState = r;
            var i = {
                value: r,
                getSnapshot: s
            };
            return a.queue = i, jN(iS.bind(null, n, i, t), [t]), n.flags |= 2048, gu(9, aS.bind(null, n, i, r, s), void 0, null), r
        },
        useId: function() {
            var t = ca(),
                s = Us.identifierPrefix;
            if (Qt) {
                var r = ni,
                    n = ri;
                r = (n & ~(1 << 32 - Hn(n) - 1)).toString(32) + r,
                s = ":" + s + "R" + r,
                r = fu++,
                0 < r && (s += "H" + r.toString(32)),
                s += ":"
            } else
                r = dD++,
                s = ":" + s + "r" + r.toString(32) + ":";
            return t.memoizedState = s
        },
        unstable_isNewReconciler: !1
    },
    fD = {
        readContext: En,
        useCallback: pS,
        useContext: En,
        useEffect: uj,
        useImperativeHandle: hS,
        useInsertionEffect: dS,
        useLayoutEffect: uS,
        useMemo: fS,
        useReducer: Ux,
        useRef: cS,
        useState: function() {
            return Ux(xu)
        },
        useDebugValue: mj,
        useDeferredValue: function(t) {
            var s = kn();
            return xS(s, Ds.memoizedState, t)
        },
        useTransition: function() {
            var t = Ux(xu)[0],
                s = kn().memoizedState;
            return [t, s]
        },
        useMutableSource: sS,
        useSyncExternalStore: rS,
        useId: gS,
        unstable_isNewReconciler: !1
    },
    xD = {
        readContext: En,
        useCallback: pS,
        useContext: En,
        useEffect: uj,
        useImperativeHandle: hS,
        useInsertionEffect: dS,
        useLayoutEffect: uS,
        useMemo: fS,
        useReducer: qx,
        useRef: cS,
        useState: function() {
            return qx(xu)
        },
        useDebugValue: mj,
        useDeferredValue: function(t) {
            var s = kn();
            return Ds === null ? s.memoizedState = t : xS(s, Ds.memoizedState, t)
        },
        useTransition: function() {
            var t = qx(xu)[0],
                s = kn().memoizedState;
            return [t, s]
        },
        useMutableSource: sS,
        useSyncExternalStore: rS,
        useId: gS,
        unstable_isNewReconciler: !1
    };
function On(t, s) {
    if (t && t.defaultProps) {
        s = os({}, s),
        t = t.defaultProps;
        for (var r in t)
            s[r] === void 0 && (s[r] = t[r]);
        return s
    }
    return s
}
function av(t, s, r, n) {
    s = t.memoizedState,
    r = r(n, s),
    r = r == null ? s : os({}, s, r),
    t.memoizedState = r,
    t.lanes === 0 && (t.updateQueue.baseState = r)
}
var uf = {
    isMounted: function(t) {
        return (t = t._reactInternals) ? vl(t) === t : !1
    },
    enqueueSetState: function(t, s, r) {
        t = t._reactInternals;
        var n = wr(),
            a = ro(t),
            i = oi(n, a);
        i.payload = s,
        r != null && (i.callback = r),
        s = to(t, i, a),
        s !== null && (Wn(s, t, a, n), Nh(s, t, a))
    },
    enqueueReplaceState: function(t, s, r) {
        t = t._reactInternals;
        var n = wr(),
            a = ro(t),
            i = oi(n, a);
        i.tag = 1,
        i.payload = s,
        r != null && (i.callback = r),
        s = to(t, i, a),
        s !== null && (Wn(s, t, a, n), Nh(s, t, a))
    },
    enqueueForceUpdate: function(t, s) {
        t = t._reactInternals;
        var r = wr(),
            n = ro(t),
            a = oi(r, n);
        a.tag = 2,
        s != null && (a.callback = s),
        s = to(t, a, n),
        s !== null && (Wn(s, t, n, r), Nh(s, t, n))
    }
};
function bN(t, s, r, n, a, i, o) {
    return t = t.stateNode, typeof t.shouldComponentUpdate == "function" ? t.shouldComponentUpdate(n, i, o) : s.prototype && s.prototype.isPureReactComponent ? !cu(r, n) || !cu(a, i) : !0
}
function bS(t, s, r) {
    var n = !1,
        a = lo,
        i = s.contextType;
    return typeof i == "object" && i !== null ? i = En(i) : (a = Ur(s) ? Xo : mr.current, n = s.contextTypes, i = (n = n != null) ? wc(t, a) : lo), s = new s(r, i), t.memoizedState = s.state !== null && s.state !== void 0 ? s.state : null, s.updater = uf, t.stateNode = s, s._reactInternals = t, n && (t = t.stateNode, t.__reactInternalMemoizedUnmaskedChildContext = a, t.__reactInternalMemoizedMaskedChildContext = i), s
}
function NN(t, s, r, n) {
    t = s.state,
    typeof s.componentWillReceiveProps == "function" && s.componentWillReceiveProps(r, n),
    typeof s.UNSAFE_componentWillReceiveProps == "function" && s.UNSAFE_componentWillReceiveProps(r, n),
    s.state !== t && uf.enqueueReplaceState(s, s.state, null)
}
function iv(t, s, r, n) {
    var a = t.stateNode;
    a.props = r,
    a.state = t.memoizedState,
    a.refs = {},
    nj(t);
    var i = s.contextType;
    typeof i == "object" && i !== null ? a.context = En(i) : (i = Ur(s) ? Xo : mr.current, a.context = wc(t, i)),
    a.state = t.memoizedState,
    i = s.getDerivedStateFromProps,
    typeof i == "function" && (av(t, s, i, r), a.state = t.memoizedState),
    typeof s.getDerivedStateFromProps == "function" || typeof a.getSnapshotBeforeUpdate == "function" || typeof a.UNSAFE_componentWillMount != "function" && typeof a.componentWillMount != "function" || (s = a.state, typeof a.componentWillMount == "function" && a.componentWillMount(), typeof a.UNSAFE_componentWillMount == "function" && a.UNSAFE_componentWillMount(), s !== a.state && uf.enqueueReplaceState(a, a.state, null), op(t, r, a, n), a.state = t.memoizedState),
    typeof a.componentDidMount == "function" && (t.flags |= 4194308)
}
function kc(t, s) {
    try {
        var r = "",
            n = s;
        do r += BI(n),
        n = n.return;
        while (n);
        var a = r
    } catch (i) {
        a = `
Error generating stack: `
        + i.message + `
`
        + i.stack
    }
    return {
        value: t,
        source: s,
        stack: a,
        digest: null
    }
}
function Bx(t, s, r) {
    return {
        value: t,
        source: null,
        stack: r ?? null,
        digest: s ?? null
    }
}
function ov(t, s) {
    try {
        console.error(s.value)
    } catch (r) {
        setTimeout(function() {
            throw r
        })
    }
}
var gD = typeof WeakMap == "function" ? WeakMap : Map;
function NS(t, s, r) {
    r = oi(-1, r),
    r.tag = 3,
    r.payload = {
        element: null
    };
    var n = s.value;
    return r.callback = function() {
        mp || (mp = !0, gv = n),
        ov(t, s)
    }, r
}
function wS(t, s, r) {
    r = oi(-1, r),
    r.tag = 3;
    var n = t.type.getDerivedStateFromError;
    if (typeof n == "function") {
        var a = s.value;
        r.payload = function() {
            return n(a)
        },
        r.callback = function() {
            ov(t, s)
        }
    }
    var i = t.stateNode;
    return i !== null && typeof i.componentDidCatch == "function" && (r.callback = function() {
        ov(t, s),
        typeof n != "function" && (so === null ? so = new Set([this]) : so.add(this));
        var o = s.stack;
        this.componentDidCatch(s.value, {
            componentStack: o !== null ? o : ""
        })
    }), r
}
function wN(t, s, r) {
    var n = t.pingCache;
    if (n === null) {
        n = t.pingCache = new gD;
        var a = new Set;
        n.set(s, a)
    } else
        a = n.get(s),
        a === void 0 && (a = new Set, n.set(s, a));
    a.has(r) || (a.add(r), t = AD.bind(null, t, s, r), s.then(t, t))
}
function CN(t) {
    do {
        var s;
        if ((s = t.tag === 13) && (s = t.memoizedState, s = s !== null ? s.dehydrated !== null : !0), s)
            return t;
        t = t.return
    } while (t !== null);
    return null
}
function SN(t, s, r, n, a) {
    return t.mode & 1 ? (t.flags |= 65536, t.lanes = a, t) : (t === s ? t.flags |= 65536 : (t.flags |= 128, r.flags |= 131072, r.flags &= -52805, r.tag === 1 && (r.alternate === null ? r.tag = 17 : (s = oi(-1, 1), s.tag = 2, to(r, s, 1))), r.lanes |= 1), t)
}
var vD = bi.ReactCurrentOwner,
    Fr = !1;
function yr(t, s, r, n) {
    s.child = t === null ? XC(s, null, r, n) : Sc(s, t.child, r, n)
}
function EN(t, s, r, n, a) {
    r = r.render;
    var i = s.ref;
    return Jl(s, a), n = cj(t, s, r, n, i, a), r = dj(), t !== null && !Fr ? (s.updateQueue = t.updateQueue, s.flags &= -2053, t.lanes &= ~a, fi(t, s, a)) : (Qt && r && Zy(s), s.flags |= 1, yr(t, s, n, a), s.child)
}
function kN(t, s, r, n, a) {
    if (t === null) {
        var i = r.type;
        return typeof i == "function" && !jj(i) && i.defaultProps === void 0 && r.compare === null && r.defaultProps === void 0 ? (s.tag = 15, s.type = i, CS(t, s, i, n, a)) : (t = Ph(r.type, null, n, s, s.mode, a), t.ref = s.ref, t.return = s, s.child = t)
    }
    if (i = t.child, !(t.lanes & a)) {
        var o = i.memoizedProps;
        if (r = r.compare, r = r !== null ? r : cu, r(o, n) && t.ref === s.ref)
            return fi(t, s, a)
    }
    return s.flags |= 1, t = no(i, n), t.ref = s.ref, t.return = s, s.child = t
}
function CS(t, s, r, n, a) {
    if (t !== null) {
        var i = t.memoizedProps;
        if (cu(i, n) && t.ref === s.ref)
            if (Fr = !1, s.pendingProps = n = i, (t.lanes & a) !== 0)
                t.flags & 131072 && (Fr = !0);
            else
                return s.lanes = t.lanes, fi(t, s, a)
    }
    return lv(t, s, r, n, a)
}
function SS(t, s, r) {
    var n = s.pendingProps,
        a = n.children,
        i = t !== null ? t.memoizedState : null;
    if (n.mode === "hidden")
        if (!(s.mode & 1))
            s.memoizedState = {
                baseLanes: 0,
                cachePool: null,
                transitions: null
            },
            Vt(Wl, en),
            en |= r;
        else {
            if (!(r & 1073741824))
                return t = i !== null ? i.baseLanes | r : r, s.lanes = s.childLanes = 1073741824, s.memoizedState = {
                    baseLanes: t,
                    cachePool: null,
                    transitions: null
                }, s.updateQueue = null, Vt(Wl, en), en |= t, null;
            s.memoizedState = {
                baseLanes: 0,
                cachePool: null,
                transitions: null
            },
            n = i !== null ? i.baseLanes : r,
            Vt(Wl, en),
            en |= n
        }
    else
        i !== null ? (n = i.baseLanes | r, s.memoizedState = null) : n = r,
        Vt(Wl, en),
        en |= n;
    return yr(t, s, a, r), s.child
}
function ES(t, s) {
    var r = s.ref;
    (t === null && r !== null || t !== null && t.ref !== r) && (s.flags |= 512, s.flags |= 2097152)
}
function lv(t, s, r, n, a) {
    var i = Ur(r) ? Xo : mr.current;
    return i = wc(s, i), Jl(s, a), r = cj(t, s, r, n, i, a), n = dj(), t !== null && !Fr ? (s.updateQueue = t.updateQueue, s.flags &= -2053, t.lanes &= ~a, fi(t, s, a)) : (Qt && n && Zy(s), s.flags |= 1, yr(t, s, r, a), s.child)
}
function PN(t, s, r, n, a) {
    if (Ur(r)) {
        var i = !0;
        sp(s)
    } else
        i = !1;
    if (Jl(s, a), s.stateNode === null)
        Sh(t, s),
        bS(s, r, n),
        iv(s, r, n, a),
        n = !0;
    else if (t === null) {
        var o = s.stateNode,
            l = s.memoizedProps;
        o.props = l;
        var c = o.context,
            d = r.contextType;
        typeof d == "object" && d !== null ? d = En(d) : (d = Ur(r) ? Xo : mr.current, d = wc(s, d));
        var u = r.getDerivedStateFromProps,
            m = typeof u == "function" || typeof o.getSnapshotBeforeUpdate == "function";
        m || typeof o.UNSAFE_componentWillReceiveProps != "function" && typeof o.componentWillReceiveProps != "function" || (l !== n || c !== d) && NN(s, o, n, d),
        Ri = !1;
        var p = s.memoizedState;
        o.state = p,
        op(s, n, o, a),
        c = s.memoizedState,
        l !== n || p !== c || Vr.current || Ri ? (typeof u == "function" && (av(s, r, u, n), c = s.memoizedState), (l = Ri || bN(s, r, l, n, p, c, d)) ? (m || typeof o.UNSAFE_componentWillMount != "function" && typeof o.componentWillMount != "function" || (typeof o.componentWillMount == "function" && o.componentWillMount(), typeof o.UNSAFE_componentWillMount == "function" && o.UNSAFE_componentWillMount()), typeof o.componentDidMount == "function" && (s.flags |= 4194308)) : (typeof o.componentDidMount == "function" && (s.flags |= 4194308), s.memoizedProps = n, s.memoizedState = c), o.props = n, o.state = c, o.context = d, n = l) : (typeof o.componentDidMount == "function" && (s.flags |= 4194308), n = !1)
    } else {
        o = s.stateNode,
        eS(t, s),
        l = s.memoizedProps,
        d = s.type === s.elementType ? l : On(s.type, l),
        o.props = d,
        m = s.pendingProps,
        p = o.context,
        c = r.contextType,
        typeof c == "object" && c !== null ? c = En(c) : (c = Ur(r) ? Xo : mr.current, c = wc(s, c));
        var j = r.getDerivedStateFromProps;
        (u = typeof j == "function" || typeof o.getSnapshotBeforeUpdate == "function") || typeof o.UNSAFE_componentWillReceiveProps != "function" && typeof o.componentWillReceiveProps != "function" || (l !== m || p !== c) && NN(s, o, n, c),
        Ri = !1,
        p = s.memoizedState,
        o.state = p,
        op(s, n, o, a);
        var g = s.memoizedState;
        l !== m || p !== g || Vr.current || Ri ? (typeof j == "function" && (av(s, r, j, n), g = s.memoizedState), (d = Ri || bN(s, r, d, n, p, g, c) || !1) ? (u || typeof o.UNSAFE_componentWillUpdate != "function" && typeof o.componentWillUpdate != "function" || (typeof o.componentWillUpdate == "function" && o.componentWillUpdate(n, g, c), typeof o.UNSAFE_componentWillUpdate == "function" && o.UNSAFE_componentWillUpdate(n, g, c)), typeof o.componentDidUpdate == "function" && (s.flags |= 4), typeof o.getSnapshotBeforeUpdate == "function" && (s.flags |= 1024)) : (typeof o.componentDidUpdate != "function" || l === t.memoizedProps && p === t.memoizedState || (s.flags |= 4), typeof o.getSnapshotBeforeUpdate != "function" || l === t.memoizedProps && p === t.memoizedState || (s.flags |= 1024), s.memoizedProps = n, s.memoizedState = g), o.props = n, o.state = g, o.context = c, n = d) : (typeof o.componentDidUpdate != "function" || l === t.memoizedProps && p === t.memoizedState || (s.flags |= 4), typeof o.getSnapshotBeforeUpdate != "function" || l === t.memoizedProps && p === t.memoizedState || (s.flags |= 1024), n = !1)
    }
    return cv(t, s, r, n, i, a)
}
function cv(t, s, r, n, a, i) {
    ES(t, s);
    var o = (s.flags & 128) !== 0;
    if (!n && !o)
        return a && hN(s, r, !1), fi(t, s, i);
    n = s.stateNode,
    vD.current = s;
    var l = o && typeof r.getDerivedStateFromError != "function" ? null : n.render();
    return s.flags |= 1, t !== null && o ? (s.child = Sc(s, t.child, null, i), s.child = Sc(s, null, l, i)) : yr(t, s, l, i), s.memoizedState = n.state, a && hN(s, r, !0), s.child
}
function kS(t) {
    var s = t.stateNode;
    s.pendingContext ? mN(t, s.pendingContext, s.pendingContext !== s.context) : s.context && mN(t, s.context, !1),
    aj(t, s.containerInfo)
}
function _N(t, s, r, n, a) {
    return Cc(), Jy(a), s.flags |= 256, yr(t, s, r, n), s.child
}
var dv = {
    dehydrated: null,
    treeContext: null,
    retryLane: 0
};
function uv(t) {
    return {
        baseLanes: t,
        cachePool: null,
        transitions: null
    }
}
function PS(t, s, r) {
    var n = s.pendingProps,
        a = ns.current,
        i = !1,
        o = (s.flags & 128) !== 0,
        l;
    if ((l = o) || (l = t !== null && t.memoizedState === null ? !1 : (a & 2) !== 0), l ? (i = !0, s.flags &= -129) : (t === null || t.memoizedState !== null) && (a |= 1), Vt(ns, a & 1), t === null)
        return rv(s), t = s.memoizedState, t !== null && (t = t.dehydrated, t !== null) ? (s.mode & 1 ? t.data === "$!" ? s.lanes = 8 : s.lanes = 1073741824 : s.lanes = 1, null) : (o = n.children, t = n.fallback, i ? (n = s.mode, i = s.child, o = {
            mode: "hidden",
            children: o
        }, !(n & 1) && i !== null ? (i.childLanes = 0, i.pendingProps = o) : i = pf(o, n, 0, null), t = Go(t, n, r, null), i.return = s, t.return = s, i.sibling = t, s.child = i, s.child.memoizedState = uv(r), s.memoizedState = dv, t) : hj(s, o));
    if (a = t.memoizedState, a !== null && (l = a.dehydrated, l !== null))
        return yD(t, s, o, n, l, a, r);
    if (i) {
        i = n.fallback,
        o = s.mode,
        a = t.child,
        l = a.sibling;
        var c = {
            mode: "hidden",
            children: n.children
        };
        return !(o & 1) && s.child !== a ? (n = s.child, n.childLanes = 0, n.pendingProps = c, s.deletions = null) : (n = no(a, c), n.subtreeFlags = a.subtreeFlags & 14680064), l !== null ? i = no(l, i) : (i = Go(i, o, r, null), i.flags |= 2), i.return = s, n.return = s, n.sibling = i, s.child = n, n = i, i = s.child, o = t.child.memoizedState, o = o === null ? uv(r) : {
            baseLanes: o.baseLanes | r,
            cachePool: null,
            transitions: o.transitions
        }, i.memoizedState = o, i.childLanes = t.childLanes & ~r, s.memoizedState = dv, n
    }
    return i = t.child, t = i.sibling, n = no(i, {
        mode: "visible",
        children: n.children
    }), !(s.mode & 1) && (n.lanes = r), n.return = s, n.sibling = null, t !== null && (r = s.deletions, r === null ? (s.deletions = [t], s.flags |= 16) : r.push(t)), s.child = n, s.memoizedState = null, n
}
function hj(t, s) {
    return s = pf({
        mode: "visible",
        children: s
    }, t.mode, 0, null), s.return = t, t.child = s
}
function Zm(t, s, r, n) {
    return n !== null && Jy(n), Sc(s, t.child, null, r), t = hj(s, s.pendingProps.children), t.flags |= 2, s.memoizedState = null, t
}
function yD(t, s, r, n, a, i, o) {
    if (r)
        return s.flags & 256 ? (s.flags &= -257, n = Bx(Error(Ee(422))), Zm(t, s, o, n)) : s.memoizedState !== null ? (s.child = t.child, s.flags |= 128, null) : (i = n.fallback, a = s.mode, n = pf({
            mode: "visible",
            children: n.children
        }, a, 0, null), i = Go(i, a, o, null), i.flags |= 2, n.return = s, i.return = s, n.sibling = i, s.child = n, s.mode & 1 && Sc(s, t.child, null, o), s.child.memoizedState = uv(o), s.memoizedState = dv, i);
    if (!(s.mode & 1))
        return Zm(t, s, o, null);
    if (a.data === "$!") {
        if (n = a.nextSibling && a.nextSibling.dataset, n)
            var l = n.dgst;
        return n = l, i = Error(Ee(419)), n = Bx(i, n, void 0), Zm(t, s, o, n)
    }
    if (l = (o & t.childLanes) !== 0, Fr || l) {
        if (n = Us, n !== null) {
            switch (o & -o) {
            case 4:
                a = 2;
                break;
            case 16:
                a = 8;
                break;
            case 64:
            case 128:
            case 256:
            case 512:
            case 1024:
            case 2048:
            case 4096:
            case 8192:
            case 16384:
            case 32768:
            case 65536:
            case 131072:
            case 262144:
            case 524288:
            case 1048576:
            case 2097152:
            case 4194304:
            case 8388608:
            case 16777216:
            case 33554432:
            case 67108864:
                a = 32;
                break;
            case 536870912:
                a = 268435456;
                break;
            default:
                a = 0
            }
            a = a & (n.suspendedLanes | o) ? 0 : a,
            a !== 0 && a !== i.retryLane && (i.retryLane = a, pi(t, a), Wn(n, t, a, -1))
        }
        return yj(), n = Bx(Error(Ee(421))), Zm(t, s, o, n)
    }
    return a.data === "$?" ? (s.flags |= 128, s.child = t.child, s = MD.bind(null, t), a._reactRetry = s, null) : (t = i.treeContext, nn = eo(a.nextSibling), an = s, Qt = !0, zn = null, t !== null && (yn[jn++] = ri, yn[jn++] = ni, yn[jn++] = Jo, ri = t.id, ni = t.overflow, Jo = s), s = hj(s, n.children), s.flags |= 4096, s)
}
function TN(t, s, r) {
    t.lanes |= s;
    var n = t.alternate;
    n !== null && (n.lanes |= s),
    nv(t.return, s, r)
}
function Hx(t, s, r, n, a) {
    var i = t.memoizedState;
    i === null ? t.memoizedState = {
        isBackwards: s,
        rendering: null,
        renderingStartTime: 0,
        last: n,
        tail: r,
        tailMode: a
    } : (i.isBackwards = s, i.rendering = null, i.renderingStartTime = 0, i.last = n, i.tail = r, i.tailMode = a)
}
function _S(t, s, r) {
    var n = s.pendingProps,
        a = n.revealOrder,
        i = n.tail;
    if (yr(t, s, n.children, r), n = ns.current, n & 2)
        n = n & 1 | 2,
        s.flags |= 128;
    else {
        if (t !== null && t.flags & 128)
            e:
            for (t = s.child; t !== null;) {
                if (t.tag === 13)
                    t.memoizedState !== null && TN(t, r, s);
                else if (t.tag === 19)
                    TN(t, r, s);
                else if (t.child !== null) {
                    t.child.return = t,
                    t = t.child;
                    continue
                }
                if (t === s)
                    break e;
                for (; t.sibling === null;) {
                    if (t.return === null || t.return === s)
                        break e;
                    t = t.return
                }
                t.sibling.return = t.return,
                t = t.sibling
            }
        n &= 1
    }
    if (Vt(ns, n), !(s.mode & 1))
        s.memoizedState = null;
    else
        switch (a) {
        case "forwards":
            for (r = s.child, a = null; r !== null;)
                t = r.alternate,
                t !== null && lp(t) === null && (a = r),
                r = r.sibling;
            r = a,
            r === null ? (a = s.child, s.child = null) : (a = r.sibling, r.sibling = null),
            Hx(s, !1, a, r, i);
            break;
        case "backwards":
            for (r = null, a = s.child, s.child = null; a !== null;) {
                if (t = a.alternate, t !== null && lp(t) === null) {
                    s.child = a;
                    break
                }
                t = a.sibling,
                a.sibling = r,
                r = a,
                a = t
            }
            Hx(s, !0, r, null, i);
            break;
        case "together":
            Hx(s, !1, null, null, void 0);
            break;
        default:
            s.memoizedState = null
        }
    return s.child
}
function Sh(t, s) {
    !(s.mode & 1) && t !== null && (t.alternate = null, s.alternate = null, s.flags |= 2)
}
function fi(t, s, r) {
    if (t !== null && (s.dependencies = t.dependencies), tl |= s.lanes, !(r & s.childLanes))
        return null;
    if (t !== null && s.child !== t.child)
        throw Error(Ee(153));
    if (s.child !== null) {
        for (t = s.child, r = no(t, t.pendingProps), s.child = r, r.return = s; t.sibling !== null;)
            t = t.sibling,
            r = r.sibling = no(t, t.pendingProps),
            r.return = s;
        r.sibling = null
    }
    return s.child
}
function jD(t, s, r) {
    switch (s.tag) {
    case 3:
        kS(s),
        Cc();
        break;
    case 5:
        tS(s);
        break;
    case 1:
        Ur(s.type) && sp(s);
        break;
    case 4:
        aj(s, s.stateNode.containerInfo);
        break;
    case 10:
        var n = s.type._context,
            a = s.memoizedProps.value;
        Vt(ap, n._currentValue),
        n._currentValue = a;
        break;
    case 13:
        if (n = s.memoizedState, n !== null)
            return n.dehydrated !== null ? (Vt(ns, ns.current & 1), s.flags |= 128, null) : r & s.child.childLanes ? PS(t, s, r) : (Vt(ns, ns.current & 1), t = fi(t, s, r), t !== null ? t.sibling : null);
        Vt(ns, ns.current & 1);
        break;
    case 19:
        if (n = (r & s.childLanes) !== 0, t.flags & 128) {
            if (n)
                return _S(t, s, r);
            s.flags |= 128
        }
        if (a = s.memoizedState, a !== null && (a.rendering = null, a.tail = null, a.lastEffect = null), Vt(ns, ns.current), n)
            break;
        return null;
    case 22:
    case 23:
        return s.lanes = 0, SS(t, s, r)
    }
    return fi(t, s, r)
}
var TS,
    mv,
    AS,
    MS;
TS = function(t, s) {
    for (var r = s.child; r !== null;) {
        if (r.tag === 5 || r.tag === 6)
            t.appendChild(r.stateNode);
        else if (r.tag !== 4 && r.child !== null) {
            r.child.return = r,
            r = r.child;
            continue
        }
        if (r === s)
            break;
        for (; r.sibling === null;) {
            if (r.return === null || r.return === s)
                return;
            r = r.return
        }
        r.sibling.return = r.return,
        r = r.sibling
    }
};
mv = function() {};
AS = function(t, s, r, n) {
    var a = t.memoizedProps;
    if (a !== n) {
        t = s.stateNode,
        Do(Na.current);
        var i = null;
        switch (r) {
        case "input":
            a = Rg(t, a),
            n = Rg(t, n),
            i = [];
            break;
        case "select":
            a = os({}, a, {
                value: void 0
            }),
            n = os({}, n, {
                value: void 0
            }),
            i = [];
            break;
        case "textarea":
            a = Lg(t, a),
            n = Lg(t, n),
            i = [];
            break;
        default:
            typeof a.onClick != "function" && typeof n.onClick == "function" && (t.onclick = ep)
        }
        zg(r, n);
        var o;
        r = null;
        for (d in a)
            if (!n.hasOwnProperty(d) && a.hasOwnProperty(d) && a[d] != null)
                if (d === "style") {
                    var l = a[d];
                    for (o in l)
                        l.hasOwnProperty(o) && (r || (r = {}), r[o] = "")
                } else
                    d !== "dangerouslySetInnerHTML" && d !== "children" && d !== "suppressContentEditableWarning" && d !== "suppressHydrationWarning" && d !== "autoFocus" && (su.hasOwnProperty(d) ? i || (i = []) : (i = i || []).push(d, null));
        for (d in n) {
            var c = n[d];
            if (l = a != null ? a[d] : void 0, n.hasOwnProperty(d) && c !== l && (c != null || l != null))
                if (d === "style")
                    if (l) {
                        for (o in l)
                            !l.hasOwnProperty(o) || c && c.hasOwnProperty(o) || (r || (r = {}), r[o] = "");
                        for (o in c)
                            c.hasOwnProperty(o) && l[o] !== c[o] && (r || (r = {}), r[o] = c[o])
                    } else
                        r || (i || (i = []), i.push(d, r)),
                        r = c;
                else
                    d === "dangerouslySetInnerHTML" ? (c = c ? c.__html : void 0, l = l ? l.__html : void 0, c != null && l !== c && (i = i || []).push(d, c)) : d === "children" ? typeof c != "string" && typeof c != "number" || (i = i || []).push(d, "" + c) : d !== "suppressContentEditableWarning" && d !== "suppressHydrationWarning" && (su.hasOwnProperty(d) ? (c != null && d === "onScroll" && Gt("scroll", t), i || l === c || (i = [])) : (i = i || []).push(d, c))
        }
        r && (i = i || []).push("style", r);
        var d = i;
        (s.updateQueue = d) && (s.flags |= 4)
    }
};
MS = function(t, s, r, n) {
    r !== n && (s.flags |= 4)
};
function fd(t, s) {
    if (!Qt)
        switch (t.tailMode) {
        case "hidden":
            s = t.tail;
            for (var r = null; s !== null;)
                s.alternate !== null && (r = s),
                s = s.sibling;
            r === null ? t.tail = null : r.sibling = null;
            break;
        case "collapsed":
            r = t.tail;
            for (var n = null; r !== null;)
                r.alternate !== null && (n = r),
                r = r.sibling;
            n === null ? s || t.tail === null ? t.tail = null : t.tail.sibling = null : n.sibling = null
        }
}
function ar(t) {
    var s = t.alternate !== null && t.alternate.child === t.child,
        r = 0,
        n = 0;
    if (s)
        for (var a = t.child; a !== null;)
            r |= a.lanes | a.childLanes,
            n |= a.subtreeFlags & 14680064,
            n |= a.flags & 14680064,
            a.return = t,
            a = a.sibling;
    else
        for (a = t.child; a !== null;)
            r |= a.lanes | a.childLanes,
            n |= a.subtreeFlags,
            n |= a.flags,
            a.return = t,
            a = a.sibling;
    return t.subtreeFlags |= n, t.childLanes = r, s
}
function bD(t, s, r) {
    var n = s.pendingProps;
    switch (Xy(s), s.tag) {
    case 2:
    case 16:
    case 15:
    case 0:
    case 11:
    case 7:
    case 8:
    case 12:
    case 9:
    case 14:
        return ar(s), null;
    case 1:
        return Ur(s.type) && tp(), ar(s), null;
    case 3:
        return n = s.stateNode, Ec(), Kt(Vr), Kt(mr), oj(), n.pendingContext && (n.context = n.pendingContext, n.pendingContext = null), (t === null || t.child === null) && (Ym(s) ? s.flags |= 4 : t === null || t.memoizedState.isDehydrated && !(s.flags & 256) || (s.flags |= 1024, zn !== null && (jv(zn), zn = null))), mv(t, s), ar(s), null;
    case 5:
        ij(s);
        var a = Do(pu.current);
        if (r = s.type, t !== null && s.stateNode != null)
            AS(t, s, r, n, a),
            t.ref !== s.ref && (s.flags |= 512, s.flags |= 2097152);
        else {
            if (!n) {
                if (s.stateNode === null)
                    throw Error(Ee(166));
                return ar(s), null
            }
            if (t = Do(Na.current), Ym(s)) {
                n = s.stateNode,
                r = s.type;
                var i = s.memoizedProps;
                switch (n[pa] = s, n[mu] = i, t = (s.mode & 1) !== 0, r) {
                case "dialog":
                    Gt("cancel", n),
                    Gt("close", n);
                    break;
                case "iframe":
                case "object":
                case "embed":
                    Gt("load", n);
                    break;
                case "video":
                case "audio":
                    for (a = 0; a < Id.length; a++)
                        Gt(Id[a], n);
                    break;
                case "source":
                    Gt("error", n);
                    break;
                case "img":
                case "image":
                case "link":
                    Gt("error", n),
                    Gt("load", n);
                    break;
                case "details":
                    Gt("toggle", n);
                    break;
                case "input":
                    zb(n, i),
                    Gt("invalid", n);
                    break;
                case "select":
                    n._wrapperState = {
                        wasMultiple: !!i.multiple
                    },
                    Gt("invalid", n);
                    break;
                case "textarea":
                    Vb(n, i),
                    Gt("invalid", n)
                }
                zg(r, i),
                a = null;
                for (var o in i)
                    if (i.hasOwnProperty(o)) {
                        var l = i[o];
                        o === "children" ? typeof l == "string" ? n.textContent !== l && (i.suppressHydrationWarning !== !0 && Km(n.textContent, l, t), a = ["children", l]) : typeof l == "number" && n.textContent !== "" + l && (i.suppressHydrationWarning !== !0 && Km(n.textContent, l, t), a = ["children", "" + l]) : su.hasOwnProperty(o) && l != null && o === "onScroll" && Gt("scroll", n)
                    }
                switch (r) {
                case "input":
                    $m(n),
                    $b(n, i, !0);
                    break;
                case "textarea":
                    $m(n),
                    Ub(n);
                    break;
                case "select":
                case "option":
                    break;
                default:
                    typeof i.onClick == "function" && (n.onclick = ep)
                }
                n = a,
                s.updateQueue = n,
                n !== null && (s.flags |= 4)
            } else {
                o = a.nodeType === 9 ? a : a.ownerDocument,
                t === "http://www.w3.org/1999/xhtml" && (t = iC(r)),
                t === "http://www.w3.org/1999/xhtml" ? r === "script" ? (t = o.createElement("div"), t.innerHTML = "<script><\/script>", t = t.removeChild(t.firstChild)) : typeof n.is == "string" ? t = o.createElement(r, {
                    is: n.is
                }) : (t = o.createElement(r), r === "select" && (o = t, n.multiple ? o.multiple = !0 : n.size && (o.size = n.size))) : t = o.createElementNS(t, r),
                t[pa] = s,
                t[mu] = n,
                TS(t, s, !1, !1),
                s.stateNode = t;
                e:
                {
                    switch (o = $g(r, n), r) {
                    case "dialog":
                        Gt("cancel", t),
                        Gt("close", t),
                        a = n;
                        break;
                    case "iframe":
                    case "object":
                    case "embed":
                        Gt("load", t),
                        a = n;
                        break;
                    case "video":
                    case "audio":
                        for (a = 0; a < Id.length; a++)
                            Gt(Id[a], t);
                        a = n;
                        break;
                    case "source":
                        Gt("error", t),
                        a = n;
                        break;
                    case "img":
                    case "image":
                    case "link":
                        Gt("error", t),
                        Gt("load", t),
                        a = n;
                        break;
                    case "details":
                        Gt("toggle", t),
                        a = n;
                        break;
                    case "input":
                        zb(t, n),
                        a = Rg(t, n),
                        Gt("invalid", t);
                        break;
                    case "option":
                        a = n;
                        break;
                    case "select":
                        t._wrapperState = {
                            wasMultiple: !!n.multiple
                        },
                        a = os({}, n, {
                            value: void 0
                        }),
                        Gt("invalid", t);
                        break;
                    case "textarea":
                        Vb(t, n),
                        a = Lg(t, n),
                        Gt("invalid", t);
                        break;
                    default:
                        a = n
                    }
                    zg(r, a),
                    l = a;
                    for (i in l)
                        if (l.hasOwnProperty(i)) {
                            var c = l[i];
                            i === "style" ? cC(t, c) : i === "dangerouslySetInnerHTML" ? (c = c ? c.__html : void 0, c != null && oC(t, c)) : i === "children" ? typeof c == "string" ? (r !== "textarea" || c !== "") && ru(t, c) : typeof c == "number" && ru(t, "" + c) : i !== "suppressContentEditableWarning" && i !== "suppressHydrationWarning" && i !== "autoFocus" && (su.hasOwnProperty(i) ? c != null && i === "onScroll" && Gt("scroll", t) : c != null && Ly(t, i, c, o))
                        }
                    switch (r) {
                    case "input":
                        $m(t),
                        $b(t, n, !1);
                        break;
                    case "textarea":
                        $m(t),
                        Ub(t);
                        break;
                    case "option":
                        n.value != null && t.setAttribute("value", "" + oo(n.value));
                        break;
                    case "select":
                        t.multiple = !!n.multiple,
                        i = n.value,
                        i != null ? Yl(t, !!n.multiple, i, !1) : n.defaultValue != null && Yl(t, !!n.multiple, n.defaultValue, !0);
                        break;
                    default:
                        typeof a.onClick == "function" && (t.onclick = ep)
                    }
                    switch (r) {
                    case "button":
                    case "input":
                    case "select":
                    case "textarea":
                        n = !!n.autoFocus;
                        break e;
                    case "img":
                        n = !0;
                        break e;
                    default:
                        n = !1
                    }
                }n && (s.flags |= 4)
            }
            s.ref !== null && (s.flags |= 512, s.flags |= 2097152)
        }
        return ar(s), null;
    case 6:
        if (t && s.stateNode != null)
            MS(t, s, t.memoizedProps, n);
        else {
            if (typeof n != "string" && s.stateNode === null)
                throw Error(Ee(166));
            if (r = Do(pu.current), Do(Na.current), Ym(s)) {
                if (n = s.stateNode, r = s.memoizedProps, n[pa] = s, (i = n.nodeValue !== r) && (t = an, t !== null))
                    switch (t.tag) {
                    case 3:
                        Km(n.nodeValue, r, (t.mode & 1) !== 0);
                        break;
                    case 5:
                        t.memoizedProps.suppressHydrationWarning !== !0 && Km(n.nodeValue, r, (t.mode & 1) !== 0)
                    }
                i && (s.flags |= 4)
            } else
                n = (r.nodeType === 9 ? r : r.ownerDocument).createTextNode(n),
                n[pa] = s,
                s.stateNode = n
        }
        return ar(s), null;
    case 13:
        if (Kt(ns), n = s.memoizedState, t === null || t.memoizedState !== null && t.memoizedState.dehydrated !== null) {
            if (Qt && nn !== null && s.mode & 1 && !(s.flags & 128))
                QC(),
                Cc(),
                s.flags |= 98560,
                i = !1;
            else if (i = Ym(s), n !== null && n.dehydrated !== null) {
                if (t === null) {
                    if (!i)
                        throw Error(Ee(318));
                    if (i = s.memoizedState, i = i !== null ? i.dehydrated : null, !i)
                        throw Error(Ee(317));
                    i[pa] = s
                } else
                    Cc(),
                    !(s.flags & 128) && (s.memoizedState = null),
                    s.flags |= 4;
                ar(s),
                i = !1
            } else
                zn !== null && (jv(zn), zn = null),
                i = !0;
            if (!i)
                return s.flags & 65536 ? s : null
        }
        return s.flags & 128 ? (s.lanes = r, s) : (n = n !== null, n !== (t !== null && t.memoizedState !== null) && n && (s.child.flags |= 8192, s.mode & 1 && (t === null || ns.current & 1 ? Fs === 0 && (Fs = 3) : yj())), s.updateQueue !== null && (s.flags |= 4), ar(s), null);
    case 4:
        return Ec(), mv(t, s), t === null && du(s.stateNode.containerInfo), ar(s), null;
    case 10:
        return sj(s.type._context), ar(s), null;
    case 17:
        return Ur(s.type) && tp(), ar(s), null;
    case 19:
        if (Kt(ns), i = s.memoizedState, i === null)
            return ar(s), null;
        if (n = (s.flags & 128) !== 0, o = i.rendering, o === null)
            if (n)
                fd(i, !1);
            else {
                if (Fs !== 0 || t !== null && t.flags & 128)
                    for (t = s.child; t !== null;) {
                        if (o = lp(t), o !== null) {
                            for (s.flags |= 128, fd(i, !1), n = o.updateQueue, n !== null && (s.updateQueue = n, s.flags |= 4), s.subtreeFlags = 0, n = r, r = s.child; r !== null;)
                                i = r,
                                t = n,
                                i.flags &= 14680066,
                                o = i.alternate,
                                o === null ? (i.childLanes = 0, i.lanes = t, i.child = null, i.subtreeFlags = 0, i.memoizedProps = null, i.memoizedState = null, i.updateQueue = null, i.dependencies = null, i.stateNode = null) : (i.childLanes = o.childLanes, i.lanes = o.lanes, i.child = o.child, i.subtreeFlags = 0, i.deletions = null, i.memoizedProps = o.memoizedProps, i.memoizedState = o.memoizedState, i.updateQueue = o.updateQueue, i.type = o.type, t = o.dependencies, i.dependencies = t === null ? null : {
                                    lanes: t.lanes,
                                    firstContext: t.firstContext
                                }),
                                r = r.sibling;
                            return Vt(ns, ns.current & 1 | 2), s.child
                        }
                        t = t.sibling
                    }
                i.tail !== null && fs() > Pc && (s.flags |= 128, n = !0, fd(i, !1), s.lanes = 4194304)
            }
        else {
            if (!n)
                if (t = lp(o), t !== null) {
                    if (s.flags |= 128, n = !0, r = t.updateQueue, r !== null && (s.updateQueue = r, s.flags |= 4), fd(i, !0), i.tail === null && i.tailMode === "hidden" && !o.alternate && !Qt)
                        return ar(s), null
                } else
                    2 * fs() - i.renderingStartTime > Pc && r !== 1073741824 && (s.flags |= 128, n = !0, fd(i, !1), s.lanes = 4194304);
            i.isBackwards ? (o.sibling = s.child, s.child = o) : (r = i.last, r !== null ? r.sibling = o : s.child = o, i.last = o)
        }
        return i.tail !== null ? (s = i.tail, i.rendering = s, i.tail = s.sibling, i.renderingStartTime = fs(), s.sibling = null, r = ns.current, Vt(ns, n ? r & 1 | 2 : r & 1), s) : (ar(s), null);
    case 22:
    case 23:
        return vj(), n = s.memoizedState !== null, t !== null && t.memoizedState !== null !== n && (s.flags |= 8192), n && s.mode & 1 ? en & 1073741824 && (ar(s), s.subtreeFlags & 6 && (s.flags |= 8192)) : ar(s), null;
    case 24:
        return null;
    case 25:
        return null
    }
    throw Error(Ee(156, s.tag))
}
function ND(t, s) {
    switch (Xy(s), s.tag) {
    case 1:
        return Ur(s.type) && tp(), t = s.flags, t & 65536 ? (s.flags = t & -65537 | 128, s) : null;
    case 3:
        return Ec(), Kt(Vr), Kt(mr), oj(), t = s.flags, t & 65536 && !(t & 128) ? (s.flags = t & -65537 | 128, s) : null;
    case 5:
        return ij(s), null;
    case 13:
        if (Kt(ns), t = s.memoizedState, t !== null && t.dehydrated !== null) {
            if (s.alternate === null)
                throw Error(Ee(340));
            Cc()
        }
        return t = s.flags, t & 65536 ? (s.flags = t & -65537 | 128, s) : null;
    case 19:
        return Kt(ns), null;
    case 4:
        return Ec(), null;
    case 10:
        return sj(s.type._context), null;
    case 22:
    case 23:
        return vj(), null;
    case 24:
        return null;
    default:
        return null
    }
}
var Xm = !1,
    or = !1,
    wD = typeof WeakSet == "function" ? WeakSet : Set,
    Ve = null;
function Hl(t, s) {
    var r = t.ref;
    if (r !== null)
        if (typeof r == "function")
            try {
                r(null)
            } catch (n) {
                ds(t, s, n)
            }
        else
            r.current = null
}
function hv(t, s, r) {
    try {
        r()
    } catch (n) {
        ds(t, s, n)
    }
}
var AN = !1;
function CD(t, s) {
    if (Qg = Zh, t = LC(), Qy(t)) {
        if ("selectionStart" in t)
            var r = {
                start: t.selectionStart,
                end: t.selectionEnd
            };
        else
            e:
            {
                r = (r = t.ownerDocument) && r.defaultView || window;
                var n = r.getSelection && r.getSelection();
                if (n && n.rangeCount !== 0) {
                    r = n.anchorNode;
                    var a = n.anchorOffset,
                        i = n.focusNode;
                    n = n.focusOffset;
                    try {
                        r.nodeType,
                        i.nodeType
                    } catch {
                        r = null;
                        break e
                    }
                    var o = 0,
                        l = -1,
                        c = -1,
                        d = 0,
                        u = 0,
                        m = t,
                        p = null;
                    t:
                    for (;;) {
                        for (var j; m !== r || a !== 0 && m.nodeType !== 3 || (l = o + a), m !== i || n !== 0 && m.nodeType !== 3 || (c = o + n), m.nodeType === 3 && (o += m.nodeValue.length), (j = m.firstChild) !== null;)
                            p = m,
                            m = j;
                        for (;;) {
                            if (m === t)
                                break t;
                            if (p === r && ++d === a && (l = o), p === i && ++u === n && (c = o), (j = m.nextSibling) !== null)
                                break;
                            m = p,
                            p = m.parentNode
                        }
                        m = j
                    }
                    r = l === -1 || c === -1 ? null : {
                        start: l,
                        end: c
                    }
                } else
                    r = null
            }r = r || {
            start: 0,
            end: 0
        }
    } else
        r = null;
    for (Zg = {
        focusedElem: t,
        selectionRange: r
    }, Zh = !1, Ve = s; Ve !== null;)
        if (s = Ve, t = s.child, (s.subtreeFlags & 1028) !== 0 && t !== null)
            t.return = s,
            Ve = t;
        else
            for (; Ve !== null;) {
                s = Ve;
                try {
                    var g = s.alternate;
                    if (s.flags & 1024)
                        switch (s.tag) {
                        case 0:
                        case 11:
                        case 15:
                            break;
                        case 1:
                            if (g !== null) {
                                var x = g.memoizedProps,
                                    y = g.memoizedState,
                                    v = s.stateNode,
                                    f = v.getSnapshotBeforeUpdate(s.elementType === s.type ? x : On(s.type, x), y);
                                v.__reactInternalSnapshotBeforeUpdate = f
                            }
                            break;
                        case 3:
                            var b = s.stateNode.containerInfo;
                            b.nodeType === 1 ? b.textContent = "" : b.nodeType === 9 && b.documentElement && b.removeChild(b.documentElement);
                            break;
                        case 5:
                        case 6:
                        case 4:
                        case 17:
                            break;
                        default:
                            throw Error(Ee(163))
                        }
                } catch (N) {
                    ds(s, s.return, N)
                }
                if (t = s.sibling, t !== null) {
                    t.return = s.return,
                    Ve = t;
                    break
                }
                Ve = s.return
            }
    return g = AN, AN = !1, g
}
function Gd(t, s, r) {
    var n = s.updateQueue;
    if (n = n !== null ? n.lastEffect : null, n !== null) {
        var a = n = n.next;
        do {
            if ((a.tag & t) === t) {
                var i = a.destroy;
                a.destroy = void 0,
                i !== void 0 && hv(s, r, i)
            }
            a = a.next
        } while (a !== n)
    }
}
function mf(t, s) {
    if (s = s.updateQueue, s = s !== null ? s.lastEffect : null, s !== null) {
        var r = s = s.next;
        do {
            if ((r.tag & t) === t) {
                var n = r.create;
                r.destroy = n()
            }
            r = r.next
        } while (r !== s)
    }
}
function pv(t) {
    var s = t.ref;
    if (s !== null) {
        var r = t.stateNode;
        switch (t.tag) {
        case 5:
            t = r;
            break;
        default:
            t = r
        }
        typeof s == "function" ? s(t) : s.current = t
    }
}
function IS(t) {
    var s = t.alternate;
    s !== null && (t.alternate = null, IS(s)),
    t.child = null,
    t.deletions = null,
    t.sibling = null,
    t.tag === 5 && (s = t.stateNode, s !== null && (delete s[pa], delete s[mu], delete s[ev], delete s[iD], delete s[oD])),
    t.stateNode = null,
    t.return = null,
    t.dependencies = null,
    t.memoizedProps = null,
    t.memoizedState = null,
    t.pendingProps = null,
    t.stateNode = null,
    t.updateQueue = null
}
function RS(t) {
    return t.tag === 5 || t.tag === 3 || t.tag === 4
}
function MN(t) {
    e:
    for (;;) {
        for (; t.sibling === null;) {
            if (t.return === null || RS(t.return))
                return null;
            t = t.return
        }
        for (t.sibling.return = t.return, t = t.sibling; t.tag !== 5 && t.tag !== 6 && t.tag !== 18;) {
            if (t.flags & 2 || t.child === null || t.tag === 4)
                continue e;
            t.child.return = t,
            t = t.child
        }
        if (!(t.flags & 2))
            return t.stateNode
    }
}
function fv(t, s, r) {
    var n = t.tag;
    if (n === 5 || n === 6)
        t = t.stateNode,
        s ? r.nodeType === 8 ? r.parentNode.insertBefore(t, s) : r.insertBefore(t, s) : (r.nodeType === 8 ? (s = r.parentNode, s.insertBefore(t, r)) : (s = r, s.appendChild(t)), r = r._reactRootContainer, r != null || s.onclick !== null || (s.onclick = ep));
    else if (n !== 4 && (t = t.child, t !== null))
        for (fv(t, s, r), t = t.sibling; t !== null;)
            fv(t, s, r),
            t = t.sibling
}
function xv(t, s, r) {
    var n = t.tag;
    if (n === 5 || n === 6)
        t = t.stateNode,
        s ? r.insertBefore(t, s) : r.appendChild(t);
    else if (n !== 4 && (t = t.child, t !== null))
        for (xv(t, s, r), t = t.sibling; t !== null;)
            xv(t, s, r),
            t = t.sibling
}
var Qs = null,
    Fn = !1;
function Ei(t, s, r) {
    for (r = r.child; r !== null;)
        DS(t, s, r),
        r = r.sibling
}
function DS(t, s, r) {
    if (ba && typeof ba.onCommitFiberUnmount == "function")
        try {
            ba.onCommitFiberUnmount(rf, r)
        } catch {}
    switch (r.tag) {
    case 5:
        or || Hl(r, s);
    case 6:
        var n = Qs,
            a = Fn;
        Qs = null,
        Ei(t, s, r),
        Qs = n,
        Fn = a,
        Qs !== null && (Fn ? (t = Qs, r = r.stateNode, t.nodeType === 8 ? t.parentNode.removeChild(r) : t.removeChild(r)) : Qs.removeChild(r.stateNode));
        break;
    case 18:
        Qs !== null && (Fn ? (t = Qs, r = r.stateNode, t.nodeType === 8 ? Fx(t.parentNode, r) : t.nodeType === 1 && Fx(t, r), ou(t)) : Fx(Qs, r.stateNode));
        break;
    case 4:
        n = Qs,
        a = Fn,
        Qs = r.stateNode.containerInfo,
        Fn = !0,
        Ei(t, s, r),
        Qs = n,
        Fn = a;
        break;
    case 0:
    case 11:
    case 14:
    case 15:
        if (!or && (n = r.updateQueue, n !== null && (n = n.lastEffect, n !== null))) {
            a = n = n.next;
            do {
                var i = a,
                    o = i.destroy;
                i = i.tag,
                o !== void 0 && (i & 2 || i & 4) && hv(r, s, o),
                a = a.next
            } while (a !== n)
        }
        Ei(t, s, r);
        break;
    case 1:
        if (!or && (Hl(r, s), n = r.stateNode, typeof n.componentWillUnmount == "function"))
            try {
                n.props = r.memoizedProps,
                n.state = r.memoizedState,
                n.componentWillUnmount()
            } catch (l) {
                ds(r, s, l)
            }
        Ei(t, s, r);
        break;
    case 21:
        Ei(t, s, r);
        break;
    case 22:
        r.mode & 1 ? (or = (n = or) || r.memoizedState !== null, Ei(t, s, r), or = n) : Ei(t, s, r);
        break;
    default:
        Ei(t, s, r)
    }
}
function IN(t) {
    var s = t.updateQueue;
    if (s !== null) {
        t.updateQueue = null;
        var r = t.stateNode;
        r === null && (r = t.stateNode = new wD),
        s.forEach(function(n) {
            var a = ID.bind(null, t, n);
            r.has(n) || (r.add(n), n.then(a, a))
        })
    }
}
function In(t, s) {
    var r = s.deletions;
    if (r !== null)
        for (var n = 0; n < r.length; n++) {
            var a = r[n];
            try {
                var i = t,
                    o = s,
                    l = o;
                e:
                for (; l !== null;) {
                    switch (l.tag) {
                    case 5:
                        Qs = l.stateNode,
                        Fn = !1;
                        break e;
                    case 3:
                        Qs = l.stateNode.containerInfo,
                        Fn = !0;
                        break e;
                    case 4:
                        Qs = l.stateNode.containerInfo,
                        Fn = !0;
                        break e
                    }
                    l = l.return
                }
                if (Qs === null)
                    throw Error(Ee(160));
                DS(i, o, a),
                Qs = null,
                Fn = !1;
                var c = a.alternate;
                c !== null && (c.return = null),
                a.return = null
            } catch (d) {
                ds(a, s, d)
            }
        }
    if (s.subtreeFlags & 12854)
        for (s = s.child; s !== null;)
            OS(s, t),
            s = s.sibling
}
function OS(t, s) {
    var r = t.alternate,
        n = t.flags;
    switch (t.tag) {
    case 0:
    case 11:
    case 14:
    case 15:
        if (In(s, t), oa(t), n & 4) {
            try {
                Gd(3, t, t.return),
                mf(3, t)
            } catch (x) {
                ds(t, t.return, x)
            }
            try {
                Gd(5, t, t.return)
            } catch (x) {
                ds(t, t.return, x)
            }
        }
        break;
    case 1:
        In(s, t),
        oa(t),
        n & 512 && r !== null && Hl(r, r.return);
        break;
    case 5:
        if (In(s, t), oa(t), n & 512 && r !== null && Hl(r, r.return), t.flags & 32) {
            var a = t.stateNode;
            try {
                ru(a, "")
            } catch (x) {
                ds(t, t.return, x)
            }
        }
        if (n & 4 && (a = t.stateNode, a != null)) {
            var i = t.memoizedProps,
                o = r !== null ? r.memoizedProps : i,
                l = t.type,
                c = t.updateQueue;
            if (t.updateQueue = null, c !== null)
                try {
                    l === "input" && i.type === "radio" && i.name != null && nC(a, i),
                    $g(l, o);
                    var d = $g(l, i);
                    for (o = 0; o < c.length; o += 2) {
                        var u = c[o],
                            m = c[o + 1];
                        u === "style" ? cC(a, m) : u === "dangerouslySetInnerHTML" ? oC(a, m) : u === "children" ? ru(a, m) : Ly(a, u, m, d)
                    }
                    switch (l) {
                    case "input":
                        Dg(a, i);
                        break;
                    case "textarea":
                        aC(a, i);
                        break;
                    case "select":
                        var p = a._wrapperState.wasMultiple;
                        a._wrapperState.wasMultiple = !!i.multiple;
                        var j = i.value;
                        j != null ? Yl(a, !!i.multiple, j, !1) : p !== !!i.multiple && (i.defaultValue != null ? Yl(a, !!i.multiple, i.defaultValue, !0) : Yl(a, !!i.multiple, i.multiple ? [] : "", !1))
                    }
                    a[mu] = i
                } catch (x) {
                    ds(t, t.return, x)
                }
        }
        break;
    case 6:
        if (In(s, t), oa(t), n & 4) {
            if (t.stateNode === null)
                throw Error(Ee(162));
            a = t.stateNode,
            i = t.memoizedProps;
            try {
                a.nodeValue = i
            } catch (x) {
                ds(t, t.return, x)
            }
        }
        break;
    case 3:
        if (In(s, t), oa(t), n & 4 && r !== null && r.memoizedState.isDehydrated)
            try {
                ou(s.containerInfo)
            } catch (x) {
                ds(t, t.return, x)
            }
        break;
    case 4:
        In(s, t),
        oa(t);
        break;
    case 13:
        In(s, t),
        oa(t),
        a = t.child,
        a.flags & 8192 && (i = a.memoizedState !== null, a.stateNode.isHidden = i, !i || a.alternate !== null && a.alternate.memoizedState !== null || (xj = fs())),
        n & 4 && IN(t);
        break;
    case 22:
        if (u = r !== null && r.memoizedState !== null, t.mode & 1 ? (or = (d = or) || u, In(s, t), or = d) : In(s, t), oa(t), n & 8192) {
            if (d = t.memoizedState !== null, (t.stateNode.isHidden = d) && !u && t.mode & 1)
                for (Ve = t, u = t.child; u !== null;) {
                    for (m = Ve = u; Ve !== null;) {
                        switch (p = Ve, j = p.child, p.tag) {
                        case 0:
                        case 11:
                        case 14:
                        case 15:
                            Gd(4, p, p.return);
                            break;
                        case 1:
                            Hl(p, p.return);
                            var g = p.stateNode;
                            if (typeof g.componentWillUnmount == "function") {
                                n = p,
                                r = p.return;
                                try {
                                    s = n,
                                    g.props = s.memoizedProps,
                                    g.state = s.memoizedState,
                                    g.componentWillUnmount()
                                } catch (x) {
                                    ds(n, r, x)
                                }
                            }
                            break;
                        case 5:
                            Hl(p, p.return);
                            break;
                        case 22:
                            if (p.memoizedState !== null) {
                                DN(m);
                                continue
                            }
                        }
                        j !== null ? (j.return = p, Ve = j) : DN(m)
                    }
                    u = u.sibling
                }
            e:
            for (u = null, m = t;;) {
                if (m.tag === 5) {
                    if (u === null) {
                        u = m;
                        try {
                            a = m.stateNode,
                            d ? (i = a.style, typeof i.setProperty == "function" ? i.setProperty("display", "none", "important") : i.display = "none") : (l = m.stateNode, c = m.memoizedProps.style, o = c != null && c.hasOwnProperty("display") ? c.display : null, l.style.display = lC("display", o))
                        } catch (x) {
                            ds(t, t.return, x)
                        }
                    }
                } else if (m.tag === 6) {
                    if (u === null)
                        try {
                            m.stateNode.nodeValue = d ? "" : m.memoizedProps
                        } catch (x) {
                            ds(t, t.return, x)
                        }
                } else if ((m.tag !== 22 && m.tag !== 23 || m.memoizedState === null || m === t) && m.child !== null) {
                    m.child.return = m,
                    m = m.child;
                    continue
                }
                if (m === t)
                    break e;
                for (; m.sibling === null;) {
                    if (m.return === null || m.return === t)
                        break e;
                    u === m && (u = null),
                    m = m.return
                }
                u === m && (u = null),
                m.sibling.return = m.return,
                m = m.sibling
            }
        }
        break;
    case 19:
        In(s, t),
        oa(t),
        n & 4 && IN(t);
        break;
    case 21:
        break;
    default:
        In(s, t),
        oa(t)
    }
}
function oa(t) {
    var s = t.flags;
    if (s & 2) {
        try {
            e:
            {
                for (var r = t.return; r !== null;) {
                    if (RS(r)) {
                        var n = r;
                        break e
                    }
                    r = r.return
                }
                throw Error(Ee(160))
            }switch (n.tag) {
            case 5:
                var a = n.stateNode;
                n.flags & 32 && (ru(a, ""), n.flags &= -33);
                var i = MN(t);
                xv(t, i, a);
                break;
            case 3:
            case 4:
                var o = n.stateNode.containerInfo,
                    l = MN(t);
                fv(t, l, o);
                break;
            default:
                throw Error(Ee(161))
            }
        } catch (c) {
            ds(t, t.return, c)
        }
        t.flags &= -3
    }
    s & 4096 && (t.flags &= -4097)
}
function SD(t, s, r) {
    Ve = t,
    LS(t)
}
function LS(t, s, r) {
    for (var n = (t.mode & 1) !== 0; Ve !== null;) {
        var a = Ve,
            i = a.child;
        if (a.tag === 22 && n) {
            var o = a.memoizedState !== null || Xm;
            if (!o) {
                var l = a.alternate,
                    c = l !== null && l.memoizedState !== null || or;
                l = Xm;
                var d = or;
                if (Xm = o, (or = c) && !d)
                    for (Ve = a; Ve !== null;)
                        o = Ve,
                        c = o.child,
                        o.tag === 22 && o.memoizedState !== null ? ON(a) : c !== null ? (c.return = o, Ve = c) : ON(a);
                for (; i !== null;)
                    Ve = i,
                    LS(i),
                    i = i.sibling;
                Ve = a,
                Xm = l,
                or = d
            }
            RN(t)
        } else
            a.subtreeFlags & 8772 && i !== null ? (i.return = a, Ve = i) : RN(t)
    }
}
function RN(t) {
    for (; Ve !== null;) {
        var s = Ve;
        if (s.flags & 8772) {
            var r = s.alternate;
            try {
                if (s.flags & 8772)
                    switch (s.tag) {
                    case 0:
                    case 11:
                    case 15:
                        or || mf(5, s);
                        break;
                    case 1:
                        var n = s.stateNode;
                        if (s.flags & 4 && !or)
                            if (r === null)
                                n.componentDidMount();
                            else {
                                var a = s.elementType === s.type ? r.memoizedProps : On(s.type, r.memoizedProps);
                                n.componentDidUpdate(a, r.memoizedState, n.__reactInternalSnapshotBeforeUpdate)
                            }
                        var i = s.updateQueue;
                        i !== null && vN(s, i, n);
                        break;
                    case 3:
                        var o = s.updateQueue;
                        if (o !== null) {
                            if (r = null, s.child !== null)
                                switch (s.child.tag) {
                                case 5:
                                    r = s.child.stateNode;
                                    break;
                                case 1:
                                    r = s.child.stateNode
                                }
                            vN(s, o, r)
                        }
                        break;
                    case 5:
                        var l = s.stateNode;
                        if (r === null && s.flags & 4) {
                            r = l;
                            var c = s.memoizedProps;
                            switch (s.type) {
                            case "button":
                            case "input":
                            case "select":
                            case "textarea":
                                c.autoFocus && r.focus();
                                break;
                            case "img":
                                c.src && (r.src = c.src)
                            }
                        }
                        break;
                    case 6:
                        break;
                    case 4:
                        break;
                    case 12:
                        break;
                    case 13:
                        if (s.memoizedState === null) {
                            var d = s.alternate;
                            if (d !== null) {
                                var u = d.memoizedState;
                                if (u !== null) {
                                    var m = u.dehydrated;
                                    m !== null && ou(m)
                                }
                            }
                        }
                        break;
                    case 19:
                    case 17:
                    case 21:
                    case 22:
                    case 23:
                    case 25:
                        break;
                    default:
                        throw Error(Ee(163))
                    }
                or || s.flags & 512 && pv(s)
            } catch (p) {
                ds(s, s.return, p)
            }
        }
        if (s === t) {
            Ve = null;
            break
        }
        if (r = s.sibling, r !== null) {
            r.return = s.return,
            Ve = r;
            break
        }
        Ve = s.return
    }
}
function DN(t) {
    for (; Ve !== null;) {
        var s = Ve;
        if (s === t) {
            Ve = null;
            break
        }
        var r = s.sibling;
        if (r !== null) {
            r.return = s.return,
            Ve = r;
            break
        }
        Ve = s.return
    }
}
function ON(t) {
    for (; Ve !== null;) {
        var s = Ve;
        try {
            switch (s.tag) {
            case 0:
            case 11:
            case 15:
                var r = s.return;
                try {
                    mf(4, s)
                } catch (c) {
                    ds(s, r, c)
                }
                break;
            case 1:
                var n = s.stateNode;
                if (typeof n.componentDidMount == "function") {
                    var a = s.return;
                    try {
                        n.componentDidMount()
                    } catch (c) {
                        ds(s, a, c)
                    }
                }
                var i = s.return;
                try {
                    pv(s)
                } catch (c) {
                    ds(s, i, c)
                }
                break;
            case 5:
                var o = s.return;
                try {
                    pv(s)
                } catch (c) {
                    ds(s, o, c)
                }
            }
        } catch (c) {
            ds(s, s.return, c)
        }
        if (s === t) {
            Ve = null;
            break
        }
        var l = s.sibling;
        if (l !== null) {
            l.return = s.return,
            Ve = l;
            break
        }
        Ve = s.return
    }
}
var ED = Math.ceil,
    up = bi.ReactCurrentDispatcher,
    pj = bi.ReactCurrentOwner,
    Nn = bi.ReactCurrentBatchConfig,
    Tt = 0,
    Us = null,
    Es = null,
    Xs = 0,
    en = 0,
    Wl = jo(0),
    Fs = 0,
    vu = null,
    tl = 0,
    hf = 0,
    fj = 0,
    Kd = null,
    Dr = null,
    xj = 0,
    Pc = 1 / 0,
    Ha = null,
    mp = !1,
    gv = null,
    so = null,
    Jm = !1,
    Yi = null,
    hp = 0,
    Yd = 0,
    vv = null,
    Eh = -1,
    kh = 0;
function wr() {
    return Tt & 6 ? fs() : Eh !== -1 ? Eh : Eh = fs()
}
function ro(t) {
    return t.mode & 1 ? Tt & 2 && Xs !== 0 ? Xs & -Xs : cD.transition !== null ? (kh === 0 && (kh = bC()), kh) : (t = zt, t !== 0 || (t = window.event, t = t === void 0 ? 16 : PC(t.type)), t) : 1
}
function Wn(t, s, r, n) {
    if (50 < Yd)
        throw Yd = 0, vv = null, Error(Ee(185));
    tm(t, r, n),
    (!(Tt & 2) || t !== Us) && (t === Us && (!(Tt & 2) && (hf |= r), Fs === 4 && Oi(t, Xs)), qr(t, n), r === 1 && Tt === 0 && !(s.mode & 1) && (Pc = fs() + 500, cf && bo()))
}
function qr(t, s) {
    var r = t.callbackNode;
    cR(t, s);
    var n = Qh(t, t === Us ? Xs : 0);
    if (n === 0)
        r !== null && Hb(r),
        t.callbackNode = null,
        t.callbackPriority = 0;
    else if (s = n & -n, t.callbackPriority !== s) {
        if (r != null && Hb(r), s === 1)
            t.tag === 0 ? lD(LN.bind(null, t)) : GC(LN.bind(null, t)),
            nD(function() {
                !(Tt & 6) && bo()
            }),
            r = null;
        else {
            switch (NC(n)) {
            case 1:
                r = Uy;
                break;
            case 4:
                r = yC;
                break;
            case 16:
                r = Yh;
                break;
            case 536870912:
                r = jC;
                break;
            default:
                r = Yh
            }
            r = HS(r, FS.bind(null, t))
        }
        t.callbackPriority = s,
        t.callbackNode = r
    }
}
function FS(t, s) {
    if (Eh = -1, kh = 0, Tt & 6)
        throw Error(Ee(327));
    var r = t.callbackNode;
    if (ec() && t.callbackNode !== r)
        return null;
    var n = Qh(t, t === Us ? Xs : 0);
    if (n === 0)
        return null;
    if (n & 30 || n & t.expiredLanes || s)
        s = pp(t, n);
    else {
        s = n;
        var a = Tt;
        Tt |= 2;
        var i = $S();
        (Us !== t || Xs !== s) && (Ha = null, Pc = fs() + 500, Wo(t, s));
        do try {
            _D();
            break
        } catch (l) {
            zS(t, l)
        }
        while (!0);
        tj(),
        up.current = i,
        Tt = a,
        Es !== null ? s = 0 : (Us = null, Xs = 0, s = Fs)
    }
    if (s !== 0) {
        if (s === 2 && (a = Hg(t), a !== 0 && (n = a, s = yv(t, a))), s === 1)
            throw r = vu, Wo(t, 0), Oi(t, n), qr(t, fs()), r;
        if (s === 6)
            Oi(t, n);
        else {
            if (a = t.current.alternate, !(n & 30) && !kD(a) && (s = pp(t, n), s === 2 && (i = Hg(t), i !== 0 && (n = i, s = yv(t, i))), s === 1))
                throw r = vu, Wo(t, 0), Oi(t, n), qr(t, fs()), r;
            switch (t.finishedWork = a, t.finishedLanes = n, s) {
            case 0:
            case 1:
                throw Error(Ee(345));
            case 2:
                To(t, Dr, Ha);
                break;
            case 3:
                if (Oi(t, n), (n & 130023424) === n && (s = xj + 500 - fs(), 10 < s)) {
                    if (Qh(t, 0) !== 0)
                        break;
                    if (a = t.suspendedLanes, (a & n) !== n) {
                        wr(),
                        t.pingedLanes |= t.suspendedLanes & a;
                        break
                    }
                    t.timeoutHandle = Jg(To.bind(null, t, Dr, Ha), s);
                    break
                }
                To(t, Dr, Ha);
                break;
            case 4:
                if (Oi(t, n), (n & 4194240) === n)
                    break;
                for (s = t.eventTimes, a = -1; 0 < n;) {
                    var o = 31 - Hn(n);
                    i = 1 << o,
                    o = s[o],
                    o > a && (a = o),
                    n &= ~i
                }
                if (n = a, n = fs() - n, n = (120 > n ? 120 : 480 > n ? 480 : 1080 > n ? 1080 : 1920 > n ? 1920 : 3e3 > n ? 3e3 : 4320 > n ? 4320 : 1960 * ED(n / 1960)) - n, 10 < n) {
                    t.timeoutHandle = Jg(To.bind(null, t, Dr, Ha), n);
                    break
                }
                To(t, Dr, Ha);
                break;
            case 5:
                To(t, Dr, Ha);
                break;
            default:
                throw Error(Ee(329))
            }
        }
    }
    return qr(t, fs()), t.callbackNode === r ? FS.bind(null, t) : null
}
function yv(t, s) {
    var r = Kd;
    return t.current.memoizedState.isDehydrated && (Wo(t, s).flags |= 256), t = pp(t, s), t !== 2 && (s = Dr, Dr = r, s !== null && jv(s)), t
}
function jv(t) {
    Dr === null ? Dr = t : Dr.push.apply(Dr, t)
}
function kD(t) {
    for (var s = t;;) {
        if (s.flags & 16384) {
            var r = s.updateQueue;
            if (r !== null && (r = r.stores, r !== null))
                for (var n = 0; n < r.length; n++) {
                    var a = r[n],
                        i = a.getSnapshot;
                    a = a.value;
                    try {
                        if (!Zn(i(), a))
                            return !1
                    } catch {
                        return !1
                    }
                }
        }
        if (r = s.child, s.subtreeFlags & 16384 && r !== null)
            r.return = s,
            s = r;
        else {
            if (s === t)
                break;
            for (; s.sibling === null;) {
                if (s.return === null || s.return === t)
                    return !0;
                s = s.return
            }
            s.sibling.return = s.return,
            s = s.sibling
        }
    }
    return !0
}
function Oi(t, s) {
    for (s &= ~fj, s &= ~hf, t.suspendedLanes |= s, t.pingedLanes &= ~s, t = t.expirationTimes; 0 < s;) {
        var r = 31 - Hn(s),
            n = 1 << r;
        t[r] = -1,
        s &= ~n
    }
}
function LN(t) {
    if (Tt & 6)
        throw Error(Ee(327));
    ec();
    var s = Qh(t, 0);
    if (!(s & 1))
        return qr(t, fs()), null;
    var r = pp(t, s);
    if (t.tag !== 0 && r === 2) {
        var n = Hg(t);
        n !== 0 && (s = n, r = yv(t, n))
    }
    if (r === 1)
        throw r = vu, Wo(t, 0), Oi(t, s), qr(t, fs()), r;
    if (r === 6)
        throw Error(Ee(345));
    return t.finishedWork = t.current.alternate, t.finishedLanes = s, To(t, Dr, Ha), qr(t, fs()), null
}
function gj(t, s) {
    var r = Tt;
    Tt |= 1;
    try {
        return t(s)
    } finally {
        Tt = r,
        Tt === 0 && (Pc = fs() + 500, cf && bo())
    }
}
function sl(t) {
    Yi !== null && Yi.tag === 0 && !(Tt & 6) && ec();
    var s = Tt;
    Tt |= 1;
    var r = Nn.transition,
        n = zt;
    try {
        if (Nn.transition = null, zt = 1, t)
            return t()
    } finally {
        zt = n,
        Nn.transition = r,
        Tt = s,
        !(Tt & 6) && bo()
    }
}
function vj() {
    en = Wl.current,
    Kt(Wl)
}
function Wo(t, s) {
    t.finishedWork = null,
    t.finishedLanes = 0;
    var r = t.timeoutHandle;
    if (r !== -1 && (t.timeoutHandle = -1, rD(r)), Es !== null)
        for (r = Es.return; r !== null;) {
            var n = r;
            switch (Xy(n), n.tag) {
            case 1:
                n = n.type.childContextTypes,
                n != null && tp();
                break;
            case 3:
                Ec(),
                Kt(Vr),
                Kt(mr),
                oj();
                break;
            case 5:
                ij(n);
                break;
            case 4:
                Ec();
                break;
            case 13:
                Kt(ns);
                break;
            case 19:
                Kt(ns);
                break;
            case 10:
                sj(n.type._context);
                break;
            case 22:
            case 23:
                vj()
            }
            r = r.return
        }
    if (Us = t, Es = t = no(t.current, null), Xs = en = s, Fs = 0, vu = null, fj = hf = tl = 0, Dr = Kd = null, Ro !== null) {
        for (s = 0; s < Ro.length; s++)
            if (r = Ro[s], n = r.interleaved, n !== null) {
                r.interleaved = null;
                var a = n.next,
                    i = r.pending;
                if (i !== null) {
                    var o = i.next;
                    i.next = a,
                    n.next = o
                }
                r.pending = n
            }
        Ro = null
    }
    return t
}
function zS(t, s) {
    do {
        var r = Es;
        try {
            if (tj(), wh.current = dp, cp) {
                for (var n = is.memoizedState; n !== null;) {
                    var a = n.queue;
                    a !== null && (a.pending = null),
                    n = n.next
                }
                cp = !1
            }
            if (el = 0, Vs = Ds = is = null, Wd = !1, fu = 0, pj.current = null, r === null || r.return === null) {
                Fs = 1,
                vu = s,
                Es = null;
                break
            }
            e:
            {
                var i = t,
                    o = r.return,
                    l = r,
                    c = s;
                if (s = Xs, l.flags |= 32768, c !== null && typeof c == "object" && typeof c.then == "function") {
                    var d = c,
                        u = l,
                        m = u.tag;
                    if (!(u.mode & 1) && (m === 0 || m === 11 || m === 15)) {
                        var p = u.alternate;
                        p ? (u.updateQueue = p.updateQueue, u.memoizedState = p.memoizedState, u.lanes = p.lanes) : (u.updateQueue = null, u.memoizedState = null)
                    }
                    var j = CN(o);
                    if (j !== null) {
                        j.flags &= -257,
                        SN(j, o, l, i, s),
                        j.mode & 1 && wN(i, d, s),
                        s = j,
                        c = d;
                        var g = s.updateQueue;
                        if (g === null) {
                            var x = new Set;
                            x.add(c),
                            s.updateQueue = x
                        } else
                            g.add(c);
                        break e
                    } else {
                        if (!(s & 1)) {
                            wN(i, d, s),
                            yj();
                            break e
                        }
                        c = Error(Ee(426))
                    }
                } else if (Qt && l.mode & 1) {
                    var y = CN(o);
                    if (y !== null) {
                        !(y.flags & 65536) && (y.flags |= 256),
                        SN(y, o, l, i, s),
                        Jy(kc(c, l));
                        break e
                    }
                }
                i = c = kc(c, l),
                Fs !== 4 && (Fs = 2),
                Kd === null ? Kd = [i] : Kd.push(i),
                i = o;
                do {
                    switch (i.tag) {
                    case 3:
                        i.flags |= 65536,
                        s &= -s,
                        i.lanes |= s;
                        var v = NS(i, c, s);
                        gN(i, v);
                        break e;
                    case 1:
                        l = c;
                        var f = i.type,
                            b = i.stateNode;
                        if (!(i.flags & 128) && (typeof f.getDerivedStateFromError == "function" || b !== null && typeof b.componentDidCatch == "function" && (so === null || !so.has(b)))) {
                            i.flags |= 65536,
                            s &= -s,
                            i.lanes |= s;
                            var N = wS(i, l, s);
                            gN(i, N);
                            break e
                        }
                    }
                    i = i.return
                } while (i !== null)
            }US(r)
        } catch (w) {
            s = w,
            Es === r && r !== null && (Es = r = r.return);
            continue
        }
        break
    } while (!0)
}
function $S() {
    var t = up.current;
    return up.current = dp, t === null ? dp : t
}
function yj() {
    (Fs === 0 || Fs === 3 || Fs === 2) && (Fs = 4),
    Us === null || !(tl & 268435455) && !(hf & 268435455) || Oi(Us, Xs)
}
function pp(t, s) {
    var r = Tt;
    Tt |= 2;
    var n = $S();
    (Us !== t || Xs !== s) && (Ha = null, Wo(t, s));
    do try {
        PD();
        break
    } catch (a) {
        zS(t, a)
    }
    while (!0);
    if (tj(), Tt = r, up.current = n, Es !== null)
        throw Error(Ee(261));
    return Us = null, Xs = 0, Fs
}
function PD() {
    for (; Es !== null;)
        VS(Es)
}
function _D() {
    for (; Es !== null && !eR();)
        VS(Es)
}
function VS(t) {
    var s = BS(t.alternate, t, en);
    t.memoizedProps = t.pendingProps,
    s === null ? US(t) : Es = s,
    pj.current = null
}
function US(t) {
    var s = t;
    do {
        var r = s.alternate;
        if (t = s.return, s.flags & 32768) {
            if (r = ND(r, s), r !== null) {
                r.flags &= 32767,
                Es = r;
                return
            }
            if (t !== null)
                t.flags |= 32768,
                t.subtreeFlags = 0,
                t.deletions = null;
            else {
                Fs = 6,
                Es = null;
                return
            }
        } else if (r = bD(r, s, en), r !== null) {
            Es = r;
            return
        }
        if (s = s.sibling, s !== null) {
            Es = s;
            return
        }
        Es = s = t
    } while (s !== null);
    Fs === 0 && (Fs = 5)
}
function To(t, s, r) {
    var n = zt,
        a = Nn.transition;
    try {
        Nn.transition = null,
        zt = 1,
        TD(t, s, r, n)
    } finally {
        Nn.transition = a,
        zt = n
    }
    return null
}
function TD(t, s, r, n) {
    do ec();
    while (Yi !== null);
    if (Tt & 6)
        throw Error(Ee(327));
    r = t.finishedWork;
    var a = t.finishedLanes;
    if (r === null)
        return null;
    if (t.finishedWork = null, t.finishedLanes = 0, r === t.current)
        throw Error(Ee(177));
    t.callbackNode = null,
    t.callbackPriority = 0;
    var i = r.lanes | r.childLanes;
    if (dR(t, i), t === Us && (Es = Us = null, Xs = 0), !(r.subtreeFlags & 2064) && !(r.flags & 2064) || Jm || (Jm = !0, HS(Yh, function() {
        return ec(), null
    })), i = (r.flags & 15990) !== 0, r.subtreeFlags & 15990 || i) {
        i = Nn.transition,
        Nn.transition = null;
        var o = zt;
        zt = 1;
        var l = Tt;
        Tt |= 4,
        pj.current = null,
        CD(t, r),
        OS(r, t),
        QR(Zg),
        Zh = !!Qg,
        Zg = Qg = null,
        t.current = r,
        SD(r),
        tR(),
        Tt = l,
        zt = o,
        Nn.transition = i
    } else
        t.current = r;
    if (Jm && (Jm = !1, Yi = t, hp = a), i = t.pendingLanes, i === 0 && (so = null), nR(r.stateNode), qr(t, fs()), s !== null)
        for (n = t.onRecoverableError, r = 0; r < s.length; r++)
            a = s[r],
            n(a.value, {
                componentStack: a.stack,
                digest: a.digest
            });
    if (mp)
        throw mp = !1, t = gv, gv = null, t;
    return hp & 1 && t.tag !== 0 && ec(), i = t.pendingLanes, i & 1 ? t === vv ? Yd++ : (Yd = 0, vv = t) : Yd = 0, bo(), null
}
function ec() {
    if (Yi !== null) {
        var t = NC(hp),
            s = Nn.transition,
            r = zt;
        try {
            if (Nn.transition = null, zt = 16 > t ? 16 : t, Yi === null)
                var n = !1;
            else {
                if (t = Yi, Yi = null, hp = 0, Tt & 6)
                    throw Error(Ee(331));
                var a = Tt;
                for (Tt |= 4, Ve = t.current; Ve !== null;) {
                    var i = Ve,
                        o = i.child;
                    if (Ve.flags & 16) {
                        var l = i.deletions;
                        if (l !== null) {
                            for (var c = 0; c < l.length; c++) {
                                var d = l[c];
                                for (Ve = d; Ve !== null;) {
                                    var u = Ve;
                                    switch (u.tag) {
                                    case 0:
                                    case 11:
                                    case 15:
                                        Gd(8, u, i)
                                    }
                                    var m = u.child;
                                    if (m !== null)
                                        m.return = u,
                                        Ve = m;
                                    else
                                        for (; Ve !== null;) {
                                            u = Ve;
                                            var p = u.sibling,
                                                j = u.return;
                                            if (IS(u), u === d) {
                                                Ve = null;
                                                break
                                            }
                                            if (p !== null) {
                                                p.return = j,
                                                Ve = p;
                                                break
                                            }
                                            Ve = j
                                        }
                                }
                            }
                            var g = i.alternate;
                            if (g !== null) {
                                var x = g.child;
                                if (x !== null) {
                                    g.child = null;
                                    do {
                                        var y = x.sibling;
                                        x.sibling = null,
                                        x = y
                                    } while (x !== null)
                                }
                            }
                            Ve = i
                        }
                    }
                    if (i.subtreeFlags & 2064 && o !== null)
                        o.return = i,
                        Ve = o;
                    else
                        e:
                        for (; Ve !== null;) {
                            if (i = Ve, i.flags & 2048)
                                switch (i.tag) {
                                case 0:
                                case 11:
                                case 15:
                                    Gd(9, i, i.return)
                                }
                            var v = i.sibling;
                            if (v !== null) {
                                v.return = i.return,
                                Ve = v;
                                break e
                            }
                            Ve = i.return
                        }
                }
                var f = t.current;
                for (Ve = f; Ve !== null;) {
                    o = Ve;
                    var b = o.child;
                    if (o.subtreeFlags & 2064 && b !== null)
                        b.return = o,
                        Ve = b;
                    else
                        e:
                        for (o = f; Ve !== null;) {
                            if (l = Ve, l.flags & 2048)
                                try {
                                    switch (l.tag) {
                                    case 0:
                                    case 11:
                                    case 15:
                                        mf(9, l)
                                    }
                                } catch (w) {
                                    ds(l, l.return, w)
                                }
                            if (l === o) {
                                Ve = null;
                                break e
                            }
                            var N = l.sibling;
                            if (N !== null) {
                                N.return = l.return,
                                Ve = N;
                                break e
                            }
                            Ve = l.return
                        }
                }
                if (Tt = a, bo(), ba && typeof ba.onPostCommitFiberRoot == "function")
                    try {
                        ba.onPostCommitFiberRoot(rf, t)
                    } catch {}
                n = !0
            }
            return n
        } finally {
            zt = r,
            Nn.transition = s
        }
    }
    return !1
}
function FN(t, s, r) {
    s = kc(r, s),
    s = NS(t, s, 1),
    t = to(t, s, 1),
    s = wr(),
    t !== null && (tm(t, 1, s), qr(t, s))
}
function ds(t, s, r) {
    if (t.tag === 3)
        FN(t, t, r);
    else
        for (; s !== null;) {
            if (s.tag === 3) {
                FN(s, t, r);
                break
            } else if (s.tag === 1) {
                var n = s.stateNode;
                if (typeof s.type.getDerivedStateFromError == "function" || typeof n.componentDidCatch == "function" && (so === null || !so.has(n))) {
                    t = kc(r, t),
                    t = wS(s, t, 1),
                    s = to(s, t, 1),
                    t = wr(),
                    s !== null && (tm(s, 1, t), qr(s, t));
                    break
                }
            }
            s = s.return
        }
}
function AD(t, s, r) {
    var n = t.pingCache;
    n !== null && n.delete(s),
    s = wr(),
    t.pingedLanes |= t.suspendedLanes & r,
    Us === t && (Xs & r) === r && (Fs === 4 || Fs === 3 && (Xs & 130023424) === Xs && 500 > fs() - xj ? Wo(t, 0) : fj |= r),
    qr(t, s)
}
function qS(t, s) {
    s === 0 && (t.mode & 1 ? (s = qm, qm <<= 1, !(qm & 130023424) && (qm = 4194304)) : s = 1);
    var r = wr();
    t = pi(t, s),
    t !== null && (tm(t, s, r), qr(t, r))
}
function MD(t) {
    var s = t.memoizedState,
        r = 0;
    s !== null && (r = s.retryLane),
    qS(t, r)
}
function ID(t, s) {
    var r = 0;
    switch (t.tag) {
    case 13:
        var n = t.stateNode,
            a = t.memoizedState;
        a !== null && (r = a.retryLane);
        break;
    case 19:
        n = t.stateNode;
        break;
    default:
        throw Error(Ee(314))
    }
    n !== null && n.delete(s),
    qS(t, r)
}
var BS;
BS = function(t, s, r) {
    if (t !== null)
        if (t.memoizedProps !== s.pendingProps || Vr.current)
            Fr = !0;
        else {
            if (!(t.lanes & r) && !(s.flags & 128))
                return Fr = !1, jD(t, s, r);
            Fr = !!(t.flags & 131072)
        }
    else
        Fr = !1,
        Qt && s.flags & 1048576 && KC(s, np, s.index);
    switch (s.lanes = 0, s.tag) {
    case 2:
        var n = s.type;
        Sh(t, s),
        t = s.pendingProps;
        var a = wc(s, mr.current);
        Jl(s, r),
        a = cj(null, s, n, t, a, r);
        var i = dj();
        return s.flags |= 1, typeof a == "object" && a !== null && typeof a.render == "function" && a.$$typeof === void 0 ? (s.tag = 1, s.memoizedState = null, s.updateQueue = null, Ur(n) ? (i = !0, sp(s)) : i = !1, s.memoizedState = a.state !== null && a.state !== void 0 ? a.state : null, nj(s), a.updater = uf, s.stateNode = a, a._reactInternals = s, iv(s, n, t, r), s = cv(null, s, n, !0, i, r)) : (s.tag = 0, Qt && i && Zy(s), yr(null, s, a, r), s = s.child), s;
    case 16:
        n = s.elementType;
        e:
        {
            switch (Sh(t, s), t = s.pendingProps, a = n._init, n = a(n._payload), s.type = n, a = s.tag = DD(n), t = On(n, t), a) {
            case 0:
                s = lv(null, s, n, t, r);
                break e;
            case 1:
                s = PN(null, s, n, t, r);
                break e;
            case 11:
                s = EN(null, s, n, t, r);
                break e;
            case 14:
                s = kN(null, s, n, On(n.type, t), r);
                break e
            }
            throw Error(Ee(306, n, ""))
        }return s;
    case 0:
        return n = s.type, a = s.pendingProps, a = s.elementType === n ? a : On(n, a), lv(t, s, n, a, r);
    case 1:
        return n = s.type, a = s.pendingProps, a = s.elementType === n ? a : On(n, a), PN(t, s, n, a, r);
    case 3:
        e:
        {
            if (kS(s), t === null)
                throw Error(Ee(387));
            n = s.pendingProps,
            i = s.memoizedState,
            a = i.element,
            eS(t, s),
            op(s, n, null, r);
            var o = s.memoizedState;
            if (n = o.element, i.isDehydrated)
                if (i = {
                    element: n,
                    isDehydrated: !1,
                    cache: o.cache,
                    pendingSuspenseBoundaries: o.pendingSuspenseBoundaries,
                    transitions: o.transitions
                }, s.updateQueue.baseState = i, s.memoizedState = i, s.flags & 256) {
                    a = kc(Error(Ee(423)), s),
                    s = _N(t, s, n, r, a);
                    break e
                } else if (n !== a) {
                    a = kc(Error(Ee(424)), s),
                    s = _N(t, s, n, r, a);
                    break e
                } else
                    for (nn = eo(s.stateNode.containerInfo.firstChild), an = s, Qt = !0, zn = null, r = XC(s, null, n, r), s.child = r; r;)
                        r.flags = r.flags & -3 | 4096,
                        r = r.sibling;
            else {
                if (Cc(), n === a) {
                    s = fi(t, s, r);
                    break e
                }
                yr(t, s, n, r)
            }
            s = s.child
        }return s;
    case 5:
        return tS(s), t === null && rv(s), n = s.type, a = s.pendingProps, i = t !== null ? t.memoizedProps : null, o = a.children, Xg(n, a) ? o = null : i !== null && Xg(n, i) && (s.flags |= 32), ES(t, s), yr(t, s, o, r), s.child;
    case 6:
        return t === null && rv(s), null;
    case 13:
        return PS(t, s, r);
    case 4:
        return aj(s, s.stateNode.containerInfo), n = s.pendingProps, t === null ? s.child = Sc(s, null, n, r) : yr(t, s, n, r), s.child;
    case 11:
        return n = s.type, a = s.pendingProps, a = s.elementType === n ? a : On(n, a), EN(t, s, n, a, r);
    case 7:
        return yr(t, s, s.pendingProps, r), s.child;
    case 8:
        return yr(t, s, s.pendingProps.children, r), s.child;
    case 12:
        return yr(t, s, s.pendingProps.children, r), s.child;
    case 10:
        e:
        {
            if (n = s.type._context, a = s.pendingProps, i = s.memoizedProps, o = a.value, Vt(ap, n._currentValue), n._currentValue = o, i !== null)
                if (Zn(i.value, o)) {
                    if (i.children === a.children && !Vr.current) {
                        s = fi(t, s, r);
                        break e
                    }
                } else
                    for (i = s.child, i !== null && (i.return = s); i !== null;) {
                        var l = i.dependencies;
                        if (l !== null) {
                            o = i.child;
                            for (var c = l.firstContext; c !== null;) {
                                if (c.context === n) {
                                    if (i.tag === 1) {
                                        c = oi(-1, r & -r),
                                        c.tag = 2;
                                        var d = i.updateQueue;
                                        if (d !== null) {
                                            d = d.shared;
                                            var u = d.pending;
                                            u === null ? c.next = c : (c.next = u.next, u.next = c),
                                            d.pending = c
                                        }
                                    }
                                    i.lanes |= r,
                                    c = i.alternate,
                                    c !== null && (c.lanes |= r),
                                    nv(i.return, r, s),
                                    l.lanes |= r;
                                    break
                                }
                                c = c.next
                            }
                        } else if (i.tag === 10)
                            o = i.type === s.type ? null : i.child;
                        else if (i.tag === 18) {
                            if (o = i.return, o === null)
                                throw Error(Ee(341));
                            o.lanes |= r,
                            l = o.alternate,
                            l !== null && (l.lanes |= r),
                            nv(o, r, s),
                            o = i.sibling
                        } else
                            o = i.child;
                        if (o !== null)
                            o.return = i;
                        else
                            for (o = i; o !== null;) {
                                if (o === s) {
                                    o = null;
                                    break
                                }
                                if (i = o.sibling, i !== null) {
                                    i.return = o.return,
                                    o = i;
                                    break
                                }
                                o = o.return
                            }
                        i = o
                    }
            yr(t, s, a.children, r),
            s = s.child
        }return s;
    case 9:
        return a = s.type, n = s.pendingProps.children, Jl(s, r), a = En(a), n = n(a), s.flags |= 1, yr(t, s, n, r), s.child;
    case 14:
        return n = s.type, a = On(n, s.pendingProps), a = On(n.type, a), kN(t, s, n, a, r);
    case 15:
        return CS(t, s, s.type, s.pendingProps, r);
    case 17:
        return n = s.type, a = s.pendingProps, a = s.elementType === n ? a : On(n, a), Sh(t, s), s.tag = 1, Ur(n) ? (t = !0, sp(s)) : t = !1, Jl(s, r), bS(s, n, a), iv(s, n, a, r), cv(null, s, n, !0, t, r);
    case 19:
        return _S(t, s, r);
    case 22:
        return SS(t, s, r)
    }
    throw Error(Ee(156, s.tag))
};
function HS(t, s) {
    return vC(t, s)
}
function RD(t, s, r, n) {
    this.tag = t,
    this.key = r,
    this.sibling = this.child = this.return = this.stateNode = this.type = this.elementType = null,
    this.index = 0,
    this.ref = null,
    this.pendingProps = s,
    this.dependencies = this.memoizedState = this.updateQueue = this.memoizedProps = null,
    this.mode = n,
    this.subtreeFlags = this.flags = 0,
    this.deletions = null,
    this.childLanes = this.lanes = 0,
    this.alternate = null
}
function bn(t, s, r, n) {
    return new RD(t, s, r, n)
}
function jj(t) {
    return t = t.prototype, !(!t || !t.isReactComponent)
}
function DD(t) {
    if (typeof t == "function")
        return jj(t) ? 1 : 0;
    if (t != null) {
        if (t = t.$$typeof, t === zy)
            return 11;
        if (t === $y)
            return 14
    }
    return 2
}
function no(t, s) {
    var r = t.alternate;
    return r === null ? (r = bn(t.tag, s, t.key, t.mode), r.elementType = t.elementType, r.type = t.type, r.stateNode = t.stateNode, r.alternate = t, t.alternate = r) : (r.pendingProps = s, r.type = t.type, r.flags = 0, r.subtreeFlags = 0, r.deletions = null), r.flags = t.flags & 14680064, r.childLanes = t.childLanes, r.lanes = t.lanes, r.child = t.child, r.memoizedProps = t.memoizedProps, r.memoizedState = t.memoizedState, r.updateQueue = t.updateQueue, s = t.dependencies, r.dependencies = s === null ? null : {
        lanes: s.lanes,
        firstContext: s.firstContext
    }, r.sibling = t.sibling, r.index = t.index, r.ref = t.ref, r
}
function Ph(t, s, r, n, a, i) {
    var o = 2;
    if (n = t, typeof t == "function")
        jj(t) && (o = 1);
    else if (typeof t == "string")
        o = 5;
    else
        e:
        switch (t) {
        case Ol:
            return Go(r.children, a, i, s);
        case Fy:
            o = 8,
            a |= 8;
            break;
        case Tg:
            return t = bn(12, r, s, a | 2), t.elementType = Tg, t.lanes = i, t;
        case Ag:
            return t = bn(13, r, s, a), t.elementType = Ag, t.lanes = i, t;
        case Mg:
            return t = bn(19, r, s, a), t.elementType = Mg, t.lanes = i, t;
        case tC:
            return pf(r, a, i, s);
        default:
            if (typeof t == "object" && t !== null)
                switch (t.$$typeof) {
                case J2:
                    o = 10;
                    break e;
                case eC:
                    o = 9;
                    break e;
                case zy:
                    o = 11;
                    break e;
                case $y:
                    o = 14;
                    break e;
                case Ii:
                    o = 16,
                    n = null;
                    break e
                }
            throw Error(Ee(130, t == null ? t : typeof t, ""))
        }
    return s = bn(o, r, s, a), s.elementType = t, s.type = n, s.lanes = i, s
}
function Go(t, s, r, n) {
    return t = bn(7, t, n, s), t.lanes = r, t
}
function pf(t, s, r, n) {
    return t = bn(22, t, n, s), t.elementType = tC, t.lanes = r, t.stateNode = {
        isHidden: !1
    }, t
}
function Wx(t, s, r) {
    return t = bn(6, t, null, s), t.lanes = r, t
}
function Gx(t, s, r) {
    return s = bn(4, t.children !== null ? t.children : [], t.key, s), s.lanes = r, s.stateNode = {
        containerInfo: t.containerInfo,
        pendingChildren: null,
        implementation: t.implementation
    }, s
}
function OD(t, s, r, n, a) {
    this.tag = s,
    this.containerInfo = t,
    this.finishedWork = this.pingCache = this.current = this.pendingChildren = null,
    this.timeoutHandle = -1,
    this.callbackNode = this.pendingContext = this.context = null,
    this.callbackPriority = 0,
    this.eventTimes = kx(0),
    this.expirationTimes = kx(-1),
    this.entangledLanes = this.finishedLanes = this.mutableReadLanes = this.expiredLanes = this.pingedLanes = this.suspendedLanes = this.pendingLanes = 0,
    this.entanglements = kx(0),
    this.identifierPrefix = n,
    this.onRecoverableError = a,
    this.mutableSourceEagerHydrationData = null
}
function bj(t, s, r, n, a, i, o, l, c) {
    return t = new OD(t, s, r, l, c), s === 1 ? (s = 1, i === !0 && (s |= 8)) : s = 0, i = bn(3, null, null, s), t.current = i, i.stateNode = t, i.memoizedState = {
        element: n,
        isDehydrated: r,
        cache: null,
        transitions: null,
        pendingSuspenseBoundaries: null
    }, nj(i), t
}
function LD(t, s, r) {
    var n = 3 < arguments.length && arguments[3] !== void 0 ? arguments[3] : null;
    return {
        $$typeof: Dl,
        key: n == null ? null : "" + n,
        children: t,
        containerInfo: s,
        implementation: r
    }
}
function WS(t) {
    if (!t)
        return lo;
    t = t._reactInternals;
    e:
    {
        if (vl(t) !== t || t.tag !== 1)
            throw Error(Ee(170));
        var s = t;
        do {
            switch (s.tag) {
            case 3:
                s = s.stateNode.context;
                break e;
            case 1:
                if (Ur(s.type)) {
                    s = s.stateNode.__reactInternalMemoizedMergedChildContext;
                    break e
                }
            }
            s = s.return
        } while (s !== null);
        throw Error(Ee(171))
    }if (t.tag === 1) {
        var r = t.type;
        if (Ur(r))
            return WC(t, r, s)
    }
    return s
}
function GS(t, s, r, n, a, i, o, l, c) {
    return t = bj(r, n, !0, t, a, i, o, l, c), t.context = WS(null), r = t.current, n = wr(), a = ro(r), i = oi(n, a), i.callback = s ?? null, to(r, i, a), t.current.lanes = a, tm(t, a, n), qr(t, n), t
}
function ff(t, s, r, n) {
    var a = s.current,
        i = wr(),
        o = ro(a);
    return r = WS(r), s.context === null ? s.context = r : s.pendingContext = r, s = oi(i, o), s.payload = {
        element: t
    }, n = n === void 0 ? null : n, n !== null && (s.callback = n), t = to(a, s, o), t !== null && (Wn(t, a, o, i), Nh(t, a, o)), o
}
function fp(t) {
    if (t = t.current, !t.child)
        return null;
    switch (t.child.tag) {
    case 5:
        return t.child.stateNode;
    default:
        return t.child.stateNode
    }
}
function zN(t, s) {
    if (t = t.memoizedState, t !== null && t.dehydrated !== null) {
        var r = t.retryLane;
        t.retryLane = r !== 0 && r < s ? r : s
    }
}
function Nj(t, s) {
    zN(t, s),
    (t = t.alternate) && zN(t, s)
}
function FD() {
    return null
}
var KS = typeof reportError == "function" ? reportError : function(t) {
    console.error(t)
};
function wj(t) {
    this._internalRoot = t
}
xf.prototype.render = wj.prototype.render = function(t) {
    var s = this._internalRoot;
    if (s === null)
        throw Error(Ee(409));
    ff(t, s, null, null)
};
xf.prototype.unmount = wj.prototype.unmount = function() {
    var t = this._internalRoot;
    if (t !== null) {
        this._internalRoot = null;
        var s = t.containerInfo;
        sl(function() {
            ff(null, t, null, null)
        }),
        s[hi] = null
    }
};
function xf(t) {
    this._internalRoot = t
}
xf.prototype.unstable_scheduleHydration = function(t) {
    if (t) {
        var s = SC();
        t = {
            blockedOn: null,
            target: t,
            priority: s
        };
        for (var r = 0; r < Di.length && s !== 0 && s < Di[r].priority; r++)
            ;
        Di.splice(r, 0, t),
        r === 0 && kC(t)
    }
};
function Cj(t) {
    return !(!t || t.nodeType !== 1 && t.nodeType !== 9 && t.nodeType !== 11)
}
function gf(t) {
    return !(!t || t.nodeType !== 1 && t.nodeType !== 9 && t.nodeType !== 11 && (t.nodeType !== 8 || t.nodeValue !== " react-mount-point-unstable "))
}
function $N() {}
function zD(t, s, r, n, a) {
    if (a) {
        if (typeof n == "function") {
            var i = n;
            n = function() {
                var d = fp(o);
                i.call(d)
            }
        }
        var o = GS(s, n, t, 0, null, !1, !1, "", $N);
        return t._reactRootContainer = o, t[hi] = o.current, du(t.nodeType === 8 ? t.parentNode : t), sl(), o
    }
    for (; a = t.lastChild;)
        t.removeChild(a);
    if (typeof n == "function") {
        var l = n;
        n = function() {
            var d = fp(c);
            l.call(d)
        }
    }
    var c = bj(t, 0, !1, null, null, !1, !1, "", $N);
    return t._reactRootContainer = c, t[hi] = c.current, du(t.nodeType === 8 ? t.parentNode : t), sl(function() {
        ff(s, c, r, n)
    }), c
}
function vf(t, s, r, n, a) {
    var i = r._reactRootContainer;
    if (i) {
        var o = i;
        if (typeof a == "function") {
            var l = a;
            a = function() {
                var c = fp(o);
                l.call(c)
            }
        }
        ff(s, o, t, a)
    } else
        o = zD(r, s, t, a, n);
    return fp(o)
}
wC = function(t) {
    switch (t.tag) {
    case 3:
        var s = t.stateNode;
        if (s.current.memoizedState.isDehydrated) {
            var r = Md(s.pendingLanes);
            r !== 0 && (qy(s, r | 1), qr(s, fs()), !(Tt & 6) && (Pc = fs() + 500, bo()))
        }
        break;
    case 13:
        sl(function() {
            var n = pi(t, 1);
            if (n !== null) {
                var a = wr();
                Wn(n, t, 1, a)
            }
        }),
        Nj(t, 1)
    }
};
By = function(t) {
    if (t.tag === 13) {
        var s = pi(t, 134217728);
        if (s !== null) {
            var r = wr();
            Wn(s, t, 134217728, r)
        }
        Nj(t, 134217728)
    }
};
CC = function(t) {
    if (t.tag === 13) {
        var s = ro(t),
            r = pi(t, s);
        if (r !== null) {
            var n = wr();
            Wn(r, t, s, n)
        }
        Nj(t, s)
    }
};
SC = function() {
    return zt
};
EC = function(t, s) {
    var r = zt;
    try {
        return zt = t, s()
    } finally {
        zt = r
    }
};
Ug = function(t, s, r) {
    switch (s) {
    case "input":
        if (Dg(t, r), s = r.name, r.type === "radio" && s != null) {
            for (r = t; r.parentNode;)
                r = r.parentNode;
            for (r = r.querySelectorAll("input[name=" + JSON.stringify("" + s) + '][type="radio"]'), s = 0; s < r.length; s++) {
                var n = r[s];
                if (n !== t && n.form === t.form) {
                    var a = lf(n);
                    if (!a)
                        throw Error(Ee(90));
                    rC(n),
                    Dg(n, a)
                }
            }
        }
        break;
    case "textarea":
        aC(t, r);
        break;
    case "select":
        s = r.value,
        s != null && Yl(t, !!r.multiple, s, !1)
    }
};
mC = gj;
hC = sl;
var $D = {
        usingClientEntryPoint: !1,
        Events: [rm, $l, lf, dC, uC, gj]
    },
    xd = {
        findFiberByHostInstance: Io,
        bundleType: 0,
        version: "18.3.1",
        rendererPackageName: "react-dom"
    },
    VD = {
        bundleType: xd.bundleType,
        version: xd.version,
        rendererPackageName: xd.rendererPackageName,
        rendererConfig: xd.rendererConfig,
        overrideHookState: null,
        overrideHookStateDeletePath: null,
        overrideHookStateRenamePath: null,
        overrideProps: null,
        overridePropsDeletePath: null,
        overridePropsRenamePath: null,
        setErrorHandler: null,
        setSuspenseHandler: null,
        scheduleUpdate: null,
        currentDispatcherRef: bi.ReactCurrentDispatcher,
        findHostInstanceByFiber: function(t) {
            return t = xC(t), t === null ? null : t.stateNode
        },
        findFiberByHostInstance: xd.findFiberByHostInstance || FD,
        findHostInstancesForRefresh: null,
        scheduleRefresh: null,
        scheduleRoot: null,
        setRefreshHandler: null,
        getCurrentFiber: null,
        reconcilerVersion: "18.3.1-next-f1338f8080-20240426"
    };
if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ < "u") {
    var eh = __REACT_DEVTOOLS_GLOBAL_HOOK__;
    if (!eh.isDisabled && eh.supportsFiber)
        try {
            rf = eh.inject(VD),
            ba = eh
        } catch {}
}
fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = $D;
fn.createPortal = function(t, s) {
    var r = 2 < arguments.length && arguments[2] !== void 0 ? arguments[2] : null;
    if (!Cj(s))
        throw Error(Ee(200));
    return LD(t, s, null, r)
};
fn.createRoot = function(t, s) {
    if (!Cj(t))
        throw Error(Ee(299));
    var r = !1,
        n = "",
        a = KS;
    return s != null && (s.unstable_strictMode === !0 && (r = !0), s.identifierPrefix !== void 0 && (n = s.identifierPrefix), s.onRecoverableError !== void 0 && (a = s.onRecoverableError)), s = bj(t, 1, !1, null, null, r, !1, n, a), t[hi] = s.current, du(t.nodeType === 8 ? t.parentNode : t), new wj(s)
};
fn.findDOMNode = function(t) {
    if (t == null)
        return null;
    if (t.nodeType === 1)
        return t;
    var s = t._reactInternals;
    if (s === void 0)
        throw typeof t.render == "function" ? Error(Ee(188)) : (t = Object.keys(t).join(","), Error(Ee(268, t)));
    return t = xC(s), t = t === null ? null : t.stateNode, t
};
fn.flushSync = function(t) {
    return sl(t)
};
fn.hydrate = function(t, s, r) {
    if (!gf(s))
        throw Error(Ee(200));
    return vf(null, t, s, !0, r)
};
fn.hydrateRoot = function(t, s, r) {
    if (!Cj(t))
        throw Error(Ee(405));
    var n = r != null && r.hydratedSources || null,
        a = !1,
        i = "",
        o = KS;
    if (r != null && (r.unstable_strictMode === !0 && (a = !0), r.identifierPrefix !== void 0 && (i = r.identifierPrefix), r.onRecoverableError !== void 0 && (o = r.onRecoverableError)), s = GS(s, null, t, 1, r ?? null, a, !1, i, o), t[hi] = s.current, du(t), n)
        for (t = 0; t < n.length; t++)
            r = n[t],
            a = r._getVersion,
            a = a(r._source),
            s.mutableSourceEagerHydrationData == null ? s.mutableSourceEagerHydrationData = [r, a] : s.mutableSourceEagerHydrationData.push(r, a);
    return new xf(s)
};
fn.render = function(t, s, r) {
    if (!gf(s))
        throw Error(Ee(200));
    return vf(null, t, s, !1, r)
};
fn.unmountComponentAtNode = function(t) {
    if (!gf(t))
        throw Error(Ee(40));
    return t._reactRootContainer ? (sl(function() {
        vf(null, null, t, !1, function() {
            t._reactRootContainer = null,
            t[hi] = null
        })
    }), !0) : !1
};
fn.unstable_batchedUpdates = gj;
fn.unstable_renderSubtreeIntoContainer = function(t, s, r, n) {
    if (!gf(r))
        throw Error(Ee(200));
    if (t == null || t._reactInternals === void 0)
        throw Error(Ee(38));
    return vf(t, s, r, !1, n)
};
fn.version = "18.3.1-next-f1338f8080-20240426";
function YS() {
    if (!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ > "u" || typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE != "function"))
        try {
            __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YS)
        } catch (t) {
            console.error(t)
        }
}
YS(),
Y2.exports = fn;
var yl = Y2.exports;
const UD = Ty(yl);
var QS,
    VN = yl;
QS = VN.createRoot,
VN.hydrateRoot;
function qD(t, s) {
    if (t instanceof RegExp)
        return {
            keys: !1,
            pattern: t
        };
    var r,
        n,
        a,
        i,
        o = [],
        l = "",
        c = t.split("/");
    for (c[0] || c.shift(); a = c.shift();)
        r = a[0],
        r === "*" ? (o.push(r), l += a[1] === "?" ? "(?:/(.*))?" : "/(.*)") : r === ":" ? (n = a.indexOf("?", 1), i = a.indexOf(".", 1), o.push(a.substring(1, ~n ? n : ~i ? i : a.length)), l += ~n && !~i ? "(?:/([^/]+?))?" : "/([^/]+?)", ~i && (l += (~n ? "?" : "") + "\\" + a.substring(i))) : l += "/" + a;
    return {
        keys: o,
        pattern: new RegExp("^" + l + (s ? "(?=$|/)" : "/?$"), "i")
    }
}
var ZS = {
        exports: {}
    },
    XS = {}; /**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */







var _c = h;
function BD(t, s) {
    return t === s && (t !== 0 || 1 / t === 1 / s) || t !== t && s !== s
}
var HD = typeof Object.is == "function" ? Object.is : BD,
    WD = _c.useState,
    GD = _c.useEffect,
    KD = _c.useLayoutEffect,
    YD = _c.useDebugValue;
function QD(t, s) {
    var r = s(),
        n = WD({
            inst: {
                value: r,
                getSnapshot: s
            }
        }),
        a = n[0].inst,
        i = n[1];
    return KD(function() {
        a.value = r,
        a.getSnapshot = s,
        Kx(a) && i({
            inst: a
        })
    }, [t, r, s]), GD(function() {
        return Kx(a) && i({
            inst: a
        }), t(function() {
            Kx(a) && i({
                inst: a
            })
        })
    }, [t]), YD(r), r
}
function Kx(t) {
    var s = t.getSnapshot;
    t = t.value;
    try {
        var r = s();
        return !HD(t, r)
    } catch {
        return !0
    }
}
function ZD(t, s) {
    return s()
}
var XD = typeof window > "u" || typeof window.document > "u" || typeof window.document.createElement > "u" ? ZD : QD;
XS.useSyncExternalStore = _c.useSyncExternalStore !== void 0 ? _c.useSyncExternalStore : XD;
ZS.exports = XS;
var JD = ZS.exports;
const e5 = G2.useInsertionEffect,
    t5 = typeof window < "u" && typeof window.document < "u" && typeof window.document.createElement < "u",
    JS = t5 ? h.useLayoutEffect : h.useEffect,
    s5 = e5 || JS,
    Sj = t => {
        const s = h.useRef([t, (...r) => s[0](...r)]).current;
        return s5(() => {
            s[0] = t
        }), s[1]
    },
    r5 = "popstate",
    Ej = "pushState",
    kj = "replaceState",
    n5 = "hashchange",
    UN = [r5, Ej, kj, n5],
    a5 = t => {
        for (const s of UN)
            addEventListener(s, t);
        return () => {
            for (const s of UN)
                removeEventListener(s, t)
        }
    },
    eE = (t, s) => JD.useSyncExternalStore(a5, t, s),
    i5 = () => location.search,
    o5 = ({ssrSearch: t=""}={}) => eE(i5, () => t),
    qN = () => location.pathname,
    l5 = ({ssrPath: t}={}) => eE(qN, t ? () => t : qN),
    c5 = (t, {replace: s=!1, state: r=null}={}) => history[s ? kj : Ej](r, "", t),
    d5 = (t={}) => [l5(t), c5],
    BN = Symbol.for("wouter_v3");
if (typeof history < "u" && typeof window[BN] > "u") {
    for (const t of [Ej, kj]) {
        const s = history[t];
        history[t] = function() {
            const r = s.apply(this, arguments),
                n = new Event(t);
            return n.arguments = arguments, dispatchEvent(n), r
        }
    }
    Object.defineProperty(window, BN, {
        value: !0
    })
}
const u5 = (t, s) => s.toLowerCase().indexOf(t.toLowerCase()) ? "~" + s : s.slice(t.length) || "/",
    tE = (t="") => t === "/" ? "" : t,
    m5 = (t, s) => t[0] === "~" ? t.slice(1) : tE(s) + t,
    h5 = (t="", s) => u5(bv(tE(t)), bv(s)),
    p5 = t => t[0] === "?" ? t.slice(1) : t,
    bv = t => {
        try {
            return decodeURI(t)
        } catch {
            return t
        }
    },
    f5 = t => bv(p5(t)),
    sE = {
        hook: d5,
        searchHook: o5,
        parser: qD,
        base: "",
        ssrPath: void 0,
        ssrSearch: void 0,
        hrefs: t => t
    },
    rE = h.createContext(sE),
    Tn = () => h.useContext(rE),
    nE = {},
    aE = h.createContext(nE),
    am = () => h.useContext(aE),
    yf = t => {
        const [s, r] = t.hook(t);
        return [h5(t.base, s), Sj((n, a) => r(m5(n, t.base), a))]
    },
    ut = () => yf(Tn()),
    Pj = () => {
        const t = Tn();
        return f5(t.searchHook(t))
    },
    _j = (t, s, r, n) => {
        const {pattern: a, keys: i} = s instanceof RegExp ? {
                keys: !1,
                pattern: s
            } : t(s || "*", n),
            o = a.exec(r) || [],
            [l, ...c] = o;
        return l !== void 0 ? [!0, (() => {
            const d = i !== !1 ? Object.fromEntries(i.map((m, p) => [m, c[p]])) : o.groups;
            let u = {
                ...c
            };
            return d && Object.assign(u, d), u
        })(), ...n ? [l] : []] : [!1, null]
    },
    xp = t => _j(Tn().parser, t, ut()[0]),
    x5 = ({children: t, ...s}) => {
        var u,
            m;
        const r = Tn(),
            n = s.hook ? sE : r;
        let a = n;
        const [i, o] = ((u = s.ssrPath) == null ? void 0 : u.split("?")) ?? [];
        o && (s.ssrSearch = o, s.ssrPath = i),
        s.hrefs = s.hrefs ?? ((m = s.hook) == null ? void 0 : m.hrefs);
        let l = h.useRef({}),
            c = l.current,
            d = c;
        for (let p in n) {
            const j = p === "base" ? n[p] + (s[p] || "") : s[p] || n[p];
            c === d && j !== d[p] && (l.current = d = {
                ...d
            }),
            d[p] = j,
            j !== n[p] && (a = d)
        }
        return h.createElement(rE.Provider, {
            value: a,
            children: t
        })
    },
    HN = ({children: t, component: s}, r) => s ? h.createElement(s, {
        params: r
    }) : typeof t == "function" ? t(r) : t,
    g5 = t => {
        let s = h.useRef(nE),
            r = s.current;
        for (const n in t)
            t[n] !== r[n] && (r = t);
        return Object.keys(t).length === 0 && (r = t), s.current = r
    },
    Nt = ({path: t, nest: s, match: r, ...n}) => {
        const a = Tn(),
            [i] = yf(a),
            [o, l, c] = r ?? _j(a.parser, t, i, s),
            d = g5({
                ...am(),
                ...l
            });
        if (!o)
            return null;
        const u = c ? h.createElement(x5, {
            base: c
        }, HN(n, d)) : HN(n, d);
        return h.createElement(aE.Provider, {
            value: d,
            children: u
        })
    },
    ze = h.forwardRef((t, s) => {
        const r = Tn(),
            [n, a] = yf(r),
            {to: i="", href: o=i, onClick: l, asChild: c, children: d, className: u, replace: m, state: p, ...j} = t,
            g = Sj(y => {
                y.ctrlKey || y.metaKey || y.altKey || y.shiftKey || y.button !== 0 || (l == null || l(y), y.defaultPrevented || (y.preventDefault(), a(o, t)))
            }),
            x = r.hrefs(o[0] === "~" ? o.slice(1) : r.base + o, r);
        return c && h.isValidElement(d) ? h.cloneElement(d, {
            onClick: g,
            href: x
        }) : h.createElement("a", {
            ...j,
            onClick: g,
            href: x,
            className: u != null && u.call ? u(n === o) : u,
            children: d,
            ref: s
        })
    }),
    iE = t => Array.isArray(t) ? t.flatMap(s => iE(s && s.type === h.Fragment ? s.props.children : s)) : [t],
    v5 = ({children: t, location: s}) => {
        const r = Tn(),
            [n] = yf(r);
        for (const a of iE(t)) {
            let i = 0;
            if (h.isValidElement(a) && (i = _j(r.parser, a.props.path, s || n, a.props.nest))[0])
                return h.cloneElement(a, {
                    match: i
                })
        }
        return null
    },
    oE = t => {
        const {to: s, href: r=s} = t,
            [, n] = ut(),
            a = Sj(() => n(s || r, t));
        return JS(() => {
            a()
        }, []), null
    },
    y5 = () => {
        const [t] = ut();
        h.useEffect(() => {
            setTimeout(() => {
                window.scrollTo({
                    top: 0,
                    left: 0,
                    behavior: "smooth"
                })
            }, 10)
        }, [t])
    },
    jf = (t=!0) => {
        setTimeout(() => {
            window.scrollTo({
                top: 0,
                left: 0,
                behavior: t ? "smooth" : "auto"
            })
        }, 10)
    },
    j5 = 1,
    b5 = 1e6;
let Yx = 0;
function N5() {
    return Yx = (Yx + 1) % Number.MAX_SAFE_INTEGER, Yx.toString()
}
const Qx = new Map,
    WN = t => {
        if (Qx.has(t))
            return;
        const s = setTimeout(() => {
            Qx.delete(t),
            Qd({
                type: "REMOVE_TOAST",
                toastId: t
            })
        }, b5);
        Qx.set(t, s)
    },
    w5 = (t, s) => {
        switch (s.type) {
        case "ADD_TOAST":
            return {
                ...t,
                toasts: [s.toast, ...t.toasts].slice(0, j5)
            };
        case "UPDATE_TOAST":
            return {
                ...t,
                toasts: t.toasts.map(r => r.id === s.toast.id ? {
                    ...r,
                    ...s.toast
                } : r)
            };
        case "DISMISS_TOAST":
            {
                const {toastId: r} = s;
                return r ? WN(r) : t.toasts.forEach(n => {
                    WN(n.id)
                }), {
                    ...t,
                    toasts: t.toasts.map(n => n.id === r || r === void 0 ? {
                        ...n,
                        open: !1
                    } : n)
                }
            }case "REMOVE_TOAST":
            return s.toastId === void 0 ? {
                ...t,
                toasts: []
            } : {
                ...t,
                toasts: t.toasts.filter(r => r.id !== s.toastId)
            }
        }
    },
    _h = [];
let Th = {
    toasts: []
};
function Qd(t) {
    Th = w5(Th, t),
    _h.forEach(s => {
        s(Th)
    })
}
function Ko({...t}) {
    const s = N5(),
        r = a => Qd({
            type: "UPDATE_TOAST",
            toast: {
                ...a,
                id: s
            }
        }),
        n = () => Qd({
            type: "DISMISS_TOAST",
            toastId: s
        });
    return Qd({
        type: "ADD_TOAST",
        toast: {
            ...t,
            id: s,
            open: !0,
            onOpenChange: a => {
                a || n()
            }
        }
    }), {
        id: s,
        dismiss: n,
        update: r
    }
}
function st() {
    const [t, s] = h.useState(Th);
    return h.useEffect(() => (_h.push(s), () => {
        const r = _h.indexOf(s);
        r > -1 && _h.splice(r, 1)
    }), [t]), {
        ...t,
        toast: Ko,
        dismiss: r => Qd({
            type: "DISMISS_TOAST",
            toastId: r
        })
    }
}
function Ne(t, s, {checkForDefaultPrevented: r=!0}={}) {
    return function(a) {
        if (t == null || t(a), r === !1 || !a.defaultPrevented)
            return s == null ? void 0 : s(a)
    }
}
function GN(t, s) {
    if (typeof t == "function")
        return t(s);
    t != null && (t.current = s)
}
function bf(...t) {
    return s => {
        let r = !1;
        const n = t.map(a => {
            const i = GN(a, s);
            return !r && typeof i == "function" && (r = !0), i
        });
        if (r)
            return () => {
                for (let a = 0; a < n.length; a++) {
                    const i = n[a];
                    typeof i == "function" ? i() : GN(t[a], null)
                }
            }
    }
}
function lt(...t) {
    return h.useCallback(bf(...t), t)
}
function C5(t, s) {
    const r = h.createContext(s),
        n = i => {
            const {children: o, ...l} = i,
                c = h.useMemo(() => l, Object.values(l));
            return e.jsx(r.Provider, {
                value: c,
                children: o
            })
        };
    n.displayName = t + "Provider";
    function a(i) {
        const o = h.useContext(r);
        if (o)
            return o;
        if (s !== void 0)
            return s;
        throw new Error(`\`${i}\` must be used within \`${t}\``)
    }
    return [n, a]
}
function ws(t, s=[]) {
    let r = [];
    function n(i, o) {
        const l = h.createContext(o),
            c = r.length;
        r = [...r, o];
        const d = m => {
            var v;
            const {scope: p, children: j, ...g} = m,
                x = ((v = p == null ? void 0 : p[t]) == null ? void 0 : v[c]) || l,
                y = h.useMemo(() => g, Object.values(g));
            return e.jsx(x.Provider, {
                value: y,
                children: j
            })
        };
        d.displayName = i + "Provider";
        function u(m, p) {
            var x;
            const j = ((x = p == null ? void 0 : p[t]) == null ? void 0 : x[c]) || l,
                g = h.useContext(j);
            if (g)
                return g;
            if (o !== void 0)
                return o;
            throw new Error(`\`${m}\` must be used within \`${i}\``)
        }
        return [d, u]
    }
    const a = () => {
        const i = r.map(o => h.createContext(o));
        return function(l) {
            const c = (l == null ? void 0 : l[t]) || i;
            return h.useMemo(() => ({
                [`__scope${t}`]: {
                    ...l,
                    [t]: c
                }
            }), [l, c])
        }
    };
    return a.scopeName = t, [n, S5(a, ...s)]
}
function S5(...t) {
    const s = t[0];
    if (t.length === 1)
        return s;
    const r = () => {
        const n = t.map(a => ({
            useScope: a(),
            scopeName: a.scopeName
        }));
        return function(i) {
            const o = n.reduce((l, {useScope: c, scopeName: d}) => {
                const m = c(i)[`__scope${d}`];
                return {
                    ...l,
                    ...m
                }
            }, {});
            return h.useMemo(() => ({
                [`__scope${s.scopeName}`]: o
            }), [o])
        }
    };
    return r.scopeName = s.scopeName, r
}
function co(t) {
    const s = E5(t),
        r = h.forwardRef((n, a) => {
            const {children: i, ...o} = n,
                l = h.Children.toArray(i),
                c = l.find(k5);
            if (c) {
                const d = c.props.children,
                    u = l.map(m => m === c ? h.Children.count(d) > 1 ? h.Children.only(null) : h.isValidElement(d) ? d.props.children : null : m);
                return e.jsx(s, {
                    ...o,
                    ref: a,
                    children: h.isValidElement(d) ? h.cloneElement(d, void 0, u) : null
                })
            }
            return e.jsx(s, {
                ...o,
                ref: a,
                children: i
            })
        });
    return r.displayName = `${t}.Slot`, r
}
var lE = co("Slot");
function E5(t) {
    const s = h.forwardRef((r, n) => {
        const {children: a, ...i} = r;
        if (h.isValidElement(a)) {
            const o = _5(a),
                l = P5(i, a.props);
            return a.type !== h.Fragment && (l.ref = n ? bf(n, o) : o), h.cloneElement(a, l)
        }
        return h.Children.count(a) > 1 ? h.Children.only(null) : null
    });
    return s.displayName = `${t}.SlotClone`, s
}
var cE = Symbol("radix.slottable");
function dE(t) {
    const s = ({children: r}) => e.jsx(e.Fragment, {
        children: r
    });
    return s.displayName = `${t}.Slottable`, s.__radixId = cE, s
}
function k5(t) {
    return h.isValidElement(t) && typeof t.type == "function" && "__radixId" in t.type && t.type.__radixId === cE
}
function P5(t, s) {
    const r = {
        ...s
    };
    for (const n in s) {
        const a = t[n],
            i = s[n];
        /^on[A-Z]/.test(n) ? a && i ? r[n] = (...l) => {
            i(...l),
            a(...l)
        } : a && (r[n] = a) : n === "style" ? r[n] = {
            ...a,
            ...i
        } : n === "className" && (r[n] = [a, i].filter(Boolean).join(" "))
    }
    return {
        ...t,
        ...r
    }
}
function _5(t) {
    var n,
        a;
    let s = (n = Object.getOwnPropertyDescriptor(t.props, "ref")) == null ? void 0 : n.get,
        r = s && "isReactWarning" in s && s.isReactWarning;
    return r ? t.ref : (s = (a = Object.getOwnPropertyDescriptor(t, "ref")) == null ? void 0 : a.get, r = s && "isReactWarning" in s && s.isReactWarning, r ? t.props.ref : t.props.ref || t.ref)
}
function im(t) {
    const s = t + "CollectionProvider",
        [r, n] = ws(s),
        [a, i] = r(s, {
            collectionRef: {
                current: null
            },
            itemMap: new Map
        }),
        o = x => {
            const {scope: y, children: v} = x,
                f = ke.useRef(null),
                b = ke.useRef(new Map).current;
            return e.jsx(a, {
                scope: y,
                itemMap: b,
                collectionRef: f,
                children: v
            })
        };
    o.displayName = s;
    const l = t + "CollectionSlot",
        c = co(l),
        d = ke.forwardRef((x, y) => {
            const {scope: v, children: f} = x,
                b = i(l, v),
                N = lt(y, b.collectionRef);
            return e.jsx(c, {
                ref: N,
                children: f
            })
        });
    d.displayName = l;
    const u = t + "CollectionItemSlot",
        m = "data-radix-collection-item",
        p = co(u),
        j = ke.forwardRef((x, y) => {
            const {scope: v, children: f, ...b} = x,
                N = ke.useRef(null),
                w = lt(y, N),
                C = i(u, v);
            return ke.useEffect(() => (C.itemMap.set(N, {
                ref: N,
                ...b
            }), () => void C.itemMap.delete(N))), e.jsx(p, {
                [m]: "",
                ref: w,
                children: f
            })
        });
    j.displayName = u;
    function g(x) {
        const y = i(t + "CollectionConsumer", x);
        return ke.useCallback(() => {
            const f = y.collectionRef.current;
            if (!f)
                return [];
            const b = Array.from(f.querySelectorAll(`[${m}]`));
            return Array.from(y.itemMap.values()).sort((C, E) => b.indexOf(C.ref.current) - b.indexOf(E.ref.current))
        }, [y.collectionRef, y.itemMap])
    }
    return [{
        Provider: o,
        Slot: d,
        ItemSlot: j
    }, g, n]
}
var T5 = ["a", "button", "div", "form", "h2", "h3", "img", "input", "label", "li", "nav", "ol", "p", "span", "svg", "ul"],
    Oe = T5.reduce((t, s) => {
        const r = co(`Primitive.${s}`),
            n = h.forwardRef((a, i) => {
                const {asChild: o, ...l} = a,
                    c = o ? r : s;
                return typeof window < "u" && (window[Symbol.for("radix-ui")] = !0), e.jsx(c, {
                    ...l,
                    ref: i
                })
            });
        return n.displayName = `Primitive.${s}`, {
            ...t,
            [s]: n
        }
    }, {});
function Tj(t, s) {
    t && yl.flushSync(() => t.dispatchEvent(s))
}
function Zt(t) {
    const s = h.useRef(t);
    return h.useEffect(() => {
        s.current = t
    }), h.useMemo(() => (...r) => {
        var n;
        return (n = s.current) == null ? void 0 : n.call(s, ...r)
    }, [])
}
function A5(t, s=globalThis == null ? void 0 : globalThis.document) {
    const r = Zt(t);
    h.useEffect(() => {
        const n = a => {
            a.key === "Escape" && r(a)
        };
        return s.addEventListener("keydown", n, {
            capture: !0
        }), () => s.removeEventListener("keydown", n, {
            capture: !0
        })
    }, [r, s])
}
var M5 = "DismissableLayer",
    Nv = "dismissableLayer.update",
    I5 = "dismissableLayer.pointerDownOutside",
    R5 = "dismissableLayer.focusOutside",
    KN,
    uE = h.createContext({
        layers: new Set,
        layersWithOutsidePointerEventsDisabled: new Set,
        branches: new Set
    }),
    jl = h.forwardRef((t, s) => {
        const {disableOutsidePointerEvents: r=!1, onEscapeKeyDown: n, onPointerDownOutside: a, onFocusOutside: i, onInteractOutside: o, onDismiss: l, ...c} = t,
            d = h.useContext(uE),
            [u, m] = h.useState(null),
            p = (u == null ? void 0 : u.ownerDocument) ?? (globalThis == null ? void 0 : globalThis.document),
            [, j] = h.useState({}),
            g = lt(s, E => m(E)),
            x = Array.from(d.layers),
            [y] = [...d.layersWithOutsidePointerEventsDisabled].slice(-1),
            v = x.indexOf(y),
            f = u ? x.indexOf(u) : -1,
            b = d.layersWithOutsidePointerEventsDisabled.size > 0,
            N = f >= v,
            w = O5(E => {
                const k = E.target,
                    R = [...d.branches].some(H => H.contains(k));
                !N || R || (a == null || a(E), o == null || o(E), E.defaultPrevented || l == null || l())
            }, p),
            C = L5(E => {
                const k = E.target;
                [...d.branches].some(H => H.contains(k)) || (i == null || i(E), o == null || o(E), E.defaultPrevented || l == null || l())
            }, p);
        return A5(E => {
            f === d.layers.size - 1 && (n == null || n(E), !E.defaultPrevented && l && (E.preventDefault(), l()))
        }, p), h.useEffect(() => {
            if (u)
                return r && (d.layersWithOutsidePointerEventsDisabled.size === 0 && (KN = p.body.style.pointerEvents, p.body.style.pointerEvents = "none"), d.layersWithOutsidePointerEventsDisabled.add(u)), d.layers.add(u), YN(), () => {
                    r && d.layersWithOutsidePointerEventsDisabled.size === 1 && (p.body.style.pointerEvents = KN)
                }
        }, [u, p, r, d]), h.useEffect(() => () => {
            u && (d.layers.delete(u), d.layersWithOutsidePointerEventsDisabled.delete(u), YN())
        }, [u, d]), h.useEffect(() => {
            const E = () => j({});
            return document.addEventListener(Nv, E), () => document.removeEventListener(Nv, E)
        }, []), e.jsx(Oe.div, {
            ...c,
            ref: g,
            style: {
                pointerEvents: b ? N ? "auto" : "none" : void 0,
                ...t.style
            },
            onFocusCapture: Ne(t.onFocusCapture, C.onFocusCapture),
            onBlurCapture: Ne(t.onBlurCapture, C.onBlurCapture),
            onPointerDownCapture: Ne(t.onPointerDownCapture, w.onPointerDownCapture)
        })
    });
jl.displayName = M5;
var D5 = "DismissableLayerBranch",
    mE = h.forwardRef((t, s) => {
        const r = h.useContext(uE),
            n = h.useRef(null),
            a = lt(s, n);
        return h.useEffect(() => {
            const i = n.current;
            if (i)
                return r.branches.add(i), () => {
                    r.branches.delete(i)
                }
        }, [r.branches]), e.jsx(Oe.div, {
            ...t,
            ref: a
        })
    });
mE.displayName = D5;
function O5(t, s=globalThis == null ? void 0 : globalThis.document) {
    const r = Zt(t),
        n = h.useRef(!1),
        a = h.useRef(() => {});
    return h.useEffect(() => {
        const i = l => {
                if (l.target && !n.current) {
                    let c = function() {
                        hE(I5, r, d, {
                            discrete: !0
                        })
                    };
                    const d = {
                        originalEvent: l
                    };
                    l.pointerType === "touch" ? (s.removeEventListener("click", a.current), a.current = c, s.addEventListener("click", a.current, {
                        once: !0
                    })) : c()
                } else
                    s.removeEventListener("click", a.current);
                n.current = !1
            },
            o = window.setTimeout(() => {
                s.addEventListener("pointerdown", i)
            }, 0);
        return () => {
            window.clearTimeout(o),
            s.removeEventListener("pointerdown", i),
            s.removeEventListener("click", a.current)
        }
    }, [s, r]), {
        onPointerDownCapture: () => n.current = !0
    }
}
function L5(t, s=globalThis == null ? void 0 : globalThis.document) {
    const r = Zt(t),
        n = h.useRef(!1);
    return h.useEffect(() => {
        const a = i => {
            i.target && !n.current && hE(R5, r, {
                originalEvent: i
            }, {
                discrete: !1
            })
        };
        return s.addEventListener("focusin", a), () => s.removeEventListener("focusin", a)
    }, [s, r]), {
        onFocusCapture: () => n.current = !0,
        onBlurCapture: () => n.current = !1
    }
}
function YN() {
    const t = new CustomEvent(Nv);
    document.dispatchEvent(t)
}
function hE(t, s, r, {discrete: n}) {
    const a = r.originalEvent.target,
        i = new CustomEvent(t, {
            bubbles: !1,
            cancelable: !0,
            detail: r
        });
    s && a.addEventListener(t, s, {
        once: !0
    }),
    n ? Tj(a, i) : a.dispatchEvent(i)
}
var F5 = jl,
    z5 = mE,
    js = globalThis != null && globalThis.document ? h.useLayoutEffect : () => {},
    $5 = "Portal",
    Qc = h.forwardRef((t, s) => {
        var l;
        const {container: r, ...n} = t,
            [a, i] = h.useState(!1);
        js(() => i(!0), []);
        const o = r || a && ((l = globalThis == null ? void 0 : globalThis.document) == null ? void 0 : l.body);
        return o ? UD.createPortal(e.jsx(Oe.div, {
            ...n,
            ref: s
        }), o) : null
    });
Qc.displayName = $5;
function V5(t, s) {
    return h.useReducer((r, n) => s[r][n] ?? r, t)
}
var _s = t => {
    const {present: s, children: r} = t,
        n = U5(s),
        a = typeof r == "function" ? r({
            present: n.isPresent
        }) : h.Children.only(r),
        i = lt(n.ref, q5(a));
    return typeof r == "function" || n.isPresent ? h.cloneElement(a, {
        ref: i
    }) : null
};
_s.displayName = "Presence";
function U5(t) {
    const [s, r] = h.useState(),
        n = h.useRef({}),
        a = h.useRef(t),
        i = h.useRef("none"),
        o = t ? "mounted" : "unmounted",
        [l, c] = V5(o, {
            mounted: {
                UNMOUNT: "unmounted",
                ANIMATION_OUT: "unmountSuspended"
            },
            unmountSuspended: {
                MOUNT: "mounted",
                ANIMATION_END: "unmounted"
            },
            unmounted: {
                MOUNT: "mounted"
            }
        });
    return h.useEffect(() => {
        const d = th(n.current);
        i.current = l === "mounted" ? d : "none"
    }, [l]), js(() => {
        const d = n.current,
            u = a.current;
        if (u !== t) {
            const p = i.current,
                j = th(d);
            t ? c("MOUNT") : j === "none" || (d == null ? void 0 : d.display) === "none" ? c("UNMOUNT") : c(u && p !== j ? "ANIMATION_OUT" : "UNMOUNT"),
            a.current = t
        }
    }, [t, c]), js(() => {
        if (s) {
            let d;
            const u = s.ownerDocument.defaultView ?? window,
                m = j => {
                    const x = th(n.current).includes(j.animationName);
                    if (j.target === s && x && (c("ANIMATION_END"), !a.current)) {
                        const y = s.style.animationFillMode;
                        s.style.animationFillMode = "forwards",
                        d = u.setTimeout(() => {
                            s.style.animationFillMode === "forwards" && (s.style.animationFillMode = y)
                        })
                    }
                },
                p = j => {
                    j.target === s && (i.current = th(n.current))
                };
            return s.addEventListener("animationstart", p), s.addEventListener("animationcancel", m), s.addEventListener("animationend", m), () => {
                u.clearTimeout(d),
                s.removeEventListener("animationstart", p),
                s.removeEventListener("animationcancel", m),
                s.removeEventListener("animationend", m)
            }
        } else
            c("ANIMATION_END")
    }, [s, c]), {
        isPresent: ["mounted", "unmountSuspended"].includes(l),
        ref: h.useCallback(d => {
            d && (n.current = getComputedStyle(d)),
            r(d)
        }, [])
    }
}
function th(t) {
    return (t == null ? void 0 : t.animationName) || "none"
}
function q5(t) {
    var n,
        a;
    let s = (n = Object.getOwnPropertyDescriptor(t.props, "ref")) == null ? void 0 : n.get,
        r = s && "isReactWarning" in s && s.isReactWarning;
    return r ? t.ref : (s = (a = Object.getOwnPropertyDescriptor(t, "ref")) == null ? void 0 : a.get, r = s && "isReactWarning" in s && s.isReactWarning, r ? t.props.ref : t.props.ref || t.ref)
}
function Yr({prop: t, defaultProp: s, onChange: r=() => {}}) {
    const [n, a] = B5({
            defaultProp: s,
            onChange: r
        }),
        i = t !== void 0,
        o = i ? t : n,
        l = Zt(r),
        c = h.useCallback(d => {
            if (i) {
                const m = typeof d == "function" ? d(t) : d;
                m !== t && l(m)
            } else
                a(d)
        }, [i, t, a, l]);
    return [o, c]
}
function B5({defaultProp: t, onChange: s}) {
    const r = h.useState(t),
        [n] = r,
        a = h.useRef(n),
        i = Zt(s);
    return h.useEffect(() => {
        a.current !== n && (i(n), a.current = n)
    }, [n, a, i]), r
}
var H5 = "VisuallyHidden",
    om = h.forwardRef((t, s) => e.jsx(Oe.span, {
        ...t,
        ref: s,
        style: {
            position: "absolute",
            border: 0,
            width: 1,
            height: 1,
            padding: 0,
            margin: -1,
            overflow: "hidden",
            clip: "rect(0, 0, 0, 0)",
            whiteSpace: "nowrap",
            wordWrap: "normal",
            ...t.style
        }
    }));
om.displayName = H5;
var W5 = om,
    Aj = "ToastProvider",
    [Mj, G5, K5] = im("Toast"),
    [pE, VQ] = ws("Toast", [K5]),
    [Y5, Nf] = pE(Aj),
    fE = t => {
        const {__scopeToast: s, label: r="Notification", duration: n=5e3, swipeDirection: a="right", swipeThreshold: i=50, children: o} = t,
            [l, c] = h.useState(null),
            [d, u] = h.useState(0),
            m = h.useRef(!1),
            p = h.useRef(!1);
        return r.trim() || console.error(`Invalid prop \`label\` supplied to \`${Aj}\`. Expected non-empty \`string\`.`), e.jsx(Mj.Provider, {
            scope: s,
            children: e.jsx(Y5, {
                scope: s,
                label: r,
                duration: n,
                swipeDirection: a,
                swipeThreshold: i,
                toastCount: d,
                viewport: l,
                onViewportChange: c,
                onToastAdd: h.useCallback(() => u(j => j + 1), []),
                onToastRemove: h.useCallback(() => u(j => j - 1), []),
                isFocusedToastEscapeKeyDownRef: m,
                isClosePausedRef: p,
                children: o
            })
        })
    };
fE.displayName = Aj;
var xE = "ToastViewport",
    Q5 = ["F8"],
    wv = "toast.viewportPause",
    Cv = "toast.viewportResume",
    gE = h.forwardRef((t, s) => {
        const {__scopeToast: r, hotkey: n=Q5, label: a="Notifications ({hotkey})", ...i} = t,
            o = Nf(xE, r),
            l = G5(r),
            c = h.useRef(null),
            d = h.useRef(null),
            u = h.useRef(null),
            m = h.useRef(null),
            p = lt(s, m, o.onViewportChange),
            j = n.join("+").replace(/Key/g, "").replace(/Digit/g, ""),
            g = o.toastCount > 0;
        h.useEffect(() => {
            const y = v => {
                var b;
                n.length !== 0 && n.every(N => v[N] || v.code === N) && ((b = m.current) == null || b.focus())
            };
            return document.addEventListener("keydown", y), () => document.removeEventListener("keydown", y)
        }, [n]),
        h.useEffect(() => {
            const y = c.current,
                v = m.current;
            if (g && y && v) {
                const f = () => {
                        if (!o.isClosePausedRef.current) {
                            const C = new CustomEvent(wv);
                            v.dispatchEvent(C),
                            o.isClosePausedRef.current = !0
                        }
                    },
                    b = () => {
                        if (o.isClosePausedRef.current) {
                            const C = new CustomEvent(Cv);
                            v.dispatchEvent(C),
                            o.isClosePausedRef.current = !1
                        }
                    },
                    N = C => {
                        !y.contains(C.relatedTarget) && b()
                    },
                    w = () => {
                        y.contains(document.activeElement) || b()
                    };
                return y.addEventListener("focusin", f), y.addEventListener("focusout", N), y.addEventListener("pointermove", f), y.addEventListener("pointerleave", w), window.addEventListener("blur", f), window.addEventListener("focus", b), () => {
                    y.removeEventListener("focusin", f),
                    y.removeEventListener("focusout", N),
                    y.removeEventListener("pointermove", f),
                    y.removeEventListener("pointerleave", w),
                    window.removeEventListener("blur", f),
                    window.removeEventListener("focus", b)
                }
            }
        }, [g, o.isClosePausedRef]);
        const x = h.useCallback(({tabbingDirection: y}) => {
            const f = l().map(b => {
                const N = b.ref.current,
                    w = [N, ...cO(N)];
                return y === "forwards" ? w : w.reverse()
            });
            return (y === "forwards" ? f.reverse() : f).flat()
        }, [l]);
        return h.useEffect(() => {
            const y = m.current;
            if (y) {
                const v = f => {
                    var w,
                        C,
                        E;
                    const b = f.altKey || f.ctrlKey || f.metaKey;
                    if (f.key === "Tab" && !b) {
                        const k = document.activeElement,
                            R = f.shiftKey;
                        if (f.target === y && R) {
                            (w = d.current) == null || w.focus();
                            return
                        }
                        const A = x({
                                tabbingDirection: R ? "backwards" : "forwards"
                            }),
                            $ = A.findIndex(G => G === k);
                        Zx(A.slice($ + 1)) ? f.preventDefault() : R ? (C = d.current) == null || C.focus() : (E = u.current) == null || E.focus()
                    }
                };
                return y.addEventListener("keydown", v), () => y.removeEventListener("keydown", v)
            }
        }, [l, x]), e.jsxs(z5, {
            ref: c,
            role: "region",
            "aria-label": a.replace("{hotkey}", j),
            tabIndex: -1,
            style: {
                pointerEvents: g ? void 0 : "none"
            },
            children: [g && e.jsx(Sv, {
                ref: d,
                onFocusFromOutsideViewport: () => {
                    const y = x({
                        tabbingDirection: "forwards"
                    });
                    Zx(y)
                }
            }), e.jsx(Mj.Slot, {
                scope: r,
                children: e.jsx(Oe.ol, {
                    tabIndex: -1,
                    ...i,
                    ref: p
                })
            }), g && e.jsx(Sv, {
                ref: u,
                onFocusFromOutsideViewport: () => {
                    const y = x({
                        tabbingDirection: "backwards"
                    });
                    Zx(y)
                }
            })]
        })
    });
gE.displayName = xE;
var vE = "ToastFocusProxy",
    Sv = h.forwardRef((t, s) => {
        const {__scopeToast: r, onFocusFromOutsideViewport: n, ...a} = t,
            i = Nf(vE, r);
        return e.jsx(om, {
            "aria-hidden": !0,
            tabIndex: 0,
            ...a,
            ref: s,
            style: {
                position: "fixed"
            },
            onFocus: o => {
                var d;
                const l = o.relatedTarget;
                !((d = i.viewport) != null && d.contains(l)) && n()
            }
        })
    });
Sv.displayName = vE;
var wf = "Toast",
    Z5 = "toast.swipeStart",
    X5 = "toast.swipeMove",
    J5 = "toast.swipeCancel",
    eO = "toast.swipeEnd",
    yE = h.forwardRef((t, s) => {
        const {forceMount: r, open: n, defaultOpen: a, onOpenChange: i, ...o} = t,
            [l=!0, c] = Yr({
                prop: n,
                defaultProp: a,
                onChange: i
            });
        return e.jsx(_s, {
            present: r || l,
            children: e.jsx(rO, {
                open: l,
                ...o,
                ref: s,
                onClose: () => c(!1),
                onPause: Zt(t.onPause),
                onResume: Zt(t.onResume),
                onSwipeStart: Ne(t.onSwipeStart, d => {
                    d.currentTarget.setAttribute("data-swipe", "start")
                }),
                onSwipeMove: Ne(t.onSwipeMove, d => {
                    const {x: u, y: m} = d.detail.delta;
                    d.currentTarget.setAttribute("data-swipe", "move"),
                    d.currentTarget.style.setProperty("--radix-toast-swipe-move-x", `${u}px`),
                    d.currentTarget.style.setProperty("--radix-toast-swipe-move-y", `${m}px`)
                }),
                onSwipeCancel: Ne(t.onSwipeCancel, d => {
                    d.currentTarget.setAttribute("data-swipe", "cancel"),
                    d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),
                    d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),
                    d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),
                    d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")
                }),
                onSwipeEnd: Ne(t.onSwipeEnd, d => {
                    const {x: u, y: m} = d.detail.delta;
                    d.currentTarget.setAttribute("data-swipe", "end"),
                    d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),
                    d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),
                    d.currentTarget.style.setProperty("--radix-toast-swipe-end-x", `${u}px`),
                    d.currentTarget.style.setProperty("--radix-toast-swipe-end-y", `${m}px`),
                    c(!1)
                })
            })
        })
    });
yE.displayName = wf;
var [tO, sO] = pE(wf, {
        onClose() {}
    }),
    rO = h.forwardRef((t, s) => {
        const {__scopeToast: r, type: n="foreground", duration: a, open: i, onClose: o, onEscapeKeyDown: l, onPause: c, onResume: d, onSwipeStart: u, onSwipeMove: m, onSwipeCancel: p, onSwipeEnd: j, ...g} = t,
            x = Nf(wf, r),
            [y, v] = h.useState(null),
            f = lt(s, G => v(G)),
            b = h.useRef(null),
            N = h.useRef(null),
            w = a || x.duration,
            C = h.useRef(0),
            E = h.useRef(w),
            k = h.useRef(0),
            {onToastAdd: R, onToastRemove: H} = x,
            z = Zt(() => {
                var F;
                (y == null ? void 0 : y.contains(document.activeElement)) && ((F = x.viewport) == null || F.focus()),
                o()
            }),
            A = h.useCallback(G => {
                !G || G === 1 / 0 || (window.clearTimeout(k.current), C.current = new Date().getTime(), k.current = window.setTimeout(z, G))
            }, [z]);
        h.useEffect(() => {
            const G = x.viewport;
            if (G) {
                const F = () => {
                        A(E.current),
                        d == null || d()
                    },
                    _ = () => {
                        const S = new Date().getTime() - C.current;
                        E.current = E.current - S,
                        window.clearTimeout(k.current),
                        c == null || c()
                    };
                return G.addEventListener(wv, _), G.addEventListener(Cv, F), () => {
                    G.removeEventListener(wv, _),
                    G.removeEventListener(Cv, F)
                }
            }
        }, [x.viewport, w, c, d, A]),
        h.useEffect(() => {
            i && !x.isClosePausedRef.current && A(w)
        }, [i, w, x.isClosePausedRef, A]),
        h.useEffect(() => (R(), () => H()), [R, H]);
        const $ = h.useMemo(() => y ? EE(y) : null, [y]);
        return x.viewport ? e.jsxs(e.Fragment, {
            children: [$ && e.jsx(nO, {
                __scopeToast: r,
                role: "status",
                "aria-live": n === "foreground" ? "assertive" : "polite",
                "aria-atomic": !0,
                children: $
            }), e.jsx(tO, {
                scope: r,
                onClose: z,
                children: yl.createPortal(e.jsx(Mj.ItemSlot, {
                    scope: r,
                    children: e.jsx(F5, {
                        asChild: !0,
                        onEscapeKeyDown: Ne(l, () => {
                            x.isFocusedToastEscapeKeyDownRef.current || z(),
                            x.isFocusedToastEscapeKeyDownRef.current = !1
                        }),
                        children: e.jsx(Oe.li, {
                            role: "status",
                            "aria-live": "off",
                            "aria-atomic": !0,
                            tabIndex: 0,
                            "data-state": i ? "open" : "closed",
                            "data-swipe-direction": x.swipeDirection,
                            ...g,
                            ref: f,
                            style: {
                                userSelect: "none",
                                touchAction: "none",
                                ...t.style
                            },
                            onKeyDown: Ne(t.onKeyDown, G => {
                                G.key === "Escape" && (l == null || l(G.nativeEvent), G.nativeEvent.defaultPrevented || (x.isFocusedToastEscapeKeyDownRef.current = !0, z()))
                            }),
                            onPointerDown: Ne(t.onPointerDown, G => {
                                G.button === 0 && (b.current = {
                                    x: G.clientX,
                                    y: G.clientY
                                })
                            }),
                            onPointerMove: Ne(t.onPointerMove, G => {
                                if (!b.current)
                                    return;
                                const F = G.clientX - b.current.x,
                                    _ = G.clientY - b.current.y,
                                    S = !!N.current,
                                    I = ["left", "right"].includes(x.swipeDirection),
                                    W = ["left", "up"].includes(x.swipeDirection) ? Math.min : Math.max,
                                    oe = I ? W(0, F) : 0,
                                    O = I ? 0 : W(0, _),
                                    M = G.pointerType === "touch" ? 10 : 2,
                                    re = {
                                        x: oe,
                                        y: O
                                    },
                                    ue = {
                                        originalEvent: G,
                                        delta: re
                                    };
                                S ? (N.current = re, sh(X5, m, ue, {
                                    discrete: !1
                                })) : QN(re, x.swipeDirection, M) ? (N.current = re, sh(Z5, u, ue, {
                                    discrete: !1
                                }), G.target.setPointerCapture(G.pointerId)) : (Math.abs(F) > M || Math.abs(_) > M) && (b.current = null)
                            }),
                            onPointerUp: Ne(t.onPointerUp, G => {
                                const F = N.current,
                                    _ = G.target;
                                if (_.hasPointerCapture(G.pointerId) && _.releasePointerCapture(G.pointerId), N.current = null, b.current = null, F) {
                                    const S = G.currentTarget,
                                        I = {
                                            originalEvent: G,
                                            delta: F
                                        };
                                    QN(F, x.swipeDirection, x.swipeThreshold) ? sh(eO, j, I, {
                                        discrete: !0
                                    }) : sh(J5, p, I, {
                                        discrete: !0
                                    }),
                                    S.addEventListener("click", W => W.preventDefault(), {
                                        once: !0
                                    })
                                }
                            })
                        })
                    })
                }), x.viewport)
            })]
        }) : null
    }),
    nO = t => {
        const {__scopeToast: s, children: r, ...n} = t,
            a = Nf(wf, s),
            [i, o] = h.useState(!1),
            [l, c] = h.useState(!1);
        return oO(() => o(!0)), h.useEffect(() => {
            const d = window.setTimeout(() => c(!0), 1e3);
            return () => window.clearTimeout(d)
        }, []), l ? null : e.jsx(Qc, {
            asChild: !0,
            children: e.jsx(om, {
                ...n,
                children: i && e.jsxs(e.Fragment, {
                    children: [a.label, " ", r]
                })
            })
        })
    },
    aO = "ToastTitle",
    jE = h.forwardRef((t, s) => {
        const {__scopeToast: r, ...n} = t;
        return e.jsx(Oe.div, {
            ...n,
            ref: s
        })
    });
jE.displayName = aO;
var iO = "ToastDescription",
    bE = h.forwardRef((t, s) => {
        const {__scopeToast: r, ...n} = t;
        return e.jsx(Oe.div, {
            ...n,
            ref: s
        })
    });
bE.displayName = iO;
var NE = "ToastAction",
    wE = h.forwardRef((t, s) => {
        const {altText: r, ...n} = t;
        return r.trim() ? e.jsx(SE, {
            altText: r,
            asChild: !0,
            children: e.jsx(Ij, {
                ...n,
                ref: s
            })
        }) : (console.error(`Invalid prop \`altText\` supplied to \`${NE}\`. Expected non-empty \`string\`.`), null)
    });
wE.displayName = NE;
var CE = "ToastClose",
    Ij = h.forwardRef((t, s) => {
        const {__scopeToast: r, ...n} = t,
            a = sO(CE, r);
        return e.jsx(SE, {
            asChild: !0,
            children: e.jsx(Oe.button, {
                type: "button",
                ...n,
                ref: s,
                onClick: Ne(t.onClick, a.onClose)
            })
        })
    });
Ij.displayName = CE;
var SE = h.forwardRef((t, s) => {
    const {__scopeToast: r, altText: n, ...a} = t;
    return e.jsx(Oe.div, {
        "data-radix-toast-announce-exclude": "",
        "data-radix-toast-announce-alt": n || void 0,
        ...a,
        ref: s
    })
});
function EE(t) {
    const s = [];
    return Array.from(t.childNodes).forEach(n => {
        if (n.nodeType === n.TEXT_NODE && n.textContent && s.push(n.textContent), lO(n)) {
            const a = n.ariaHidden || n.hidden || n.style.display === "none",
                i = n.dataset.radixToastAnnounceExclude === "";
            if (!a)
                if (i) {
                    const o = n.dataset.radixToastAnnounceAlt;
                    o && s.push(o)
                } else
                    s.push(...EE(n))
        }
    }), s
}
function sh(t, s, r, {discrete: n}) {
    const a = r.originalEvent.currentTarget,
        i = new CustomEvent(t, {
            bubbles: !0,
            cancelable: !0,
            detail: r
        });
    s && a.addEventListener(t, s, {
        once: !0
    }),
    n ? Tj(a, i) : a.dispatchEvent(i)
}
var QN = (t, s, r=0) => {
    const n = Math.abs(t.x),
        a = Math.abs(t.y),
        i = n > a;
    return s === "left" || s === "right" ? i && n > r : !i && a > r
};
function oO(t=() => {}) {
    const s = Zt(t);
    js(() => {
        let r = 0,
            n = 0;
        return r = window.requestAnimationFrame(() => n = window.requestAnimationFrame(s)), () => {
            window.cancelAnimationFrame(r),
            window.cancelAnimationFrame(n)
        }
    }, [s])
}
function lO(t) {
    return t.nodeType === t.ELEMENT_NODE
}
function cO(t) {
    const s = [],
        r = document.createTreeWalker(t, NodeFilter.SHOW_ELEMENT, {
            acceptNode: n => {
                const a = n.tagName === "INPUT" && n.type === "hidden";
                return n.disabled || n.hidden || a ? NodeFilter.FILTER_SKIP : n.tabIndex >= 0 ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP
            }
        });
    for (; r.nextNode();)
        s.push(r.currentNode);
    return s
}
function Zx(t) {
    const s = document.activeElement;
    return t.some(r => r === s ? !0 : (r.focus(), document.activeElement !== s))
}
var dO = fE,
    kE = gE,
    PE = yE,
    _E = jE,
    TE = bE,
    AE = wE,
    ME = Ij;
function IE(t) {
    var s,
        r,
        n = "";
    if (typeof t == "string" || typeof t == "number")
        n += t;
    else if (typeof t == "object")
        if (Array.isArray(t)) {
            var a = t.length;
            for (s = 0; s < a; s++)
                t[s] && (r = IE(t[s])) && (n && (n += " "), n += r)
        } else
            for (r in t)
                t[r] && (n && (n += " "), n += r);
    return n
}
function RE() {
    for (var t, s, r = 0, n = "", a = arguments.length; r < a; r++)
        (t = arguments[r]) && (s = IE(t)) && (n && (n += " "), n += s);
    return n
}
const ZN = t => typeof t == "boolean" ? `${t}` : t === 0 ? "0" : t,
    XN = RE,
    Zc = (t, s) => r => {
        var n;
        if ((s == null ? void 0 : s.variants) == null)
            return XN(t, r == null ? void 0 : r.class, r == null ? void 0 : r.className);
        const {variants: a, defaultVariants: i} = s,
            o = Object.keys(a).map(d => {
                const u = r == null ? void 0 : r[d],
                    m = i == null ? void 0 : i[d];
                if (u === null)
                    return null;
                const p = ZN(u) || ZN(m);
                return a[d][p]
            }),
            l = r && Object.entries(r).reduce((d, u) => {
                let [m, p] = u;
                return p === void 0 || (d[m] = p), d
            }, {}),
            c = s == null || (n = s.compoundVariants) === null || n === void 0 ? void 0 : n.reduce((d, u) => {
                let {class: m, className: p, ...j} = u;
                return Object.entries(j).every(g => {
                    let [x, y] = g;
                    return Array.isArray(y) ? y.includes({
                        ...i,
                        ...l
                    }[x]) : {
                        ...i,
                        ...l
                    }[x] === y
                }) ? [...d, m, p] : d
            }, []);
        return XN(t, o, c, r == null ? void 0 : r.class, r == null ? void 0 : r.className)
    }; /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const uO = t => t.replace(/([a-z0-9])([A-Z])/g, "$1-$2").toLowerCase(),
    DE = (...t) => t.filter((s, r, n) => !!s && n.indexOf(s) === r).join(" "); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




var mO = {
    xmlns: "http://www.w3.org/2000/svg",
    width: 24,
    height: 24,
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: 2,
    strokeLinecap: "round",
    strokeLinejoin: "round"
}; /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const hO = h.forwardRef(({color: t="currentColor", size: s=24, strokeWidth: r=2, absoluteStrokeWidth: n, className: a="", children: i, iconNode: o, ...l}, c) => h.createElement("svg", {
    ref: c,
    ...mO,
    width: s,
    height: s,
    stroke: t,
    strokeWidth: n ? Number(r) * 24 / Number(s) : r,
    className: DE("lucide", a),
    ...l
}, [...o.map(([d, u]) => h.createElement(d, u)), ...Array.isArray(i) ? i : [i]])); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const fe = (t, s) => {
    const r = h.forwardRef(({className: n, ...a}, i) => h.createElement(hO, {
        ref: i,
        iconNode: s,
        className: DE(`lucide-${uO(t)}`, n),
        ...a
    }));
    return r.displayName = `${t}`, r
}; /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const pO = fe("AlignCenter", [["path", {
    d: "M17 12H7",
    key: "16if0g"
}], ["path", {
    d: "M19 18H5",
    key: "18s9l3"
}], ["path", {
    d: "M21 6H3",
    key: "1jwq7v"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const fO = fe("AlignLeft", [["path", {
    d: "M15 12H3",
    key: "6jk70r"
}], ["path", {
    d: "M17 18H3",
    key: "1amg6g"
}], ["path", {
    d: "M21 6H3",
    key: "1jwq7v"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const xO = fe("AlignRight", [["path", {
    d: "M21 12H9",
    key: "dn1m92"
}], ["path", {
    d: "M21 18H7",
    key: "1ygte8"
}], ["path", {
    d: "M21 6H3",
    key: "1jwq7v"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const JN = fe("Archive", [["rect", {
    width: "20",
    height: "5",
    x: "2",
    y: "3",
    rx: "1",
    key: "1wp1u1"
}], ["path", {
    d: "M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",
    key: "1s80jp"
}], ["path", {
    d: "M10 12h4",
    key: "a56b0p"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const Nr = fe("ArrowLeft", [["path", {
    d: "m12 19-7-7 7-7",
    key: "1l729n"
}], ["path", {
    d: "M19 12H5",
    key: "x3x0zl"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const gp = fe("ArrowRight", [["path", {
    d: "M5 12h14",
    key: "1ays0h"
}], ["path", {
    d: "m12 5 7 7-7 7",
    key: "xquz4c"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const Oo = fe("ArrowUpDown", [["path", {
    d: "m21 16-4 4-4-4",
    key: "f6ql7i"
}], ["path", {
    d: "M17 20V4",
    key: "1ejh1v"
}], ["path", {
    d: "m3 8 4-4 4 4",
    key: "11wl7u"
}], ["path", {
    d: "M7 4v16",
    key: "1glfcx"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const gO = fe("Award", [["path", {
    d: "m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",
    key: "1yiouv"
}], ["circle", {
    cx: "12",
    cy: "8",
    r: "6",
    key: "1vp47v"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const vO = fe("Banknote", [["rect", {
    width: "20",
    height: "12",
    x: "2",
    y: "6",
    rx: "2",
    key: "9lu3g6"
}], ["circle", {
    cx: "12",
    cy: "12",
    r: "2",
    key: "1c9p78"
}], ["path", {
    d: "M6 12h.01M18 12h.01",
    key: "113zkx"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const yO = fe("Bold", [["path", {
    d: "M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",
    key: "mg9rjx"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const jO = fe("Book", [["path", {
    d: "M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",
    key: "k3hazp"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const bO = fe("Bot", [["path", {
    d: "M12 8V4H8",
    key: "hb8ula"
}], ["rect", {
    width: "16",
    height: "12",
    x: "4",
    y: "8",
    rx: "2",
    key: "enze0r"
}], ["path", {
    d: "M2 14h2",
    key: "vft8re"
}], ["path", {
    d: "M20 14h2",
    key: "4cs60a"
}], ["path", {
    d: "M15 13v2",
    key: "1xurst"
}], ["path", {
    d: "M9 13v2",
    key: "rq6x2g"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const vp = fe("Building2", [["path", {
    d: "M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",
    key: "1b4qmf"
}], ["path", {
    d: "M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",
    key: "i71pzd"
}], ["path", {
    d: "M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",
    key: "10jefs"
}], ["path", {
    d: "M10 6h4",
    key: "1itunk"
}], ["path", {
    d: "M10 10h4",
    key: "tcdvrf"
}], ["path", {
    d: "M10 14h4",
    key: "kelpxr"
}], ["path", {
    d: "M10 18h4",
    key: "1ulq68"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const NO = fe("Building", [["rect", {
    width: "16",
    height: "20",
    x: "4",
    y: "2",
    rx: "2",
    ry: "2",
    key: "76otgf"
}], ["path", {
    d: "M9 22v-4h6v4",
    key: "r93iot"
}], ["path", {
    d: "M8 6h.01",
    key: "1dz90k"
}], ["path", {
    d: "M16 6h.01",
    key: "1x0f13"
}], ["path", {
    d: "M12 6h.01",
    key: "1vi96p"
}], ["path", {
    d: "M12 10h.01",
    key: "1nrarc"
}], ["path", {
    d: "M12 14h.01",
    key: "1etili"
}], ["path", {
    d: "M16 10h.01",
    key: "1m94wz"
}], ["path", {
    d: "M16 14h.01",
    key: "1gbofw"
}], ["path", {
    d: "M8 10h.01",
    key: "19clt8"
}], ["path", {
    d: "M8 14h.01",
    key: "6423bh"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const Xc = fe("CalendarClock", [["path", {
    d: "M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",
    key: "1osxxc"
}], ["path", {
    d: "M16 2v4",
    key: "4m81vk"
}], ["path", {
    d: "M8 2v4",
    key: "1cmpym"
}], ["path", {
    d: "M3 10h5",
    key: "r794hk"
}], ["path", {
    d: "M17.5 17.5 16 16.3V14",
    key: "akvzfd"
}], ["circle", {
    cx: "16",
    cy: "16",
    r: "6",
    key: "qoo3c4"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const ur = fe("Calendar", [["path", {
    d: "M8 2v4",
    key: "1cmpym"
}], ["path", {
    d: "M16 2v4",
    key: "4m81vk"
}], ["rect", {
    width: "18",
    height: "18",
    x: "3",
    y: "4",
    rx: "2",
    key: "1hopcy"
}], ["path", {
    d: "M3 10h18",
    key: "8toen8"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const wO = fe("Camera", [["path", {
    d: "M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",
    key: "1tc9qg"
}], ["circle", {
    cx: "12",
    cy: "13",
    r: "3",
    key: "1vg3eu"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const Ss = fe("Car", [["path", {
    d: "M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",
    key: "5owen"
}], ["circle", {
    cx: "7",
    cy: "17",
    r: "2",
    key: "u2ysq9"
}], ["path", {
    d: "M9 17h6",
    key: "r8uit2"
}], ["circle", {
    cx: "17",
    cy: "17",
    r: "2",
    key: "axvx0g"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const yu = fe("ChartColumn", [["path", {
    d: "M3 3v16a2 2 0 0 0 2 2h16",
    key: "c24i48"
}], ["path", {
    d: "M18 17V9",
    key: "2bz60n"
}], ["path", {
    d: "M13 17V5",
    key: "1frdt8"
}], ["path", {
    d: "M8 17v-3",
    key: "17ska0"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const OE = fe("ChartNoAxesColumnIncreasing", [["line", {
    x1: "12",
    x2: "12",
    y1: "20",
    y2: "10",
    key: "1vz5eb"
}], ["line", {
    x1: "18",
    x2: "18",
    y1: "20",
    y2: "4",
    key: "cun8e5"
}], ["line", {
    x1: "6",
    x2: "6",
    y1: "20",
    y2: "16",
    key: "hq0ia6"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const Cf = fe("Check", [["path", {
    d: "M20 6 9 17l-5-5",
    key: "1gmf2c"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const rl = fe("ChevronDown", [["path", {
    d: "m6 9 6 6 6-6",
    key: "qrunsl"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const xi = fe("ChevronLeft", [["path", {
    d: "m15 18-6-6 6-6",
    key: "1wnfg3"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const Ni = fe("ChevronRight", [["path", {
    d: "m9 18 6-6-6-6",
    key: "mthhwq"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const Ev = fe("ChevronUp", [["path", {
    d: "m18 15-6-6-6 6",
    key: "153udz"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const zr = fe("CircleAlert", [["circle", {
    cx: "12",
    cy: "12",
    r: "10",
    key: "1mglay"
}], ["line", {
    x1: "12",
    x2: "12",
    y1: "8",
    y2: "12",
    key: "1pkeuh"
}], ["line", {
    x1: "12",
    x2: "12.01",
    y1: "16",
    y2: "16",
    key: "4dfq90"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const Rt = fe("CircleCheckBig", [["path", {
    d: "M21.801 10A10 10 0 1 1 17 3.335",
    key: "yps3ct"
}], ["path", {
    d: "m9 11 3 3L22 4",
    key: "1pflzl"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const kv = fe("CircleCheck", [["circle", {
    cx: "12",
    cy: "12",
    r: "10",
    key: "1mglay"
}], ["path", {
    d: "m9 12 2 2 4-4",
    key: "dzmm74"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const ew = fe("CirclePause", [["circle", {
    cx: "12",
    cy: "12",
    r: "10",
    key: "1mglay"
}], ["line", {
    x1: "10",
    x2: "10",
    y1: "15",
    y2: "9",
    key: "c1nkhi"
}], ["line", {
    x1: "14",
    x2: "14",
    y1: "15",
    y2: "9",
    key: "h65svq"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const CO = fe("CirclePlay", [["circle", {
    cx: "12",
    cy: "12",
    r: "10",
    key: "1mglay"
}], ["polygon", {
    points: "10 8 16 12 10 16 10 8",
    key: "1cimsy"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const Ea = fe("CircleX", [["circle", {
    cx: "12",
    cy: "12",
    r: "10",
    key: "1mglay"
}], ["path", {
    d: "m15 9-6 6",
    key: "1uzhvr"
}], ["path", {
    d: "m9 9 6 6",
    key: "z0biqf"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const LE = fe("Circle", [["circle", {
    cx: "12",
    cy: "12",
    r: "10",
    key: "1mglay"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const Bs = fe("Clock", [["circle", {
    cx: "12",
    cy: "12",
    r: "10",
    key: "1mglay"
}], ["polyline", {
    points: "12 6 12 12 16 14",
    key: "68esgv"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const SO = fe("CloudDownload", [["path", {
    d: "M12 13v8l-4-4",
    key: "1f5nwf"
}], ["path", {
    d: "m12 21 4-4",
    key: "1lfcce"
}], ["path", {
    d: "M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",
    key: "ui1hmy"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const EO = fe("Cloud", [["path", {
    d: "M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",
    key: "p7xjir"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const FE = fe("Cookie", [["path", {
    d: "M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",
    key: "laymnq"
}], ["path", {
    d: "M8.5 8.5v.01",
    key: "ue8clq"
}], ["path", {
    d: "M16 15.5v.01",
    key: "14dtrp"
}], ["path", {
    d: "M12 12v.01",
    key: "u5ubse"
}], ["path", {
    d: "M11 17v.01",
    key: "1hyl5a"
}], ["path", {
    d: "M7 14v.01",
    key: "uct60s"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const kO = fe("Copy", [["rect", {
    width: "14",
    height: "14",
    x: "8",
    y: "8",
    rx: "2",
    ry: "2",
    key: "17jyea"
}], ["path", {
    d: "M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",
    key: "zix9uf"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const us = fe("CreditCard", [["rect", {
    width: "20",
    height: "14",
    x: "2",
    y: "5",
    rx: "2",
    key: "ynyp8z"
}], ["line", {
    x1: "2",
    x2: "22",
    y1: "10",
    y2: "10",
    key: "1b3vmo"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const Gn = fe("Database", [["ellipse", {
    cx: "12",
    cy: "5",
    rx: "9",
    ry: "3",
    key: "msslwz"
}], ["path", {
    d: "M3 5V19A9 3 0 0 0 21 19V5",
    key: "1wlel7"
}], ["path", {
    d: "M3 12A9 3 0 0 0 21 12",
    key: "mv7ke4"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const zE = fe("DollarSign", [["line", {
    x1: "12",
    x2: "12",
    y1: "2",
    y2: "22",
    key: "7eqyqh"
}], ["path", {
    d: "M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",
    key: "1b0p4s"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const Or = fe("Download", [["path", {
    d: "M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",
    key: "ih7n3h"
}], ["polyline", {
    points: "7 10 12 15 17 10",
    key: "2ggqvy"
}], ["line", {
    x1: "12",
    x2: "12",
    y1: "15",
    y2: "3",
    key: "1vk2je"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const $E = fe("Ellipsis", [["circle", {
    cx: "12",
    cy: "12",
    r: "1",
    key: "41hilf"
}], ["circle", {
    cx: "19",
    cy: "12",
    r: "1",
    key: "1wjl8i"
}], ["circle", {
    cx: "5",
    cy: "12",
    r: "1",
    key: "1pcz8c"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const VE = fe("Euro", [["path", {
    d: "M4 10h12",
    key: "1y6xl8"
}], ["path", {
    d: "M4 14h9",
    key: "1loblj"
}], ["path", {
    d: "M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",
    key: "1j6lzo"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const ju = fe("ExternalLink", [["path", {
    d: "M15 3h6v6",
    key: "1q9fwt"
}], ["path", {
    d: "M10 14 21 3",
    key: "gplh6r"
}], ["path", {
    d: "M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",
    key: "a6xqqp"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const UE = fe("EyeOff", [["path", {
    d: "M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",
    key: "ct8e1f"
}], ["path", {
    d: "M14.084 14.158a3 3 0 0 1-4.242-4.242",
    key: "151rxh"
}], ["path", {
    d: "M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",
    key: "13bj9a"
}], ["path", {
    d: "m2 2 20 20",
    key: "1ooewy"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const bs = fe("Eye", [["path", {
    d: "M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",
    key: "1nclc0"
}], ["circle", {
    cx: "12",
    cy: "12",
    r: "3",
    key: "1v7zrd"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const PO = fe("Facebook", [["path", {
    d: "M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",
    key: "1jg4f8"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const Kn = fe("FileText", [["path", {
    d: "M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",
    key: "1rqfz7"
}], ["path", {
    d: "M14 2v4a2 2 0 0 0 2 2h4",
    key: "tnqrlb"
}], ["path", {
    d: "M10 9H8",
    key: "b1mrlr"
}], ["path", {
    d: "M16 13H8",
    key: "t4e002"
}], ["path", {
    d: "M16 17H8",
    key: "z1uh3a"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const _O = fe("Filter", [["polygon", {
    points: "22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",
    key: "1yg77f"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const Zd = fe("Fuel", [["line", {
    x1: "3",
    x2: "15",
    y1: "22",
    y2: "22",
    key: "xegly4"
}], ["line", {
    x1: "4",
    x2: "14",
    y1: "9",
    y2: "9",
    key: "xcnuvu"
}], ["path", {
    d: "M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",
    key: "16j0yd"
}], ["path", {
    d: "M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",
    key: "7cu91f"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const tw = fe("Gauge", [["path", {
    d: "m12 14 4-4",
    key: "9kzdfg"
}], ["path", {
    d: "M3.34 19a10 10 0 1 1 17.32 0",
    key: "19p75a"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const Rj = fe("Globe", [["circle", {
    cx: "12",
    cy: "12",
    r: "10",
    key: "1mglay"
}], ["path", {
    d: "M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",
    key: "13o1zl"
}], ["path", {
    d: "M2 12h20",
    key: "9i4pu4"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const Dj = fe("Grid3x3", [["rect", {
    width: "18",
    height: "18",
    x: "3",
    y: "3",
    rx: "2",
    key: "afitv7"
}], ["path", {
    d: "M3 9h18",
    key: "1pudct"
}], ["path", {
    d: "M3 15h18",
    key: "5xshup"
}], ["path", {
    d: "M9 3v18",
    key: "fh3hqa"
}], ["path", {
    d: "M15 3v18",
    key: "14nvp0"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const TO = fe("HardDrive", [["line", {
    x1: "22",
    x2: "2",
    y1: "12",
    y2: "12",
    key: "1y58io"
}], ["path", {
    d: "M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",
    key: "oot6mr"
}], ["line", {
    x1: "6",
    x2: "6.01",
    y1: "16",
    y2: "16",
    key: "sgf278"
}], ["line", {
    x1: "10",
    x2: "10.01",
    y1: "16",
    y2: "16",
    key: "1l4acy"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const sw = fe("Hash", [["line", {
    x1: "4",
    x2: "20",
    y1: "9",
    y2: "9",
    key: "4lhtct"
}], ["line", {
    x1: "4",
    x2: "20",
    y1: "15",
    y2: "15",
    key: "vyu0kd"
}], ["line", {
    x1: "10",
    x2: "8",
    y1: "3",
    y2: "21",
    key: "1ggp8o"
}], ["line", {
    x1: "16",
    x2: "14",
    y1: "3",
    y2: "21",
    key: "weycgp"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const qE = fe("Headphones", [["path", {
    d: "M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",
    key: "1xhozi"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const AO = fe("Heart", [["path", {
    d: "M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",
    key: "c3ymky"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const rw = fe("History", [["path", {
    d: "M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",
    key: "1357e3"
}], ["path", {
    d: "M3 3v5h5",
    key: "1xhq8a"
}], ["path", {
    d: "M12 7v5l4 2",
    key: "1fdv2h"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const MO = fe("House", [["path", {
    d: "M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",
    key: "5wwlr5"
}], ["path", {
    d: "M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",
    key: "1d0kgt"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const qs = fe("Image", [["rect", {
    width: "18",
    height: "18",
    x: "3",
    y: "3",
    rx: "2",
    ry: "2",
    key: "1m3agn"
}], ["circle", {
    cx: "9",
    cy: "9",
    r: "2",
    key: "af1f0g"
}], ["path", {
    d: "m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",
    key: "1xmnt7"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const yp = fe("Info", [["circle", {
    cx: "12",
    cy: "12",
    r: "10",
    key: "1mglay"
}], ["path", {
    d: "M12 16v-4",
    key: "1dtifu"
}], ["path", {
    d: "M12 8h.01",
    key: "e9boi3"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const IO = fe("Instagram", [["rect", {
    width: "20",
    height: "20",
    x: "2",
    y: "2",
    rx: "5",
    ry: "5",
    key: "2e1cvw"
}], ["path", {
    d: "M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",
    key: "9exkf1"
}], ["line", {
    x1: "17.5",
    x2: "17.51",
    y1: "6.5",
    y2: "6.5",
    key: "r4j83e"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const RO = fe("Italic", [["line", {
    x1: "19",
    x2: "10",
    y1: "4",
    y2: "4",
    key: "15jd3p"
}], ["line", {
    x1: "14",
    x2: "5",
    y1: "20",
    y2: "20",
    key: "bu0au3"
}], ["line", {
    x1: "15",
    x2: "9",
    y1: "4",
    y2: "20",
    key: "uljnxc"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const DO = fe("LayoutDashboard", [["rect", {
    width: "7",
    height: "9",
    x: "3",
    y: "3",
    rx: "1",
    key: "10lvy0"
}], ["rect", {
    width: "7",
    height: "5",
    x: "14",
    y: "3",
    rx: "1",
    key: "16une8"
}], ["rect", {
    width: "7",
    height: "9",
    x: "14",
    y: "12",
    rx: "1",
    key: "1hutg5"
}], ["rect", {
    width: "7",
    height: "5",
    x: "3",
    y: "16",
    rx: "1",
    key: "ldoo1y"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const OO = fe("Link", [["path", {
    d: "M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",
    key: "1cjeqo"
}], ["path", {
    d: "M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",
    key: "19qd67"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const Sf = fe("List", [["path", {
    d: "M3 12h.01",
    key: "nlz23k"
}], ["path", {
    d: "M3 18h.01",
    key: "1tta3j"
}], ["path", {
    d: "M3 6h.01",
    key: "1rqtza"
}], ["path", {
    d: "M8 12h13",
    key: "1za7za"
}], ["path", {
    d: "M8 18h13",
    key: "1lx6n3"
}], ["path", {
    d: "M8 6h13",
    key: "ik3vkj"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const Xt = fe("LoaderCircle", [["path", {
    d: "M21 12a9 9 0 1 1-6.219-8.56",
    key: "13zald"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const nw = fe("LogIn", [["path", {
    d: "M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",
    key: "u53s6r"
}], ["polyline", {
    points: "10 17 15 12 10 7",
    key: "1ail0h"
}], ["line", {
    x1: "15",
    x2: "3",
    y1: "12",
    y2: "12",
    key: "v6grx8"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const ka = fe("LogOut", [["path", {
    d: "M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",
    key: "1uf3rs"
}], ["polyline", {
    points: "16 17 21 12 16 7",
    key: "1gabdz"
}], ["line", {
    x1: "21",
    x2: "9",
    y1: "12",
    y2: "12",
    key: "1uyos4"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const LO = fe("MailOpen", [["path", {
    d: "M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",
    key: "1jhwl8"
}], ["path", {
    d: "m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",
    key: "1qfld7"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const Ls = fe("Mail", [["rect", {
    width: "20",
    height: "16",
    x: "2",
    y: "4",
    rx: "2",
    key: "18n3k1"
}], ["path", {
    d: "m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",
    key: "1ocrg3"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const uo = fe("MapPin", [["path", {
    d: "M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",
    key: "1r0f0z"
}], ["circle", {
    cx: "12",
    cy: "10",
    r: "3",
    key: "ilqhr7"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const BE = fe("Menu", [["line", {
    x1: "4",
    x2: "20",
    y1: "12",
    y2: "12",
    key: "1e0a9i"
}], ["line", {
    x1: "4",
    x2: "20",
    y1: "6",
    y2: "6",
    key: "1owob3"
}], ["line", {
    x1: "4",
    x2: "20",
    y1: "18",
    y2: "18",
    key: "yk5zj1"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const aw = fe("MessageSquare", [["path", {
    d: "M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",
    key: "1lielz"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const Pv = fe("MousePointer", [["path", {
    d: "M12.586 12.586 19 19",
    key: "ea5xo7"
}], ["path", {
    d: "M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",
    key: "277e5u"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const Ah = fe("Package2", [["path", {
    d: "M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z",
    key: "1ront0"
}], ["path", {
    d: "m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9",
    key: "19h2x1"
}], ["path", {
    d: "M12 3v6",
    key: "1holv5"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const Ot = fe("Package", [["path", {
    d: "M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",
    key: "1a0edw"
}], ["path", {
    d: "M12 22V12",
    key: "d0xqtd"
}], ["path", {
    d: "m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",
    key: "yx3hmr"
}], ["path", {
    d: "m7.5 4.27 9 5.15",
    key: "1c824w"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const HE = fe("PanelsTopLeft", [["rect", {
    width: "18",
    height: "18",
    x: "3",
    y: "3",
    rx: "2",
    key: "afitv7"
}], ["path", {
    d: "M3 9h18",
    key: "1pudct"
}], ["path", {
    d: "M9 21V9",
    key: "1oto5p"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const _v = fe("Pause", [["rect", {
    x: "14",
    y: "4",
    width: "4",
    height: "16",
    rx: "1",
    key: "zuxfzm"
}], ["rect", {
    x: "6",
    y: "4",
    width: "4",
    height: "16",
    rx: "1",
    key: "1okwgv"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const FO = fe("Pencil", [["path", {
    d: "M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",
    key: "1a8usu"
}], ["path", {
    d: "m15 5 4 4",
    key: "1mk7zo"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const Xn = fe("Phone", [["path", {
    d: "M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",
    key: "foiqr5"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const zO = fe("Play", [["polygon", {
    points: "6 3 20 12 6 21 6 3",
    key: "1oa8hb"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const on = fe("Plus", [["path", {
    d: "M5 12h14",
    key: "1ays0h"
}], ["path", {
    d: "M12 5v14",
    key: "s699le"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const WE = fe("PowerOff", [["path", {
    d: "M18.36 6.64A9 9 0 0 1 20.77 15",
    key: "dxknvb"
}], ["path", {
    d: "M6.16 6.16a9 9 0 1 0 12.68 12.68",
    key: "1x7qb5"
}], ["path", {
    d: "M12 2v4",
    key: "3427ic"
}], ["path", {
    d: "m2 2 20 20",
    key: "1ooewy"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const GE = fe("Power", [["path", {
    d: "M12 2v10",
    key: "mnfbl"
}], ["path", {
    d: "M18.4 6.6a9 9 0 1 1-12.77.04",
    key: "obofu9"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const iw = fe("RefreshCcw", [["path", {
    d: "M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",
    key: "14sxne"
}], ["path", {
    d: "M3 3v5h5",
    key: "1xhq8a"
}], ["path", {
    d: "M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",
    key: "1hlbsb"
}], ["path", {
    d: "M16 16h5v5",
    key: "ccwih5"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const xt = fe("RefreshCw", [["path", {
    d: "M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",
    key: "v9h5vc"
}], ["path", {
    d: "M21 3v5h-5",
    key: "1q7to0"
}], ["path", {
    d: "M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",
    key: "3uifl3"
}], ["path", {
    d: "M8 16H3v5",
    key: "1cv678"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const ow = fe("RotateCcw", [["path", {
    d: "M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",
    key: "1357e3"
}], ["path", {
    d: "M3 3v5h5",
    key: "1xhq8a"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const wn = fe("Save", [["path", {
    d: "M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",
    key: "1c8476"
}], ["path", {
    d: "M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",
    key: "1ydtos"
}], ["path", {
    d: "M7 3v4a1 1 0 0 0 1 1h7",
    key: "t51u73"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const Cr = fe("Search", [["circle", {
    cx: "11",
    cy: "11",
    r: "8",
    key: "4ej97u"
}], ["path", {
    d: "m21 21-4.3-4.3",
    key: "1qie3q"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const $O = fe("Send", [["path", {
    d: "M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",
    key: "1ffxy3"
}], ["path", {
    d: "m21.854 2.147-10.94 10.939",
    key: "12cjpa"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const Xx = fe("Server", [["rect", {
    width: "20",
    height: "8",
    x: "2",
    y: "2",
    rx: "2",
    ry: "2",
    key: "ngkwjq"
}], ["rect", {
    width: "20",
    height: "8",
    x: "2",
    y: "14",
    rx: "2",
    ry: "2",
    key: "iecqi9"
}], ["line", {
    x1: "6",
    x2: "6.01",
    y1: "6",
    y2: "6",
    key: "16zg32"
}], ["line", {
    x1: "6",
    x2: "6.01",
    y1: "18",
    y2: "18",
    key: "nzw8ys"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const Hs = fe("Settings", [["path", {
    d: "M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",
    key: "1qme2f"
}], ["circle", {
    cx: "12",
    cy: "12",
    r: "3",
    key: "1v7zrd"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const lm = fe("Shield", [["path", {
    d: "M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",
    key: "oel41y"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const VO = fe("ShoppingBag", [["path", {
    d: "M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",
    key: "hou9p0"
}], ["path", {
    d: "M3 6h18",
    key: "d0wm0j"
}], ["path", {
    d: "M16 10a4 4 0 0 1-8 0",
    key: "1ltviw"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const ln = fe("ShoppingCart", [["circle", {
    cx: "8",
    cy: "21",
    r: "1",
    key: "jimo8o"
}], ["circle", {
    cx: "19",
    cy: "21",
    r: "1",
    key: "13723u"
}], ["path", {
    d: "M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",
    key: "9zh506"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const tc = fe("SlidersHorizontal", [["line", {
    x1: "21",
    x2: "14",
    y1: "4",
    y2: "4",
    key: "obuewd"
}], ["line", {
    x1: "10",
    x2: "3",
    y1: "4",
    y2: "4",
    key: "1q6298"
}], ["line", {
    x1: "21",
    x2: "12",
    y1: "12",
    y2: "12",
    key: "1iu8h1"
}], ["line", {
    x1: "8",
    x2: "3",
    y1: "12",
    y2: "12",
    key: "ntss68"
}], ["line", {
    x1: "21",
    x2: "16",
    y1: "20",
    y2: "20",
    key: "14d8ph"
}], ["line", {
    x1: "12",
    x2: "3",
    y1: "20",
    y2: "20",
    key: "m0wm8r"
}], ["line", {
    x1: "14",
    x2: "14",
    y1: "2",
    y2: "6",
    key: "14e1ph"
}], ["line", {
    x1: "8",
    x2: "8",
    y1: "10",
    y2: "14",
    key: "1i6ji0"
}], ["line", {
    x1: "16",
    x2: "16",
    y1: "18",
    y2: "22",
    key: "1lctlv"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const Br = fe("SquarePen", [["path", {
    d: "M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",
    key: "1m0v6g"
}], ["path", {
    d: "M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",
    key: "ohrbg2"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const UO = fe("Square", [["rect", {
    width: "18",
    height: "18",
    x: "3",
    y: "3",
    rx: "2",
    key: "afitv7"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const ai = fe("Star", [["polygon", {
    points: "12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",
    key: "8f66p6"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const qO = fe("Table2", [["path", {
    d: "M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",
    key: "gugj83"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const BO = fe("Table", [["path", {
    d: "M12 3v18",
    key: "108xh3"
}], ["rect", {
    width: "18",
    height: "18",
    x: "3",
    y: "3",
    rx: "2",
    key: "afitv7"
}], ["path", {
    d: "M3 9h18",
    key: "1pudct"
}], ["path", {
    d: "M3 15h18",
    key: "5xshup"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const HO = fe("Tag", [["path", {
    d: "M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",
    key: "vktsd0"
}], ["circle", {
    cx: "7.5",
    cy: "7.5",
    r: ".5",
    fill: "currentColor",
    key: "kqv944"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const Oj = fe("Target", [["circle", {
    cx: "12",
    cy: "12",
    r: "10",
    key: "1mglay"
}], ["circle", {
    cx: "12",
    cy: "12",
    r: "6",
    key: "1vlfrh"
}], ["circle", {
    cx: "12",
    cy: "12",
    r: "2",
    key: "1c9p78"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const Mh = fe("TestTube", [["path", {
    d: "M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",
    key: "125lnx"
}], ["path", {
    d: "M8.5 2h7",
    key: "csnxdl"
}], ["path", {
    d: "M14.5 16h-5",
    key: "1ox875"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const WO = fe("ThumbsUp", [["path", {
    d: "M7 10v12",
    key: "1qc93n"
}], ["path", {
    d: "M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",
    key: "emmmcr"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const Jt = fe("Trash2", [["path", {
    d: "M3 6h18",
    key: "d0wm0j"
}], ["path", {
    d: "M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",
    key: "4alrt4"
}], ["path", {
    d: "M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",
    key: "v07s0e"
}], ["line", {
    x1: "10",
    x2: "10",
    y1: "11",
    y2: "17",
    key: "1uufr5"
}], ["line", {
    x1: "14",
    x2: "14",
    y1: "11",
    y2: "17",
    key: "xtxkd"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const nl = fe("Trash", [["path", {
    d: "M3 6h18",
    key: "d0wm0j"
}], ["path", {
    d: "M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",
    key: "4alrt4"
}], ["path", {
    d: "M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",
    key: "v07s0e"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const Lj = fe("TrendingUp", [["polyline", {
    points: "22 7 13.5 15.5 8.5 10.5 2 17",
    key: "126l90"
}], ["polyline", {
    points: "16 7 22 7 22 13",
    key: "kwv8wd"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const zs = fe("TriangleAlert", [["path", {
    d: "m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",
    key: "wmoenq"
}], ["path", {
    d: "M12 9v4",
    key: "juzpu7"
}], ["path", {
    d: "M12 17h.01",
    key: "p32p05"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const er = fe("Truck", [["path", {
    d: "M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",
    key: "wrbu53"
}], ["path", {
    d: "M15 18H9",
    key: "1lyqi6"
}], ["path", {
    d: "M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",
    key: "lysw3i"
}], ["circle", {
    cx: "17",
    cy: "18",
    r: "2",
    key: "332jqn"
}], ["circle", {
    cx: "7",
    cy: "18",
    r: "2",
    key: "19iecd"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const GO = fe("Twitter", [["path", {
    d: "M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",
    key: "pff0z6"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const KO = fe("Underline", [["path", {
    d: "M6 4v6a6 6 0 0 0 12 0V4",
    key: "9kb039"
}], ["line", {
    x1: "4",
    x2: "20",
    y1: "20",
    y2: "20",
    key: "nun2al"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const li = fe("Upload", [["path", {
    d: "M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",
    key: "ih7n3h"
}], ["polyline", {
    points: "17 8 12 3 7 8",
    key: "t8dd8p"
}], ["line", {
    x1: "12",
    x2: "12",
    y1: "3",
    y2: "15",
    key: "widbto"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const ao = fe("UserCheck", [["path", {
    d: "M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",
    key: "1yyitq"
}], ["circle", {
    cx: "9",
    cy: "7",
    r: "4",
    key: "nufk8"
}], ["polyline", {
    points: "16 11 18 13 22 9",
    key: "1pwet4"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const YO = fe("UserPlus", [["path", {
    d: "M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",
    key: "1yyitq"
}], ["circle", {
    cx: "9",
    cy: "7",
    r: "4",
    key: "nufk8"
}], ["line", {
    x1: "19",
    x2: "19",
    y1: "8",
    y2: "14",
    key: "1bvyxn"
}], ["line", {
    x1: "22",
    x2: "16",
    y1: "11",
    y2: "11",
    key: "1shjgl"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const Lr = fe("User", [["path", {
    d: "M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",
    key: "975kel"
}], ["circle", {
    cx: "12",
    cy: "7",
    r: "4",
    key: "17ys0d"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const ci = fe("Users", [["path", {
    d: "M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",
    key: "1yyitq"
}], ["circle", {
    cx: "9",
    cy: "7",
    r: "4",
    key: "nufk8"
}], ["path", {
    d: "M22 21v-2a4 4 0 0 0-3-3.87",
    key: "kshegd"
}], ["path", {
    d: "M16 3.13a4 4 0 0 1 0 7.75",
    key: "1da9ce"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const QO = fe("Wallet", [["path", {
    d: "M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",
    key: "18etb6"
}], ["path", {
    d: "M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",
    key: "xoc0q4"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const ZO = fe("Wrench", [["path", {
    d: "M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",
    key: "cbrjhi"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const tr = fe("X", [["path", {
    d: "M18 6 6 18",
    key: "1bl5f8"
}], ["path", {
    d: "m6 6 12 12",
    key: "d8bk6v"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const XO = fe("Youtube", [["path", {
    d: "M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",
    key: "1q2vi4"
}], ["path", {
    d: "m10 15 5-3-5-3z",
    key: "1jp15x"
}]]); /**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */




const Ga = fe("Zap", [["path", {
        d: "M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",
        key: "1xq2db"
    }]]),
    Fj = "-",
    JO = t => {
        const s = t3(t),
            {conflictingClassGroups: r, conflictingClassGroupModifiers: n} = t;
        return {
            getClassGroupId: o => {
                const l = o.split(Fj);
                return l[0] === "" && l.length !== 1 && l.shift(), KE(l, s) || e3(o)
            },
            getConflictingClassGroupIds: (o, l) => {
                const c = r[o] || [];
                return l && n[o] ? [...c, ...n[o]] : c
            }
        }
    },
    KE = (t, s) => {
        var o;
        if (t.length === 0)
            return s.classGroupId;
        const r = t[0],
            n = s.nextPart.get(r),
            a = n ? KE(t.slice(1), n) : void 0;
        if (a)
            return a;
        if (s.validators.length === 0)
            return;
        const i = t.join(Fj);
        return (o = s.validators.find(({validator: l}) => l(i))) == null ? void 0 : o.classGroupId
    },
    lw = /^\[(.+)\]$/,
    e3 = t => {
        if (lw.test(t)) {
            const s = lw.exec(t)[1],
                r = s == null ? void 0 : s.substring(0, s.indexOf(":"));
            if (r)
                return "arbitrary.." + r
        }
    },
    t3 = t => {
        const {theme: s, prefix: r} = t,
            n = {
                nextPart: new Map,
                validators: []
            };
        return r3(Object.entries(t.classGroups), r).forEach(([i, o]) => {
            Tv(o, n, i, s)
        }), n
    },
    Tv = (t, s, r, n) => {
        t.forEach(a => {
            if (typeof a == "string") {
                const i = a === "" ? s : cw(s, a);
                i.classGroupId = r;
                return
            }
            if (typeof a == "function") {
                if (s3(a)) {
                    Tv(a(n), s, r, n);
                    return
                }
                s.validators.push({
                    validator: a,
                    classGroupId: r
                });
                return
            }
            Object.entries(a).forEach(([i, o]) => {
                Tv(o, cw(s, i), r, n)
            })
        })
    },
    cw = (t, s) => {
        let r = t;
        return s.split(Fj).forEach(n => {
            r.nextPart.has(n) || r.nextPart.set(n, {
                nextPart: new Map,
                validators: []
            }),
            r = r.nextPart.get(n)
        }), r
    },
    s3 = t => t.isThemeGetter,
    r3 = (t, s) => s ? t.map(([r, n]) => {
        const a = n.map(i => typeof i == "string" ? s + i : typeof i == "object" ? Object.fromEntries(Object.entries(i).map(([o, l]) => [s + o, l])) : i);
        return [r, a]
    }) : t,
    n3 = t => {
        if (t < 1)
            return {
                get: () => {},
                set: () => {}
            };
        let s = 0,
            r = new Map,
            n = new Map;
        const a = (i, o) => {
            r.set(i, o),
            s++,
            s > t && (s = 0, n = r, r = new Map)
        };
        return {
            get(i) {
                let o = r.get(i);
                if (o !== void 0)
                    return o;
                if ((o = n.get(i)) !== void 0)
                    return a(i, o), o
            },
            set(i, o) {
                r.has(i) ? r.set(i, o) : a(i, o)
            }
        }
    },
    YE = "!",
    a3 = t => {
        const {separator: s, experimentalParseClassName: r} = t,
            n = s.length === 1,
            a = s[0],
            i = s.length,
            o = l => {
                const c = [];
                let d = 0,
                    u = 0,
                    m;
                for (let y = 0; y < l.length; y++) {
                    let v = l[y];
                    if (d === 0) {
                        if (v === a && (n || l.slice(y, y + i) === s)) {
                            c.push(l.slice(u, y)),
                            u = y + i;
                            continue
                        }
                        if (v === "/") {
                            m = y;
                            continue
                        }
                    }
                    v === "[" ? d++ : v === "]" && d--
                }
                const p = c.length === 0 ? l : l.substring(u),
                    j = p.startsWith(YE),
                    g = j ? p.substring(1) : p,
                    x = m && m > u ? m - u : void 0;
                return {
                    modifiers: c,
                    hasImportantModifier: j,
                    baseClassName: g,
                    maybePostfixModifierPosition: x
                }
            };
        return r ? l => r({
            className: l,
            parseClassName: o
        }) : o
    },
    i3 = t => {
        if (t.length <= 1)
            return t;
        const s = [];
        let r = [];
        return t.forEach(n => {
            n[0] === "[" ? (s.push(...r.sort(), n), r = []) : r.push(n)
        }), s.push(...r.sort()), s
    },
    o3 = t => ({
        cache: n3(t.cacheSize),
        parseClassName: a3(t),
        ...JO(t)
    }),
    l3 = /\s+/,
    c3 = (t, s) => {
        const {parseClassName: r, getClassGroupId: n, getConflictingClassGroupIds: a} = s,
            i = [],
            o = t.trim().split(l3);
        let l = "";
        for (let c = o.length - 1; c >= 0; c -= 1) {
            const d = o[c],
                {modifiers: u, hasImportantModifier: m, baseClassName: p, maybePostfixModifierPosition: j} = r(d);
            let g = !!j,
                x = n(g ? p.substring(0, j) : p);
            if (!x) {
                if (!g) {
                    l = d + (l.length > 0 ? " " + l : l);
                    continue
                }
                if (x = n(p), !x) {
                    l = d + (l.length > 0 ? " " + l : l);
                    continue
                }
                g = !1
            }
            const y = i3(u).join(":"),
                v = m ? y + YE : y,
                f = v + x;
            if (i.includes(f))
                continue;
            i.push(f);
            const b = a(x, g);
            for (let N = 0; N < b.length; ++N) {
                const w = b[N];
                i.push(v + w)
            }
            l = d + (l.length > 0 ? " " + l : l)
        }
        return l
    };
function d3() {
    let t = 0,
        s,
        r,
        n = "";
    for (; t < arguments.length;)
        (s = arguments[t++]) && (r = QE(s)) && (n && (n += " "), n += r);
    return n
}
const QE = t => {
    if (typeof t == "string")
        return t;
    let s,
        r = "";
    for (let n = 0; n < t.length; n++)
        t[n] && (s = QE(t[n])) && (r && (r += " "), r += s);
    return r
};
function u3(t, ...s) {
    let r,
        n,
        a,
        i = o;
    function o(c) {
        const d = s.reduce((u, m) => m(u), t());
        return r = o3(d), n = r.cache.get, a = r.cache.set, i = l, l(c)
    }
    function l(c) {
        const d = n(c);
        if (d)
            return d;
        const u = c3(c, r);
        return a(c, u), u
    }
    return function() {
        return i(d3.apply(null, arguments))
    }
}
const Wt = t => {
        const s = r => r[t] || [];
        return s.isThemeGetter = !0, s
    },
    ZE = /^\[(?:([a-z-]+):)?(.+)\]$/i,
    m3 = /^\d+\/\d+$/,
    h3 = new Set(["px", "full", "screen"]),
    p3 = /^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,
    f3 = /\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,
    x3 = /^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,
    g3 = /^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,
    v3 = /^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,
    Fa = t => sc(t) || h3.has(t) || m3.test(t),
    ki = t => Jc(t, "length", E3),
    sc = t => !!t && !Number.isNaN(Number(t)),
    Jx = t => Jc(t, "number", sc),
    gd = t => !!t && Number.isInteger(Number(t)),
    y3 = t => t.endsWith("%") && sc(t.slice(0, -1)),
    ft = t => ZE.test(t),
    Pi = t => p3.test(t),
    j3 = new Set(["length", "size", "percentage"]),
    b3 = t => Jc(t, j3, XE),
    N3 = t => Jc(t, "position", XE),
    w3 = new Set(["image", "url"]),
    C3 = t => Jc(t, w3, P3),
    S3 = t => Jc(t, "", k3),
    vd = () => !0,
    Jc = (t, s, r) => {
        const n = ZE.exec(t);
        return n ? n[1] ? typeof s == "string" ? n[1] === s : s.has(n[1]) : r(n[2]) : !1
    },
    E3 = t => f3.test(t) && !x3.test(t),
    XE = () => !1,
    k3 = t => g3.test(t),
    P3 = t => v3.test(t),
    _3 = () => {
        const t = Wt("colors"),
            s = Wt("spacing"),
            r = Wt("blur"),
            n = Wt("brightness"),
            a = Wt("borderColor"),
            i = Wt("borderRadius"),
            o = Wt("borderSpacing"),
            l = Wt("borderWidth"),
            c = Wt("contrast"),
            d = Wt("grayscale"),
            u = Wt("hueRotate"),
            m = Wt("invert"),
            p = Wt("gap"),
            j = Wt("gradientColorStops"),
            g = Wt("gradientColorStopPositions"),
            x = Wt("inset"),
            y = Wt("margin"),
            v = Wt("opacity"),
            f = Wt("padding"),
            b = Wt("saturate"),
            N = Wt("scale"),
            w = Wt("sepia"),
            C = Wt("skew"),
            E = Wt("space"),
            k = Wt("translate"),
            R = () => ["auto", "contain", "none"],
            H = () => ["auto", "hidden", "clip", "visible", "scroll"],
            z = () => ["auto", ft, s],
            A = () => [ft, s],
            $ = () => ["", Fa, ki],
            G = () => ["auto", sc, ft],
            F = () => ["bottom", "center", "left", "left-bottom", "left-top", "right", "right-bottom", "right-top", "top"],
            _ = () => ["solid", "dashed", "dotted", "double", "none"],
            S = () => ["normal", "multiply", "screen", "overlay", "darken", "lighten", "color-dodge", "color-burn", "hard-light", "soft-light", "difference", "exclusion", "hue", "saturation", "color", "luminosity"],
            I = () => ["start", "end", "center", "between", "around", "evenly", "stretch"],
            W = () => ["", "0", ft],
            oe = () => ["auto", "avoid", "all", "avoid-page", "page", "left", "right", "column"],
            O = () => [sc, ft];
        return {
            cacheSize: 500,
            separator: ":",
            theme: {
                colors: [vd],
                spacing: [Fa, ki],
                blur: ["none", "", Pi, ft],
                brightness: O(),
                borderColor: [t],
                borderRadius: ["none", "", "full", Pi, ft],
                borderSpacing: A(),
                borderWidth: $(),
                contrast: O(),
                grayscale: W(),
                hueRotate: O(),
                invert: W(),
                gap: A(),
                gradientColorStops: [t],
                gradientColorStopPositions: [y3, ki],
                inset: z(),
                margin: z(),
                opacity: O(),
                padding: A(),
                saturate: O(),
                scale: O(),
                sepia: W(),
                skew: O(),
                space: A(),
                translate: A()
            },
            classGroups: {
                aspect: [{
                    aspect: ["auto", "square", "video", ft]
                }],
                container: ["container"],
                columns: [{
                    columns: [Pi]
                }],
                "break-after": [{
                    "break-after": oe()
                }],
                "break-before": [{
                    "break-before": oe()
                }],
                "break-inside": [{
                    "break-inside": ["auto", "avoid", "avoid-page", "avoid-column"]
                }],
                "box-decoration": [{
                    "box-decoration": ["slice", "clone"]
                }],
                box: [{
                    box: ["border", "content"]
                }],
                display: ["block", "inline-block", "inline", "flex", "inline-flex", "table", "inline-table", "table-caption", "table-cell", "table-column", "table-column-group", "table-footer-group", "table-header-group", "table-row-group", "table-row", "flow-root", "grid", "inline-grid", "contents", "list-item", "hidden"],
                float: [{
                    float: ["right", "left", "none", "start", "end"]
                }],
                clear: [{
                    clear: ["left", "right", "both", "none", "start", "end"]
                }],
                isolation: ["isolate", "isolation-auto"],
                "object-fit": [{
                    object: ["contain", "cover", "fill", "none", "scale-down"]
                }],
                "object-position": [{
                    object: [...F(), ft]
                }],
                overflow: [{
                    overflow: H()
                }],
                "overflow-x": [{
                    "overflow-x": H()
                }],
                "overflow-y": [{
                    "overflow-y": H()
                }],
                overscroll: [{
                    overscroll: R()
                }],
                "overscroll-x": [{
                    "overscroll-x": R()
                }],
                "overscroll-y": [{
                    "overscroll-y": R()
                }],
                position: ["static", "fixed", "absolute", "relative", "sticky"],
                inset: [{
                    inset: [x]
                }],
                "inset-x": [{
                    "inset-x": [x]
                }],
                "inset-y": [{
                    "inset-y": [x]
                }],
                start: [{
                    start: [x]
                }],
                end: [{
                    end: [x]
                }],
                top: [{
                    top: [x]
                }],
                right: [{
                    right: [x]
                }],
                bottom: [{
                    bottom: [x]
                }],
                left: [{
                    left: [x]
                }],
                visibility: ["visible", "invisible", "collapse"],
                z: [{
                    z: ["auto", gd, ft]
                }],
                basis: [{
                    basis: z()
                }],
                "flex-direction": [{
                    flex: ["row", "row-reverse", "col", "col-reverse"]
                }],
                "flex-wrap": [{
                    flex: ["wrap", "wrap-reverse", "nowrap"]
                }],
                flex: [{
                    flex: ["1", "auto", "initial", "none", ft]
                }],
                grow: [{
                    grow: W()
                }],
                shrink: [{
                    shrink: W()
                }],
                order: [{
                    order: ["first", "last", "none", gd, ft]
                }],
                "grid-cols": [{
                    "grid-cols": [vd]
                }],
                "col-start-end": [{
                    col: ["auto", {
                        span: ["full", gd, ft]
                    }, ft]
                }],
                "col-start": [{
                    "col-start": G()
                }],
                "col-end": [{
                    "col-end": G()
                }],
                "grid-rows": [{
                    "grid-rows": [vd]
                }],
                "row-start-end": [{
                    row: ["auto", {
                        span: [gd, ft]
                    }, ft]
                }],
                "row-start": [{
                    "row-start": G()
                }],
                "row-end": [{
                    "row-end": G()
                }],
                "grid-flow": [{
                    "grid-flow": ["row", "col", "dense", "row-dense", "col-dense"]
                }],
                "auto-cols": [{
                    "auto-cols": ["auto", "min", "max", "fr", ft]
                }],
                "auto-rows": [{
                    "auto-rows": ["auto", "min", "max", "fr", ft]
                }],
                gap: [{
                    gap: [p]
                }],
                "gap-x": [{
                    "gap-x": [p]
                }],
                "gap-y": [{
                    "gap-y": [p]
                }],
                "justify-content": [{
                    justify: ["normal", ...I()]
                }],
                "justify-items": [{
                    "justify-items": ["start", "end", "center", "stretch"]
                }],
                "justify-self": [{
                    "justify-self": ["auto", "start", "end", "center", "stretch"]
                }],
                "align-content": [{
                    content: ["normal", ...I(), "baseline"]
                }],
                "align-items": [{
                    items: ["start", "end", "center", "baseline", "stretch"]
                }],
                "align-self": [{
                    self: ["auto", "start", "end", "center", "stretch", "baseline"]
                }],
                "place-content": [{
                    "place-content": [...I(), "baseline"]
                }],
                "place-items": [{
                    "place-items": ["start", "end", "center", "baseline", "stretch"]
                }],
                "place-self": [{
                    "place-self": ["auto", "start", "end", "center", "stretch"]
                }],
                p: [{
                    p: [f]
                }],
                px: [{
                    px: [f]
                }],
                py: [{
                    py: [f]
                }],
                ps: [{
                    ps: [f]
                }],
                pe: [{
                    pe: [f]
                }],
                pt: [{
                    pt: [f]
                }],
                pr: [{
                    pr: [f]
                }],
                pb: [{
                    pb: [f]
                }],
                pl: [{
                    pl: [f]
                }],
                m: [{
                    m: [y]
                }],
                mx: [{
                    mx: [y]
                }],
                my: [{
                    my: [y]
                }],
                ms: [{
                    ms: [y]
                }],
                me: [{
                    me: [y]
                }],
                mt: [{
                    mt: [y]
                }],
                mr: [{
                    mr: [y]
                }],
                mb: [{
                    mb: [y]
                }],
                ml: [{
                    ml: [y]
                }],
                "space-x": [{
                    "space-x": [E]
                }],
                "space-x-reverse": ["space-x-reverse"],
                "space-y": [{
                    "space-y": [E]
                }],
                "space-y-reverse": ["space-y-reverse"],
                w: [{
                    w: ["auto", "min", "max", "fit", "svw", "lvw", "dvw", ft, s]
                }],
                "min-w": [{
                    "min-w": [ft, s, "min", "max", "fit"]
                }],
                "max-w": [{
                    "max-w": [ft, s, "none", "full", "min", "max", "fit", "prose", {
                        screen: [Pi]
                    }, Pi]
                }],
                h: [{
                    h: [ft, s, "auto", "min", "max", "fit", "svh", "lvh", "dvh"]
                }],
                "min-h": [{
                    "min-h": [ft, s, "min", "max", "fit", "svh", "lvh", "dvh"]
                }],
                "max-h": [{
                    "max-h": [ft, s, "min", "max", "fit", "svh", "lvh", "dvh"]
                }],
                size: [{
                    size: [ft, s, "auto", "min", "max", "fit"]
                }],
                "font-size": [{
                    text: ["base", Pi, ki]
                }],
                "font-smoothing": ["antialiased", "subpixel-antialiased"],
                "font-style": ["italic", "not-italic"],
                "font-weight": [{
                    font: ["thin", "extralight", "light", "normal", "medium", "semibold", "bold", "extrabold", "black", Jx]
                }],
                "font-family": [{
                    font: [vd]
                }],
                "fvn-normal": ["normal-nums"],
                "fvn-ordinal": ["ordinal"],
                "fvn-slashed-zero": ["slashed-zero"],
                "fvn-figure": ["lining-nums", "oldstyle-nums"],
                "fvn-spacing": ["proportional-nums", "tabular-nums"],
                "fvn-fraction": ["diagonal-fractions", "stacked-fractions"],
                tracking: [{
                    tracking: ["tighter", "tight", "normal", "wide", "wider", "widest", ft]
                }],
                "line-clamp": [{
                    "line-clamp": ["none", sc, Jx]
                }],
                leading: [{
                    leading: ["none", "tight", "snug", "normal", "relaxed", "loose", Fa, ft]
                }],
                "list-image": [{
                    "list-image": ["none", ft]
                }],
                "list-style-type": [{
                    list: ["none", "disc", "decimal", ft]
                }],
                "list-style-position": [{
                    list: ["inside", "outside"]
                }],
                "placeholder-color": [{
                    placeholder: [t]
                }],
                "placeholder-opacity": [{
                    "placeholder-opacity": [v]
                }],
                "text-alignment": [{
                    text: ["left", "center", "right", "justify", "start", "end"]
                }],
                "text-color": [{
                    text: [t]
                }],
                "text-opacity": [{
                    "text-opacity": [v]
                }],
                "text-decoration": ["underline", "overline", "line-through", "no-underline"],
                "text-decoration-style": [{
                    decoration: [..._(), "wavy"]
                }],
                "text-decoration-thickness": [{
                    decoration: ["auto", "from-font", Fa, ki]
                }],
                "underline-offset": [{
                    "underline-offset": ["auto", Fa, ft]
                }],
                "text-decoration-color": [{
                    decoration: [t]
                }],
                "text-transform": ["uppercase", "lowercase", "capitalize", "normal-case"],
                "text-overflow": ["truncate", "text-ellipsis", "text-clip"],
                "text-wrap": [{
                    text: ["wrap", "nowrap", "balance", "pretty"]
                }],
                indent: [{
                    indent: A()
                }],
                "vertical-align": [{
                    align: ["baseline", "top", "middle", "bottom", "text-top", "text-bottom", "sub", "super", ft]
                }],
                whitespace: [{
                    whitespace: ["normal", "nowrap", "pre", "pre-line", "pre-wrap", "break-spaces"]
                }],
                break: [{
                    break: ["normal", "words", "all", "keep"]
                }],
                hyphens: [{
                    hyphens: ["none", "manual", "auto"]
                }],
                content: [{
                    content: ["none", ft]
                }],
                "bg-attachment": [{
                    bg: ["fixed", "local", "scroll"]
                }],
                "bg-clip": [{
                    "bg-clip": ["border", "padding", "content", "text"]
                }],
                "bg-opacity": [{
                    "bg-opacity": [v]
                }],
                "bg-origin": [{
                    "bg-origin": ["border", "padding", "content"]
                }],
                "bg-position": [{
                    bg: [...F(), N3]
                }],
                "bg-repeat": [{
                    bg: ["no-repeat", {
                        repeat: ["", "x", "y", "round", "space"]
                    }]
                }],
                "bg-size": [{
                    bg: ["auto", "cover", "contain", b3]
                }],
                "bg-image": [{
                    bg: ["none", {
                        "gradient-to": ["t", "tr", "r", "br", "b", "bl", "l", "tl"]
                    }, C3]
                }],
                "bg-color": [{
                    bg: [t]
                }],
                "gradient-from-pos": [{
                    from: [g]
                }],
                "gradient-via-pos": [{
                    via: [g]
                }],
                "gradient-to-pos": [{
                    to: [g]
                }],
                "gradient-from": [{
                    from: [j]
                }],
                "gradient-via": [{
                    via: [j]
                }],
                "gradient-to": [{
                    to: [j]
                }],
                rounded: [{
                    rounded: [i]
                }],
                "rounded-s": [{
                    "rounded-s": [i]
                }],
                "rounded-e": [{
                    "rounded-e": [i]
                }],
                "rounded-t": [{
                    "rounded-t": [i]
                }],
                "rounded-r": [{
                    "rounded-r": [i]
                }],
                "rounded-b": [{
                    "rounded-b": [i]
                }],
                "rounded-l": [{
                    "rounded-l": [i]
                }],
                "rounded-ss": [{
                    "rounded-ss": [i]
                }],
                "rounded-se": [{
                    "rounded-se": [i]
                }],
                "rounded-ee": [{
                    "rounded-ee": [i]
                }],
                "rounded-es": [{
                    "rounded-es": [i]
                }],
                "rounded-tl": [{
                    "rounded-tl": [i]
                }],
                "rounded-tr": [{
                    "rounded-tr": [i]
                }],
                "rounded-br": [{
                    "rounded-br": [i]
                }],
                "rounded-bl": [{
                    "rounded-bl": [i]
                }],
                "border-w": [{
                    border: [l]
                }],
                "border-w-x": [{
                    "border-x": [l]
                }],
                "border-w-y": [{
                    "border-y": [l]
                }],
                "border-w-s": [{
                    "border-s": [l]
                }],
                "border-w-e": [{
                    "border-e": [l]
                }],
                "border-w-t": [{
                    "border-t": [l]
                }],
                "border-w-r": [{
                    "border-r": [l]
                }],
                "border-w-b": [{
                    "border-b": [l]
                }],
                "border-w-l": [{
                    "border-l": [l]
                }],
                "border-opacity": [{
                    "border-opacity": [v]
                }],
                "border-style": [{
                    border: [..._(), "hidden"]
                }],
                "divide-x": [{
                    "divide-x": [l]
                }],
                "divide-x-reverse": ["divide-x-reverse"],
                "divide-y": [{
                    "divide-y": [l]
                }],
                "divide-y-reverse": ["divide-y-reverse"],
                "divide-opacity": [{
                    "divide-opacity": [v]
                }],
                "divide-style": [{
                    divide: _()
                }],
                "border-color": [{
                    border: [a]
                }],
                "border-color-x": [{
                    "border-x": [a]
                }],
                "border-color-y": [{
                    "border-y": [a]
                }],
                "border-color-s": [{
                    "border-s": [a]
                }],
                "border-color-e": [{
                    "border-e": [a]
                }],
                "border-color-t": [{
                    "border-t": [a]
                }],
                "border-color-r": [{
                    "border-r": [a]
                }],
                "border-color-b": [{
                    "border-b": [a]
                }],
                "border-color-l": [{
                    "border-l": [a]
                }],
                "divide-color": [{
                    divide: [a]
                }],
                "outline-style": [{
                    outline: ["", ..._()]
                }],
                "outline-offset": [{
                    "outline-offset": [Fa, ft]
                }],
                "outline-w": [{
                    outline: [Fa, ki]
                }],
                "outline-color": [{
                    outline: [t]
                }],
                "ring-w": [{
                    ring: $()
                }],
                "ring-w-inset": ["ring-inset"],
                "ring-color": [{
                    ring: [t]
                }],
                "ring-opacity": [{
                    "ring-opacity": [v]
                }],
                "ring-offset-w": [{
                    "ring-offset": [Fa, ki]
                }],
                "ring-offset-color": [{
                    "ring-offset": [t]
                }],
                shadow: [{
                    shadow: ["", "inner", "none", Pi, S3]
                }],
                "shadow-color": [{
                    shadow: [vd]
                }],
                opacity: [{
                    opacity: [v]
                }],
                "mix-blend": [{
                    "mix-blend": [...S(), "plus-lighter", "plus-darker"]
                }],
                "bg-blend": [{
                    "bg-blend": S()
                }],
                filter: [{
                    filter: ["", "none"]
                }],
                blur: [{
                    blur: [r]
                }],
                brightness: [{
                    brightness: [n]
                }],
                contrast: [{
                    contrast: [c]
                }],
                "drop-shadow": [{
                    "drop-shadow": ["", "none", Pi, ft]
                }],
                grayscale: [{
                    grayscale: [d]
                }],
                "hue-rotate": [{
                    "hue-rotate": [u]
                }],
                invert: [{
                    invert: [m]
                }],
                saturate: [{
                    saturate: [b]
                }],
                sepia: [{
                    sepia: [w]
                }],
                "backdrop-filter": [{
                    "backdrop-filter": ["", "none"]
                }],
                "backdrop-blur": [{
                    "backdrop-blur": [r]
                }],
                "backdrop-brightness": [{
                    "backdrop-brightness": [n]
                }],
                "backdrop-contrast": [{
                    "backdrop-contrast": [c]
                }],
                "backdrop-grayscale": [{
                    "backdrop-grayscale": [d]
                }],
                "backdrop-hue-rotate": [{
                    "backdrop-hue-rotate": [u]
                }],
                "backdrop-invert": [{
                    "backdrop-invert": [m]
                }],
                "backdrop-opacity": [{
                    "backdrop-opacity": [v]
                }],
                "backdrop-saturate": [{
                    "backdrop-saturate": [b]
                }],
                "backdrop-sepia": [{
                    "backdrop-sepia": [w]
                }],
                "border-collapse": [{
                    border: ["collapse", "separate"]
                }],
                "border-spacing": [{
                    "border-spacing": [o]
                }],
                "border-spacing-x": [{
                    "border-spacing-x": [o]
                }],
                "border-spacing-y": [{
                    "border-spacing-y": [o]
                }],
                "table-layout": [{
                    table: ["auto", "fixed"]
                }],
                caption: [{
                    caption: ["top", "bottom"]
                }],
                transition: [{
                    transition: ["none", "all", "", "colors", "opacity", "shadow", "transform", ft]
                }],
                duration: [{
                    duration: O()
                }],
                ease: [{
                    ease: ["linear", "in", "out", "in-out", ft]
                }],
                delay: [{
                    delay: O()
                }],
                animate: [{
                    animate: ["none", "spin", "ping", "pulse", "bounce", ft]
                }],
                transform: [{
                    transform: ["", "gpu", "none"]
                }],
                scale: [{
                    scale: [N]
                }],
                "scale-x": [{
                    "scale-x": [N]
                }],
                "scale-y": [{
                    "scale-y": [N]
                }],
                rotate: [{
                    rotate: [gd, ft]
                }],
                "translate-x": [{
                    "translate-x": [k]
                }],
                "translate-y": [{
                    "translate-y": [k]
                }],
                "skew-x": [{
                    "skew-x": [C]
                }],
                "skew-y": [{
                    "skew-y": [C]
                }],
                "transform-origin": [{
                    origin: ["center", "top", "top-right", "right", "bottom-right", "bottom", "bottom-left", "left", "top-left", ft]
                }],
                accent: [{
                    accent: ["auto", t]
                }],
                appearance: [{
                    appearance: ["none", "auto"]
                }],
                cursor: [{
                    cursor: ["auto", "default", "pointer", "wait", "text", "move", "help", "not-allowed", "none", "context-menu", "progress", "cell", "crosshair", "vertical-text", "alias", "copy", "no-drop", "grab", "grabbing", "all-scroll", "col-resize", "row-resize", "n-resize", "e-resize", "s-resize", "w-resize", "ne-resize", "nw-resize", "se-resize", "sw-resize", "ew-resize", "ns-resize", "nesw-resize", "nwse-resize", "zoom-in", "zoom-out", ft]
                }],
                "caret-color": [{
                    caret: [t]
                }],
                "pointer-events": [{
                    "pointer-events": ["none", "auto"]
                }],
                resize: [{
                    resize: ["none", "y", "x", ""]
                }],
                "scroll-behavior": [{
                    scroll: ["auto", "smooth"]
                }],
                "scroll-m": [{
                    "scroll-m": A()
                }],
                "scroll-mx": [{
                    "scroll-mx": A()
                }],
                "scroll-my": [{
                    "scroll-my": A()
                }],
                "scroll-ms": [{
                    "scroll-ms": A()
                }],
                "scroll-me": [{
                    "scroll-me": A()
                }],
                "scroll-mt": [{
                    "scroll-mt": A()
                }],
                "scroll-mr": [{
                    "scroll-mr": A()
                }],
                "scroll-mb": [{
                    "scroll-mb": A()
                }],
                "scroll-ml": [{
                    "scroll-ml": A()
                }],
                "scroll-p": [{
                    "scroll-p": A()
                }],
                "scroll-px": [{
                    "scroll-px": A()
                }],
                "scroll-py": [{
                    "scroll-py": A()
                }],
                "scroll-ps": [{
                    "scroll-ps": A()
                }],
                "scroll-pe": [{
                    "scroll-pe": A()
                }],
                "scroll-pt": [{
                    "scroll-pt": A()
                }],
                "scroll-pr": [{
                    "scroll-pr": A()
                }],
                "scroll-pb": [{
                    "scroll-pb": A()
                }],
                "scroll-pl": [{
                    "scroll-pl": A()
                }],
                "snap-align": [{
                    snap: ["start", "end", "center", "align-none"]
                }],
                "snap-stop": [{
                    snap: ["normal", "always"]
                }],
                "snap-type": [{
                    snap: ["none", "x", "y", "both"]
                }],
                "snap-strictness": [{
                    snap: ["mandatory", "proximity"]
                }],
                touch: [{
                    touch: ["auto", "none", "manipulation"]
                }],
                "touch-x": [{
                    "touch-pan": ["x", "left", "right"]
                }],
                "touch-y": [{
                    "touch-pan": ["y", "up", "down"]
                }],
                "touch-pz": ["touch-pinch-zoom"],
                select: [{
                    select: ["none", "text", "all", "auto"]
                }],
                "will-change": [{
                    "will-change": ["auto", "scroll", "contents", "transform", ft]
                }],
                fill: [{
                    fill: [t, "none"]
                }],
                "stroke-w": [{
                    stroke: [Fa, ki, Jx]
                }],
                stroke: [{
                    stroke: [t, "none"]
                }],
                sr: ["sr-only", "not-sr-only"],
                "forced-color-adjust": [{
                    "forced-color-adjust": ["auto", "none"]
                }]
            },
            conflictingClassGroups: {
                overflow: ["overflow-x", "overflow-y"],
                overscroll: ["overscroll-x", "overscroll-y"],
                inset: ["inset-x", "inset-y", "start", "end", "top", "right", "bottom", "left"],
                "inset-x": ["right", "left"],
                "inset-y": ["top", "bottom"],
                flex: ["basis", "grow", "shrink"],
                gap: ["gap-x", "gap-y"],
                p: ["px", "py", "ps", "pe", "pt", "pr", "pb", "pl"],
                px: ["pr", "pl"],
                py: ["pt", "pb"],
                m: ["mx", "my", "ms", "me", "mt", "mr", "mb", "ml"],
                mx: ["mr", "ml"],
                my: ["mt", "mb"],
                size: ["w", "h"],
                "font-size": ["leading"],
                "fvn-normal": ["fvn-ordinal", "fvn-slashed-zero", "fvn-figure", "fvn-spacing", "fvn-fraction"],
                "fvn-ordinal": ["fvn-normal"],
                "fvn-slashed-zero": ["fvn-normal"],
                "fvn-figure": ["fvn-normal"],
                "fvn-spacing": ["fvn-normal"],
                "fvn-fraction": ["fvn-normal"],
                "line-clamp": ["display", "overflow"],
                rounded: ["rounded-s", "rounded-e", "rounded-t", "rounded-r", "rounded-b", "rounded-l", "rounded-ss", "rounded-se", "rounded-ee", "rounded-es", "rounded-tl", "rounded-tr", "rounded-br", "rounded-bl"],
                "rounded-s": ["rounded-ss", "rounded-es"],
                "rounded-e": ["rounded-se", "rounded-ee"],
                "rounded-t": ["rounded-tl", "rounded-tr"],
                "rounded-r": ["rounded-tr", "rounded-br"],
                "rounded-b": ["rounded-br", "rounded-bl"],
                "rounded-l": ["rounded-tl", "rounded-bl"],
                "border-spacing": ["border-spacing-x", "border-spacing-y"],
                "border-w": ["border-w-s", "border-w-e", "border-w-t", "border-w-r", "border-w-b", "border-w-l"],
                "border-w-x": ["border-w-r", "border-w-l"],
                "border-w-y": ["border-w-t", "border-w-b"],
                "border-color": ["border-color-s", "border-color-e", "border-color-t", "border-color-r", "border-color-b", "border-color-l"],
                "border-color-x": ["border-color-r", "border-color-l"],
                "border-color-y": ["border-color-t", "border-color-b"],
                "scroll-m": ["scroll-mx", "scroll-my", "scroll-ms", "scroll-me", "scroll-mt", "scroll-mr", "scroll-mb", "scroll-ml"],
                "scroll-mx": ["scroll-mr", "scroll-ml"],
                "scroll-my": ["scroll-mt", "scroll-mb"],
                "scroll-p": ["scroll-px", "scroll-py", "scroll-ps", "scroll-pe", "scroll-pt", "scroll-pr", "scroll-pb", "scroll-pl"],
                "scroll-px": ["scroll-pr", "scroll-pl"],
                "scroll-py": ["scroll-pt", "scroll-pb"],
                touch: ["touch-x", "touch-y", "touch-pz"],
                "touch-x": ["touch"],
                "touch-y": ["touch"],
                "touch-pz": ["touch"]
            },
            conflictingClassGroupModifiers: {
                "font-size": ["leading"]
            }
        }
    },
    T3 = u3(_3);
function me(...t) {
    return T3(RE(t))
}
const Ef = .21;
function JE(t) {
    return t * (1 + Ef)
}
function jt(t, s=!0) {
    if (t == null || t === "")
        return "0,00 €";
    let r;
    return typeof t == "string" ? r = parseFloat(t.replace(",", ".")) : r = t, isNaN(r) || r < 0 ? "0,00 €" : (s && (r = JE(r)), new Intl.NumberFormat("es-ES", {
        style: "currency",
        currency: "EUR",
        minimumFractionDigits: 2
    }).format(r))
}
function A3(t) {
    if (t == null || t === "")
        return {
            basePrice: "0,00 €",
            iva: "0,00 €",
            totalPrice: "0,00 €",
            basePriceNum: 0,
            ivaNum: 0,
            totalPriceNum: 0
        };
    let s;
    if (typeof t == "string" ? s = parseFloat(t.replace(",", ".")) : s = t, isNaN(s) || s < 0)
        return {
            basePrice: "0,00 €",
            iva: "0,00 €",
            totalPrice: "0,00 €",
            basePriceNum: 0,
            ivaNum: 0,
            totalPriceNum: 0
        };
    const r = s * Ef,
        n = s + r;
    return {
        basePrice: new Intl.NumberFormat("es-ES", {
            style: "currency",
            currency: "EUR",
            minimumFractionDigits: 2
        }).format(s),
        iva: new Intl.NumberFormat("es-ES", {
            style: "currency",
            currency: "EUR",
            minimumFractionDigits: 2
        }).format(r),
        totalPrice: new Intl.NumberFormat("es-ES", {
            style: "currency",
            currency: "EUR",
            minimumFractionDigits: 2
        }).format(n),
        basePriceNum: s,
        ivaNum: r,
        totalPriceNum: n
    }
}
function M3(t) {
    if (t == null || t === "")
        return "N/A";
    const s = typeof t == "string" ? parseFloat(t) : t;
    return isNaN(s) || s <= 0 ? "N/A" : `${(s / 100).toFixed(2)} kg`
}
function I3(t) {
    const s = typeof t == "string" ? new Date(t) : t;
    return new Intl.DateTimeFormat("es-ES", {
        day: "2-digit",
        month: "2-digit",
        year: "numeric"
    }).format(s)
}
function Vn(t) {
    const s = typeof t == "string" ? new Date(t) : t;
    return new Intl.DateTimeFormat("es-ES", {
        day: "2-digit",
        month: "2-digit",
        year: "numeric",
        hour: "2-digit",
        minute: "2-digit"
    }).format(s)
}
function jp(t) {
    if (!t || t === null || t === void 0 || t === "")
        return "N/A";
    const s = String(t).trim();
    if (!s)
        return "N/A";
    const r = s.toLowerCase();
    return {
            diesel: "Diésel",
            gasolina: "Gasolina",
            hibrido: "Híbrido",
            electrico: "Eléctrico",
            gas: "Gas",
            "sin plomo 95": "Gasolina Sin Plomo 95",
            "sin plomo 98": "Gasolina Sin Plomo 98",
            "sin plomo 91": "Gasolina Sin Plomo 91",
            "gas natural": "Gas Natural",
            "gasolina/eléctrico (combinado)": "Híbrido",
            el: "Eléctrico"
        }[r] || s
}
const R3 = dO,
    ek = h.forwardRef(({className: t, ...s}, r) => e.jsx(kE, {
        ref: r,
        className: me("fixed top-4 right-4 z-[100] flex max-h-screen w-full flex-col p-4 sm:top-4 sm:right-4 sm:flex-col md:max-w-[420px]", t),
        ...s
    }));
ek.displayName = kE.displayName;
const D3 = Zc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-top-full data-[state=open]:slide-in-from-top-full", {
        variants: {
            variant: {
                default: "border bg-background text-foreground",
                destructive: "destructive group border-destructive bg-destructive text-destructive-foreground"
            }
        },
        defaultVariants: {
            variant: "default"
        }
    }),
    tk = h.forwardRef(({className: t, variant: s, ...r}, n) => e.jsx(PE, {
        ref: n,
        className: me(D3({
            variant: s
        }), t),
        ...r
    }));
tk.displayName = PE.displayName;
const O3 = h.forwardRef(({className: t, ...s}, r) => e.jsx(AE, {
    ref: r,
    className: me("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive", t),
    ...s
}));
O3.displayName = AE.displayName;
const sk = h.forwardRef(({className: t, ...s}, r) => e.jsx(ME, {
    ref: r,
    className: me("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600", t),
    "toast-close": "",
    ...s,
    children: e.jsx(tr, {
        className: "h-4 w-4"
    })
}));
sk.displayName = ME.displayName;
const rk = h.forwardRef(({className: t, ...s}, r) => e.jsx(_E, {
    ref: r,
    className: me("text-sm font-semibold", t),
    ...s
}));
rk.displayName = _E.displayName;
const nk = h.forwardRef(({className: t, ...s}, r) => e.jsx(TE, {
    ref: r,
    className: me("text-sm opacity-90", t),
    ...s
}));
nk.displayName = TE.displayName;
function L3() {
    const {toasts: t} = st();
    return e.jsxs(R3, {
        children: [t.map(function({id: s, title: r, description: n, action: a, ...i}) {
            return e.jsxs(tk, {
                ...i,
                children: [e.jsxs("div", {
                    className: "grid gap-1",
                    children: [r && e.jsx(rk, {
                        children: r
                    }), n && e.jsx(nk, {
                        children: n
                    })]
                }), a, e.jsx(sk, {})]
            }, s)
        }), e.jsx(ek, {})]
    })
}
var F3 = G2[" useId ".trim().toString()] || (() => {}),
    z3 = 0;
function cn(t) {
    const [s, r] = h.useState(F3());
    return js(() => {
        t || r(n => n ?? String(z3++))
    }, [t]), t || (s ? `radix-${s}` : "")
}
const $3 = ["top", "right", "bottom", "left"],
    mo = Math.min,
    sn = Math.max,
    bp = Math.round,
    rh = Math.floor,
    wa = t => ({
        x: t,
        y: t
    }),
    V3 = {
        left: "right",
        right: "left",
        bottom: "top",
        top: "bottom"
    },
    U3 = {
        start: "end",
        end: "start"
    };
function Av(t, s, r) {
    return sn(t, mo(s, r))
}
function gi(t, s) {
    return typeof t == "function" ? t(s) : t
}
function vi(t) {
    return t.split("-")[0]
}
function ed(t) {
    return t.split("-")[1]
}
function zj(t) {
    return t === "x" ? "y" : "x"
}
function $j(t) {
    return t === "y" ? "height" : "width"
}
function ho(t) {
    return ["top", "bottom"].includes(vi(t)) ? "y" : "x"
}
function Vj(t) {
    return zj(ho(t))
}
function q3(t, s, r) {
    r === void 0 && (r = !1);
    const n = ed(t),
        a = Vj(t),
        i = $j(a);
    let o = a === "x" ? n === (r ? "end" : "start") ? "right" : "left" : n === "start" ? "bottom" : "top";
    return s.reference[i] > s.floating[i] && (o = Np(o)), [o, Np(o)]
}
function B3(t) {
    const s = Np(t);
    return [Mv(t), s, Mv(s)]
}
function Mv(t) {
    return t.replace(/start|end/g, s => U3[s])
}
function H3(t, s, r) {
    const n = ["left", "right"],
        a = ["right", "left"],
        i = ["top", "bottom"],
        o = ["bottom", "top"];
    switch (t) {
    case "top":
    case "bottom":
        return r ? s ? a : n : s ? n : a;
    case "left":
    case "right":
        return s ? i : o;
    default:
        return []
    }
}
function W3(t, s, r, n) {
    const a = ed(t);
    let i = H3(vi(t), r === "start", n);
    return a && (i = i.map(o => o + "-" + a), s && (i = i.concat(i.map(Mv)))), i
}
function Np(t) {
    return t.replace(/left|right|bottom|top/g, s => V3[s])
}
function G3(t) {
    return {
        top: 0,
        right: 0,
        bottom: 0,
        left: 0,
        ...t
    }
}
function ak(t) {
    return typeof t != "number" ? G3(t) : {
        top: t,
        right: t,
        bottom: t,
        left: t
    }
}
function wp(t) {
    const {x: s, y: r, width: n, height: a} = t;
    return {
        width: n,
        height: a,
        top: r,
        left: s,
        right: s + n,
        bottom: r + a,
        x: s,
        y: r
    }
}
function dw(t, s, r) {
    let {reference: n, floating: a} = t;
    const i = ho(s),
        o = Vj(s),
        l = $j(o),
        c = vi(s),
        d = i === "y",
        u = n.x + n.width / 2 - a.width / 2,
        m = n.y + n.height / 2 - a.height / 2,
        p = n[l] / 2 - a[l] / 2;
    let j;
    switch (c) {
    case "top":
        j = {
            x: u,
            y: n.y - a.height
        };
        break;
    case "bottom":
        j = {
            x: u,
            y: n.y + n.height
        };
        break;
    case "right":
        j = {
            x: n.x + n.width,
            y: m
        };
        break;
    case "left":
        j = {
            x: n.x - a.width,
            y: m
        };
        break;
    default:
        j = {
            x: n.x,
            y: n.y
        }
    }
    switch (ed(s)) {
    case "start":
        j[o] -= p * (r && d ? -1 : 1);
        break;
    case "end":
        j[o] += p * (r && d ? -1 : 1);
        break
    }
    return j
}
const K3 = async (t, s, r) => {
    const {placement: n="bottom", strategy: a="absolute", middleware: i=[], platform: o} = r,
        l = i.filter(Boolean),
        c = await (o.isRTL == null ? void 0 : o.isRTL(s));
    let d = await o.getElementRects({
            reference: t,
            floating: s,
            strategy: a
        }),
        {x: u, y: m} = dw(d, n, c),
        p = n,
        j = {},
        g = 0;
    for (let x = 0; x < l.length; x++) {
        const {name: y, fn: v} = l[x],
            {x: f, y: b, data: N, reset: w} = await v({
                x: u,
                y: m,
                initialPlacement: n,
                placement: p,
                strategy: a,
                middlewareData: j,
                rects: d,
                platform: o,
                elements: {
                    reference: t,
                    floating: s
                }
            });
        u = f ?? u,
        m = b ?? m,
        j = {
            ...j,
            [y]: {
                ...j[y],
                ...N
            }
        },
        w && g <= 50 && (g++, typeof w == "object" && (w.placement && (p = w.placement), w.rects && (d = w.rects === !0 ? await o.getElementRects({
            reference: t,
            floating: s,
            strategy: a
        }) : w.rects), {x: u, y: m} = dw(d, p, c)), x = -1)
    }
    return {
        x: u,
        y: m,
        placement: p,
        strategy: a,
        middlewareData: j
    }
};
async function bu(t, s) {
    var r;
    s === void 0 && (s = {});
    const {x: n, y: a, platform: i, rects: o, elements: l, strategy: c} = t,
        {boundary: d="clippingAncestors", rootBoundary: u="viewport", elementContext: m="floating", altBoundary: p=!1, padding: j=0} = gi(s, t),
        g = ak(j),
        y = l[p ? m === "floating" ? "reference" : "floating" : m],
        v = wp(await i.getClippingRect({
            element: (r = await (i.isElement == null ? void 0 : i.isElement(y))) == null || r ? y : y.contextElement || await (i.getDocumentElement == null ? void 0 : i.getDocumentElement(l.floating)),
            boundary: d,
            rootBoundary: u,
            strategy: c
        })),
        f = m === "floating" ? {
            x: n,
            y: a,
            width: o.floating.width,
            height: o.floating.height
        } : o.reference,
        b = await (i.getOffsetParent == null ? void 0 : i.getOffsetParent(l.floating)),
        N = await (i.isElement == null ? void 0 : i.isElement(b)) ? await (i.getScale == null ? void 0 : i.getScale(b)) || {
            x: 1,
            y: 1
        } : {
            x: 1,
            y: 1
        },
        w = wp(i.convertOffsetParentRelativeRectToViewportRelativeRect ? await i.convertOffsetParentRelativeRectToViewportRelativeRect({
            elements: l,
            rect: f,
            offsetParent: b,
            strategy: c
        }) : f);
    return {
        top: (v.top - w.top + g.top) / N.y,
        bottom: (w.bottom - v.bottom + g.bottom) / N.y,
        left: (v.left - w.left + g.left) / N.x,
        right: (w.right - v.right + g.right) / N.x
    }
}
const Y3 = t => ({
        name: "arrow",
        options: t,
        async fn(s) {
            const {x: r, y: n, placement: a, rects: i, platform: o, elements: l, middlewareData: c} = s,
                {element: d, padding: u=0} = gi(t, s) || {};
            if (d == null)
                return {};
            const m = ak(u),
                p = {
                    x: r,
                    y: n
                },
                j = Vj(a),
                g = $j(j),
                x = await o.getDimensions(d),
                y = j === "y",
                v = y ? "top" : "left",
                f = y ? "bottom" : "right",
                b = y ? "clientHeight" : "clientWidth",
                N = i.reference[g] + i.reference[j] - p[j] - i.floating[g],
                w = p[j] - i.reference[j],
                C = await (o.getOffsetParent == null ? void 0 : o.getOffsetParent(d));
            let E = C ? C[b] : 0;
            (!E || !await (o.isElement == null ? void 0 : o.isElement(C))) && (E = l.floating[b] || i.floating[g]);
            const k = N / 2 - w / 2,
                R = E / 2 - x[g] / 2 - 1,
                H = mo(m[v], R),
                z = mo(m[f], R),
                A = H,
                $ = E - x[g] - z,
                G = E / 2 - x[g] / 2 + k,
                F = Av(A, G, $),
                _ = !c.arrow && ed(a) != null && G !== F && i.reference[g] / 2 - (G < A ? H : z) - x[g] / 2 < 0,
                S = _ ? G < A ? G - A : G - $ : 0;
            return {
                [j]: p[j] + S,
                data: {
                    [j]: F,
                    centerOffset: G - F - S,
                    ..._ && {
                        alignmentOffset: S
                    }
                },
                reset: _
            }
        }
    }),
    Q3 = function(t) {
        return t === void 0 && (t = {}), {
            name: "flip",
            options: t,
            async fn(s) {
                var r,
                    n;
                const {placement: a, middlewareData: i, rects: o, initialPlacement: l, platform: c, elements: d} = s,
                    {mainAxis: u=!0, crossAxis: m=!0, fallbackPlacements: p, fallbackStrategy: j="bestFit", fallbackAxisSideDirection: g="none", flipAlignment: x=!0, ...y} = gi(t, s);
                if ((r = i.arrow) != null && r.alignmentOffset)
                    return {};
                const v = vi(a),
                    f = ho(l),
                    b = vi(l) === l,
                    N = await (c.isRTL == null ? void 0 : c.isRTL(d.floating)),
                    w = p || (b || !x ? [Np(l)] : B3(l)),
                    C = g !== "none";
                !p && C && w.push(...W3(l, x, g, N));
                const E = [l, ...w],
                    k = await bu(s, y),
                    R = [];
                let H = ((n = i.flip) == null ? void 0 : n.overflows) || [];
                if (u && R.push(k[v]), m) {
                    const G = q3(a, o, N);
                    R.push(k[G[0]], k[G[1]])
                }
                if (H = [...H, {
                    placement: a,
                    overflows: R
                }], !R.every(G => G <= 0)) {
                    var z,
                        A;
                    const G = (((z = i.flip) == null ? void 0 : z.index) || 0) + 1,
                        F = E[G];
                    if (F)
                        return {
                            data: {
                                index: G,
                                overflows: H
                            },
                            reset: {
                                placement: F
                            }
                        };
                    let _ = (A = H.filter(S => S.overflows[0] <= 0).sort((S, I) => S.overflows[1] - I.overflows[1])[0]) == null ? void 0 : A.placement;
                    if (!_)
                        switch (j) {
                        case "bestFit":
                            {
                                var $;
                                const S = ($ = H.filter(I => {
                                    if (C) {
                                        const W = ho(I.placement);
                                        return W === f || W === "y"
                                    }
                                    return !0
                                }).map(I => [I.placement, I.overflows.filter(W => W > 0).reduce((W, oe) => W + oe, 0)]).sort((I, W) => I[1] - W[1])[0]) == null ? void 0 : $[0];
                                S && (_ = S);
                                break
                            }case "initialPlacement":
                            _ = l;
                            break
                        }
                    if (a !== _)
                        return {
                            reset: {
                                placement: _
                            }
                        }
                }
                return {}
            }
        }
    };
function uw(t, s) {
    return {
        top: t.top - s.height,
        right: t.right - s.width,
        bottom: t.bottom - s.height,
        left: t.left - s.width
    }
}
function mw(t) {
    return $3.some(s => t[s] >= 0)
}
const Z3 = function(t) {
    return t === void 0 && (t = {}), {
        name: "hide",
        options: t,
        async fn(s) {
            const {rects: r} = s,
                {strategy: n="referenceHidden", ...a} = gi(t, s);
            switch (n) {
            case "referenceHidden":
                {
                    const i = await bu(s, {
                            ...a,
                            elementContext: "reference"
                        }),
                        o = uw(i, r.reference);
                    return {
                        data: {
                            referenceHiddenOffsets: o,
                            referenceHidden: mw(o)
                        }
                    }
                }case "escaped":
                {
                    const i = await bu(s, {
                            ...a,
                            altBoundary: !0
                        }),
                        o = uw(i, r.floating);
                    return {
                        data: {
                            escapedOffsets: o,
                            escaped: mw(o)
                        }
                    }
                }default:
                return {}
            }
        }
    }
};
async function X3(t, s) {
    const {placement: r, platform: n, elements: a} = t,
        i = await (n.isRTL == null ? void 0 : n.isRTL(a.floating)),
        o = vi(r),
        l = ed(r),
        c = ho(r) === "y",
        d = ["left", "top"].includes(o) ? -1 : 1,
        u = i && c ? -1 : 1,
        m = gi(s, t);
    let {mainAxis: p, crossAxis: j, alignmentAxis: g} = typeof m == "number" ? {
        mainAxis: m,
        crossAxis: 0,
        alignmentAxis: null
    } : {
        mainAxis: m.mainAxis || 0,
        crossAxis: m.crossAxis || 0,
        alignmentAxis: m.alignmentAxis
    };
    return l && typeof g == "number" && (j = l === "end" ? g * -1 : g), c ? {
        x: j * u,
        y: p * d
    } : {
        x: p * d,
        y: j * u
    }
}
const J3 = function(t) {
        return t === void 0 && (t = 0), {
            name: "offset",
            options: t,
            async fn(s) {
                var r,
                    n;
                const {x: a, y: i, placement: o, middlewareData: l} = s,
                    c = await X3(s, t);
                return o === ((r = l.offset) == null ? void 0 : r.placement) && (n = l.arrow) != null && n.alignmentOffset ? {} : {
                    x: a + c.x,
                    y: i + c.y,
                    data: {
                        ...c,
                        placement: o
                    }
                }
            }
        }
    },
    e6 = function(t) {
        return t === void 0 && (t = {}), {
            name: "shift",
            options: t,
            async fn(s) {
                const {x: r, y: n, placement: a} = s,
                    {mainAxis: i=!0, crossAxis: o=!1, limiter: l={
                        fn: y => {
                            let {x: v, y: f} = y;
                            return {
                                x: v,
                                y: f
                            }
                        }
                    }, ...c} = gi(t, s),
                    d = {
                        x: r,
                        y: n
                    },
                    u = await bu(s, c),
                    m = ho(vi(a)),
                    p = zj(m);
                let j = d[p],
                    g = d[m];
                if (i) {
                    const y = p === "y" ? "top" : "left",
                        v = p === "y" ? "bottom" : "right",
                        f = j + u[y],
                        b = j - u[v];
                    j = Av(f, j, b)
                }
                if (o) {
                    const y = m === "y" ? "top" : "left",
                        v = m === "y" ? "bottom" : "right",
                        f = g + u[y],
                        b = g - u[v];
                    g = Av(f, g, b)
                }
                const x = l.fn({
                    ...s,
                    [p]: j,
                    [m]: g
                });
                return {
                    ...x,
                    data: {
                        x: x.x - r,
                        y: x.y - n,
                        enabled: {
                            [p]: i,
                            [m]: o
                        }
                    }
                }
            }
        }
    },
    t6 = function(t) {
        return t === void 0 && (t = {}), {
            options: t,
            fn(s) {
                const {x: r, y: n, placement: a, rects: i, middlewareData: o} = s,
                    {offset: l=0, mainAxis: c=!0, crossAxis: d=!0} = gi(t, s),
                    u = {
                        x: r,
                        y: n
                    },
                    m = ho(a),
                    p = zj(m);
                let j = u[p],
                    g = u[m];
                const x = gi(l, s),
                    y = typeof x == "number" ? {
                        mainAxis: x,
                        crossAxis: 0
                    } : {
                        mainAxis: 0,
                        crossAxis: 0,
                        ...x
                    };
                if (c) {
                    const b = p === "y" ? "height" : "width",
                        N = i.reference[p] - i.floating[b] + y.mainAxis,
                        w = i.reference[p] + i.reference[b] - y.mainAxis;
                    j < N ? j = N : j > w && (j = w)
                }
                if (d) {
                    var v,
                        f;
                    const b = p === "y" ? "width" : "height",
                        N = ["top", "left"].includes(vi(a)),
                        w = i.reference[m] - i.floating[b] + (N && ((v = o.offset) == null ? void 0 : v[m]) || 0) + (N ? 0 : y.crossAxis),
                        C = i.reference[m] + i.reference[b] + (N ? 0 : ((f = o.offset) == null ? void 0 : f[m]) || 0) - (N ? y.crossAxis : 0);
                    g < w ? g = w : g > C && (g = C)
                }
                return {
                    [p]: j,
                    [m]: g
                }
            }
        }
    },
    s6 = function(t) {
        return t === void 0 && (t = {}), {
            name: "size",
            options: t,
            async fn(s) {
                var r,
                    n;
                const {placement: a, rects: i, platform: o, elements: l} = s,
                    {apply: c=() => {}, ...d} = gi(t, s),
                    u = await bu(s, d),
                    m = vi(a),
                    p = ed(a),
                    j = ho(a) === "y",
                    {width: g, height: x} = i.floating;
                let y,
                    v;
                m === "top" || m === "bottom" ? (y = m, v = p === (await (o.isRTL == null ? void 0 : o.isRTL(l.floating)) ? "start" : "end") ? "left" : "right") : (v = m, y = p === "end" ? "top" : "bottom");
                const f = x - u.top - u.bottom,
                    b = g - u.left - u.right,
                    N = mo(x - u[y], f),
                    w = mo(g - u[v], b),
                    C = !s.middlewareData.shift;
                let E = N,
                    k = w;
                if ((r = s.middlewareData.shift) != null && r.enabled.x && (k = b), (n = s.middlewareData.shift) != null && n.enabled.y && (E = f), C && !p) {
                    const H = sn(u.left, 0),
                        z = sn(u.right, 0),
                        A = sn(u.top, 0),
                        $ = sn(u.bottom, 0);
                    j ? k = g - 2 * (H !== 0 || z !== 0 ? H + z : sn(u.left, u.right)) : E = x - 2 * (A !== 0 || $ !== 0 ? A + $ : sn(u.top, u.bottom))
                }
                await c({
                    ...s,
                    availableWidth: k,
                    availableHeight: E
                });
                const R = await o.getDimensions(l.floating);
                return g !== R.width || x !== R.height ? {
                    reset: {
                        rects: !0
                    }
                } : {}
            }
        }
    };
function kf() {
    return typeof window < "u"
}
function td(t) {
    return ik(t) ? (t.nodeName || "").toLowerCase() : "#document"
}
function dn(t) {
    var s;
    return (t == null || (s = t.ownerDocument) == null ? void 0 : s.defaultView) || window
}
function Ia(t) {
    var s;
    return (s = (ik(t) ? t.ownerDocument : t.document) || window.document) == null ? void 0 : s.documentElement
}
function ik(t) {
    return kf() ? t instanceof Node || t instanceof dn(t).Node : !1
}
function Jn(t) {
    return kf() ? t instanceof Element || t instanceof dn(t).Element : !1
}
function Pa(t) {
    return kf() ? t instanceof HTMLElement || t instanceof dn(t).HTMLElement : !1
}
function hw(t) {
    return !kf() || typeof ShadowRoot > "u" ? !1 : t instanceof ShadowRoot || t instanceof dn(t).ShadowRoot
}
function cm(t) {
    const {overflow: s, overflowX: r, overflowY: n, display: a} = ea(t);
    return /auto|scroll|overlay|hidden|clip/.test(s + n + r) && !["inline", "contents"].includes(a)
}
function r6(t) {
    return ["table", "td", "th"].includes(td(t))
}
function Pf(t) {
    return [":popover-open", ":modal"].some(s => {
        try {
            return t.matches(s)
        } catch {
            return !1
        }
    })
}
function Uj(t) {
    const s = qj(),
        r = Jn(t) ? ea(t) : t;
    return ["transform", "translate", "scale", "rotate", "perspective"].some(n => r[n] ? r[n] !== "none" : !1) || (r.containerType ? r.containerType !== "normal" : !1) || !s && (r.backdropFilter ? r.backdropFilter !== "none" : !1) || !s && (r.filter ? r.filter !== "none" : !1) || ["transform", "translate", "scale", "rotate", "perspective", "filter"].some(n => (r.willChange || "").includes(n)) || ["paint", "layout", "strict", "content"].some(n => (r.contain || "").includes(n))
}
function n6(t) {
    let s = po(t);
    for (; Pa(s) && !Tc(s);) {
        if (Uj(s))
            return s;
        if (Pf(s))
            return null;
        s = po(s)
    }
    return null
}
function qj() {
    return typeof CSS > "u" || !CSS.supports ? !1 : CSS.supports("-webkit-backdrop-filter", "none")
}
function Tc(t) {
    return ["html", "body", "#document"].includes(td(t))
}
function ea(t) {
    return dn(t).getComputedStyle(t)
}
function _f(t) {
    return Jn(t) ? {
        scrollLeft: t.scrollLeft,
        scrollTop: t.scrollTop
    } : {
        scrollLeft: t.scrollX,
        scrollTop: t.scrollY
    }
}
function po(t) {
    if (td(t) === "html")
        return t;
    const s = t.assignedSlot || t.parentNode || hw(t) && t.host || Ia(t);
    return hw(s) ? s.host : s
}
function ok(t) {
    const s = po(t);
    return Tc(s) ? t.ownerDocument ? t.ownerDocument.body : t.body : Pa(s) && cm(s) ? s : ok(s)
}
function Nu(t, s, r) {
    var n;
    s === void 0 && (s = []),
    r === void 0 && (r = !0);
    const a = ok(t),
        i = a === ((n = t.ownerDocument) == null ? void 0 : n.body),
        o = dn(a);
    if (i) {
        const l = Iv(o);
        return s.concat(o, o.visualViewport || [], cm(a) ? a : [], l && r ? Nu(l) : [])
    }
    return s.concat(a, Nu(a, [], r))
}
function Iv(t) {
    return t.parent && Object.getPrototypeOf(t.parent) ? t.frameElement : null
}
function lk(t) {
    const s = ea(t);
    let r = parseFloat(s.width) || 0,
        n = parseFloat(s.height) || 0;
    const a = Pa(t),
        i = a ? t.offsetWidth : r,
        o = a ? t.offsetHeight : n,
        l = bp(r) !== i || bp(n) !== o;
    return l && (r = i, n = o), {
        width: r,
        height: n,
        $: l
    }
}
function Bj(t) {
    return Jn(t) ? t : t.contextElement
}
function rc(t) {
    const s = Bj(t);
    if (!Pa(s))
        return wa(1);
    const r = s.getBoundingClientRect(),
        {width: n, height: a, $: i} = lk(s);
    let o = (i ? bp(r.width) : r.width) / n,
        l = (i ? bp(r.height) : r.height) / a;
    return (!o || !Number.isFinite(o)) && (o = 1), (!l || !Number.isFinite(l)) && (l = 1), {
        x: o,
        y: l
    }
}
const a6 = wa(0);
function ck(t) {
    const s = dn(t);
    return !qj() || !s.visualViewport ? a6 : {
        x: s.visualViewport.offsetLeft,
        y: s.visualViewport.offsetTop
    }
}
function i6(t, s, r) {
    return s === void 0 && (s = !1), !r || s && r !== dn(t) ? !1 : s
}
function al(t, s, r, n) {
    s === void 0 && (s = !1),
    r === void 0 && (r = !1);
    const a = t.getBoundingClientRect(),
        i = Bj(t);
    let o = wa(1);
    s && (n ? Jn(n) && (o = rc(n)) : o = rc(t));
    const l = i6(i, r, n) ? ck(i) : wa(0);
    let c = (a.left + l.x) / o.x,
        d = (a.top + l.y) / o.y,
        u = a.width / o.x,
        m = a.height / o.y;
    if (i) {
        const p = dn(i),
            j = n && Jn(n) ? dn(n) : n;
        let g = p,
            x = Iv(g);
        for (; x && n && j !== g;) {
            const y = rc(x),
                v = x.getBoundingClientRect(),
                f = ea(x),
                b = v.left + (x.clientLeft + parseFloat(f.paddingLeft)) * y.x,
                N = v.top + (x.clientTop + parseFloat(f.paddingTop)) * y.y;
            c *= y.x,
            d *= y.y,
            u *= y.x,
            m *= y.y,
            c += b,
            d += N,
            g = dn(x),
            x = Iv(g)
        }
    }
    return wp({
        width: u,
        height: m,
        x: c,
        y: d
    })
}
function Hj(t, s) {
    const r = _f(t).scrollLeft;
    return s ? s.left + r : al(Ia(t)).left + r
}
function dk(t, s, r) {
    r === void 0 && (r = !1);
    const n = t.getBoundingClientRect(),
        a = n.left + s.scrollLeft - (r ? 0 : Hj(t, n)),
        i = n.top + s.scrollTop;
    return {
        x: a,
        y: i
    }
}
function o6(t) {
    let {elements: s, rect: r, offsetParent: n, strategy: a} = t;
    const i = a === "fixed",
        o = Ia(n),
        l = s ? Pf(s.floating) : !1;
    if (n === o || l && i)
        return r;
    let c = {
            scrollLeft: 0,
            scrollTop: 0
        },
        d = wa(1);
    const u = wa(0),
        m = Pa(n);
    if ((m || !m && !i) && ((td(n) !== "body" || cm(o)) && (c = _f(n)), Pa(n))) {
        const j = al(n);
        d = rc(n),
        u.x = j.x + n.clientLeft,
        u.y = j.y + n.clientTop
    }
    const p = o && !m && !i ? dk(o, c, !0) : wa(0);
    return {
        width: r.width * d.x,
        height: r.height * d.y,
        x: r.x * d.x - c.scrollLeft * d.x + u.x + p.x,
        y: r.y * d.y - c.scrollTop * d.y + u.y + p.y
    }
}
function l6(t) {
    return Array.from(t.getClientRects())
}
function c6(t) {
    const s = Ia(t),
        r = _f(t),
        n = t.ownerDocument.body,
        a = sn(s.scrollWidth, s.clientWidth, n.scrollWidth, n.clientWidth),
        i = sn(s.scrollHeight, s.clientHeight, n.scrollHeight, n.clientHeight);
    let o = -r.scrollLeft + Hj(t);
    const l = -r.scrollTop;
    return ea(n).direction === "rtl" && (o += sn(s.clientWidth, n.clientWidth) - a), {
        width: a,
        height: i,
        x: o,
        y: l
    }
}
function d6(t, s) {
    const r = dn(t),
        n = Ia(t),
        a = r.visualViewport;
    let i = n.clientWidth,
        o = n.clientHeight,
        l = 0,
        c = 0;
    if (a) {
        i = a.width,
        o = a.height;
        const d = qj();
        (!d || d && s === "fixed") && (l = a.offsetLeft, c = a.offsetTop)
    }
    return {
        width: i,
        height: o,
        x: l,
        y: c
    }
}
function u6(t, s) {
    const r = al(t, !0, s === "fixed"),
        n = r.top + t.clientTop,
        a = r.left + t.clientLeft,
        i = Pa(t) ? rc(t) : wa(1),
        o = t.clientWidth * i.x,
        l = t.clientHeight * i.y,
        c = a * i.x,
        d = n * i.y;
    return {
        width: o,
        height: l,
        x: c,
        y: d
    }
}
function pw(t, s, r) {
    let n;
    if (s === "viewport")
        n = d6(t, r);
    else if (s === "document")
        n = c6(Ia(t));
    else if (Jn(s))
        n = u6(s, r);
    else {
        const a = ck(t);
        n = {
            x: s.x - a.x,
            y: s.y - a.y,
            width: s.width,
            height: s.height
        }
    }
    return wp(n)
}
function uk(t, s) {
    const r = po(t);
    return r === s || !Jn(r) || Tc(r) ? !1 : ea(r).position === "fixed" || uk(r, s)
}
function m6(t, s) {
    const r = s.get(t);
    if (r)
        return r;
    let n = Nu(t, [], !1).filter(l => Jn(l) && td(l) !== "body"),
        a = null;
    const i = ea(t).position === "fixed";
    let o = i ? po(t) : t;
    for (; Jn(o) && !Tc(o);) {
        const l = ea(o),
            c = Uj(o);
        !c && l.position === "fixed" && (a = null),
        (i ? !c && !a : !c && l.position === "static" && !!a && ["absolute", "fixed"].includes(a.position) || cm(o) && !c && uk(t, o)) ? n = n.filter(u => u !== o) : a = l,
        o = po(o)
    }
    return s.set(t, n), n
}
function h6(t) {
    let {element: s, boundary: r, rootBoundary: n, strategy: a} = t;
    const o = [...r === "clippingAncestors" ? Pf(s) ? [] : m6(s, this._c) : [].concat(r), n],
        l = o[0],
        c = o.reduce((d, u) => {
            const m = pw(s, u, a);
            return d.top = sn(m.top, d.top), d.right = mo(m.right, d.right), d.bottom = mo(m.bottom, d.bottom), d.left = sn(m.left, d.left), d
        }, pw(s, l, a));
    return {
        width: c.right - c.left,
        height: c.bottom - c.top,
        x: c.left,
        y: c.top
    }
}
function p6(t) {
    const {width: s, height: r} = lk(t);
    return {
        width: s,
        height: r
    }
}
function f6(t, s, r) {
    const n = Pa(s),
        a = Ia(s),
        i = r === "fixed",
        o = al(t, !0, i, s);
    let l = {
        scrollLeft: 0,
        scrollTop: 0
    };
    const c = wa(0);
    if (n || !n && !i)
        if ((td(s) !== "body" || cm(a)) && (l = _f(s)), n) {
            const p = al(s, !0, i, s);
            c.x = p.x + s.clientLeft,
            c.y = p.y + s.clientTop
        } else
            a && (c.x = Hj(a));
    const d = a && !n && !i ? dk(a, l) : wa(0),
        u = o.left + l.scrollLeft - c.x - d.x,
        m = o.top + l.scrollTop - c.y - d.y;
    return {
        x: u,
        y: m,
        width: o.width,
        height: o.height
    }
}
function eg(t) {
    return ea(t).position === "static"
}
function fw(t, s) {
    if (!Pa(t) || ea(t).position === "fixed")
        return null;
    if (s)
        return s(t);
    let r = t.offsetParent;
    return Ia(t) === r && (r = r.ownerDocument.body), r
}
function mk(t, s) {
    const r = dn(t);
    if (Pf(t))
        return r;
    if (!Pa(t)) {
        let a = po(t);
        for (; a && !Tc(a);) {
            if (Jn(a) && !eg(a))
                return a;
            a = po(a)
        }
        return r
    }
    let n = fw(t, s);
    for (; n && r6(n) && eg(n);)
        n = fw(n, s);
    return n && Tc(n) && eg(n) && !Uj(n) ? r : n || n6(t) || r
}
const x6 = async function(t) {
    const s = this.getOffsetParent || mk,
        r = this.getDimensions,
        n = await r(t.floating);
    return {
        reference: f6(t.reference, await s(t.floating), t.strategy),
        floating: {
            x: 0,
            y: 0,
            width: n.width,
            height: n.height
        }
    }
};
function g6(t) {
    return ea(t).direction === "rtl"
}
const v6 = {
    convertOffsetParentRelativeRectToViewportRelativeRect: o6,
    getDocumentElement: Ia,
    getClippingRect: h6,
    getOffsetParent: mk,
    getElementRects: x6,
    getClientRects: l6,
    getDimensions: p6,
    getScale: rc,
    isElement: Jn,
    isRTL: g6
};
function hk(t, s) {
    return t.x === s.x && t.y === s.y && t.width === s.width && t.height === s.height
}
function y6(t, s) {
    let r = null,
        n;
    const a = Ia(t);
    function i() {
        var l;
        clearTimeout(n),
        (l = r) == null || l.disconnect(),
        r = null
    }
    function o(l, c) {
        l === void 0 && (l = !1),
        c === void 0 && (c = 1),
        i();
        const d = t.getBoundingClientRect(),
            {left: u, top: m, width: p, height: j} = d;
        if (l || s(), !p || !j)
            return;
        const g = rh(m),
            x = rh(a.clientWidth - (u + p)),
            y = rh(a.clientHeight - (m + j)),
            v = rh(u),
            b = {
                rootMargin: -g + "px " + -x + "px " + -y + "px " + -v + "px",
                threshold: sn(0, mo(1, c)) || 1
            };
        let N = !0;
        function w(C) {
            const E = C[0].intersectionRatio;
            if (E !== c) {
                if (!N)
                    return o();
                E ? o(!1, E) : n = setTimeout(() => {
                    o(!1, 1e-7)
                }, 1e3)
            }
            E === 1 && !hk(d, t.getBoundingClientRect()) && o(),
            N = !1
        }
        try {
            r = new IntersectionObserver(w, {
                ...b,
                root: a.ownerDocument
            })
        } catch {
            r = new IntersectionObserver(w, b)
        }
        r.observe(t)
    }
    return o(!0), i
}
function j6(t, s, r, n) {
    n === void 0 && (n = {});
    const {ancestorScroll: a=!0, ancestorResize: i=!0, elementResize: o=typeof ResizeObserver == "function", layoutShift: l=typeof IntersectionObserver == "function", animationFrame: c=!1} = n,
        d = Bj(t),
        u = a || i ? [...d ? Nu(d) : [], ...Nu(s)] : [];
    u.forEach(v => {
        a && v.addEventListener("scroll", r, {
            passive: !0
        }),
        i && v.addEventListener("resize", r)
    });
    const m = d && l ? y6(d, r) : null;
    let p = -1,
        j = null;
    o && (j = new ResizeObserver(v => {
        let [f] = v;
        f && f.target === d && j && (j.unobserve(s), cancelAnimationFrame(p), p = requestAnimationFrame(() => {
            var b;
            (b = j) == null || b.observe(s)
        })),
        r()
    }), d && !c && j.observe(d), j.observe(s));
    let g,
        x = c ? al(t) : null;
    c && y();
    function y() {
        const v = al(t);
        x && !hk(x, v) && r(),
        x = v,
        g = requestAnimationFrame(y)
    }
    return r(), () => {
        var v;
        u.forEach(f => {
            a && f.removeEventListener("scroll", r),
            i && f.removeEventListener("resize", r)
        }),
        m == null || m(),
        (v = j) == null || v.disconnect(),
        j = null,
        c && cancelAnimationFrame(g)
    }
}
const b6 = J3,
    N6 = e6,
    w6 = Q3,
    C6 = s6,
    S6 = Z3,
    xw = Y3,
    E6 = t6,
    k6 = (t, s, r) => {
        const n = new Map,
            a = {
                platform: v6,
                ...r
            },
            i = {
                ...a.platform,
                _c: n
            };
        return K3(t, s, {
            ...a,
            platform: i
        })
    };
var Ih = typeof document < "u" ? h.useLayoutEffect : h.useEffect;
function Cp(t, s) {
    if (t === s)
        return !0;
    if (typeof t != typeof s)
        return !1;
    if (typeof t == "function" && t.toString() === s.toString())
        return !0;
    let r,
        n,
        a;
    if (t && s && typeof t == "object") {
        if (Array.isArray(t)) {
            if (r = t.length, r !== s.length)
                return !1;
            for (n = r; n-- !== 0;)
                if (!Cp(t[n], s[n]))
                    return !1;
            return !0
        }
        if (a = Object.keys(t), r = a.length, r !== Object.keys(s).length)
            return !1;
        for (n = r; n-- !== 0;)
            if (!{}.hasOwnProperty.call(s, a[n]))
                return !1;
        for (n = r; n-- !== 0;) {
            const i = a[n];
            if (!(i === "_owner" && t.$$typeof) && !Cp(t[i], s[i]))
                return !1
        }
        return !0
    }
    return t !== t && s !== s
}
function pk(t) {
    return typeof window > "u" ? 1 : (t.ownerDocument.defaultView || window).devicePixelRatio || 1
}
function gw(t, s) {
    const r = pk(t);
    return Math.round(s * r) / r
}
function tg(t) {
    const s = h.useRef(t);
    return Ih(() => {
        s.current = t
    }), s
}
function P6(t) {
    t === void 0 && (t = {});
    const {placement: s="bottom", strategy: r="absolute", middleware: n=[], platform: a, elements: {reference: i, floating: o}={}, transform: l=!0, whileElementsMounted: c, open: d} = t,
        [u, m] = h.useState({
            x: 0,
            y: 0,
            strategy: r,
            placement: s,
            middlewareData: {},
            isPositioned: !1
        }),
        [p, j] = h.useState(n);
    Cp(p, n) || j(n);
    const [g, x] = h.useState(null),
        [y, v] = h.useState(null),
        f = h.useCallback(I => {
            I !== C.current && (C.current = I, x(I))
        }, []),
        b = h.useCallback(I => {
            I !== E.current && (E.current = I, v(I))
        }, []),
        N = i || g,
        w = o || y,
        C = h.useRef(null),
        E = h.useRef(null),
        k = h.useRef(u),
        R = c != null,
        H = tg(c),
        z = tg(a),
        A = tg(d),
        $ = h.useCallback(() => {
            if (!C.current || !E.current)
                return;
            const I = {
                placement: s,
                strategy: r,
                middleware: p
            };
            z.current && (I.platform = z.current),
            k6(C.current, E.current, I).then(W => {
                const oe = {
                    ...W,
                    isPositioned: A.current !== !1
                };
                G.current && !Cp(k.current, oe) && (k.current = oe, yl.flushSync(() => {
                    m(oe)
                }))
            })
        }, [p, s, r, z, A]);
    Ih(() => {
        d === !1 && k.current.isPositioned && (k.current.isPositioned = !1, m(I => ({
            ...I,
            isPositioned: !1
        })))
    }, [d]);
    const G = h.useRef(!1);
    Ih(() => (G.current = !0, () => {
        G.current = !1
    }), []),
    Ih(() => {
        if (N && (C.current = N), w && (E.current = w), N && w) {
            if (H.current)
                return H.current(N, w, $);
            $()
        }
    }, [N, w, $, H, R]);
    const F = h.useMemo(() => ({
            reference: C,
            floating: E,
            setReference: f,
            setFloating: b
        }), [f, b]),
        _ = h.useMemo(() => ({
            reference: N,
            floating: w
        }), [N, w]),
        S = h.useMemo(() => {
            const I = {
                position: r,
                left: 0,
                top: 0
            };
            if (!_.floating)
                return I;
            const W = gw(_.floating, u.x),
                oe = gw(_.floating, u.y);
            return l ? {
                ...I,
                transform: "translate(" + W + "px, " + oe + "px)",
                ...pk(_.floating) >= 1.5 && {
                    willChange: "transform"
                }
            } : {
                position: r,
                left: W,
                top: oe
            }
        }, [r, l, _.floating, u.x, u.y]);
    return h.useMemo(() => ({
        ...u,
        update: $,
        refs: F,
        elements: _,
        floatingStyles: S
    }), [u, $, F, _, S])
}
const _6 = t => {
        function s(r) {
            return {}.hasOwnProperty.call(r, "current")
        }
        return {
            name: "arrow",
            options: t,
            fn(r) {
                const {element: n, padding: a} = typeof t == "function" ? t(r) : t;
                return n && s(n) ? n.current != null ? xw({
                    element: n.current,
                    padding: a
                }).fn(r) : {} : n ? xw({
                    element: n,
                    padding: a
                }).fn(r) : {}
            }
        }
    },
    T6 = (t, s) => ({
        ...b6(t),
        options: [t, s]
    }),
    A6 = (t, s) => ({
        ...N6(t),
        options: [t, s]
    }),
    M6 = (t, s) => ({
        ...E6(t),
        options: [t, s]
    }),
    I6 = (t, s) => ({
        ...w6(t),
        options: [t, s]
    }),
    R6 = (t, s) => ({
        ...C6(t),
        options: [t, s]
    }),
    D6 = (t, s) => ({
        ...S6(t),
        options: [t, s]
    }),
    O6 = (t, s) => ({
        ..._6(t),
        options: [t, s]
    });
var L6 = "Arrow",
    fk = h.forwardRef((t, s) => {
        const {children: r, width: n=10, height: a=5, ...i} = t;
        return e.jsx(Oe.svg, {
            ...i,
            ref: s,
            width: n,
            height: a,
            viewBox: "0 0 30 10",
            preserveAspectRatio: "none",
            children: t.asChild ? r : e.jsx("polygon", {
                points: "0,0 30,0 15,10"
            })
        })
    });
fk.displayName = L6;
var F6 = fk;
function Tf(t) {
    const [s, r] = h.useState(void 0);
    return js(() => {
        if (t) {
            r({
                width: t.offsetWidth,
                height: t.offsetHeight
            });
            const n = new ResizeObserver(a => {
                if (!Array.isArray(a) || !a.length)
                    return;
                const i = a[0];
                let o,
                    l;
                if ("borderBoxSize" in i) {
                    const c = i.borderBoxSize,
                        d = Array.isArray(c) ? c[0] : c;
                    o = d.inlineSize,
                    l = d.blockSize
                } else
                    o = t.offsetWidth,
                    l = t.offsetHeight;
                r({
                    width: o,
                    height: l
                })
            });
            return n.observe(t, {
                box: "border-box"
            }), () => n.unobserve(t)
        } else
            r(void 0)
    }, [t]), s
}
var Wj = "Popper",
    [xk, No] = ws(Wj),
    [z6, gk] = xk(Wj),
    vk = t => {
        const {__scopePopper: s, children: r} = t,
            [n, a] = h.useState(null);
        return e.jsx(z6, {
            scope: s,
            anchor: n,
            onAnchorChange: a,
            children: r
        })
    };
vk.displayName = Wj;
var yk = "PopperAnchor",
    jk = h.forwardRef((t, s) => {
        const {__scopePopper: r, virtualRef: n, ...a} = t,
            i = gk(yk, r),
            o = h.useRef(null),
            l = lt(s, o);
        return h.useEffect(() => {
            i.onAnchorChange((n == null ? void 0 : n.current) || o.current)
        }), n ? null : e.jsx(Oe.div, {
            ...a,
            ref: l
        })
    });
jk.displayName = yk;
var Gj = "PopperContent",
    [$6, V6] = xk(Gj),
    bk = h.forwardRef((t, s) => {
        var D,
            K,
            L,
            ee,
            ce,
            le;
        const {__scopePopper: r, side: n="bottom", sideOffset: a=0, align: i="center", alignOffset: o=0, arrowPadding: l=0, avoidCollisions: c=!0, collisionBoundary: d=[], collisionPadding: u=0, sticky: m="partial", hideWhenDetached: p=!1, updatePositionStrategy: j="optimized", onPlaced: g, ...x} = t,
            y = gk(Gj, r),
            [v, f] = h.useState(null),
            b = lt(s, Se => f(Se)),
            [N, w] = h.useState(null),
            C = Tf(N),
            E = (C == null ? void 0 : C.width) ?? 0,
            k = (C == null ? void 0 : C.height) ?? 0,
            R = n + (i !== "center" ? "-" + i : ""),
            H = typeof u == "number" ? u : {
                top: 0,
                right: 0,
                bottom: 0,
                left: 0,
                ...u
            },
            z = Array.isArray(d) ? d : [d],
            A = z.length > 0,
            $ = {
                padding: H,
                boundary: z.filter(q6),
                altBoundary: A
            },
            {refs: G, floatingStyles: F, placement: _, isPositioned: S, middlewareData: I} = P6({
                strategy: "fixed",
                placement: R,
                whileElementsMounted: (...Se) => j6(...Se, {
                    animationFrame: j === "always"
                }),
                elements: {
                    reference: y.anchor
                },
                middleware: [T6({
                    mainAxis: a + k,
                    alignmentAxis: o
                }), c && A6({
                    mainAxis: !0,
                    crossAxis: !1,
                    limiter: m === "partial" ? M6() : void 0,
                    ...$
                }), c && I6({
                    ...$
                }), R6({
                    ...$,
                    apply: ({elements: Se, rects: pe, availableWidth: _e, availableHeight: dt}) => {
                        const {width: B, height: De} = pe.reference,
                            vt = Se.floating.style;
                        vt.setProperty("--radix-popper-available-width", `${_e}px`),
                        vt.setProperty("--radix-popper-available-height", `${dt}px`),
                        vt.setProperty("--radix-popper-anchor-width", `${B}px`),
                        vt.setProperty("--radix-popper-anchor-height", `${De}px`)
                    }
                }), N && O6({
                    element: N,
                    padding: l
                }), B6({
                    arrowWidth: E,
                    arrowHeight: k
                }), p && D6({
                    strategy: "referenceHidden",
                    ...$
                })]
            }),
            [W, oe] = Ck(_),
            O = Zt(g);
        js(() => {
            S && (O == null || O())
        }, [S, O]);
        const M = (D = I.arrow) == null ? void 0 : D.x,
            re = (K = I.arrow) == null ? void 0 : K.y,
            ue = ((L = I.arrow) == null ? void 0 : L.centerOffset) !== 0,
            [Y, he] = h.useState();
        return js(() => {
            v && he(window.getComputedStyle(v).zIndex)
        }, [v]), e.jsx("div", {
            ref: G.setFloating,
            "data-radix-popper-content-wrapper": "",
            style: {
                ...F,
                transform: S ? F.transform : "translate(0, -200%)",
                minWidth: "max-content",
                zIndex: Y,
                "--radix-popper-transform-origin": [(ee = I.transformOrigin) == null ? void 0 : ee.x, (ce = I.transformOrigin) == null ? void 0 : ce.y].join(" "),
                ...((le = I.hide) == null ? void 0 : le.referenceHidden) && {
                    visibility: "hidden",
                    pointerEvents: "none"
                }
            },
            dir: t.dir,
            children: e.jsx($6, {
                scope: r,
                placedSide: W,
                onArrowChange: w,
                arrowX: M,
                arrowY: re,
                shouldHideArrow: ue,
                children: e.jsx(Oe.div, {
                    "data-side": W,
                    "data-align": oe,
                    ...x,
                    ref: b,
                    style: {
                        ...x.style,
                        animation: S ? void 0 : "none"
                    }
                })
            })
        })
    });
bk.displayName = Gj;
var Nk = "PopperArrow",
    U6 = {
        top: "bottom",
        right: "left",
        bottom: "top",
        left: "right"
    },
    wk = h.forwardRef(function(s, r) {
        const {__scopePopper: n, ...a} = s,
            i = V6(Nk, n),
            o = U6[i.placedSide];
        return e.jsx("span", {
            ref: i.onArrowChange,
            style: {
                position: "absolute",
                left: i.arrowX,
                top: i.arrowY,
                [o]: 0,
                transformOrigin: {
                    top: "",
                    right: "0 0",
                    bottom: "center 0",
                    left: "100% 0"
                }[i.placedSide],
                transform: {
                    top: "translateY(100%)",
                    right: "translateY(50%) rotate(90deg) translateX(-50%)",
                    bottom: "rotate(180deg)",
                    left: "translateY(50%) rotate(-90deg) translateX(50%)"
                }[i.placedSide],
                visibility: i.shouldHideArrow ? "hidden" : void 0
            },
            children: e.jsx(F6, {
                ...a,
                ref: r,
                style: {
                    ...a.style,
                    display: "block"
                }
            })
        })
    });
wk.displayName = Nk;
function q6(t) {
    return t !== null
}
var B6 = t => ({
    name: "transformOrigin",
    options: t,
    fn(s) {
        var y,
            v,
            f;
        const {placement: r, rects: n, middlewareData: a} = s,
            o = ((y = a.arrow) == null ? void 0 : y.centerOffset) !== 0,
            l = o ? 0 : t.arrowWidth,
            c = o ? 0 : t.arrowHeight,
            [d, u] = Ck(r),
            m = {
                start: "0%",
                center: "50%",
                end: "100%"
            }[u],
            p = (((v = a.arrow) == null ? void 0 : v.x) ?? 0) + l / 2,
            j = (((f = a.arrow) == null ? void 0 : f.y) ?? 0) + c / 2;
        let g = "",
            x = "";
        return d === "bottom" ? (g = o ? m : `${p}px`, x = `${-c}px`) : d === "top" ? (g = o ? m : `${p}px`, x = `${n.floating.height + c}px`) : d === "right" ? (g = `${-c}px`, x = o ? m : `${j}px`) : d === "left" && (g = `${n.floating.width + c}px`, x = o ? m : `${j}px`), {
            data: {
                x: g,
                y: x
            }
        }
    }
});
function Ck(t) {
    const [s, r="center"] = t.split("-");
    return [s, r]
}
var Kj = vk,
    dm = jk,
    Af = bk,
    Mf = wk,
    [If, UQ] = ws("Tooltip", [No]),
    Yj = No(),
    Sk = "TooltipProvider",
    H6 = 700,
    vw = "tooltip.open",
    [W6, Ek] = If(Sk),
    kk = t => {
        const {__scopeTooltip: s, delayDuration: r=H6, skipDelayDuration: n=300, disableHoverableContent: a=!1, children: i} = t,
            o = h.useRef(!0),
            l = h.useRef(!1),
            c = h.useRef(0);
        return h.useEffect(() => {
            const d = c.current;
            return () => window.clearTimeout(d)
        }, []), e.jsx(W6, {
            scope: s,
            isOpenDelayedRef: o,
            delayDuration: r,
            onOpen: h.useCallback(() => {
                window.clearTimeout(c.current),
                o.current = !1
            }, []),
            onClose: h.useCallback(() => {
                window.clearTimeout(c.current),
                c.current = window.setTimeout(() => o.current = !0, n)
            }, [n]),
            isPointerInTransitRef: l,
            onPointerInTransitChange: h.useCallback(d => {
                l.current = d
            }, []),
            disableHoverableContent: a,
            children: i
        })
    };
kk.displayName = Sk;
var Pk = "Tooltip",
    [qQ, Rf] = If(Pk),
    Rv = "TooltipTrigger",
    G6 = h.forwardRef((t, s) => {
        const {__scopeTooltip: r, ...n} = t,
            a = Rf(Rv, r),
            i = Ek(Rv, r),
            o = Yj(r),
            l = h.useRef(null),
            c = lt(s, l, a.onTriggerChange),
            d = h.useRef(!1),
            u = h.useRef(!1),
            m = h.useCallback(() => d.current = !1, []);
        return h.useEffect(() => () => document.removeEventListener("pointerup", m), [m]), e.jsx(dm, {
            asChild: !0,
            ...o,
            children: e.jsx(Oe.button, {
                "aria-describedby": a.open ? a.contentId : void 0,
                "data-state": a.stateAttribute,
                ...n,
                ref: c,
                onPointerMove: Ne(t.onPointerMove, p => {
                    p.pointerType !== "touch" && !u.current && !i.isPointerInTransitRef.current && (a.onTriggerEnter(), u.current = !0)
                }),
                onPointerLeave: Ne(t.onPointerLeave, () => {
                    a.onTriggerLeave(),
                    u.current = !1
                }),
                onPointerDown: Ne(t.onPointerDown, () => {
                    a.open && a.onClose(),
                    d.current = !0,
                    document.addEventListener("pointerup", m, {
                        once: !0
                    })
                }),
                onFocus: Ne(t.onFocus, () => {
                    d.current || a.onOpen()
                }),
                onBlur: Ne(t.onBlur, a.onClose),
                onClick: Ne(t.onClick, a.onClose)
            })
        })
    });
G6.displayName = Rv;
var K6 = "TooltipPortal",
    [BQ, Y6] = If(K6, {
        forceMount: void 0
    }),
    Ac = "TooltipContent",
    _k = h.forwardRef((t, s) => {
        const r = Y6(Ac, t.__scopeTooltip),
            {forceMount: n=r.forceMount, side: a="top", ...i} = t,
            o = Rf(Ac, t.__scopeTooltip);
        return e.jsx(_s, {
            present: n || o.open,
            children: o.disableHoverableContent ? e.jsx(Tk, {
                side: a,
                ...i,
                ref: s
            }) : e.jsx(Q6, {
                side: a,
                ...i,
                ref: s
            })
        })
    }),
    Q6 = h.forwardRef((t, s) => {
        const r = Rf(Ac, t.__scopeTooltip),
            n = Ek(Ac, t.__scopeTooltip),
            a = h.useRef(null),
            i = lt(s, a),
            [o, l] = h.useState(null),
            {trigger: c, onClose: d} = r,
            u = a.current,
            {onPointerInTransitChange: m} = n,
            p = h.useCallback(() => {
                l(null),
                m(!1)
            }, [m]),
            j = h.useCallback((g, x) => {
                const y = g.currentTarget,
                    v = {
                        x: g.clientX,
                        y: g.clientY
                    },
                    f = tL(v, y.getBoundingClientRect()),
                    b = sL(v, f),
                    N = rL(x.getBoundingClientRect()),
                    w = aL([...b, ...N]);
                l(w),
                m(!0)
            }, [m]);
        return h.useEffect(() => () => p(), [p]), h.useEffect(() => {
            if (c && u) {
                const g = y => j(y, u),
                    x = y => j(y, c);
                return c.addEventListener("pointerleave", g), u.addEventListener("pointerleave", x), () => {
                    c.removeEventListener("pointerleave", g),
                    u.removeEventListener("pointerleave", x)
                }
            }
        }, [c, u, j, p]), h.useEffect(() => {
            if (o) {
                const g = x => {
                    const y = x.target,
                        v = {
                            x: x.clientX,
                            y: x.clientY
                        },
                        f = (c == null ? void 0 : c.contains(y)) || (u == null ? void 0 : u.contains(y)),
                        b = !nL(v, o);
                    f ? p() : b && (p(), d())
                };
                return document.addEventListener("pointermove", g), () => document.removeEventListener("pointermove", g)
            }
        }, [c, u, o, d, p]), e.jsx(Tk, {
            ...t,
            ref: i
        })
    }),
    [Z6, X6] = If(Pk, {
        isInside: !1
    }),
    J6 = dE("TooltipContent"),
    Tk = h.forwardRef((t, s) => {
        const {__scopeTooltip: r, children: n, "aria-label": a, onEscapeKeyDown: i, onPointerDownOutside: o, ...l} = t,
            c = Rf(Ac, r),
            d = Yj(r),
            {onClose: u} = c;
        return h.useEffect(() => (document.addEventListener(vw, u), () => document.removeEventListener(vw, u)), [u]), h.useEffect(() => {
            if (c.trigger) {
                const m = p => {
                    const j = p.target;
                    j != null && j.contains(c.trigger) && u()
                };
                return window.addEventListener("scroll", m, {
                    capture: !0
                }), () => window.removeEventListener("scroll", m, {
                    capture: !0
                })
            }
        }, [c.trigger, u]), e.jsx(jl, {
            asChild: !0,
            disableOutsidePointerEvents: !1,
            onEscapeKeyDown: i,
            onPointerDownOutside: o,
            onFocusOutside: m => m.preventDefault(),
            onDismiss: u,
            children: e.jsxs(Af, {
                "data-state": c.stateAttribute,
                ...d,
                ...l,
                ref: s,
                style: {
                    ...l.style,
                    "--radix-tooltip-content-transform-origin": "var(--radix-popper-transform-origin)",
                    "--radix-tooltip-content-available-width": "var(--radix-popper-available-width)",
                    "--radix-tooltip-content-available-height": "var(--radix-popper-available-height)",
                    "--radix-tooltip-trigger-width": "var(--radix-popper-anchor-width)",
                    "--radix-tooltip-trigger-height": "var(--radix-popper-anchor-height)"
                },
                children: [e.jsx(J6, {
                    children: n
                }), e.jsx(Z6, {
                    scope: r,
                    isInside: !0,
                    children: e.jsx(W5, {
                        id: c.contentId,
                        role: "tooltip",
                        children: a || n
                    })
                })]
            })
        })
    });
_k.displayName = Ac;
var Ak = "TooltipArrow",
    eL = h.forwardRef((t, s) => {
        const {__scopeTooltip: r, ...n} = t,
            a = Yj(r);
        return X6(Ak, r).isInside ? null : e.jsx(Mf, {
            ...a,
            ...n,
            ref: s
        })
    });
eL.displayName = Ak;
function tL(t, s) {
    const r = Math.abs(s.top - t.y),
        n = Math.abs(s.bottom - t.y),
        a = Math.abs(s.right - t.x),
        i = Math.abs(s.left - t.x);
    switch (Math.min(r, n, a, i)) {
    case i:
        return "left";
    case a:
        return "right";
    case r:
        return "top";
    case n:
        return "bottom";
    default:
        throw new Error("unreachable")
    }
}
function sL(t, s, r=5) {
    const n = [];
    switch (s) {
    case "top":
        n.push({
            x: t.x - r,
            y: t.y + r
        }, {
            x: t.x + r,
            y: t.y + r
        });
        break;
    case "bottom":
        n.push({
            x: t.x - r,
            y: t.y - r
        }, {
            x: t.x + r,
            y: t.y - r
        });
        break;
    case "left":
        n.push({
            x: t.x + r,
            y: t.y - r
        }, {
            x: t.x + r,
            y: t.y + r
        });
        break;
    case "right":
        n.push({
            x: t.x - r,
            y: t.y - r
        }, {
            x: t.x - r,
            y: t.y + r
        });
        break
    }
    return n
}
function rL(t) {
    const {top: s, right: r, bottom: n, left: a} = t;
    return [{
        x: a,
        y: s
    }, {
        x: r,
        y: s
    }, {
        x: r,
        y: n
    }, {
        x: a,
        y: n
    }]
}
function nL(t, s) {
    const {x: r, y: n} = t;
    let a = !1;
    for (let i = 0, o = s.length - 1; i < s.length; o = i++) {
        const l = s[i].x,
            c = s[i].y,
            d = s[o].x,
            u = s[o].y;
        c > n != u > n && r < (d - l) * (n - c) / (u - c) + l && (a = !a)
    }
    return a
}
function aL(t) {
    const s = t.slice();
    return s.sort((r, n) => r.x < n.x ? -1 : r.x > n.x ? 1 : r.y < n.y ? -1 : r.y > n.y ? 1 : 0), iL(s)
}
function iL(t) {
    if (t.length <= 1)
        return t.slice();
    const s = [];
    for (let n = 0; n < t.length; n++) {
        const a = t[n];
        for (; s.length >= 2;) {
            const i = s[s.length - 1],
                o = s[s.length - 2];
            if ((i.x - o.x) * (a.y - o.y) >= (i.y - o.y) * (a.x - o.x))
                s.pop();
            else
                break
        }
        s.push(a)
    }
    s.pop();
    const r = [];
    for (let n = t.length - 1; n >= 0; n--) {
        const a = t[n];
        for (; r.length >= 2;) {
            const i = r[r.length - 1],
                o = r[r.length - 2];
            if ((i.x - o.x) * (a.y - o.y) >= (i.y - o.y) * (a.x - o.x))
                r.pop();
            else
                break
        }
        r.push(a)
    }
    return r.pop(), s.length === 1 && r.length === 1 && s[0].x === r[0].x && s[0].y === r[0].y ? s : s.concat(r)
}
var oL = kk,
    Mk = _k;
const lL = oL,
    cL = h.forwardRef(({className: t, sideOffset: s=4, ...r}, n) => e.jsx(Mk, {
        ref: n,
        sideOffset: s,
        className: me("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]", t),
        ...r
    }));
cL.displayName = Mk.displayName;
var sd = class {
        constructor()
        {
            this.listeners = new Set,
            this.subscribe = this.subscribe.bind(this)
        }
        subscribe(t)
        {
            return this.listeners.add(t), this.onSubscribe(), () => {
                this.listeners.delete(t),
                this.onUnsubscribe()
            }
        }
        hasListeners()
        {
            return this.listeners.size > 0
        }
        onSubscribe() {}
        onUnsubscribe() {}
    }
    ,
    il = typeof window > "u" || "Deno" in globalThis;
function vn() {}
function dL(t, s) {
    return typeof t == "function" ? t(s) : t
}
function Dv(t) {
    return typeof t == "number" && t >= 0 && t !== 1 / 0
}
function Ik(t, s) {
    return Math.max(t + (s || 0) - Date.now(), 0)
}
function nc(t, s) {
    return typeof t == "function" ? t(s) : t
}
function $n(t, s) {
    return typeof t == "function" ? t(s) : t
}
function yw(t, s) {
    const {type: r="all", exact: n, fetchStatus: a, predicate: i, queryKey: o, stale: l} = t;
    if (o) {
        if (n) {
            if (s.queryHash !== Qj(o, s.options))
                return !1
        } else if (!wu(s.queryKey, o))
            return !1
    }
    if (r !== "all") {
        const c = s.isActive();
        if (r === "active" && !c || r === "inactive" && c)
            return !1
    }
    return !(typeof l == "boolean" && s.isStale() !== l || a && a !== s.state.fetchStatus || i && !i(s))
}
function jw(t, s) {
    const {exact: r, status: n, predicate: a, mutationKey: i} = t;
    if (i) {
        if (!s.options.mutationKey)
            return !1;
        if (r) {
            if (ol(s.options.mutationKey) !== ol(i))
                return !1
        } else if (!wu(s.options.mutationKey, i))
            return !1
    }
    return !(n && s.state.status !== n || a && !a(s))
}
function Qj(t, s) {
    return ((s == null ? void 0 : s.queryKeyHashFn) || ol)(t)
}
function ol(t) {
    return JSON.stringify(t, (s, r) => Ov(r) ? Object.keys(r).sort().reduce((n, a) => (n[a] = r[a], n), {}) : r)
}
function wu(t, s) {
    return t === s ? !0 : typeof t != typeof s ? !1 : t && s && typeof t == "object" && typeof s == "object" ? !Object.keys(s).some(r => !wu(t[r], s[r])) : !1
}
function Rk(t, s) {
    if (t === s)
        return t;
    const r = bw(t) && bw(s);
    if (r || Ov(t) && Ov(s)) {
        const n = r ? t : Object.keys(t),
            a = n.length,
            i = r ? s : Object.keys(s),
            o = i.length,
            l = r ? [] : {};
        let c = 0;
        for (let d = 0; d < o; d++) {
            const u = r ? d : i[d];
            (!r && n.includes(u) || r) && t[u] === void 0 && s[u] === void 0 ? (l[u] = void 0, c++) : (l[u] = Rk(t[u], s[u]), l[u] === t[u] && t[u] !== void 0 && c++)
        }
        return a === o && c === a ? t : l
    }
    return s
}
function Sp(t, s) {
    if (!s || Object.keys(t).length !== Object.keys(s).length)
        return !1;
    for (const r in t)
        if (t[r] !== s[r])
            return !1;
    return !0
}
function bw(t) {
    return Array.isArray(t) && t.length === Object.keys(t).length
}
function Ov(t) {
    if (!Nw(t))
        return !1;
    const s = t.constructor;
    if (s === void 0)
        return !0;
    const r = s.prototype;
    return !(!Nw(r) || !r.hasOwnProperty("isPrototypeOf") || Object.getPrototypeOf(t) !== Object.prototype)
}
function Nw(t) {
    return Object.prototype.toString.call(t) === "[object Object]"
}
function uL(t) {
    return new Promise(s => {
        setTimeout(s, t)
    })
}
function Lv(t, s, r) {
    return typeof r.structuralSharing == "function" ? r.structuralSharing(t, s) : r.structuralSharing !== !1 ? Rk(t, s) : s
}
function mL(t, s, r=0) {
    const n = [...t, s];
    return r && n.length > r ? n.slice(1) : n
}
function hL(t, s, r=0) {
    const n = [s, ...t];
    return r && n.length > r ? n.slice(0, -1) : n
}
var Zj = Symbol();
function Dk(t, s) {
    return !t.queryFn && (s != null && s.initialPromise) ? () => s.initialPromise : !t.queryFn || t.queryFn === Zj ? () => Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)) : t.queryFn
}
var zo,
    zi,
    cc,
    k2,
    pL = (k2 = class  extends sd{
        constructor()
        {
            super();
            Je(this, zo);
            Je(this, zi);
            Je(this, cc);
            Le(this, cc, s => {
                if (!il && window.addEventListener) {
                    const r = () => s();
                    return window.addEventListener("visibilitychange", r, !1), () => {
                        window.removeEventListener("visibilitychange", r)
                    }
                }
            })
        }
        onSubscribe()
        {
            Z(this, zi) || this.setEventListener(Z(this, cc))
        }
        onUnsubscribe()
        {
            var s;
            this.hasListeners() || ((s = Z(this, zi)) == null || s.call(this), Le(this, zi, void 0))
        }
        setEventListener(s)
        {
            var r;
            Le(this, cc, s),
            (r = Z(this, zi)) == null || r.call(this),
            Le(this, zi, s(n => {
                typeof n == "boolean" ? this.setFocused(n) : this.onFocus()
            }))
        }
        setFocused(s)
        {
            Z(this, zo) !== s && (Le(this, zo, s), this.onFocus())
        }
        onFocus()
        {
            const s = this.isFocused();
            this.listeners.forEach(r => {
                r(s)
            })
        }
        isFocused()
        {
            var s;
            return typeof Z(this, zo) == "boolean" ? Z(this, zo) : ((s = globalThis.document) == null ? void 0 : s.visibilityState) !== "hidden"
        }
    }
    , zo = new WeakMap, zi = new WeakMap, cc = new WeakMap, k2),
    Xj = new pL,
    dc,
    $i,
    uc,
    P2,
    fL = (P2 = class  extends sd{
        constructor()
        {
            super();
            Je(this, dc, !0);
            Je(this, $i);
            Je(this, uc);
            Le(this, uc, s => {
                if (!il && window.addEventListener) {
                    const r = () => s(!0),
                        n = () => s(!1);
                    return window.addEventListener("online", r, !1), window.addEventListener("offline", n, !1), () => {
                        window.removeEventListener("online", r),
                        window.removeEventListener("offline", n)
                    }
                }
            })
        }
        onSubscribe()
        {
            Z(this, $i) || this.setEventListener(Z(this, uc))
        }
        onUnsubscribe()
        {
            var s;
            this.hasListeners() || ((s = Z(this, $i)) == null || s.call(this), Le(this, $i, void 0))
        }
        setEventListener(s)
        {
            var r;
            Le(this, uc, s),
            (r = Z(this, $i)) == null || r.call(this),
            Le(this, $i, s(this.setOnline.bind(this)))
        }
        setOnline(s)
        {
            Z(this, dc) !== s && (Le(this, dc, s), this.listeners.forEach(n => {
                n(s)
            }))
        }
        isOnline()
        {
            return Z(this, dc)
        }
    }
    , dc = new WeakMap, $i = new WeakMap, uc = new WeakMap, P2),
    Ep = new fL;
function Fv() {
    let t,
        s;
    const r = new Promise((a, i) => {
        t = a,
        s = i
    });
    r.status = "pending",
    r.catch(() => {});
    function n(a) {
        Object.assign(r, a),
        delete r.resolve,
        delete r.reject
    }
    return r.resolve = a => {
        n({
            status: "fulfilled",
            value: a
        }),
        t(a)
    }, r.reject = a => {
        n({
            status: "rejected",
            reason: a
        }),
        s(a)
    }, r
}
function xL(t) {
    return Math.min(1e3 * 2 ** t, 3e4)
}
function Ok(t) {
    return (t ?? "online") === "online" ? Ep.isOnline() : !0
}
var Lk = class  extends Error{
    constructor(t)
    {
        super("CancelledError"),
        this.revert = t == null ? void 0 : t.revert,
        this.silent = t == null ? void 0 : t.silent
    }
}
;
function sg(t) {
    return t instanceof Lk
}
function Fk(t) {
    let s = !1,
        r = 0,
        n = !1,
        a;
    const i = Fv(),
        o = x => {
            var y;
            n || (p(new Lk(x)), (y = t.abort) == null || y.call(t))
        },
        l = () => {
            s = !0
        },
        c = () => {
            s = !1
        },
        d = () => Xj.isFocused() && (t.networkMode === "always" || Ep.isOnline()) && t.canRun(),
        u = () => Ok(t.networkMode) && t.canRun(),
        m = x => {
            var y;
            n || (n = !0, (y = t.onSuccess) == null || y.call(t, x), a == null || a(), i.resolve(x))
        },
        p = x => {
            var y;
            n || (n = !0, (y = t.onError) == null || y.call(t, x), a == null || a(), i.reject(x))
        },
        j = () => new Promise(x => {
            var y;
            a = v => {
                (n || d()) && x(v)
            },
            (y = t.onPause) == null || y.call(t)
        }).then(() => {
            var x;
            a = void 0,
            n || (x = t.onContinue) == null || x.call(t)
        }),
        g = () => {
            if (n)
                return;
            let x;
            const y = r === 0 ? t.initialPromise : void 0;
            try {
                x = y ?? t.fn()
            } catch (v) {
                x = Promise.reject(v)
            }
            Promise.resolve(x).then(m).catch(v => {
                var C;
                if (n)
                    return;
                const f = t.retry ?? (il ? 0 : 3),
                    b = t.retryDelay ?? xL,
                    N = typeof b == "function" ? b(r, v) : b,
                    w = f === !0 || typeof f == "number" && r < f || typeof f == "function" && f(r, v);
                if (s || !w) {
                    p(v);
                    return
                }
                r++,
                (C = t.onFail) == null || C.call(t, r, v),
                uL(N).then(() => d() ? void 0 : j()).then(() => {
                    s ? p(v) : g()
                })
            })
        };
    return {
        promise: i,
        cancel: o,
        continue: () => (a == null || a(), i),
        cancelRetry: l,
        continueRetry: c,
        canStart: u,
        start: () => (u() ? g() : j().then(g), i)
    }
}
function gL() {
    let t = [],
        s = 0,
        r = l => {
            l()
        },
        n = l => {
            l()
        },
        a = l => setTimeout(l, 0);
    const i = l => {
            s ? t.push(l) : a(() => {
                r(l)
            })
        },
        o = () => {
            const l = t;
            t = [],
            l.length && a(() => {
                n(() => {
                    l.forEach(c => {
                        r(c)
                    })
                })
            })
        };
    return {
        batch: l => {
            let c;
            s++;
            try {
                c = l()
            } finally {
                s--,
                s || o()
            }
            return c
        },
        batchCalls: l => (...c) => {
            i(() => {
                l(...c)
            })
        },
        schedule: i,
        setNotifyFunction: l => {
            r = l
        },
        setBatchNotifyFunction: l => {
            n = l
        },
        setScheduler: l => {
            a = l
        }
    }
}
var Os = gL(),
    $o,
    _2,
    zk = (_2 = class {
        constructor()
        {
            Je(this, $o)
        }
        destroy()
        {
            this.clearGcTimeout()
        }
        scheduleGc()
        {
            this.clearGcTimeout(),
            Dv(this.gcTime) && Le(this, $o, setTimeout(() => {
                this.optionalRemove()
            }, this.gcTime))
        }
        updateGcTime(t)
        {
            this.gcTime = Math.max(this.gcTime || 0, t ?? (il ? 1 / 0 : 5 * 60 * 1e3))
        }
        clearGcTimeout()
        {
            Z(this, $o) && (clearTimeout(Z(this, $o)), Le(this, $o, void 0))
        }
    }
    , $o = new WeakMap, _2),
    mc,
    hc,
    gn,
    ir,
    Qu,
    Vo,
    Ln,
    Ua,
    T2,
    vL = (T2 = class  extends zk{
        constructor(s)
        {
            super();
            Je(this, Ln);
            Je(this, mc);
            Je(this, hc);
            Je(this, gn);
            Je(this, ir);
            Je(this, Qu);
            Je(this, Vo);
            Le(this, Vo, !1),
            Le(this, Qu, s.defaultOptions),
            this.setOptions(s.options),
            this.observers = [],
            Le(this, gn, s.cache),
            this.queryKey = s.queryKey,
            this.queryHash = s.queryHash,
            Le(this, mc, yL(this.options)),
            this.state = s.state ?? Z(this, mc),
            this.scheduleGc()
        }
        get meta()
        {
            return this.options.meta
        }
        get promise()
        {
            var s;
            return (s = Z(this, ir)) == null ? void 0 : s.promise
        }
        setOptions(s)
        {
            this.options = {
                ...Z(this, Qu),
                ...s
            },
            this.updateGcTime(this.options.gcTime)
        }
        optionalRemove()
        {
            !this.observers.length && this.state.fetchStatus === "idle" && Z(this, gn).remove(this)
        }
        setData(s, r)
        {
            const n = Lv(this.state.data, s, this.options);
            return yt(this, Ln, Ua).call(this, {
                data: n,
                type: "success",
                dataUpdatedAt: r == null ? void 0 : r.updatedAt,
                manual: r == null ? void 0 : r.manual
            }), n
        }
        setState(s, r)
        {
            yt(this, Ln, Ua).call(this, {
                type: "setState",
                state: s,
                setStateOptions: r
            })
        }
        cancel(s)
        {
            var n,
                a;
            const r = (n = Z(this, ir)) == null ? void 0 : n.promise;
            return (a = Z(this, ir)) == null || a.cancel(s), r ? r.then(vn).catch(vn) : Promise.resolve()
        }
        destroy()
        {
            super.destroy(),
            this.cancel({
                silent: !0
            })
        }
        reset()
        {
            this.destroy(),
            this.setState(Z(this, mc))
        }
        isActive()
        {
            return this.observers.some(s => $n(s.options.enabled, this) !== !1)
        }
        isDisabled()
        {
            return this.getObserversCount() > 0 ? !this.isActive() : this.options.queryFn === Zj || this.state.dataUpdateCount + this.state.errorUpdateCount === 0
        }
        isStale()
        {
            return this.state.isInvalidated ? !0 : this.getObserversCount() > 0 ? this.observers.some(s => s.getCurrentResult().isStale) : this.state.data === void 0
        }
        isStaleByTime(s=0)
        {
            return this.state.isInvalidated || this.state.data === void 0 || !Ik(this.state.dataUpdatedAt, s)
        }
        onFocus()
        {
            var r;
            const s = this.observers.find(n => n.shouldFetchOnWindowFocus());
            s == null || s.refetch({
                cancelRefetch: !1
            }),
            (r = Z(this, ir)) == null || r.continue()
        }
        onOnline()
        {
            var r;
            const s = this.observers.find(n => n.shouldFetchOnReconnect());
            s == null || s.refetch({
                cancelRefetch: !1
            }),
            (r = Z(this, ir)) == null || r.continue()
        }
        addObserver(s)
        {
            this.observers.includes(s) || (this.observers.push(s), this.clearGcTimeout(), Z(this, gn).notify({
                type: "observerAdded",
                query: this,
                observer: s
            }))
        }
        removeObserver(s)
        {
            this.observers.includes(s) && (this.observers = this.observers.filter(r => r !== s), this.observers.length || (Z(this, ir) && (Z(this, Vo) ? Z(this, ir).cancel({
                revert: !0
            }) : Z(this, ir).cancelRetry()), this.scheduleGc()), Z(this, gn).notify({
                type: "observerRemoved",
                query: this,
                observer: s
            }))
        }
        getObserversCount()
        {
            return this.observers.length
        }
        invalidate()
        {
            this.state.isInvalidated || yt(this, Ln, Ua).call(this, {
                type: "invalidate"
            })
        }
        fetch(s, r)
        {
            var c,
                d,
                u;
            if (this.state.fetchStatus !== "idle") {
                if (this.state.data !== void 0 && (r != null && r.cancelRefetch))
                    this.cancel({
                        silent: !0
                    });
                else if (Z(this, ir))
                    return Z(this, ir).continueRetry(), Z(this, ir).promise
            }
            if (s && this.setOptions(s), !this.options.queryFn) {
                const m = this.observers.find(p => p.options.queryFn);
                m && this.setOptions(m.options)
            }
            const n = new AbortController,
                a = m => {
                    Object.defineProperty(m, "signal", {
                        enumerable: !0,
                        get: () => (Le(this, Vo, !0), n.signal)
                    })
                },
                i = () => {
                    const m = Dk(this.options, r),
                        p = {
                            queryKey: this.queryKey,
                            meta: this.meta
                        };
                    return a(p), Le(this, Vo, !1), this.options.persister ? this.options.persister(m, p, this) : m(p)
                },
                o = {
                    fetchOptions: r,
                    options: this.options,
                    queryKey: this.queryKey,
                    state: this.state,
                    fetchFn: i
                };
            a(o),
            (c = this.options.behavior) == null || c.onFetch(o, this),
            Le(this, hc, this.state),
            (this.state.fetchStatus === "idle" || this.state.fetchMeta !== ((d = o.fetchOptions) == null ? void 0 : d.meta)) && yt(this, Ln, Ua).call(this, {
                type: "fetch",
                meta: (u = o.fetchOptions) == null ? void 0 : u.meta
            });
            const l = m => {
                var p,
                    j,
                    g,
                    x;
                sg(m) && m.silent || yt(this, Ln, Ua).call(this, {
                    type: "error",
                    error: m
                }),
                sg(m) || ((j = (p = Z(this, gn).config).onError) == null || j.call(p, m, this), (x = (g = Z(this, gn).config).onSettled) == null || x.call(g, this.state.data, m, this)),
                this.scheduleGc()
            };
            return Le(this, ir, Fk({
                initialPromise: r == null ? void 0 : r.initialPromise,
                fn: o.fetchFn,
                abort: n.abort.bind(n),
                onSuccess: m => {
                    var p,
                        j,
                        g,
                        x;
                    if (m === void 0) {
                        l(new Error(`${this.queryHash} data is undefined`));
                        return
                    }
                    try {
                        this.setData(m)
                    } catch (y) {
                        l(y);
                        return
                    }
                    (j = (p = Z(this, gn).config).onSuccess) == null || j.call(p, m, this),
                    (x = (g = Z(this, gn).config).onSettled) == null || x.call(g, m, this.state.error, this),
                    this.scheduleGc()
                },
                onError: l,
                onFail: (m, p) => {
                    yt(this, Ln, Ua).call(this, {
                        type: "failed",
                        failureCount: m,
                        error: p
                    })
                },
                onPause: () => {
                    yt(this, Ln, Ua).call(this, {
                        type: "pause"
                    })
                },
                onContinue: () => {
                    yt(this, Ln, Ua).call(this, {
                        type: "continue"
                    })
                },
                retry: o.options.retry,
                retryDelay: o.options.retryDelay,
                networkMode: o.options.networkMode,
                canRun: () => !0
            })), Z(this, ir).start()
        }
    }
    , mc = new WeakMap, hc = new WeakMap, gn = new WeakMap, ir = new WeakMap, Qu = new WeakMap, Vo = new WeakMap, Ln = new WeakSet, Ua = function(s) {
        const r = n => {
            switch (s.type) {
            case "failed":
                return {
                    ...n,
                    fetchFailureCount: s.failureCount,
                    fetchFailureReason: s.error
                };
            case "pause":
                return {
                    ...n,
                    fetchStatus: "paused"
                };
            case "continue":
                return {
                    ...n,
                    fetchStatus: "fetching"
                };
            case "fetch":
                return {
                    ...n,
                    ...$k(n.data, this.options),
                    fetchMeta: s.meta ?? null
                };
            case "success":
                return {
                    ...n,
                    data: s.data,
                    dataUpdateCount: n.dataUpdateCount + 1,
                    dataUpdatedAt: s.dataUpdatedAt ?? Date.now(),
                    error: null,
                    isInvalidated: !1,
                    status: "success",
                    ...!s.manual && {
                        fetchStatus: "idle",
                        fetchFailureCount: 0,
                        fetchFailureReason: null
                    }
                };
            case "error":
                const a = s.error;
                return sg(a) && a.revert && Z(this, hc) ? {
                    ...Z(this, hc),
                    fetchStatus: "idle"
                } : {
                    ...n,
                    error: a,
                    errorUpdateCount: n.errorUpdateCount + 1,
                    errorUpdatedAt: Date.now(),
                    fetchFailureCount: n.fetchFailureCount + 1,
                    fetchFailureReason: a,
                    fetchStatus: "idle",
                    status: "error"
                };
            case "invalidate":
                return {
                    ...n,
                    isInvalidated: !0
                };
            case "setState":
                return {
                    ...n,
                    ...s.state
                }
            }
        };
        this.state = r(this.state),
        Os.batch(() => {
            this.observers.forEach(n => {
                n.onQueryUpdate()
            }),
            Z(this, gn).notify({
                query: this,
                type: "updated",
                action: s
            })
        })
    }, T2);
function $k(t, s) {
    return {
        fetchFailureCount: 0,
        fetchFailureReason: null,
        fetchStatus: Ok(s.networkMode) ? "fetching" : "paused",
        ...t === void 0 && {
            error: null,
            status: "pending"
        }
    }
}
function yL(t) {
    const s = typeof t.initialData == "function" ? t.initialData() : t.initialData,
        r = s !== void 0,
        n = r ? typeof t.initialDataUpdatedAt == "function" ? t.initialDataUpdatedAt() : t.initialDataUpdatedAt : 0;
    return {
        data: s,
        dataUpdateCount: 0,
        dataUpdatedAt: r ? n ?? Date.now() : 0,
        error: null,
        errorUpdateCount: 0,
        errorUpdatedAt: 0,
        fetchFailureCount: 0,
        fetchFailureReason: null,
        fetchMeta: null,
        isInvalidated: !1,
        status: r ? "success" : "pending",
        fetchStatus: "idle"
    }
}
var da,
    A2,
    jL = (A2 = class  extends sd{
        constructor(s={})
        {
            super();
            Je(this, da);
            this.config = s,
            Le(this, da, new Map)
        }
        build(s, r, n)
        {
            const a = r.queryKey,
                i = r.queryHash ?? Qj(a, r);
            let o = this.get(i);
            return o || (o = new vL({
                cache: this,
                queryKey: a,
                queryHash: i,
                options: s.defaultQueryOptions(r),
                state: n,
                defaultOptions: s.getQueryDefaults(a)
            }), this.add(o)), o
        }
        add(s)
        {
            Z(this, da).has(s.queryHash) || (Z(this, da).set(s.queryHash, s), this.notify({
                type: "added",
                query: s
            }))
        }
        remove(s)
        {
            const r = Z(this, da).get(s.queryHash);
            r && (s.destroy(), r === s && Z(this, da).delete(s.queryHash), this.notify({
                type: "removed",
                query: s
            }))
        }
        clear()
        {
            Os.batch(() => {
                this.getAll().forEach(s => {
                    this.remove(s)
                })
            })
        }
        get(s)
        {
            return Z(this, da).get(s)
        }
        getAll()
        {
            return [...Z(this, da).values()]
        }
        find(s)
        {
            const r = {
                exact: !0,
                ...s
            };
            return this.getAll().find(n => yw(r, n))
        }
        findAll(s={})
        {
            const r = this.getAll();
            return Object.keys(s).length > 0 ? r.filter(n => yw(s, n)) : r
        }
        notify(s)
        {
            Os.batch(() => {
                this.listeners.forEach(r => {
                    r(s)
                })
            })
        }
        onFocus()
        {
            Os.batch(() => {
                this.getAll().forEach(s => {
                    s.onFocus()
                })
            })
        }
        onOnline()
        {
            Os.batch(() => {
                this.getAll().forEach(s => {
                    s.onOnline()
                })
            })
        }
    }
    , da = new WeakMap, A2),
    ua,
    xr,
    Uo,
    ma,
    Ai,
    M2,
    bL = (M2 = class  extends zk{
        constructor(s)
        {
            super();
            Je(this, ma);
            Je(this, ua);
            Je(this, xr);
            Je(this, Uo);
            this.mutationId = s.mutationId,
            Le(this, xr, s.mutationCache),
            Le(this, ua, []),
            this.state = s.state || Vk(),
            this.setOptions(s.options),
            this.scheduleGc()
        }
        setOptions(s)
        {
            this.options = s,
            this.updateGcTime(this.options.gcTime)
        }
        get meta()
        {
            return this.options.meta
        }
        addObserver(s)
        {
            Z(this, ua).includes(s) || (Z(this, ua).push(s), this.clearGcTimeout(), Z(this, xr).notify({
                type: "observerAdded",
                mutation: this,
                observer: s
            }))
        }
        removeObserver(s)
        {
            Le(this, ua, Z(this, ua).filter(r => r !== s)),
            this.scheduleGc(),
            Z(this, xr).notify({
                type: "observerRemoved",
                mutation: this,
                observer: s
            })
        }
        optionalRemove()
        {
            Z(this, ua).length || (this.state.status === "pending" ? this.scheduleGc() : Z(this, xr).remove(this))
        }
        continue()
        {
            var s;
            return ((s = Z(this, Uo)) == null ? void 0 : s.continue()) ?? this.execute(this.state.variables)
        }
        async execute(s)
        {
            var a,
                i,
                o,
                l,
                c,
                d,
                u,
                m,
                p,
                j,
                g,
                x,
                y,
                v,
                f,
                b,
                N,
                w,
                C,
                E;
            Le(this, Uo, Fk({
                fn: () => this.options.mutationFn ? this.options.mutationFn(s) : Promise.reject(new Error("No mutationFn found")),
                onFail: (k, R) => {
                    yt(this, ma, Ai).call(this, {
                        type: "failed",
                        failureCount: k,
                        error: R
                    })
                },
                onPause: () => {
                    yt(this, ma, Ai).call(this, {
                        type: "pause"
                    })
                },
                onContinue: () => {
                    yt(this, ma, Ai).call(this, {
                        type: "continue"
                    })
                },
                retry: this.options.retry ?? 0,
                retryDelay: this.options.retryDelay,
                networkMode: this.options.networkMode,
                canRun: () => Z(this, xr).canRun(this)
            }));
            const r = this.state.status === "pending",
                n = !Z(this, Uo).canStart();
            try {
                if (!r) {
                    yt(this, ma, Ai).call(this, {
                        type: "pending",
                        variables: s,
                        isPaused: n
                    }),
                    await ((i = (a = Z(this, xr).config).onMutate) == null ? void 0 : i.call(a, s, this));
                    const R = await ((l = (o = this.options).onMutate) == null ? void 0 : l.call(o, s));
                    R !== this.state.context && yt(this, ma, Ai).call(this, {
                        type: "pending",
                        context: R,
                        variables: s,
                        isPaused: n
                    })
                }
                const k = await Z(this, Uo).start();
                return await ((d = (c = Z(this, xr).config).onSuccess) == null ? void 0 : d.call(c, k, s, this.state.context, this)), await ((m = (u = this.options).onSuccess) == null ? void 0 : m.call(u, k, s, this.state.context)), await ((j = (p = Z(this, xr).config).onSettled) == null ? void 0 : j.call(p, k, null, this.state.variables, this.state.context, this)), await ((x = (g = this.options).onSettled) == null ? void 0 : x.call(g, k, null, s, this.state.context)), yt(this, ma, Ai).call(this, {
                    type: "success",
                    data: k
                }), k
            } catch (k) {
                try {
                    throw await ((v = (y = Z(this, xr).config).onError) == null ? void 0 : v.call(y, k, s, this.state.context, this)), await ((b = (f = this.options).onError) == null ? void 0 : b.call(f, k, s, this.state.context)), await ((w = (N = Z(this, xr).config).onSettled) == null ? void 0 : w.call(N, void 0, k, this.state.variables, this.state.context, this)), await ((E = (C = this.options).onSettled) == null ? void 0 : E.call(C, void 0, k, s, this.state.context)), k
                } finally {
                    yt(this, ma, Ai).call(this, {
                        type: "error",
                        error: k
                    })
                }
            } finally {
                Z(this, xr).runNext(this)
            }
        }
    }
    , ua = new WeakMap, xr = new WeakMap, Uo = new WeakMap, ma = new WeakSet, Ai = function(s) {
        const r = n => {
            switch (s.type) {
            case "failed":
                return {
                    ...n,
                    failureCount: s.failureCount,
                    failureReason: s.error
                };
            case "pause":
                return {
                    ...n,
                    isPaused: !0
                };
            case "continue":
                return {
                    ...n,
                    isPaused: !1
                };
            case "pending":
                return {
                    ...n,
                    context: s.context,
                    data: void 0,
                    failureCount: 0,
                    failureReason: null,
                    error: null,
                    isPaused: s.isPaused,
                    status: "pending",
                    variables: s.variables,
                    submittedAt: Date.now()
                };
            case "success":
                return {
                    ...n,
                    data: s.data,
                    failureCount: 0,
                    failureReason: null,
                    error: null,
                    status: "success",
                    isPaused: !1
                };
            case "error":
                return {
                    ...n,
                    data: void 0,
                    error: s.error,
                    failureCount: n.failureCount + 1,
                    failureReason: s.error,
                    isPaused: !1,
                    status: "error"
                }
            }
        };
        this.state = r(this.state),
        Os.batch(() => {
            Z(this, ua).forEach(n => {
                n.onMutationUpdate(s)
            }),
            Z(this, xr).notify({
                mutation: this,
                type: "updated",
                action: s
            })
        })
    }, M2);
function Vk() {
    return {
        context: void 0,
        data: void 0,
        error: null,
        failureCount: 0,
        failureReason: null,
        isPaused: !1,
        status: "idle",
        variables: void 0,
        submittedAt: 0
    }
}
var Jr,
    Zu,
    I2,
    NL = (I2 = class  extends sd{
        constructor(s={})
        {
            super();
            Je(this, Jr);
            Je(this, Zu);
            this.config = s,
            Le(this, Jr, new Map),
            Le(this, Zu, Date.now())
        }
        build(s, r, n)
        {
            const a = new bL({
                mutationCache: this,
                mutationId: ++Lm(this, Zu)._,
                options: s.defaultMutationOptions(r),
                state: n
            });
            return this.add(a), a
        }
        add(s)
        {
            const r = nh(s),
                n = Z(this, Jr).get(r) ?? [];
            n.push(s),
            Z(this, Jr).set(r, n),
            this.notify({
                type: "added",
                mutation: s
            })
        }
        remove(s)
        {
            var n;
            const r = nh(s);
            if (Z(this, Jr).has(r)) {
                const a = (n = Z(this, Jr).get(r)) == null ? void 0 : n.filter(i => i !== s);
                a && (a.length === 0 ? Z(this, Jr).delete(r) : Z(this, Jr).set(r, a))
            }
            this.notify({
                type: "removed",
                mutation: s
            })
        }
        canRun(s)
        {
            var n;
            const r = (n = Z(this, Jr).get(nh(s))) == null ? void 0 : n.find(a => a.state.status === "pending");
            return !r || r === s
        }
        runNext(s)
        {
            var n;
            const r = (n = Z(this, Jr).get(nh(s))) == null ? void 0 : n.find(a => a !== s && a.state.isPaused);
            return (r == null ? void 0 : r.continue()) ?? Promise.resolve()
        }
        clear()
        {
            Os.batch(() => {
                this.getAll().forEach(s => {
                    this.remove(s)
                })
            })
        }
        getAll()
        {
            return [...Z(this, Jr).values()].flat()
        }
        find(s)
        {
            const r = {
                exact: !0,
                ...s
            };
            return this.getAll().find(n => jw(r, n))
        }
        findAll(s={})
        {
            return this.getAll().filter(r => jw(s, r))
        }
        notify(s)
        {
            Os.batch(() => {
                this.listeners.forEach(r => {
                    r(s)
                })
            })
        }
        resumePausedMutations()
        {
            const s = this.getAll().filter(r => r.state.isPaused);
            return Os.batch(() => Promise.all(s.map(r => r.continue().catch(vn))))
        }
    }
    , Jr = new WeakMap, Zu = new WeakMap, I2);
function nh(t) {
    var s;
    return ((s = t.options.scope) == null ? void 0 : s.id) ?? String(t.mutationId)
}
function ww(t) {
    return {
        onFetch: (s, r) => {
            var u,
                m,
                p,
                j,
                g;
            const n = s.options,
                a = (p = (m = (u = s.fetchOptions) == null ? void 0 : u.meta) == null ? void 0 : m.fetchMore) == null ? void 0 : p.direction,
                i = ((j = s.state.data) == null ? void 0 : j.pages) || [],
                o = ((g = s.state.data) == null ? void 0 : g.pageParams) || [];
            let l = {
                    pages: [],
                    pageParams: []
                },
                c = 0;
            const d = async () => {
                let x = !1;
                const y = b => {
                        Object.defineProperty(b, "signal", {
                            enumerable: !0,
                            get: () => (s.signal.aborted ? x = !0 : s.signal.addEventListener("abort", () => {
                                x = !0
                            }), s.signal)
                        })
                    },
                    v = Dk(s.options, s.fetchOptions),
                    f = async (b, N, w) => {
                        if (x)
                            return Promise.reject();
                        if (N == null && b.pages.length)
                            return Promise.resolve(b);
                        const C = {
                            queryKey: s.queryKey,
                            pageParam: N,
                            direction: w ? "backward" : "forward",
                            meta: s.options.meta
                        };
                        y(C);
                        const E = await v(C),
                            {maxPages: k} = s.options,
                            R = w ? hL : mL;
                        return {
                            pages: R(b.pages, E, k),
                            pageParams: R(b.pageParams, N, k)
                        }
                    };
                if (a && i.length) {
                    const b = a === "backward",
                        N = b ? wL : Cw,
                        w = {
                            pages: i,
                            pageParams: o
                        },
                        C = N(n, w);
                    l = await f(w, C, b)
                } else {
                    const b = t ?? i.length;
                    do {
                        const N = c === 0 ? o[0] ?? n.initialPageParam : Cw(n, l);
                        if (c > 0 && N == null)
                            break;
                        l = await f(l, N),
                        c++
                    } while (c < b)
                }
                return l
            };
            s.options.persister ? s.fetchFn = () => {
                var x,
                    y;
                return (y = (x = s.options).persister) == null ? void 0 : y.call(x, d, {
                    queryKey: s.queryKey,
                    meta: s.options.meta,
                    signal: s.signal
                }, r)
            } : s.fetchFn = d
        }
    }
}
function Cw(t, {pages: s, pageParams: r}) {
    const n = s.length - 1;
    return s.length > 0 ? t.getNextPageParam(s[n], s, r[n], r) : void 0
}
function wL(t, {pages: s, pageParams: r}) {
    var n;
    return s.length > 0 ? (n = t.getPreviousPageParam) == null ? void 0 : n.call(t, s[0], s, r[0], r) : void 0
}
var cs,
    Vi,
    Ui,
    pc,
    fc,
    qi,
    xc,
    gc,
    R2,
    CL = (R2 = class {
        constructor(t={})
        {
            Je(this, cs);
            Je(this, Vi);
            Je(this, Ui);
            Je(this, pc);
            Je(this, fc);
            Je(this, qi);
            Je(this, xc);
            Je(this, gc);
            Le(this, cs, t.queryCache || new jL),
            Le(this, Vi, t.mutationCache || new NL),
            Le(this, Ui, t.defaultOptions || {}),
            Le(this, pc, new Map),
            Le(this, fc, new Map),
            Le(this, qi, 0)
        }
        mount()
        {
            Lm(this, qi)._++,
            Z(this, qi) === 1 && (Le(this, xc, Xj.subscribe(async t => {
                t && (await this.resumePausedMutations(), Z(this, cs).onFocus())
            })), Le(this, gc, Ep.subscribe(async t => {
                t && (await this.resumePausedMutations(), Z(this, cs).onOnline())
            })))
        }
        unmount()
        {
            var t,
                s;
            Lm(this, qi)._--,
            Z(this, qi) === 0 && ((t = Z(this, xc)) == null || t.call(this), Le(this, xc, void 0), (s = Z(this, gc)) == null || s.call(this), Le(this, gc, void 0))
        }
        isFetching(t)
        {
            return Z(this, cs).findAll({
                ...t,
                fetchStatus: "fetching"
            }).length
        }
        isMutating(t)
        {
            return Z(this, Vi).findAll({
                ...t,
                status: "pending"
            }).length
        }
        getQueryData(t)
        {
            var r;
            const s = this.defaultQueryOptions({
                queryKey: t
            });
            return (r = Z(this, cs).get(s.queryHash)) == null ? void 0 : r.state.data
        }
        ensureQueryData(t)
        {
            const s = this.getQueryData(t.queryKey);
            if (s === void 0)
                return this.fetchQuery(t);
            {
                const r = this.defaultQueryOptions(t),
                    n = Z(this, cs).build(this, r);
                return t.revalidateIfStale && n.isStaleByTime(nc(r.staleTime, n)) && this.prefetchQuery(r), Promise.resolve(s)
            }
        }
        getQueriesData(t)
        {
            return Z(this, cs).findAll(t).map(({queryKey: s, state: r}) => {
                const n = r.data;
                return [s, n]
            })
        }
        setQueryData(t, s, r)
        {
            const n = this.defaultQueryOptions({
                    queryKey: t
                }),
                a = Z(this, cs).get(n.queryHash),
                i = a == null ? void 0 : a.state.data,
                o = dL(s, i);
            if (o !== void 0)
                return Z(this, cs).build(this, n).setData(o, {
                    ...r,
                    manual: !0
                })
        }
        setQueriesData(t, s, r)
        {
            return Os.batch(() => Z(this, cs).findAll(t).map(({queryKey: n}) => [n, this.setQueryData(n, s, r)]))
        }
        getQueryState(t)
        {
            var r;
            const s = this.defaultQueryOptions({
                queryKey: t
            });
            return (r = Z(this, cs).get(s.queryHash)) == null ? void 0 : r.state
        }
        removeQueries(t)
        {
            const s = Z(this, cs);
            Os.batch(() => {
                s.findAll(t).forEach(r => {
                    s.remove(r)
                })
            })
        }
        resetQueries(t, s)
        {
            const r = Z(this, cs),
                n = {
                    type: "active",
                    ...t
                };
            return Os.batch(() => (r.findAll(t).forEach(a => {
                a.reset()
            }), this.refetchQueries(n, s)))
        }
        cancelQueries(t={}, s={})
        {
            const r = {
                    revert: !0,
                    ...s
                },
                n = Os.batch(() => Z(this, cs).findAll(t).map(a => a.cancel(r)));
            return Promise.all(n).then(vn).catch(vn)
        }
        invalidateQueries(t={}, s={})
        {
            return Os.batch(() => {
                if (Z(this, cs).findAll(t).forEach(n => {
                    n.invalidate()
                }), t.refetchType === "none")
                    return Promise.resolve();
                const r = {
                    ...t,
                    type: t.refetchType ?? t.type ?? "active"
                };
                return this.refetchQueries(r, s)
            })
        }
        refetchQueries(t={}, s)
        {
            const r = {
                    ...s,
                    cancelRefetch: (s == null ? void 0 : s.cancelRefetch) ?? !0
                },
                n = Os.batch(() => Z(this, cs).findAll(t).filter(a => !a.isDisabled()).map(a => {
                    let i = a.fetch(void 0, r);
                    return r.throwOnError || (i = i.catch(vn)), a.state.fetchStatus === "paused" ? Promise.resolve() : i
                }));
            return Promise.all(n).then(vn)
        }
        fetchQuery(t)
        {
            const s = this.defaultQueryOptions(t);
            s.retry === void 0 && (s.retry = !1);
            const r = Z(this, cs).build(this, s);
            return r.isStaleByTime(nc(s.staleTime, r)) ? r.fetch(s) : Promise.resolve(r.state.data)
        }
        prefetchQuery(t)
        {
            return this.fetchQuery(t).then(vn).catch(vn)
        }
        fetchInfiniteQuery(t)
        {
            return t.behavior = ww(t.pages), this.fetchQuery(t)
        }
        prefetchInfiniteQuery(t)
        {
            return this.fetchInfiniteQuery(t).then(vn).catch(vn)
        }
        ensureInfiniteQueryData(t)
        {
            return t.behavior = ww(t.pages), this.ensureQueryData(t)
        }
        resumePausedMutations()
        {
            return Ep.isOnline() ? Z(this, Vi).resumePausedMutations() : Promise.resolve()
        }
        getQueryCache()
        {
            return Z(this, cs)
        }
        getMutationCache()
        {
            return Z(this, Vi)
        }
        getDefaultOptions()
        {
            return Z(this, Ui)
        }
        setDefaultOptions(t)
        {
            Le(this, Ui, t)
        }
        setQueryDefaults(t, s)
        {
            Z(this, pc).set(ol(t), {
                queryKey: t,
                defaultOptions: s
            })
        }
        getQueryDefaults(t)
        {
            const s = [...Z(this, pc).values()];
            let r = {};
            return s.forEach(n => {
                wu(t, n.queryKey) && (r = {
                    ...r,
                    ...n.defaultOptions
                })
            }), r
        }
        setMutationDefaults(t, s)
        {
            Z(this, fc).set(ol(t), {
                mutationKey: t,
                defaultOptions: s
            })
        }
        getMutationDefaults(t)
        {
            const s = [...Z(this, fc).values()];
            let r = {};
            return s.forEach(n => {
                wu(t, n.mutationKey) && (r = {
                    ...r,
                    ...n.defaultOptions
                })
            }), r
        }
        defaultQueryOptions(t)
        {
            if (t._defaulted)
                return t;
            const s = {
                ...Z(this, Ui).queries,
                ...this.getQueryDefaults(t.queryKey),
                ...t,
                _defaulted: !0
            };
            return s.queryHash || (s.queryHash = Qj(s.queryKey, s)), s.refetchOnReconnect === void 0 && (s.refetchOnReconnect = s.networkMode !== "always"), s.throwOnError === void 0 && (s.throwOnError = !!s.suspense), !s.networkMode && s.persister && (s.networkMode = "offlineFirst"), s.enabled !== !0 && s.queryFn === Zj && (s.enabled = !1), s
        }
        defaultMutationOptions(t)
        {
            return t != null && t._defaulted ? t : {
                ...Z(this, Ui).mutations,
                ...(t == null ? void 0 : t.mutationKey) && this.getMutationDefaults(t.mutationKey),
                ...t,
                _defaulted: !0
            }
        }
        clear()
        {
            Z(this, cs).clear(),
            Z(this, Vi).clear()
        }
    }
    , cs = new WeakMap, Vi = new WeakMap, Ui = new WeakMap, pc = new WeakMap, fc = new WeakMap, qi = new WeakMap, xc = new WeakMap, gc = new WeakMap, R2),
    Ir,
    Et,
    Xu,
    gr,
    qo,
    vc,
    Bi,
    ha,
    Ju,
    yc,
    jc,
    Bo,
    Ho,
    Hi,
    bc,
    Dt,
    Rd,
    zv,
    $v,
    Vv,
    Uv,
    qv,
    Bv,
    Hv,
    Uk,
    D2,
    SL = (D2 = class  extends sd{
        constructor(s, r)
        {
            super();
            Je(this, Dt);
            Je(this, Ir);
            Je(this, Et);
            Je(this, Xu);
            Je(this, gr);
            Je(this, qo);
            Je(this, vc);
            Je(this, Bi);
            Je(this, ha);
            Je(this, Ju);
            Je(this, yc);
            Je(this, jc);
            Je(this, Bo);
            Je(this, Ho);
            Je(this, Hi);
            Je(this, bc, new Set);
            this.options = r,
            Le(this, Ir, s),
            Le(this, ha, null),
            Le(this, Bi, Fv()),
            this.options.experimental_prefetchInRender || Z(this, Bi).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),
            this.bindMethods(),
            this.setOptions(r)
        }
        bindMethods()
        {
            this.refetch = this.refetch.bind(this)
        }
        onSubscribe()
        {
            this.listeners.size === 1 && (Z(this, Et).addObserver(this), Sw(Z(this, Et), this.options) ? yt(this, Dt, Rd).call(this) : this.updateResult(), yt(this, Dt, Uv).call(this))
        }
        onUnsubscribe()
        {
            this.hasListeners() || this.destroy()
        }
        shouldFetchOnReconnect()
        {
            return Wv(Z(this, Et), this.options, this.options.refetchOnReconnect)
        }
        shouldFetchOnWindowFocus()
        {
            return Wv(Z(this, Et), this.options, this.options.refetchOnWindowFocus)
        }
        destroy()
        {
            this.listeners = new Set,
            yt(this, Dt, qv).call(this),
            yt(this, Dt, Bv).call(this),
            Z(this, Et).removeObserver(this)
        }
        setOptions(s, r)
        {
            const n = this.options,
                a = Z(this, Et);
            if (this.options = Z(this, Ir).defaultQueryOptions(s), this.options.enabled !== void 0 && typeof this.options.enabled != "boolean" && typeof this.options.enabled != "function" && typeof $n(this.options.enabled, Z(this, Et)) != "boolean")
                throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");
            yt(this, Dt, Hv).call(this),
            Z(this, Et).setOptions(this.options),
            n._defaulted && !Sp(this.options, n) && Z(this, Ir).getQueryCache().notify({
                type: "observerOptionsUpdated",
                query: Z(this, Et),
                observer: this
            });
            const i = this.hasListeners();
            i && Ew(Z(this, Et), a, this.options, n) && yt(this, Dt, Rd).call(this),
            this.updateResult(r),
            i && (Z(this, Et) !== a || $n(this.options.enabled, Z(this, Et)) !== $n(n.enabled, Z(this, Et)) || nc(this.options.staleTime, Z(this, Et)) !== nc(n.staleTime, Z(this, Et))) && yt(this, Dt, zv).call(this);
            const o = yt(this, Dt, $v).call(this);
            i && (Z(this, Et) !== a || $n(this.options.enabled, Z(this, Et)) !== $n(n.enabled, Z(this, Et)) || o !== Z(this, Hi)) && yt(this, Dt, Vv).call(this, o)
        }
        getOptimisticResult(s)
        {
            const r = Z(this, Ir).getQueryCache().build(Z(this, Ir), s),
                n = this.createResult(r, s);
            return kL(this, n) && (Le(this, gr, n), Le(this, vc, this.options), Le(this, qo, Z(this, Et).state)), n
        }
        getCurrentResult()
        {
            return Z(this, gr)
        }
        trackResult(s, r)
        {
            const n = {};
            return Object.keys(s).forEach(a => {
                Object.defineProperty(n, a, {
                    configurable: !1,
                    enumerable: !0,
                    get: () => (this.trackProp(a), r == null || r(a), s[a])
                })
            }), n
        }
        trackProp(s)
        {
            Z(this, bc).add(s)
        }
        getCurrentQuery()
        {
            return Z(this, Et)
        }
        refetch({...s}={})
        {
            return this.fetch({
                ...s
            })
        }
        fetchOptimistic(s)
        {
            const r = Z(this, Ir).defaultQueryOptions(s),
                n = Z(this, Ir).getQueryCache().build(Z(this, Ir), r);
            return n.fetch().then(() => this.createResult(n, r))
        }
        fetch(s)
        {
            return yt(this, Dt, Rd).call(this, {
                ...s,
                cancelRefetch: s.cancelRefetch ?? !0
            }).then(() => (this.updateResult(), Z(this, gr)))
        }
        createResult(s, r)
        {
            var k;
            const n = Z(this, Et),
                a = this.options,
                i = Z(this, gr),
                o = Z(this, qo),
                l = Z(this, vc),
                d = s !== n ? s.state : Z(this, Xu),
                {state: u} = s;
            let m = {
                    ...u
                },
                p = !1,
                j;
            if (r._optimisticResults) {
                const R = this.hasListeners(),
                    H = !R && Sw(s, r),
                    z = R && Ew(s, n, r, a);
                (H || z) && (m = {
                    ...m,
                    ...$k(u.data, s.options)
                }),
                r._optimisticResults === "isRestoring" && (m.fetchStatus = "idle")
            }
            let {error: g, errorUpdatedAt: x, status: y} = m;
            if (r.select && m.data !== void 0)
                if (i && m.data === (o == null ? void 0 : o.data) && r.select === Z(this, Ju))
                    j = Z(this, yc);
                else
                    try {
                        Le(this, Ju, r.select),
                        j = r.select(m.data),
                        j = Lv(i == null ? void 0 : i.data, j, r),
                        Le(this, yc, j),
                        Le(this, ha, null)
                    } catch (R) {
                        Le(this, ha, R)
                    }
            else
                j = m.data;
            if (r.placeholderData !== void 0 && j === void 0 && y === "pending") {
                let R;
                if (i != null && i.isPlaceholderData && r.placeholderData === (l == null ? void 0 : l.placeholderData))
                    R = i.data;
                else if (R = typeof r.placeholderData == "function" ? r.placeholderData((k = Z(this, jc)) == null ? void 0 : k.state.data, Z(this, jc)) : r.placeholderData, r.select && R !== void 0)
                    try {
                        R = r.select(R),
                        Le(this, ha, null)
                    } catch (H) {
                        Le(this, ha, H)
                    }
                R !== void 0 && (y = "success", j = Lv(i == null ? void 0 : i.data, R, r), p = !0)
            }
            Z(this, ha) && (g = Z(this, ha), j = Z(this, yc), x = Date.now(), y = "error");
            const v = m.fetchStatus === "fetching",
                f = y === "pending",
                b = y === "error",
                N = f && v,
                w = j !== void 0,
                E = {
                    status: y,
                    fetchStatus: m.fetchStatus,
                    isPending: f,
                    isSuccess: y === "success",
                    isError: b,
                    isInitialLoading: N,
                    isLoading: N,
                    data: j,
                    dataUpdatedAt: m.dataUpdatedAt,
                    error: g,
                    errorUpdatedAt: x,
                    failureCount: m.fetchFailureCount,
                    failureReason: m.fetchFailureReason,
                    errorUpdateCount: m.errorUpdateCount,
                    isFetched: m.dataUpdateCount > 0 || m.errorUpdateCount > 0,
                    isFetchedAfterMount: m.dataUpdateCount > d.dataUpdateCount || m.errorUpdateCount > d.errorUpdateCount,
                    isFetching: v,
                    isRefetching: v && !f,
                    isLoadingError: b && !w,
                    isPaused: m.fetchStatus === "paused",
                    isPlaceholderData: p,
                    isRefetchError: b && w,
                    isStale: Jj(s, r),
                    refetch: this.refetch,
                    promise: Z(this, Bi)
                };
            if (this.options.experimental_prefetchInRender) {
                const R = A => {
                        E.status === "error" ? A.reject(E.error) : E.data !== void 0 && A.resolve(E.data)
                    },
                    H = () => {
                        const A = Le(this, Bi, E.promise = Fv());
                        R(A)
                    },
                    z = Z(this, Bi);
                switch (z.status) {
                case "pending":
                    s.queryHash === n.queryHash && R(z);
                    break;
                case "fulfilled":
                    (E.status === "error" || E.data !== z.value) && H();
                    break;
                case "rejected":
                    (E.status !== "error" || E.error !== z.reason) && H();
                    break
                }
            }
            return E
        }
        updateResult(s)
        {
            const r = Z(this, gr),
                n = this.createResult(Z(this, Et), this.options);
            if (Le(this, qo, Z(this, Et).state), Le(this, vc, this.options), Z(this, qo).data !== void 0 && Le(this, jc, Z(this, Et)), Sp(n, r))
                return;
            Le(this, gr, n);
            const a = {},
                i = () => {
                    if (!r)
                        return !0;
                    const {notifyOnChangeProps: o} = this.options,
                        l = typeof o == "function" ? o() : o;
                    if (l === "all" || !l && !Z(this, bc).size)
                        return !0;
                    const c = new Set(l ?? Z(this, bc));
                    return this.options.throwOnError && c.add("error"), Object.keys(Z(this, gr)).some(d => {
                        const u = d;
                        return Z(this, gr)[u] !== r[u] && c.has(u)
                    })
                };
            (s == null ? void 0 : s.listeners) !== !1 && i() && (a.listeners = !0),
            yt(this, Dt, Uk).call(this, {
                ...a,
                ...s
            })
        }
        onQueryUpdate()
        {
            this.updateResult(),
            this.hasListeners() && yt(this, Dt, Uv).call(this)
        }
    }
    , Ir = new WeakMap, Et = new WeakMap, Xu = new WeakMap, gr = new WeakMap, qo = new WeakMap, vc = new WeakMap, Bi = new WeakMap, ha = new WeakMap, Ju = new WeakMap, yc = new WeakMap, jc = new WeakMap, Bo = new WeakMap, Ho = new WeakMap, Hi = new WeakMap, bc = new WeakMap, Dt = new WeakSet, Rd = function(s) {
        yt(this, Dt, Hv).call(this);
        let r = Z(this, Et).fetch(this.options, s);
        return s != null && s.throwOnError || (r = r.catch(vn)), r
    }, zv = function() {
        yt(this, Dt, qv).call(this);
        const s = nc(this.options.staleTime, Z(this, Et));
        if (il || Z(this, gr).isStale || !Dv(s))
            return;
        const n = Ik(Z(this, gr).dataUpdatedAt, s) + 1;
        Le(this, Bo, setTimeout(() => {
            Z(this, gr).isStale || this.updateResult()
        }, n))
    }, $v = function() {
        return (typeof this.options.refetchInterval == "function" ? this.options.refetchInterval(Z(this, Et)) : this.options.refetchInterval) ?? !1
    }, Vv = function(s) {
        yt(this, Dt, Bv).call(this),
        Le(this, Hi, s),
        !(il || $n(this.options.enabled, Z(this, Et)) === !1 || !Dv(Z(this, Hi)) || Z(this, Hi) === 0) && Le(this, Ho, setInterval(() => {
            (this.options.refetchIntervalInBackground || Xj.isFocused()) && yt(this, Dt, Rd).call(this)
        }, Z(this, Hi)))
    }, Uv = function() {
        yt(this, Dt, zv).call(this),
        yt(this, Dt, Vv).call(this, yt(this, Dt, $v).call(this))
    }, qv = function() {
        Z(this, Bo) && (clearTimeout(Z(this, Bo)), Le(this, Bo, void 0))
    }, Bv = function() {
        Z(this, Ho) && (clearInterval(Z(this, Ho)), Le(this, Ho, void 0))
    }, Hv = function() {
        const s = Z(this, Ir).getQueryCache().build(Z(this, Ir), this.options);
        if (s === Z(this, Et))
            return;
        const r = Z(this, Et);
        Le(this, Et, s),
        Le(this, Xu, s.state),
        this.hasListeners() && (r == null || r.removeObserver(this), s.addObserver(this))
    }, Uk = function(s) {
        Os.batch(() => {
            s.listeners && this.listeners.forEach(r => {
                r(Z(this, gr))
            }),
            Z(this, Ir).getQueryCache().notify({
                query: Z(this, Et),
                type: "observerResultsUpdated"
            })
        })
    }, D2);
function EL(t, s) {
    return $n(s.enabled, t) !== !1 && t.state.data === void 0 && !(t.state.status === "error" && s.retryOnMount === !1)
}
function Sw(t, s) {
    return EL(t, s) || t.state.data !== void 0 && Wv(t, s, s.refetchOnMount)
}
function Wv(t, s, r) {
    if ($n(s.enabled, t) !== !1) {
        const n = typeof r == "function" ? r(t) : r;
        return n === "always" || n !== !1 && Jj(t, s)
    }
    return !1
}
function Ew(t, s, r, n) {
    return (t !== s || $n(n.enabled, t) === !1) && (!r.suspense || t.state.status !== "error") && Jj(t, r)
}
function Jj(t, s) {
    return $n(s.enabled, t) !== !1 && t.isStaleByTime(nc(s.staleTime, t))
}
function kL(t, s) {
    return !Sp(t.getCurrentResult(), s)
}
var Wi,
    Gi,
    Rr,
    Ya,
    ui,
    Rh,
    Gv,
    O2,
    PL = (O2 = class  extends sd{
        constructor(r, n)
        {
            super();
            Je(this, ui);
            Je(this, Wi);
            Je(this, Gi);
            Je(this, Rr);
            Je(this, Ya);
            Le(this, Wi, r),
            this.setOptions(n),
            this.bindMethods(),
            yt(this, ui, Rh).call(this)
        }
        bindMethods()
        {
            this.mutate = this.mutate.bind(this),
            this.reset = this.reset.bind(this)
        }
        setOptions(r)
        {
            var a;
            const n = this.options;
            this.options = Z(this, Wi).defaultMutationOptions(r),
            Sp(this.options, n) || Z(this, Wi).getMutationCache().notify({
                type: "observerOptionsUpdated",
                mutation: Z(this, Rr),
                observer: this
            }),
            n != null && n.mutationKey && this.options.mutationKey && ol(n.mutationKey) !== ol(this.options.mutationKey) ? this.reset() : ((a = Z(this, Rr)) == null ? void 0 : a.state.status) === "pending" && Z(this, Rr).setOptions(this.options)
        }
        onUnsubscribe()
        {
            var r;
            this.hasListeners() || (r = Z(this, Rr)) == null || r.removeObserver(this)
        }
        onMutationUpdate(r)
        {
            yt(this, ui, Rh).call(this),
            yt(this, ui, Gv).call(this, r)
        }
        getCurrentResult()
        {
            return Z(this, Gi)
        }
        reset()
        {
            var r;
            (r = Z(this, Rr)) == null || r.removeObserver(this),
            Le(this, Rr, void 0),
            yt(this, ui, Rh).call(this),
            yt(this, ui, Gv).call(this)
        }
        mutate(r, n)
        {
            var a;
            return Le(this, Ya, n), (a = Z(this, Rr)) == null || a.removeObserver(this), Le(this, Rr, Z(this, Wi).getMutationCache().build(Z(this, Wi), this.options)), Z(this, Rr).addObserver(this), Z(this, Rr).execute(r)
        }
    }
    , Wi = new WeakMap, Gi = new WeakMap, Rr = new WeakMap, Ya = new WeakMap, ui = new WeakSet, Rh = function() {
        var n;
        const r = ((n = Z(this, Rr)) == null ? void 0 : n.state) ?? Vk();
        Le(this, Gi, {
            ...r,
            isPending: r.status === "pending",
            isSuccess: r.status === "success",
            isError: r.status === "error",
            isIdle: r.status === "idle",
            mutate: this.mutate,
            reset: this.reset
        })
    }, Gv = function(r) {
        Os.batch(() => {
            var n,
                a,
                i,
                o,
                l,
                c,
                d,
                u;
            if (Z(this, Ya) && this.hasListeners()) {
                const m = Z(this, Gi).variables,
                    p = Z(this, Gi).context;
                (r == null ? void 0 : r.type) === "success" ? ((a = (n = Z(this, Ya)).onSuccess) == null || a.call(n, r.data, m, p), (o = (i = Z(this, Ya)).onSettled) == null || o.call(i, r.data, null, m, p)) : (r == null ? void 0 : r.type) === "error" && ((c = (l = Z(this, Ya)).onError) == null || c.call(l, r.error, m, p), (u = (d = Z(this, Ya)).onSettled) == null || u.call(d, void 0, r.error, m, p))
            }
            this.listeners.forEach(m => {
                m(Z(this, Gi))
            })
        })
    }, O2),
    qk = h.createContext(void 0),
    pr = t => {
        const s = h.useContext(qk);
        if (!s)
            throw new Error("No QueryClient set, use QueryClientProvider to set one");
        return s
    },
    _L = ({client: t, children: s}) => (h.useEffect(() => (t.mount(), () => {
        t.unmount()
    }), [t]), e.jsx(qk.Provider, {
        value: t,
        children: s
    })),
    Bk = h.createContext(!1),
    TL = () => h.useContext(Bk);
Bk.Provider;
function AL() {
    let t = !1;
    return {
        clearReset: () => {
            t = !1
        },
        reset: () => {
            t = !0
        },
        isReset: () => t
    }
}
var ML = h.createContext(AL()),
    IL = () => h.useContext(ML);
function Hk(t, s) {
    return typeof t == "function" ? t(...s) : !!t
}
function Kv() {}
var RL = (t, s) => {
        (t.suspense || t.throwOnError || t.experimental_prefetchInRender) && (s.isReset() || (t.retryOnMount = !1))
    },
    DL = t => {
        h.useEffect(() => {
            t.clearReset()
        }, [t])
    },
    OL = ({result: t, errorResetBoundary: s, throwOnError: r, query: n}) => t.isError && !s.isReset() && !t.isFetching && n && Hk(r, [t.error, n]),
    LL = t => {
        t.suspense && (t.staleTime === void 0 && (t.staleTime = 1e3), typeof t.gcTime == "number" && (t.gcTime = Math.max(t.gcTime, 1e3)))
    },
    FL = (t, s) => t.isLoading && t.isFetching && !s,
    zL = (t, s) => (t == null ? void 0 : t.suspense) && s.isPending,
    kw = (t, s, r) => s.fetchOptimistic(t).catch(() => {
        r.clearReset()
    });
function $L(t, s, r) {
    var u,
        m,
        p,
        j,
        g;
    const n = pr(),
        a = TL(),
        i = IL(),
        o = n.defaultQueryOptions(t);
    (m = (u = n.getDefaultOptions().queries) == null ? void 0 : u._experimental_beforeQuery) == null || m.call(u, o),
    o._optimisticResults = a ? "isRestoring" : "optimistic",
    LL(o),
    RL(o, i),
    DL(i);
    const l = !n.getQueryCache().get(o.queryHash),
        [c] = h.useState(() => new s(n, o)),
        d = c.getOptimisticResult(o);
    if (h.useSyncExternalStore(h.useCallback(x => {
        const y = a ? Kv : c.subscribe(Os.batchCalls(x));
        return c.updateResult(), y
    }, [c, a]), () => c.getCurrentResult(), () => c.getCurrentResult()), h.useEffect(() => {
        c.setOptions(o, {
            listeners: !1
        })
    }, [o, c]), zL(o, d))
        throw kw(o, c, i);
    if (OL({
        result: d,
        errorResetBoundary: i,
        throwOnError: o.throwOnError,
        query: n.getQueryCache().get(o.queryHash)
    }))
        throw d.error;
    if ((j = (p = n.getDefaultOptions().queries) == null ? void 0 : p._experimental_afterQuery) == null || j.call(p, o, d), o.experimental_prefetchInRender && !il && FL(d, a)) {
        const x = l ? kw(o, c, i) : (g = n.getQueryCache().get(o.queryHash)) == null ? void 0 : g.promise;
        x == null || x.catch(Kv).finally(() => {
            c.updateResult()
        })
    }
    return o.notifyOnChangeProps ? d : c.trackResult(d)
}
function Te(t, s) {
    return $L(t, SL)
}
function nt(t, s) {
    const r = pr(),
        [n] = h.useState(() => new PL(r, t));
    h.useEffect(() => {
        n.setOptions(t)
    }, [n, t]);
    const a = h.useSyncExternalStore(h.useCallback(o => n.subscribe(Os.batchCalls(o)), [n]), () => n.getCurrentResult(), () => n.getCurrentResult()),
        i = h.useCallback((o, l) => {
            n.mutate(o, l).catch(Kv)
        }, [n]);
    if (a.error && Hk(n.options.throwOnError, [a.error]))
        throw a.error;
    return {
        ...a,
        mutate: i,
        mutateAsync: a.mutate
    }
}
async function Wk(t) {
    if (!t.ok) {
        const s = await t.text() || t.statusText;
        throw new Error(`${t.status}: ${s}`)
    }
}
async function Re(t, s, r) {
    let n,
        a;
    if (typeof s == "string") {
        const o = t;
        n = s,
        a = {
            method: o,
            headers: r ? {
                "Content-Type": "application/json"
            } : {},
            body: r ? JSON.stringify(r) : void 0,
            credentials: "include"
        }
    } else
        n = t,
        a = {
            credentials: "include",
            ...s
        };
    const i = await fetch(n, a);
    return await Wk(i), i
}
const Gk = ({on401: t}) => async ({queryKey: s}) => {
        const r = await fetch(s[0], {
            credentials: "include"
        });
        return t === "returnNull" && r.status === 401 ? null : (await Wk(r), await r.json())
    },
    rn = new CL({
        defaultOptions: {
            queries: {
                queryFn: Gk({
                    on401: "throw"
                }),
                refetchInterval: !1,
                staleTime: 18e5,
                gcTime: 36e5,
                refetchOnWindowFocus: !1,
                retry: 1,
                retryDelay: t => Math.min(1e3 * 2 ** t, 5e3)
            },
            mutations: {
                retry: !1
            }
        }
    }),
    VL = Object.freeze(Object.defineProperty({
        __proto__: null,
        apiRequest: Re,
        getQueryFn: Gk,
        queryClient: rn
    }, Symbol.toStringTag, {
        value: "Module"
    }));
function e0() {
    const t = typeof (navigator == null ? void 0 : navigator.userAgent) == "string" ? navigator.userAgent : "",
        s = [];
    let r = "Unknown",
        n = "Unknown",
        a = !0;
    if (t.indexOf("Chrome") > -1) {
        r = "Chrome";
        const i = t.match(/Chrome\/(\d+\.\d+)/);
        n = i ? i[1] : "Unknown",
        parseInt(n.split(".")[0]) < 70 && s.push("Chrome version is outdated. Some features may not work correctly.")
    } else if (t.indexOf("Firefox") > -1) {
        r = "Firefox";
        const i = t.match(/Firefox\/(\d+\.\d+)/);
        n = i ? i[1] : "Unknown"
    } else if (t.indexOf("Safari") > -1 && t.indexOf("Chrome") === -1) {
        r = "Safari";
        const i = t.match(/Version\/(\d+\.\d+)/);
        n = i ? i[1] : "Unknown"
    } else if (t.indexOf("Edg") > -1) {
        r = "Edge";
        const i = t.match(/Edg\/(\d+\.\d+)/);
        n = i ? i[1] : "Unknown"
    }
    return {
        name: r,
        version: n,
        isSupported: a,
        warnings: s
    }
}
function UL(t, s) {
    try {
        if (!t || typeof s.left != "number" || isNaN(s.left)) {
            console.warn("Invalid parameters for safeScrollBy");
            return
        }
        t.scrollBy && typeof t.scrollBy == "function" ? t.scrollBy(s) : t.scrollLeft += s.left
    } catch (r) {
        console.warn("Error scrolling element:", r),
        t && typeof s.left == "number" && !isNaN(s.left) && (t.scrollLeft += s.left)
    }
}
function Kk(t, s, r, n) {
    try {
        t.addEventListener(s, r, n)
    } catch (a) {
        console.warn("Error adding event listener:", a),
        "on" + s in t && (t["on" + s] = r)
    }
}
function Yk(t, s, r, n) {
    try {
        t.removeEventListener(s, r, n)
    } catch (a) {
        console.warn("Error removing event listener:", a),
        "on" + s in t && (t["on" + s] = null)
    }
}
function Qk(t, s, r) {
    try {
        window.history && window.history.pushState ? window.history.pushState(t, s, r) : window.location.href = r
    } catch (n) {
        console.warn("Error with history.pushState:", n),
        window.location.href = r
    }
}
function Zk(t) {
    try {
        window.dispatchEvent(t)
    } catch (s) {
        console.warn("Error dispatching event:", s)
    }
}
function Yv() {
    const t = e0();
    return ["querySelector" in document, "addEventListener" in window, "JSON" in window, "localStorage" in window, "fetch" in window].every(r => r) && t.isSupported
}
function Xk() {
    const t = e0();
    if ((!Yv() || t.warnings.length > 0) && (console.warn("Browser compatibility issues detected:", {
        browser: t.name,
        version: t.version,
        warnings: t.warnings
    }), !Yv())) {
        const s = `Tu navegador ${t.name} ${t.version} puede no ser completamente compatible con esta aplicación. Para la mejor experiencia, te recomendamos actualizar a una versión más reciente.`;
        setTimeout(() => {
            const r = document.createElement("div");
            r.innerHTML = `
          <div style="
            position: fixed;
            top: 20px;
            right: 20px;
            background: #fff3cd;
            color: #856404;
            padding: 12px 16px;
            border: 1px solid #ffeaa7;
            border-radius: 4px;
            font-size: 14px;
            max-width: 400px;
            z-index: 10000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
          ">
            <strong>Aviso de Compatibilidad:</strong><br>
            ${














            s}
            <button onclick="this.parentElement.parentElement.remove()" style="
              float: right;
              background: none;
              border: none;
              font-size: 18px;
              cursor: pointer;
              color: #856404;
              margin-left: 10px;
            ">×</button>
          </div>
        `










            ,
            document.body.appendChild(r),
            setTimeout(() => {
                r.parentElement && r.parentElement.removeChild(r)
            }, 1e4)
        }, 1e3)
    }
}
const kp = Object.freeze(Object.defineProperty({
        __proto__: null,
        detectBrowser: e0,
        isBrowserSupported: Yv,
        safeAddEventListener: Kk,
        safeDispatchEvent: Zk,
        safeHistoryPushState: Qk,
        safeRemoveEventListener: Yk,
        safeScrollBy: UL,
        showBrowserWarning: Xk
    }, Symbol.toStringTag, {
        value: "Module"
    })),
    Jk = h.createContext({
        user: null,
        isLoading: !0,
        isAuthenticated: !1,
        login: async () => ({
            success: !1
        }),
        logout: async () => {},
        register: async () => ({
            success: !1
        }),
        updateProfile: async () => ({
            success: !1
        })
    }),
    qL = ({children: t}) => {
        const [s, r] = h.useState(null),
            [n, a] = h.useState(!0),
            i = async () => {
                try {
                    a(!0);
                    const u = await fetch("/api/auth/me", {
                        credentials: "include",
                        headers: {
                            "Content-Type": "application/json"
                        }
                    });
                    if (u.ok) {
                        const m = await u.json();
                        r(m)
                    } else
                        u.status,
                        r(null)
                } catch {
                    r(null)
                } finally {
                    a(!1)
                }
            };
        h.useEffect(() => {
            i()
        }, []);
        const o = async (u, m) => {
                try {
                    const p = await fetch("/api/auth/login", {
                        method: "POST",
                        credentials: "include",
                        headers: {
                            "Content-Type": "application/json"
                        },
                        body: JSON.stringify({
                            identifier: u,
                            password: m
                        })
                    });
                    if (p.ok) {
                        const j = await p.json();
                        r(j);
                        const g = await fetch("/api/auth/me", {
                            credentials: "include",
                            headers: {
                                "Content-Type": "application/json"
                            }
                        });
                        if (g.ok) {
                            const x = await g.json();
                            r(x)
                        } else
                            setTimeout(() => {
                                i()
                            }, 100);
                        return {
                            success: !0,
                            shouldRedirect: j.isAdmin || j.role === "admin" || j.role === "manager"
                        }
                    } else
                        return {
                            success: !1,
                            message: (await p.json()).error || "Error de inicio de sesión"
                        }
                } catch {
                    return {
                        success: !1,
                        message: "Error de conexión al intentar iniciar sesión"
                    }
                }
            },
            l = async () => {
                try {
                    await fetch("/api/auth/logout", {
                        method: "POST",
                        credentials: "include",
                        headers: {
                            "Content-Type": "application/json"
                        }
                    }),
                    r(null)
                } catch {}
            },
            c = async u => {
                try {
                    const m = await Re("POST", "/api/auth/register", u);
                    return m.ok ? {
                        success: !0
                    } : {
                        success: !1,
                        message: (await m.json()).error || "Error al registrar usuario"
                    }
                } catch {
                    return {
                        success: !1,
                        message: "Error de conexión al intentar registrar usuario"
                    }
                }
            },
            d = async u => {
                try {
                    const m = await Re("PATCH", "/api/auth/profile", u);
                    if (m.ok) {
                        const p = await m.json();
                        return r(j => j ? {
                            ...j,
                            ...p
                        } : p), {
                            success: !0
                        }
                    } else
                        return {
                            success: !1,
                            message: (await m.json()).error || "Error al actualizar perfil"
                        }
                } catch {
                    return {
                        success: !1,
                        message: "Error de conexión al intentar actualizar perfil"
                    }
                }
            };
        return e.jsx(Jk.Provider, {
            value: {
                user: s,
                isLoading: n,
                isAuthenticated: !!s,
                login: o,
                logout: l,
                register: c,
                updateProfile: d
            },
            children: t
        })
    },
    Ts = () => h.useContext(Jk),
    e4 = h.createContext(void 0),
    BL = ({children: t}) => {
        const [s, r] = h.useState([]),
            [n, a] = h.useState(!0),
            [i, o] = h.useState(!1),
            {toast: l} = st();
        h.useEffect(() => {
            const g = localStorage.getItem("cart-items");
            try {
                if (g) {
                    const x = JSON.parse(g);
                    Array.isArray(x) && x.length > 0 ? r(x) : r([])
                } else
                    r([])
            } catch (x) {
                console.error("Error loading cart from localStorage:", x),
                localStorage.removeItem("cart-items"),
                r([])
            } finally {
                a(!1)
            }
        }, []),
        h.useEffect(() => {
            localStorage.setItem("cart-items", JSON.stringify(s))
        }, [s]);
        const c = async (g, x=1, y, v=!0) => {
                var f,
                    b,
                    N;
                try {
                    if (a(!0), s.findIndex(C => C.partId === g) !== -1) {
                        l({
                            title: "Producto ya en el carrito",
                            description: "Este producto ya está en tu carrito. Todos los artículos son únicos con cantidad 1.",
                            variant: "destructive"
                        }),
                        a(!1);
                        return
                    } else {
                        const C = parseFloat(((f = y.precio) == null ? void 0 : f.replace(",", ".")) || "0"),
                            E = JE(C),
                            k = y.peso && parseInt(y.peso.toString()) || 500,
                            R = y.idVehiculo || null,
                            H = 1,
                            z = ((b = y.refLocal) == null ? void 0 : b.toString()) || null,
                            A = y.codArticulo || null,
                            $ = {
                                id: Date.now(),
                                partId: g,
                                quantity: H,
                                price: E,
                                partName: y.descripcionArticulo || `Pieza #${g}`,
                                partFamily: y.descripcionFamilia || "Pieza de repuesto",
                                partImage: ((N = y.imagenes) == null ? void 0 : N[0]) || null,
                                partReference: z,
                                partCode: A,
                                partWeight: k,
                                idVehiculo: R
                            };
                        r(G => [...G, $])
                    }
                    l({
                        title: "Añadido al carrito",
                        description: `${y.descripcionArticulo || "Pieza"} añadida al carrito`
                    }),
                    v && o(!0)
                } catch (w) {
                    console.error("Error adding to cart:", w),
                    l({
                        title: "Error",
                        description: "No se pudo añadir al carrito",
                        variant: "destructive"
                    })
                } finally {
                    a(!1)
                }
            },
            d = (g, x) => {
                if (x <= 0) {
                    u(g);
                    return
                }
                l({
                    title: "Cantidad no modificable",
                    description: "Todos los artículos son únicos y solo están disponibles en 1 unidad",
                    variant: "destructive"
                })
            },
            u = g => {
                r(x => x.filter(y => y.partId !== g)),
                l({
                    title: "Eliminado del carrito",
                    description: "Pieza eliminada del carrito"
                })
            },
            m = () => {
                r([]),
                l({
                    title: "Carrito vaciado",
                    description: "Se han eliminado todos los productos del carrito"
                })
            },
            p = s.reduce((g, x) => g + x.quantity, 0),
            j = s.reduce((g, x) => g + x.price * x.quantity, 0);
        return e.jsx(e4.Provider, {
            value: {
                items: s,
                isLoading: n,
                isCartOpen: i,
                setIsCartOpen: o,
                addToCart: c,
                updateQuantity: d,
                removeItem: u,
                clearCart: m,
                setItems: r,
                totalItems: p,
                totalPrice: j
            },
            children: t
        })
    },
    bl = () => {
        const t = h.useContext(e4);
        if (t === void 0)
            throw new Error("useCart debe ser usado dentro de un CartProvider");
        return t
    },
    U = h.forwardRef(({className: t, ...s}, r) => e.jsx("div", {
        ref: r,
        className: me("rounded-lg border bg-card text-card-foreground shadow-sm", t),
        ...s
    }));
U.displayName = "Card";
const ne = h.forwardRef(({className: t, ...s}, r) => e.jsx("div", {
    ref: r,
    className: me("flex flex-col space-y-1.5 p-6", t),
    ...s
}));
ne.displayName = "CardHeader";
const ae = h.forwardRef(({className: t, ...s}, r) => e.jsx("div", {
    ref: r,
    className: me("text-2xl font-semibold leading-none tracking-tight", t),
    ...s
}));
ae.displayName = "CardTitle";
const qt = h.forwardRef(({className: t, ...s}, r) => e.jsx("div", {
    ref: r,
    className: me("text-sm text-muted-foreground", t),
    ...s
}));
qt.displayName = "CardDescription";
const q = h.forwardRef(({className: t, ...s}, r) => e.jsx("div", {
    ref: r,
    className: me("p-6 pt-0", t),
    ...s
}));
q.displayName = "CardContent";
const _a = h.forwardRef(({className: t, ...s}, r) => e.jsx("div", {
    ref: r,
    className: me("flex items-center p-6 pt-0", t),
    ...s
}));
_a.displayName = "CardFooter";
const Mc = Zc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0", {
        variants: {
            variant: {
                default: "bg-primary text-primary-foreground hover:bg-primary/90",
                destructive: "bg-destructive text-destructive-foreground hover:bg-destructive/90",
                outline: "border border-input bg-background hover:bg-accent hover:text-accent-foreground",
                secondary: "bg-secondary text-secondary-foreground hover:bg-secondary/80",
                ghost: "hover:bg-accent hover:text-accent-foreground",
                link: "text-primary underline-offset-4 hover:underline"
            },
            size: {
                default: "h-10 px-4 py-2",
                sm: "h-9 rounded-md px-3",
                lg: "h-11 rounded-md px-8",
                icon: "h-10 w-10"
            }
        },
        defaultVariants: {
            variant: "default",
            size: "default"
        }
    }),
    T = h.forwardRef(({className: t, variant: s, size: r, asChild: n=!1, ...a}, i) => {
        const o = n ? lE : "button";
        return e.jsx(o, {
            className: me(Mc({
                variant: s,
                size: r,
                className: t
            })),
            ref: i,
            ...a
        })
    });
T.displayName = "Button";
const HL = Zc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2", {
    variants: {
        variant: {
            default: "border-transparent bg-primary text-primary-foreground hover:bg-primary/80",
            secondary: "border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",
            destructive: "border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",
            success: "border-transparent bg-green-600 text-white hover:bg-green-700/80",
            outline: "text-foreground"
        }
    },
    defaultVariants: {
        variant: "default"
    }
});
function ye({className: t, variant: s, ...r}) {
    return e.jsx("div", {
        className: me(HL({
            variant: s
        }), t),
        ...r
    })
}
var rg = "focusScope.autoFocusOnMount",
    ng = "focusScope.autoFocusOnUnmount",
    Pw = {
        bubbles: !1,
        cancelable: !0
    },
    WL = "FocusScope",
    um = h.forwardRef((t, s) => {
        const {loop: r=!1, trapped: n=!1, onMountAutoFocus: a, onUnmountAutoFocus: i, ...o} = t,
            [l, c] = h.useState(null),
            d = Zt(a),
            u = Zt(i),
            m = h.useRef(null),
            p = lt(s, x => c(x)),
            j = h.useRef({
                paused: !1,
                pause() {
                    this.paused = !0
                },
                resume() {
                    this.paused = !1
                }
            }).current;
        h.useEffect(() => {
            if (n) {
                let x = function(b) {
                        if (j.paused || !l)
                            return;
                        const N = b.target;
                        l.contains(N) ? m.current = N : Mi(m.current, {
                            select: !0
                        })
                    },
                    y = function(b) {
                        if (j.paused || !l)
                            return;
                        const N = b.relatedTarget;
                        N !== null && (l.contains(N) || Mi(m.current, {
                            select: !0
                        }))
                    },
                    v = function(b) {
                        if (document.activeElement === document.body)
                            for (const w of b)
                                w.removedNodes.length > 0 && Mi(l)
                    };
                document.addEventListener("focusin", x),
                document.addEventListener("focusout", y);
                const f = new MutationObserver(v);
                return l && f.observe(l, {
                    childList: !0,
                    subtree: !0
                }), () => {
                    document.removeEventListener("focusin", x),
                    document.removeEventListener("focusout", y),
                    f.disconnect()
                }
            }
        }, [n, l, j.paused]),
        h.useEffect(() => {
            if (l) {
                Tw.add(j);
                const x = document.activeElement;
                if (!l.contains(x)) {
                    const v = new CustomEvent(rg, Pw);
                    l.addEventListener(rg, d),
                    l.dispatchEvent(v),
                    v.defaultPrevented || (GL(XL(t4(l)), {
                        select: !0
                    }), document.activeElement === x && Mi(l))
                }
                return () => {
                    l.removeEventListener(rg, d),
                    setTimeout(() => {
                        const v = new CustomEvent(ng, Pw);
                        l.addEventListener(ng, u),
                        l.dispatchEvent(v),
                        v.defaultPrevented || Mi(x ?? document.body, {
                            select: !0
                        }),
                        l.removeEventListener(ng, u),
                        Tw.remove(j)
                    }, 0)
                }
            }
        }, [l, d, u, j]);
        const g = h.useCallback(x => {
            if (!r && !n || j.paused)
                return;
            const y = x.key === "Tab" && !x.altKey && !x.ctrlKey && !x.metaKey,
                v = document.activeElement;
            if (y && v) {
                const f = x.currentTarget,
                    [b, N] = KL(f);
                b && N ? !x.shiftKey && v === N ? (x.preventDefault(), r && Mi(b, {
                    select: !0
                })) : x.shiftKey && v === b && (x.preventDefault(), r && Mi(N, {
                    select: !0
                })) : v === f && x.preventDefault()
            }
        }, [r, n, j.paused]);
        return e.jsx(Oe.div, {
            tabIndex: -1,
            ...o,
            ref: p,
            onKeyDown: g
        })
    });
um.displayName = WL;
function GL(t, {select: s=!1}={}) {
    const r = document.activeElement;
    for (const n of t)
        if (Mi(n, {
            select: s
        }), document.activeElement !== r)
            return
}
function KL(t) {
    const s = t4(t),
        r = _w(s, t),
        n = _w(s.reverse(), t);
    return [r, n]
}
function t4(t) {
    const s = [],
        r = document.createTreeWalker(t, NodeFilter.SHOW_ELEMENT, {
            acceptNode: n => {
                const a = n.tagName === "INPUT" && n.type === "hidden";
                return n.disabled || n.hidden || a ? NodeFilter.FILTER_SKIP : n.tabIndex >= 0 ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP
            }
        });
    for (; r.nextNode();)
        s.push(r.currentNode);
    return s
}
function _w(t, s) {
    for (const r of t)
        if (!YL(r, {
            upTo: s
        }))
            return r
}
function YL(t, {upTo: s}) {
    if (getComputedStyle(t).visibility === "hidden")
        return !0;
    for (; t;) {
        if (s !== void 0 && t === s)
            return !1;
        if (getComputedStyle(t).display === "none")
            return !0;
        t = t.parentElement
    }
    return !1
}
function QL(t) {
    return t instanceof HTMLInputElement && "select" in t
}
function Mi(t, {select: s=!1}={}) {
    if (t && t.focus) {
        const r = document.activeElement;
        t.focus({
            preventScroll: !0
        }),
        t !== r && QL(t) && s && t.select()
    }
}
var Tw = ZL();
function ZL() {
    let t = [];
    return {
        add(s) {
            const r = t[0];
            s !== r && (r == null || r.pause()),
            t = Aw(t, s),
            t.unshift(s)
        },
        remove(s) {
            var r;
            t = Aw(t, s),
            (r = t[0]) == null || r.resume()
        }
    }
}
function Aw(t, s) {
    const r = [...t],
        n = r.indexOf(s);
    return n !== -1 && r.splice(n, 1), r
}
function XL(t) {
    return t.filter(s => s.tagName !== "A")
}
var ag = 0;
function Df() {
    h.useEffect(() => {
        const t = document.querySelectorAll("[data-radix-focus-guard]");
        return document.body.insertAdjacentElement("afterbegin", t[0] ?? Mw()), document.body.insertAdjacentElement("beforeend", t[1] ?? Mw()), ag++, () => {
            ag === 1 && document.querySelectorAll("[data-radix-focus-guard]").forEach(s => s.remove()),
            ag--
        }
    }, [])
}
function Mw() {
    const t = document.createElement("span");
    return t.setAttribute("data-radix-focus-guard", ""), t.tabIndex = 0, t.style.outline = "none", t.style.opacity = "0", t.style.position = "fixed", t.style.pointerEvents = "none", t
}
var fa = function() {
    return fa = Object.assign || function(s) {
        for (var r, n = 1, a = arguments.length; n < a; n++) {
            r = arguments[n];
            for (var i in r)
                Object.prototype.hasOwnProperty.call(r, i) && (s[i] = r[i])
        }
        return s
    }, fa.apply(this, arguments)
};
function s4(t, s) {
    var r = {};
    for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && s.indexOf(n) < 0 && (r[n] = t[n]);
    if (t != null && typeof Object.getOwnPropertySymbols == "function")
        for (var a = 0, n = Object.getOwnPropertySymbols(t); a < n.length; a++)
            s.indexOf(n[a]) < 0 && Object.prototype.propertyIsEnumerable.call(t, n[a]) && (r[n[a]] = t[n[a]]);
    return r
}
function JL(t, s, r) {
    if (r || arguments.length === 2)
        for (var n = 0, a = s.length, i; n < a; n++)
            (i || !(n in s)) && (i || (i = Array.prototype.slice.call(s, 0, n)), i[n] = s[n]);
    return t.concat(i || Array.prototype.slice.call(s))
}
var Dh = "right-scroll-bar-position",
    Oh = "width-before-scroll-bar",
    eF = "with-scroll-bars-hidden",
    tF = "--removed-body-scroll-bar-size";
function ig(t, s) {
    return typeof t == "function" ? t(s) : t && (t.current = s), t
}
function sF(t, s) {
    var r = h.useState(function() {
        return {
            value: t,
            callback: s,
            facade: {
                get current() {
                    return r.value
                },
                set current(n) {
                    var a = r.value;
                    a !== n && (r.value = n, r.callback(n, a))
                }
            }
        }
    })[0];
    return r.callback = s, r.facade
}
var rF = typeof window < "u" ? h.useLayoutEffect : h.useEffect,
    Iw = new WeakMap;
function nF(t, s) {
    var r = sF(null, function(n) {
        return t.forEach(function(a) {
            return ig(a, n)
        })
    });
    return rF(function() {
        var n = Iw.get(r);
        if (n) {
            var a = new Set(n),
                i = new Set(t),
                o = r.current;
            a.forEach(function(l) {
                i.has(l) || ig(l, null)
            }),
            i.forEach(function(l) {
                a.has(l) || ig(l, o)
            })
        }
        Iw.set(r, t)
    }, [t]), r
}
function aF(t) {
    return t
}
function iF(t, s) {
    s === void 0 && (s = aF);
    var r = [],
        n = !1,
        a = {
            read: function() {
                if (n)
                    throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");
                return r.length ? r[r.length - 1] : t
            },
            useMedium: function(i) {
                var o = s(i, n);
                return r.push(o), function() {
                    r = r.filter(function(l) {
                        return l !== o
                    })
                }
            },
            assignSyncMedium: function(i) {
                for (n = !0; r.length;) {
                    var o = r;
                    r = [],
                    o.forEach(i)
                }
                r = {
                    push: function(l) {
                        return i(l)
                    },
                    filter: function() {
                        return r
                    }
                }
            },
            assignMedium: function(i) {
                n = !0;
                var o = [];
                if (r.length) {
                    var l = r;
                    r = [],
                    l.forEach(i),
                    o = r
                }
                var c = function() {
                        var u = o;
                        o = [],
                        u.forEach(i)
                    },
                    d = function() {
                        return Promise.resolve().then(c)
                    };
                d(),
                r = {
                    push: function(u) {
                        o.push(u),
                        d()
                    },
                    filter: function(u) {
                        return o = o.filter(u), r
                    }
                }
            }
        };
    return a
}
function oF(t) {
    t === void 0 && (t = {});
    var s = iF(null);
    return s.options = fa({
        async: !0,
        ssr: !1
    }, t), s
}
var r4 = function(t) {
    var s = t.sideCar,
        r = s4(t, ["sideCar"]);
    if (!s)
        throw new Error("Sidecar: please provide `sideCar` property to import the right car");
    var n = s.read();
    if (!n)
        throw new Error("Sidecar medium not found");
    return h.createElement(n, fa({}, r))
};
r4.isSideCarExport = !0;
function lF(t, s) {
    return t.useMedium(s), r4
}
var n4 = oF(),
    og = function() {},
    Of = h.forwardRef(function(t, s) {
        var r = h.useRef(null),
            n = h.useState({
                onScrollCapture: og,
                onWheelCapture: og,
                onTouchMoveCapture: og
            }),
            a = n[0],
            i = n[1],
            o = t.forwardProps,
            l = t.children,
            c = t.className,
            d = t.removeScrollBar,
            u = t.enabled,
            m = t.shards,
            p = t.sideCar,
            j = t.noIsolation,
            g = t.inert,
            x = t.allowPinchZoom,
            y = t.as,
            v = y === void 0 ? "div" : y,
            f = t.gapMode,
            b = s4(t, ["forwardProps", "children", "className", "removeScrollBar", "enabled", "shards", "sideCar", "noIsolation", "inert", "allowPinchZoom", "as", "gapMode"]),
            N = p,
            w = nF([r, s]),
            C = fa(fa({}, b), a);
        return h.createElement(h.Fragment, null, u && h.createElement(N, {
            sideCar: n4,
            removeScrollBar: d,
            shards: m,
            noIsolation: j,
            inert: g,
            setCallbacks: i,
            allowPinchZoom: !!x,
            lockRef: r,
            gapMode: f
        }), o ? h.cloneElement(h.Children.only(l), fa(fa({}, C), {
            ref: w
        })) : h.createElement(v, fa({}, C, {
            className: c,
            ref: w
        }), l))
    });
Of.defaultProps = {
    enabled: !0,
    removeScrollBar: !0,
    inert: !1
};
Of.classNames = {
    fullWidth: Oh,
    zeroRight: Dh
};
var cF = function() {
    if (typeof __webpack_nonce__ < "u")
        return __webpack_nonce__
};
function dF() {
    if (!document)
        return null;
    var t = document.createElement("style");
    t.type = "text/css";
    var s = cF();
    return s && t.setAttribute("nonce", s), t
}
function uF(t, s) {
    t.styleSheet ? t.styleSheet.cssText = s : t.appendChild(document.createTextNode(s))
}
function mF(t) {
    var s = document.head || document.getElementsByTagName("head")[0];
    s.appendChild(t)
}
var hF = function() {
        var t = 0,
            s = null;
        return {
            add: function(r) {
                t == 0 && (s = dF()) && (uF(s, r), mF(s)),
                t++
            },
            remove: function() {
                t--,
                !t && s && (s.parentNode && s.parentNode.removeChild(s), s = null)
            }
        }
    },
    pF = function() {
        var t = hF();
        return function(s, r) {
            h.useEffect(function() {
                return t.add(s), function() {
                    t.remove()
                }
            }, [s && r])
        }
    },
    a4 = function() {
        var t = pF(),
            s = function(r) {
                var n = r.styles,
                    a = r.dynamic;
                return t(n, a), null
            };
        return s
    },
    fF = {
        left: 0,
        top: 0,
        right: 0,
        gap: 0
    },
    lg = function(t) {
        return parseInt(t || "", 10) || 0
    },
    xF = function(t) {
        var s = window.getComputedStyle(document.body),
            r = s[t === "padding" ? "paddingLeft" : "marginLeft"],
            n = s[t === "padding" ? "paddingTop" : "marginTop"],
            a = s[t === "padding" ? "paddingRight" : "marginRight"];
        return [lg(r), lg(n), lg(a)]
    },
    gF = function(t) {
        if (t === void 0 && (t = "margin"), typeof window > "u")
            return fF;
        var s = xF(t),
            r = document.documentElement.clientWidth,
            n = window.innerWidth;
        return {
            left: s[0],
            top: s[1],
            right: s[2],
            gap: Math.max(0, n - r + s[2] - s[0])
        }
    },
    vF = a4(),
    ac = "data-scroll-locked",
    yF = function(t, s, r, n) {
        var a = t.left,
            i = t.top,
            o = t.right,
            l = t.gap;
        return r === void 0 && (r = "margin"), `
  .`
        .concat(eF, ` {
   overflow: hidden `
        ).concat(n, `;
   padding-right: `
        ).concat(l, "px ").concat(n, `;
  }
  body[`

        ).concat(ac, `] {
    overflow: hidden `
        ).concat(n, `;
    overscroll-behavior: contain;
    `

        ).concat([s && "position: relative ".concat(n, ";"), r === "margin" && `
    padding-left: `
        .concat(a, `px;
    padding-top: `
        ).concat(i, `px;
    padding-right: `
        ).concat(o, `px;
    margin-left:0;
    margin-top:0;
    margin-right: `


        ).concat(l, "px ").concat(n, `;
    `
        ), r === "padding" && "padding-right: ".concat(l, "px ").concat(n, ";")].filter(Boolean).join(""), `
  }
  
  .`


        ).concat(Dh, ` {
    right: `
        ).concat(l, "px ").concat(n, `;
  }
  
  .`


        ).concat(Oh, ` {
    margin-right: `
        ).concat(l, "px ").concat(n, `;
  }
  
  .`


        ).concat(Dh, " .").concat(Dh, ` {
    right: 0 `
        ).concat(n, `;
  }
  
  .`


        ).concat(Oh, " .").concat(Oh, ` {
    margin-right: 0 `
        ).concat(n, `;
  }
  
  body[`


        ).concat(ac, `] {
    `
        ).concat(tF, ": ").concat(l, `px;
  }
`

        )
    },
    Rw = function() {
        var t = parseInt(document.body.getAttribute(ac) || "0", 10);
        return isFinite(t) ? t : 0
    },
    jF = function() {
        h.useEffect(function() {
            return document.body.setAttribute(ac, (Rw() + 1).toString()), function() {
                var t = Rw() - 1;
                t <= 0 ? document.body.removeAttribute(ac) : document.body.setAttribute(ac, t.toString())
            }
        }, [])
    },
    bF = function(t) {
        var s = t.noRelative,
            r = t.noImportant,
            n = t.gapMode,
            a = n === void 0 ? "margin" : n;
        jF();
        var i = h.useMemo(function() {
            return gF(a)
        }, [a]);
        return h.createElement(vF, {
            styles: yF(i, !s, a, r ? "" : "!important")
        })
    },
    Qv = !1;
if (typeof window < "u")
    try {
        var ah = Object.defineProperty({}, "passive", {
            get: function() {
                return Qv = !0, !0
            }
        });
        window.addEventListener("test", ah, ah),
        window.removeEventListener("test", ah, ah)
    } catch {
        Qv = !1
    }
var _l = Qv ? {
        passive: !1
    } : !1,
    NF = function(t) {
        return t.tagName === "TEXTAREA"
    },
    i4 = function(t, s) {
        if (!(t instanceof Element))
            return !1;
        var r = window.getComputedStyle(t);
        return r[s] !== "hidden" && !(r.overflowY === r.overflowX && !NF(t) && r[s] === "visible")
    },
    wF = function(t) {
        return i4(t, "overflowY")
    },
    CF = function(t) {
        return i4(t, "overflowX")
    },
    Dw = function(t, s) {
        var r = s.ownerDocument,
            n = s;
        do {
            typeof ShadowRoot < "u" && n instanceof ShadowRoot && (n = n.host);
            var a = o4(t, n);
            if (a) {
                var i = l4(t, n),
                    o = i[1],
                    l = i[2];
                if (o > l)
                    return !0
            }
            n = n.parentNode
        } while (n && n !== r.body);
        return !1
    },
    SF = function(t) {
        var s = t.scrollTop,
            r = t.scrollHeight,
            n = t.clientHeight;
        return [s, r, n]
    },
    EF = function(t) {
        var s = t.scrollLeft,
            r = t.scrollWidth,
            n = t.clientWidth;
        return [s, r, n]
    },
    o4 = function(t, s) {
        return t === "v" ? wF(s) : CF(s)
    },
    l4 = function(t, s) {
        return t === "v" ? SF(s) : EF(s)
    },
    kF = function(t, s) {
        return t === "h" && s === "rtl" ? -1 : 1
    },
    PF = function(t, s, r, n, a) {
        var i = kF(t, window.getComputedStyle(s).direction),
            o = i * n,
            l = r.target,
            c = s.contains(l),
            d = !1,
            u = o > 0,
            m = 0,
            p = 0;
        do {
            var j = l4(t, l),
                g = j[0],
                x = j[1],
                y = j[2],
                v = x - y - i * g;
            (g || v) && o4(t, l) && (m += v, p += g),
            l instanceof ShadowRoot ? l = l.host : l = l.parentNode
        } while (!c && l !== document.body || c && (s.contains(l) || s === l));
        return (u && (Math.abs(m) < 1 || !a) || !u && (Math.abs(p) < 1 || !a)) && (d = !0), d
    },
    ih = function(t) {
        return "changedTouches" in t ? [t.changedTouches[0].clientX, t.changedTouches[0].clientY] : [0, 0]
    },
    Ow = function(t) {
        return [t.deltaX, t.deltaY]
    },
    Lw = function(t) {
        return t && "current" in t ? t.current : t
    },
    _F = function(t, s) {
        return t[0] === s[0] && t[1] === s[1]
    },
    TF = function(t) {
        return `
  .block-interactivity-`
        .concat(t, ` {pointer-events: none;}
  .allow-interactivity-`
        ).concat(t, ` {pointer-events: all;}
`
        )
    },
    AF = 0,
    Tl = [];
function MF(t) {
    var s = h.useRef([]),
        r = h.useRef([0, 0]),
        n = h.useRef(),
        a = h.useState(AF++)[0],
        i = h.useState(a4)[0],
        o = h.useRef(t);
    h.useEffect(function() {
        o.current = t
    }, [t]),
    h.useEffect(function() {
        if (t.inert) {
            document.body.classList.add("block-interactivity-".concat(a));
            var x = JL([t.lockRef.current], (t.shards || []).map(Lw), !0).filter(Boolean);
            return x.forEach(function(y) {
                return y.classList.add("allow-interactivity-".concat(a))
            }), function() {
                document.body.classList.remove("block-interactivity-".concat(a)),
                x.forEach(function(y) {
                    return y.classList.remove("allow-interactivity-".concat(a))
                })
            }
        }
    }, [t.inert, t.lockRef.current, t.shards]);
    var l = h.useCallback(function(x, y) {
            if ("touches" in x && x.touches.length === 2 || x.type === "wheel" && x.ctrlKey)
                return !o.current.allowPinchZoom;
            var v = ih(x),
                f = r.current,
                b = "deltaX" in x ? x.deltaX : f[0] - v[0],
                N = "deltaY" in x ? x.deltaY : f[1] - v[1],
                w,
                C = x.target,
                E = Math.abs(b) > Math.abs(N) ? "h" : "v";
            if ("touches" in x && E === "h" && C.type === "range")
                return !1;
            var k = Dw(E, C);
            if (!k)
                return !0;
            if (k ? w = E : (w = E === "v" ? "h" : "v", k = Dw(E, C)), !k)
                return !1;
            if (!n.current && "changedTouches" in x && (b || N) && (n.current = w), !w)
                return !0;
            var R = n.current || w;
            return PF(R, y, x, R === "h" ? b : N, !0)
        }, []),
        c = h.useCallback(function(x) {
            var y = x;
            if (!(!Tl.length || Tl[Tl.length - 1] !== i)) {
                var v = "deltaY" in y ? Ow(y) : ih(y),
                    f = s.current.filter(function(w) {
                        return w.name === y.type && (w.target === y.target || y.target === w.shadowParent) && _F(w.delta, v)
                    })[0];
                if (f && f.should) {
                    y.cancelable && y.preventDefault();
                    return
                }
                if (!f) {
                    var b = (o.current.shards || []).map(Lw).filter(Boolean).filter(function(w) {
                            return w.contains(y.target)
                        }),
                        N = b.length > 0 ? l(y, b[0]) : !o.current.noIsolation;
                    N && y.cancelable && y.preventDefault()
                }
            }
        }, []),
        d = h.useCallback(function(x, y, v, f) {
            var b = {
                name: x,
                delta: y,
                target: v,
                should: f,
                shadowParent: IF(v)
            };
            s.current.push(b),
            setTimeout(function() {
                s.current = s.current.filter(function(N) {
                    return N !== b
                })
            }, 1)
        }, []),
        u = h.useCallback(function(x) {
            r.current = ih(x),
            n.current = void 0
        }, []),
        m = h.useCallback(function(x) {
            d(x.type, Ow(x), x.target, l(x, t.lockRef.current))
        }, []),
        p = h.useCallback(function(x) {
            d(x.type, ih(x), x.target, l(x, t.lockRef.current))
        }, []);
    h.useEffect(function() {
        return Tl.push(i), t.setCallbacks({
            onScrollCapture: m,
            onWheelCapture: m,
            onTouchMoveCapture: p
        }), document.addEventListener("wheel", c, _l), document.addEventListener("touchmove", c, _l), document.addEventListener("touchstart", u, _l), function() {
            Tl = Tl.filter(function(x) {
                return x !== i
            }),
            document.removeEventListener("wheel", c, _l),
            document.removeEventListener("touchmove", c, _l),
            document.removeEventListener("touchstart", u, _l)
        }
    }, []);
    var j = t.removeScrollBar,
        g = t.inert;
    return h.createElement(h.Fragment, null, g ? h.createElement(i, {
        styles: TF(a)
    }) : null, j ? h.createElement(bF, {
        gapMode: t.gapMode
    }) : null)
}
function IF(t) {
    for (var s = null; t !== null;)
        t instanceof ShadowRoot && (s = t.host, t = t.host),
        t = t.parentNode;
    return s
}
const RF = lF(n4, MF);
var mm = h.forwardRef(function(t, s) {
    return h.createElement(Of, fa({}, t, {
        ref: s,
        sideCar: RF
    }))
});
mm.classNames = Of.classNames;
var DF = function(t) {
        if (typeof document > "u")
            return null;
        var s = Array.isArray(t) ? t[0] : t;
        return s.ownerDocument.body
    },
    Al = new WeakMap,
    oh = new WeakMap,
    lh = {},
    cg = 0,
    c4 = function(t) {
        return t && (t.host || c4(t.parentNode))
    },
    OF = function(t, s) {
        return s.map(function(r) {
            if (t.contains(r))
                return r;
            var n = c4(r);
            return n && t.contains(n) ? n : (console.error("aria-hidden", r, "in not contained inside", t, ". Doing nothing"), null)
        }).filter(function(r) {
            return !!r
        })
    },
    LF = function(t, s, r, n) {
        var a = OF(s, Array.isArray(t) ? t : [t]);
        lh[r] || (lh[r] = new WeakMap);
        var i = lh[r],
            o = [],
            l = new Set,
            c = new Set(a),
            d = function(m) {
                !m || l.has(m) || (l.add(m), d(m.parentNode))
            };
        a.forEach(d);
        var u = function(m) {
            !m || c.has(m) || Array.prototype.forEach.call(m.children, function(p) {
                if (l.has(p))
                    u(p);
                else
                    try {
                        var j = p.getAttribute(n),
                            g = j !== null && j !== "false",
                            x = (Al.get(p) || 0) + 1,
                            y = (i.get(p) || 0) + 1;
                        Al.set(p, x),
                        i.set(p, y),
                        o.push(p),
                        x === 1 && g && oh.set(p, !0),
                        y === 1 && p.setAttribute(r, "true"),
                        g || p.setAttribute(n, "true")
                    } catch (v) {
                        console.error("aria-hidden: cannot operate on ", p, v)
                    }
            })
        };
        return u(s), l.clear(), cg++, function() {
            o.forEach(function(m) {
                var p = Al.get(m) - 1,
                    j = i.get(m) - 1;
                Al.set(m, p),
                i.set(m, j),
                p || (oh.has(m) || m.removeAttribute(n), oh.delete(m)),
                j || m.removeAttribute(r)
            }),
            cg--,
            cg || (Al = new WeakMap, Al = new WeakMap, oh = new WeakMap, lh = {})
        }
    },
    Lf = function(t, s, r) {
        r === void 0 && (r = "data-aria-hidden");
        var n = Array.from(Array.isArray(t) ? t : [t]),
            a = DF(t);
        return a ? (n.push.apply(n, Array.from(a.querySelectorAll("[aria-live]"))), LF(n, a, r, "aria-hidden")) : function() {
            return null
        }
    },
    t0 = "Dialog",
    [d4, u4] = ws(t0),
    [FF, na] = d4(t0),
    m4 = t => {
        const {__scopeDialog: s, children: r, open: n, defaultOpen: a, onOpenChange: i, modal: o=!0} = t,
            l = h.useRef(null),
            c = h.useRef(null),
            [d=!1, u] = Yr({
                prop: n,
                defaultProp: a,
                onChange: i
            });
        return e.jsx(FF, {
            scope: s,
            triggerRef: l,
            contentRef: c,
            contentId: cn(),
            titleId: cn(),
            descriptionId: cn(),
            open: d,
            onOpenChange: u,
            onOpenToggle: h.useCallback(() => u(m => !m), [u]),
            modal: o,
            children: r
        })
    };
m4.displayName = t0;
var h4 = "DialogTrigger",
    p4 = h.forwardRef((t, s) => {
        const {__scopeDialog: r, ...n} = t,
            a = na(h4, r),
            i = lt(s, a.triggerRef);
        return e.jsx(Oe.button, {
            type: "button",
            "aria-haspopup": "dialog",
            "aria-expanded": a.open,
            "aria-controls": a.contentId,
            "data-state": n0(a.open),
            ...n,
            ref: i,
            onClick: Ne(t.onClick, a.onOpenToggle)
        })
    });
p4.displayName = h4;
var s0 = "DialogPortal",
    [zF, f4] = d4(s0, {
        forceMount: void 0
    }),
    x4 = t => {
        const {__scopeDialog: s, forceMount: r, children: n, container: a} = t,
            i = na(s0, s);
        return e.jsx(zF, {
            scope: s,
            forceMount: r,
            children: h.Children.map(n, o => e.jsx(_s, {
                present: r || i.open,
                children: e.jsx(Qc, {
                    asChild: !0,
                    container: a,
                    children: o
                })
            }))
        })
    };
x4.displayName = s0;
var Pp = "DialogOverlay",
    g4 = h.forwardRef((t, s) => {
        const r = f4(Pp, t.__scopeDialog),
            {forceMount: n=r.forceMount, ...a} = t,
            i = na(Pp, t.__scopeDialog);
        return i.modal ? e.jsx(_s, {
            present: n || i.open,
            children: e.jsx(VF, {
                ...a,
                ref: s
            })
        }) : null
    });
g4.displayName = Pp;
var $F = co("DialogOverlay.RemoveScroll"),
    VF = h.forwardRef((t, s) => {
        const {__scopeDialog: r, ...n} = t,
            a = na(Pp, r);
        return e.jsx(mm, {
            as: $F,
            allowPinchZoom: !0,
            shards: [a.contentRef],
            children: e.jsx(Oe.div, {
                "data-state": n0(a.open),
                ...n,
                ref: s,
                style: {
                    pointerEvents: "auto",
                    ...n.style
                }
            })
        })
    }),
    ll = "DialogContent",
    v4 = h.forwardRef((t, s) => {
        const r = f4(ll, t.__scopeDialog),
            {forceMount: n=r.forceMount, ...a} = t,
            i = na(ll, t.__scopeDialog);
        return e.jsx(_s, {
            present: n || i.open,
            children: i.modal ? e.jsx(UF, {
                ...a,
                ref: s
            }) : e.jsx(qF, {
                ...a,
                ref: s
            })
        })
    });
v4.displayName = ll;
var UF = h.forwardRef((t, s) => {
        const r = na(ll, t.__scopeDialog),
            n = h.useRef(null),
            a = lt(s, r.contentRef, n);
        return h.useEffect(() => {
            const i = n.current;
            if (i)
                return Lf(i)
        }, []), e.jsx(y4, {
            ...t,
            ref: a,
            trapFocus: r.open,
            disableOutsidePointerEvents: !0,
            onCloseAutoFocus: Ne(t.onCloseAutoFocus, i => {
                var o;
                i.preventDefault(),
                (o = r.triggerRef.current) == null || o.focus()
            }),
            onPointerDownOutside: Ne(t.onPointerDownOutside, i => {
                const o = i.detail.originalEvent,
                    l = o.button === 0 && o.ctrlKey === !0;
                (o.button === 2 || l) && i.preventDefault()
            }),
            onFocusOutside: Ne(t.onFocusOutside, i => i.preventDefault())
        })
    }),
    qF = h.forwardRef((t, s) => {
        const r = na(ll, t.__scopeDialog),
            n = h.useRef(!1),
            a = h.useRef(!1);
        return e.jsx(y4, {
            ...t,
            ref: s,
            trapFocus: !1,
            disableOutsidePointerEvents: !1,
            onCloseAutoFocus: i => {
                var o,
                    l;
                (o = t.onCloseAutoFocus) == null || o.call(t, i),
                i.defaultPrevented || (n.current || (l = r.triggerRef.current) == null || l.focus(), i.preventDefault()),
                n.current = !1,
                a.current = !1
            },
            onInteractOutside: i => {
                var c,
                    d;
                (c = t.onInteractOutside) == null || c.call(t, i),
                i.defaultPrevented || (n.current = !0, i.detail.originalEvent.type === "pointerdown" && (a.current = !0));
                const o = i.target;
                ((d = r.triggerRef.current) == null ? void 0 : d.contains(o)) && i.preventDefault(),
                i.detail.originalEvent.type === "focusin" && a.current && i.preventDefault()
            }
        })
    }),
    y4 = h.forwardRef((t, s) => {
        const {__scopeDialog: r, trapFocus: n, onOpenAutoFocus: a, onCloseAutoFocus: i, ...o} = t,
            l = na(ll, r),
            c = h.useRef(null),
            d = lt(s, c);
        return Df(), e.jsxs(e.Fragment, {
            children: [e.jsx(um, {
                asChild: !0,
                loop: !0,
                trapped: n,
                onMountAutoFocus: a,
                onUnmountAutoFocus: i,
                children: e.jsx(jl, {
                    role: "dialog",
                    id: l.contentId,
                    "aria-describedby": l.descriptionId,
                    "aria-labelledby": l.titleId,
                    "data-state": n0(l.open),
                    ...o,
                    ref: d,
                    onDismiss: () => l.onOpenChange(!1)
                })
            }), e.jsxs(e.Fragment, {
                children: [e.jsx(HF, {
                    titleId: l.titleId
                }), e.jsx(GF, {
                    contentRef: c,
                    descriptionId: l.descriptionId
                })]
            })]
        })
    }),
    r0 = "DialogTitle",
    j4 = h.forwardRef((t, s) => {
        const {__scopeDialog: r, ...n} = t,
            a = na(r0, r);
        return e.jsx(Oe.h2, {
            id: a.titleId,
            ...n,
            ref: s
        })
    });
j4.displayName = r0;
var b4 = "DialogDescription",
    N4 = h.forwardRef((t, s) => {
        const {__scopeDialog: r, ...n} = t,
            a = na(b4, r);
        return e.jsx(Oe.p, {
            id: a.descriptionId,
            ...n,
            ref: s
        })
    });
N4.displayName = b4;
var w4 = "DialogClose",
    C4 = h.forwardRef((t, s) => {
        const {__scopeDialog: r, ...n} = t,
            a = na(w4, r);
        return e.jsx(Oe.button, {
            type: "button",
            ...n,
            ref: s,
            onClick: Ne(t.onClick, () => a.onOpenChange(!1))
        })
    });
C4.displayName = w4;
function n0(t) {
    return t ? "open" : "closed"
}
var S4 = "DialogTitleWarning",
    [BF, E4] = C5(S4, {
        contentName: ll,
        titleName: r0,
        docsSlug: "dialog"
    }),
    HF = ({titleId: t}) => {
        const s = E4(S4),
            r = `\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${
            s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${
            s.docsSlug}`;
        return h.useEffect(() => {
            t && (document.getElementById(t) || console.error(r))
        }, [r, t]), null
    },
    WF = "DialogDescriptionWarning",
    GF = ({contentRef: t, descriptionId: s}) => {
        const n = `Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${E4(WF).contentName}}.`;
        return h.useEffect(() => {
            var i;
            const a = (i = t.current) == null ? void 0 : i.getAttribute("aria-describedby");
            s && a && (document.getElementById(s) || console.warn(n))
        }, [n, t, s]), null
    },
    a0 = m4,
    i0 = p4,
    o0 = x4,
    hm = g4,
    pm = v4,
    fm = j4,
    xm = N4,
    Ff = C4;
const Ps = a0,
    _p = i0,
    KF = o0,
    k4 = h.forwardRef(({className: t, ...s}, r) => e.jsx(hm, {
        ref: r,
        className: me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0", t),
        ...s
    }));
k4.displayName = hm.displayName;
const xs = h.forwardRef(({className: t, children: s, ...r}, n) => e.jsxs(KF, {
    children: [e.jsx(k4, {}), e.jsxs(pm, {
        ref: n,
        className: me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg", t),
        ...r,
        children: [s, e.jsxs(Ff, {
            className: "absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",
            children: [e.jsx(tr, {
                className: "h-4 w-4"
            }), e.jsx("span", {
                className: "sr-only",
                children: "Close"
            })]
        })]
    })]
}));
xs.displayName = pm.displayName;
const gs = ({className: t, ...s}) => e.jsx("div", {
    className: me("flex flex-col space-y-1.5 text-center sm:text-left", t),
    ...s
});
gs.displayName = "DialogHeader";
const Hr = ({className: t, ...s}) => e.jsx("div", {
    className: me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2", t),
    ...s
});
Hr.displayName = "DialogFooter";
const vs = h.forwardRef(({className: t, ...s}, r) => e.jsx(fm, {
    ref: r,
    className: me("text-lg font-semibold leading-none tracking-tight", t),
    ...s
}));
vs.displayName = fm.displayName;
const Sr = h.forwardRef(({className: t, ...s}, r) => e.jsx(xm, {
    ref: r,
    className: me("text-sm text-muted-foreground", t),
    ...s
}));
Sr.displayName = xm.displayName;
function zf(t) {
    const s = h.useRef({
        value: t,
        previous: t
    });
    return h.useMemo(() => (s.current.value !== t && (s.current.previous = s.current.value, s.current.value = t), s.current.previous), [t])
}
var l0 = "Switch",
    [YF, WQ] = ws(l0),
    [QF, ZF] = YF(l0),
    P4 = h.forwardRef((t, s) => {
        const {__scopeSwitch: r, name: n, checked: a, defaultChecked: i, required: o, disabled: l, value: c="on", onCheckedChange: d, form: u, ...m} = t,
            [p, j] = h.useState(null),
            g = lt(s, b => j(b)),
            x = h.useRef(!1),
            y = p ? u || !!p.closest("form") : !0,
            [v=!1, f] = Yr({
                prop: a,
                defaultProp: i,
                onChange: d
            });
        return e.jsxs(QF, {
            scope: r,
            checked: v,
            disabled: l,
            children: [e.jsx(Oe.button, {
                type: "button",
                role: "switch",
                "aria-checked": v,
                "aria-required": o,
                "data-state": A4(v),
                "data-disabled": l ? "" : void 0,
                disabled: l,
                value: c,
                ...m,
                ref: g,
                onClick: Ne(t.onClick, b => {
                    f(N => !N),
                    y && (x.current = b.isPropagationStopped(), x.current || b.stopPropagation())
                })
            }), y && e.jsx(XF, {
                control: p,
                bubbles: !x.current,
                name: n,
                value: c,
                checked: v,
                required: o,
                disabled: l,
                form: u,
                style: {
                    transform: "translateX(-100%)"
                }
            })]
        })
    });
P4.displayName = l0;
var _4 = "SwitchThumb",
    T4 = h.forwardRef((t, s) => {
        const {__scopeSwitch: r, ...n} = t,
            a = ZF(_4, r);
        return e.jsx(Oe.span, {
            "data-state": A4(a.checked),
            "data-disabled": a.disabled ? "" : void 0,
            ...n,
            ref: s
        })
    });
T4.displayName = _4;
var XF = t => {
    const {control: s, checked: r, bubbles: n=!0, ...a} = t,
        i = h.useRef(null),
        o = zf(r),
        l = Tf(s);
    return h.useEffect(() => {
        const c = i.current,
            d = window.HTMLInputElement.prototype,
            m = Object.getOwnPropertyDescriptor(d, "checked").set;
        if (o !== r && m) {
            const p = new Event("click", {
                bubbles: n
            });
            m.call(c, r),
            c.dispatchEvent(p)
        }
    }, [o, r, n]), e.jsx("input", {
        type: "checkbox",
        "aria-hidden": !0,
        defaultChecked: r,
        ...a,
        tabIndex: -1,
        ref: i,
        style: {
            ...t.style,
            ...l,
            position: "absolute",
            pointerEvents: "none",
            opacity: 0,
            margin: 0
        }
    })
};
function A4(t) {
    return t ? "checked" : "unchecked"
}
var M4 = P4,
    JF = T4;
const St = h.forwardRef(({className: t, ...s}, r) => e.jsx(M4, {
    className: me("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input", t),
    ...s,
    ref: r,
    children: e.jsx(JF, {
        className: me("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")
    })
}));
St.displayName = M4.displayName;
var ez = "Label",
    I4 = h.forwardRef((t, s) => e.jsx(Oe.label, {
        ...t,
        ref: s,
        onMouseDown: r => {
            var a;
            r.target.closest("button, input, select, textarea") || ((a = t.onMouseDown) == null || a.call(t, r), !r.defaultPrevented && r.detail > 1 && r.preventDefault())
        }
    }));
I4.displayName = ez;
var R4 = I4;
const tz = Zc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),
    V = h.forwardRef(({className: t, ...s}, r) => e.jsx(R4, {
        ref: r,
        className: me(tz(), t),
        ...s
    }));
V.displayName = R4.displayName;
const ch = "cookieConsent",
    dh = "cookiePreferences",
    sz = () => {
        const [t, s] = h.useState(!1),
            [r, n] = h.useState(!1),
            [a, i] = h.useState({
                necessary: !0,
                analytics: !1,
                marketing: !1,
                preferences: !1
            });
        h.useEffect(() => {
            const m = localStorage.getItem(ch),
                p = localStorage.getItem(dh);
            m ? p && i(JSON.parse(p)) : s(!0)
        }, []);
        const o = () => {
                const m = {
                    necessary: !0,
                    analytics: !0,
                    marketing: !0,
                    preferences: !0
                };
                localStorage.setItem(ch, "true"),
                localStorage.setItem(dh, JSON.stringify(m)),
                i(m),
                s(!1),
                d(m)
            },
            l = () => {
                const m = {
                    necessary: !0,
                    analytics: !1,
                    marketing: !1,
                    preferences: !1
                };
                localStorage.setItem(ch, "true"),
                localStorage.setItem(dh, JSON.stringify(m)),
                i(m),
                s(!1),
                d(m)
            },
            c = () => {
                localStorage.setItem(ch, "true"),
                localStorage.setItem(dh, JSON.stringify(a)),
                s(!1),
                n(!1),
                d(a)
            },
            d = m => {
                m.analytics && console.log("Activando cookies de análisis"),
                m.marketing && console.log("Activando cookies de marketing"),
                m.preferences && console.log("Activando cookies de preferencias")
            },
            u = (m, p) => {
                m !== "necessary" && i(j => ({
                    ...j,
                    [m]: p
                }))
            };
        return t ? e.jsx(e.Fragment, {
            children: e.jsx("div", {
                className: "fixed bottom-0 left-0 right-0 z-50 p-4 bg-white border-t border-gray-200 shadow-lg",
                children: e.jsx(U, {
                    className: "max-w-4xl mx-auto",
                    children: e.jsx(q, {
                        className: "p-4",
                        children: e.jsxs("div", {
                            className: "flex items-start gap-4",
                            children: [e.jsx("div", {
                                className: "flex-shrink-0 p-2 bg-blue-100 rounded-lg",
                                children: e.jsx(FE, {
                                    className: "h-6 w-6 text-blue-600"
                                })
                            }), e.jsxs("div", {
                                className: "flex-1",
                                children: [e.jsx("h3", {
                                    className: "font-semibold text-gray-900 mb-2",
                                    children: "Utilizamos cookies para mejorar tu experiencia"
                                }), e.jsx("p", {
                                    className: "text-sm text-gray-600 mb-4",
                                    children: "Este sitio web utiliza cookies para garantizar que obtengas la mejor experiencia en nuestro sitio. Las cookies necesarias son esenciales para el funcionamiento del sitio, mientras que otras nos ayudan a personalizar tu experiencia y analizar el tráfico."
                                }), e.jsxs("div", {
                                    className: "flex flex-wrap gap-2 items-center",
                                    children: [e.jsx(T, {
                                        onClick: o,
                                        className: "bg-primary hover:bg-primary/90",
                                        children: "Aceptar todas"
                                    }), e.jsx(T, {
                                        onClick: l,
                                        variant: "outline",
                                        children: "Solo necesarias"
                                    }), e.jsxs(Ps, {
                                        open: r,
                                        onOpenChange: n,
                                        children: [e.jsx(_p, {
                                            asChild: !0,
                                            children: e.jsxs(T, {
                                                variant: "ghost",
                                                size: "sm",
                                                children: [e.jsx(Hs, {
                                                    className: "h-4 w-4 mr-2"
                                                }), "Configurar"]
                                            })
                                        }), e.jsxs(xs, {
                                            className: "max-w-2xl",
                                            children: [e.jsx(gs, {
                                                children: e.jsx(vs, {
                                                    children: "Configuración de cookies"
                                                })
                                            }), e.jsxs("div", {
                                                className: "space-y-6",
                                                children: [e.jsxs("div", {
                                                    className: "space-y-4",
                                                    children: [e.jsxs("div", {
                                                        className: "flex items-center justify-between p-4 bg-gray-50 rounded-lg",
                                                        children: [e.jsxs("div", {
                                                            className: "flex items-center gap-3",
                                                            children: [e.jsx(lm, {
                                                                className: "h-5 w-5 text-green-600"
                                                            }), e.jsxs("div", {
                                                                children: [e.jsx(V, {
                                                                    className: "font-medium",
                                                                    children: "Cookies necesarias"
                                                                }), e.jsx("p", {
                                                                    className: "text-sm text-gray-600",
                                                                    children: "Esenciales para el funcionamiento del sitio web"
                                                                })]
                                                            })]
                                                        }), e.jsxs("div", {
                                                            className: "flex items-center gap-2",
                                                            children: [e.jsx(St, {
                                                                checked: a.necessary,
                                                                disabled: !0
                                                            }), e.jsx(ye, {
                                                                variant: "secondary",
                                                                children: "Siempre activas"
                                                            })]
                                                        })]
                                                    }), e.jsxs("div", {
                                                        className: "flex items-center justify-between p-4 border rounded-lg",
                                                        children: [e.jsxs("div", {
                                                            className: "flex items-center gap-3",
                                                            children: [e.jsx(yu, {
                                                                className: "h-5 w-5 text-blue-600"
                                                            }), e.jsxs("div", {
                                                                children: [e.jsx(V, {
                                                                    className: "font-medium",
                                                                    children: "Cookies de análisis"
                                                                }), e.jsx("p", {
                                                                    className: "text-sm text-gray-600",
                                                                    children: "Nos ayudan a entender cómo interactúas con nuestro sitio"
                                                                })]
                                                            })]
                                                        }), e.jsx(St, {
                                                            checked: a.analytics,
                                                            onCheckedChange: m => u("analytics", m)
                                                        })]
                                                    }), e.jsxs("div", {
                                                        className: "flex items-center justify-between p-4 border rounded-lg",
                                                        children: [e.jsxs("div", {
                                                            className: "flex items-center gap-3",
                                                            children: [e.jsx(Oj, {
                                                                className: "h-5 w-5 text-purple-600"
                                                            }), e.jsxs("div", {
                                                                children: [e.jsx(V, {
                                                                    className: "font-medium",
                                                                    children: "Cookies de marketing"
                                                                }), e.jsx("p", {
                                                                    className: "text-sm text-gray-600",
                                                                    children: "Utilizadas para mostrar anuncios relevantes"
                                                                })]
                                                            })]
                                                        }), e.jsx(St, {
                                                            checked: a.marketing,
                                                            onCheckedChange: m => u("marketing", m)
                                                        })]
                                                    }), e.jsxs("div", {
                                                        className: "flex items-center justify-between p-4 border rounded-lg",
                                                        children: [e.jsxs("div", {
                                                            className: "flex items-center gap-3",
                                                            children: [e.jsx(Hs, {
                                                                className: "h-5 w-5 text-orange-600"
                                                            }), e.jsxs("div", {
                                                                children: [e.jsx(V, {
                                                                    className: "font-medium",
                                                                    children: "Cookies de preferencias"
                                                                }), e.jsx("p", {
                                                                    className: "text-sm text-gray-600",
                                                                    children: "Recuerdan tus preferencias y configuraciones"
                                                                })]
                                                            })]
                                                        }), e.jsx(St, {
                                                            checked: a.preferences,
                                                            onCheckedChange: m => u("preferences", m)
                                                        })]
                                                    })]
                                                }), e.jsxs("div", {
                                                    className: "flex justify-end gap-2",
                                                    children: [e.jsx(T, {
                                                        variant: "outline",
                                                        onClick: () => n(!1),
                                                        children: "Cancelar"
                                                    }), e.jsx(T, {
                                                        onClick: c,
                                                        children: "Guardar preferencias"
                                                    })]
                                                })]
                                            })]
                                        })]
                                    })]
                                })]
                            }), e.jsx(T, {
                                variant: "ghost",
                                size: "sm",
                                onClick: () => s(!1),
                                className: "flex-shrink-0",
                                children: e.jsx(tr, {
                                    className: "h-4 w-4"
                                })
                            })]
                        })
                    })
                })
            })
        }) : null
    },
    $f = a0,
    D4 = i0,
    rz = o0,
    O4 = h.forwardRef(({className: t, ...s}, r) => e.jsx(hm, {
        className: me("fixed inset-0 z-50 bg-black/50  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0", t),
        ...s,
        ref: r
    }));
O4.displayName = hm.displayName;
const nz = Zc("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500", {
        variants: {
            side: {
                top: "inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",
                bottom: "inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",
                left: "inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",
                right: "inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"
            }
        },
        defaultVariants: {
            side: "right"
        }
    }),
    gm = h.forwardRef(({side: t="right", className: s, children: r, ...n}, a) => e.jsxs(rz, {
        children: [e.jsx(O4, {}), e.jsxs(pm, {
            ref: a,
            className: me(nz({
                side: t
            }), s),
            ...n,
            children: [r, e.jsxs(Ff, {
                className: "absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",
                children: [e.jsx(tr, {
                    className: "h-4 w-4"
                }), e.jsx("span", {
                    className: "sr-only",
                    children: "Close"
                })]
            })]
        })]
    }));
gm.displayName = pm.displayName;
const Vf = ({className: t, ...s}) => e.jsx("div", {
    className: me("flex flex-col space-y-2 text-center sm:text-left", t),
    ...s
});
Vf.displayName = "SheetHeader";
const Uf = h.forwardRef(({className: t, ...s}, r) => e.jsx(fm, {
    ref: r,
    className: me("text-lg font-semibold text-foreground", t),
    ...s
}));
Uf.displayName = fm.displayName;
const az = h.forwardRef(({className: t, ...s}, r) => e.jsx(xm, {
    ref: r,
    className: me("text-sm text-muted-foreground", t),
    ...s
}));
az.displayName = xm.displayName;
var iz = h.createContext(void 0);
function Nl(t) {
    const s = h.useContext(iz);
    return t || s || "ltr"
}
var dg = "rovingFocusGroup.onEntryFocus",
    oz = {
        bubbles: !1,
        cancelable: !0
    },
    qf = "RovingFocusGroup",
    [Zv, L4, lz] = im(qf),
    [cz, rd] = ws(qf, [lz]),
    [dz, uz] = cz(qf),
    F4 = h.forwardRef((t, s) => e.jsx(Zv.Provider, {
        scope: t.__scopeRovingFocusGroup,
        children: e.jsx(Zv.Slot, {
            scope: t.__scopeRovingFocusGroup,
            children: e.jsx(mz, {
                ...t,
                ref: s
            })
        })
    }));
F4.displayName = qf;
var mz = h.forwardRef((t, s) => {
        const {__scopeRovingFocusGroup: r, orientation: n, loop: a=!1, dir: i, currentTabStopId: o, defaultCurrentTabStopId: l, onCurrentTabStopIdChange: c, onEntryFocus: d, preventScrollOnEntryFocus: u=!1, ...m} = t,
            p = h.useRef(null),
            j = lt(s, p),
            g = Nl(i),
            [x=null, y] = Yr({
                prop: o,
                defaultProp: l,
                onChange: c
            }),
            [v, f] = h.useState(!1),
            b = Zt(d),
            N = L4(r),
            w = h.useRef(!1),
            [C, E] = h.useState(0);
        return h.useEffect(() => {
            const k = p.current;
            if (k)
                return k.addEventListener(dg, b), () => k.removeEventListener(dg, b)
        }, [b]), e.jsx(dz, {
            scope: r,
            orientation: n,
            dir: g,
            loop: a,
            currentTabStopId: x,
            onItemFocus: h.useCallback(k => y(k), [y]),
            onItemShiftTab: h.useCallback(() => f(!0), []),
            onFocusableItemAdd: h.useCallback(() => E(k => k + 1), []),
            onFocusableItemRemove: h.useCallback(() => E(k => k - 1), []),
            children: e.jsx(Oe.div, {
                tabIndex: v || C === 0 ? -1 : 0,
                "data-orientation": n,
                ...m,
                ref: j,
                style: {
                    outline: "none",
                    ...t.style
                },
                onMouseDown: Ne(t.onMouseDown, () => {
                    w.current = !0
                }),
                onFocus: Ne(t.onFocus, k => {
                    const R = !w.current;
                    if (k.target === k.currentTarget && R && !v) {
                        const H = new CustomEvent(dg, oz);
                        if (k.currentTarget.dispatchEvent(H), !H.defaultPrevented) {
                            const z = N().filter(_ => _.focusable),
                                A = z.find(_ => _.active),
                                $ = z.find(_ => _.id === x),
                                F = [A, $, ...z].filter(Boolean).map(_ => _.ref.current);
                            V4(F, u)
                        }
                    }
                    w.current = !1
                }),
                onBlur: Ne(t.onBlur, () => f(!1))
            })
        })
    }),
    z4 = "RovingFocusGroupItem",
    $4 = h.forwardRef((t, s) => {
        const {__scopeRovingFocusGroup: r, focusable: n=!0, active: a=!1, tabStopId: i, ...o} = t,
            l = cn(),
            c = i || l,
            d = uz(z4, r),
            u = d.currentTabStopId === c,
            m = L4(r),
            {onFocusableItemAdd: p, onFocusableItemRemove: j} = d;
        return h.useEffect(() => {
            if (n)
                return p(), () => j()
        }, [n, p, j]), e.jsx(Zv.ItemSlot, {
            scope: r,
            id: c,
            focusable: n,
            active: a,
            children: e.jsx(Oe.span, {
                tabIndex: u ? 0 : -1,
                "data-orientation": d.orientation,
                ...o,
                ref: s,
                onMouseDown: Ne(t.onMouseDown, g => {
                    n ? d.onItemFocus(c) : g.preventDefault()
                }),
                onFocus: Ne(t.onFocus, () => d.onItemFocus(c)),
                onKeyDown: Ne(t.onKeyDown, g => {
                    if (g.key === "Tab" && g.shiftKey) {
                        d.onItemShiftTab();
                        return
                    }
                    if (g.target !== g.currentTarget)
                        return;
                    const x = fz(g, d.orientation, d.dir);
                    if (x !== void 0) {
                        if (g.metaKey || g.ctrlKey || g.altKey || g.shiftKey)
                            return;
                        g.preventDefault();
                        let v = m().filter(f => f.focusable).map(f => f.ref.current);
                        if (x === "last")
                            v.reverse();
                        else if (x === "prev" || x === "next") {
                            x === "prev" && v.reverse();
                            const f = v.indexOf(g.currentTarget);
                            v = d.loop ? xz(v, f + 1) : v.slice(f + 1)
                        }
                        setTimeout(() => V4(v))
                    }
                })
            })
        })
    });
$4.displayName = z4;
var hz = {
    ArrowLeft: "prev",
    ArrowUp: "prev",
    ArrowRight: "next",
    ArrowDown: "next",
    PageUp: "first",
    Home: "first",
    PageDown: "last",
    End: "last"
};
function pz(t, s) {
    return s !== "rtl" ? t : t === "ArrowLeft" ? "ArrowRight" : t === "ArrowRight" ? "ArrowLeft" : t
}
function fz(t, s, r) {
    const n = pz(t.key, r);
    if (!(s === "vertical" && ["ArrowLeft", "ArrowRight"].includes(n)) && !(s === "horizontal" && ["ArrowUp", "ArrowDown"].includes(n)))
        return hz[n]
}
function V4(t, s=!1) {
    const r = document.activeElement;
    for (const n of t)
        if (n === r || (n.focus({
            preventScroll: s
        }), document.activeElement !== r))
            return
}
function xz(t, s) {
    return t.map((r, n) => t[(s + n) % t.length])
}
var c0 = F4,
    d0 = $4,
    Xv = ["Enter", " "],
    gz = ["ArrowDown", "PageUp", "Home"],
    U4 = ["ArrowUp", "PageDown", "End"],
    vz = [...gz, ...U4],
    yz = {
        ltr: [...Xv, "ArrowRight"],
        rtl: [...Xv, "ArrowLeft"]
    },
    jz = {
        ltr: ["ArrowLeft"],
        rtl: ["ArrowRight"]
    },
    vm = "Menu",
    [Cu, bz, Nz] = im(vm),
    [wl, q4] = ws(vm, [Nz, No, rd]),
    Bf = No(),
    B4 = rd(),
    [wz, Cl] = wl(vm),
    [Cz, ym] = wl(vm),
    H4 = t => {
        const {__scopeMenu: s, open: r=!1, children: n, dir: a, onOpenChange: i, modal: o=!0} = t,
            l = Bf(s),
            [c, d] = h.useState(null),
            u = h.useRef(!1),
            m = Zt(i),
            p = Nl(a);
        return h.useEffect(() => {
            const j = () => {
                    u.current = !0,
                    document.addEventListener("pointerdown", g, {
                        capture: !0,
                        once: !0
                    }),
                    document.addEventListener("pointermove", g, {
                        capture: !0,
                        once: !0
                    })
                },
                g = () => u.current = !1;
            return document.addEventListener("keydown", j, {
                capture: !0
            }), () => {
                document.removeEventListener("keydown", j, {
                    capture: !0
                }),
                document.removeEventListener("pointerdown", g, {
                    capture: !0
                }),
                document.removeEventListener("pointermove", g, {
                    capture: !0
                })
            }
        }, []), e.jsx(Kj, {
            ...l,
            children: e.jsx(wz, {
                scope: s,
                open: r,
                onOpenChange: m,
                content: c,
                onContentChange: d,
                children: e.jsx(Cz, {
                    scope: s,
                    onClose: h.useCallback(() => m(!1), [m]),
                    isUsingKeyboardRef: u,
                    dir: p,
                    modal: o,
                    children: n
                })
            })
        })
    };
H4.displayName = vm;
var Sz = "MenuAnchor",
    u0 = h.forwardRef((t, s) => {
        const {__scopeMenu: r, ...n} = t,
            a = Bf(r);
        return e.jsx(dm, {
            ...a,
            ...n,
            ref: s
        })
    });
u0.displayName = Sz;
var m0 = "MenuPortal",
    [Ez, W4] = wl(m0, {
        forceMount: void 0
    }),
    G4 = t => {
        const {__scopeMenu: s, forceMount: r, children: n, container: a} = t,
            i = Cl(m0, s);
        return e.jsx(Ez, {
            scope: s,
            forceMount: r,
            children: e.jsx(_s, {
                present: r || i.open,
                children: e.jsx(Qc, {
                    asChild: !0,
                    container: a,
                    children: n
                })
            })
        })
    };
G4.displayName = m0;
var Cn = "MenuContent",
    [kz, h0] = wl(Cn),
    K4 = h.forwardRef((t, s) => {
        const r = W4(Cn, t.__scopeMenu),
            {forceMount: n=r.forceMount, ...a} = t,
            i = Cl(Cn, t.__scopeMenu),
            o = ym(Cn, t.__scopeMenu);
        return e.jsx(Cu.Provider, {
            scope: t.__scopeMenu,
            children: e.jsx(_s, {
                present: n || i.open,
                children: e.jsx(Cu.Slot, {
                    scope: t.__scopeMenu,
                    children: o.modal ? e.jsx(Pz, {
                        ...a,
                        ref: s
                    }) : e.jsx(_z, {
                        ...a,
                        ref: s
                    })
                })
            })
        })
    }),
    Pz = h.forwardRef((t, s) => {
        const r = Cl(Cn, t.__scopeMenu),
            n = h.useRef(null),
            a = lt(s, n);
        return h.useEffect(() => {
            const i = n.current;
            if (i)
                return Lf(i)
        }, []), e.jsx(p0, {
            ...t,
            ref: a,
            trapFocus: r.open,
            disableOutsidePointerEvents: r.open,
            disableOutsideScroll: !0,
            onFocusOutside: Ne(t.onFocusOutside, i => i.preventDefault(), {
                checkForDefaultPrevented: !1
            }),
            onDismiss: () => r.onOpenChange(!1)
        })
    }),
    _z = h.forwardRef((t, s) => {
        const r = Cl(Cn, t.__scopeMenu);
        return e.jsx(p0, {
            ...t,
            ref: s,
            trapFocus: !1,
            disableOutsidePointerEvents: !1,
            disableOutsideScroll: !1,
            onDismiss: () => r.onOpenChange(!1)
        })
    }),
    Tz = co("MenuContent.ScrollLock"),
    p0 = h.forwardRef((t, s) => {
        const {__scopeMenu: r, loop: n=!1, trapFocus: a, onOpenAutoFocus: i, onCloseAutoFocus: o, disableOutsidePointerEvents: l, onEntryFocus: c, onEscapeKeyDown: d, onPointerDownOutside: u, onFocusOutside: m, onInteractOutside: p, onDismiss: j, disableOutsideScroll: g, ...x} = t,
            y = Cl(Cn, r),
            v = ym(Cn, r),
            f = Bf(r),
            b = B4(r),
            N = bz(r),
            [w, C] = h.useState(null),
            E = h.useRef(null),
            k = lt(s, E, y.onContentChange),
            R = h.useRef(0),
            H = h.useRef(""),
            z = h.useRef(0),
            A = h.useRef(null),
            $ = h.useRef("right"),
            G = h.useRef(0),
            F = g ? mm : h.Fragment,
            _ = g ? {
                as: Tz,
                allowPinchZoom: !0
            } : void 0,
            S = W => {
                var D,
                    K;
                const oe = H.current + W,
                    O = N().filter(L => !L.disabled),
                    M = document.activeElement,
                    re = (D = O.find(L => L.ref.current === M)) == null ? void 0 : D.textValue,
                    ue = O.map(L => L.textValue),
                    Y = Uz(ue, oe, re),
                    he = (K = O.find(L => L.textValue === Y)) == null ? void 0 : K.ref.current;
                (function L(ee) {
                    H.current = ee,
                    window.clearTimeout(R.current),
                    ee !== "" && (R.current = window.setTimeout(() => L(""), 1e3))
                })(oe),
                he && setTimeout(() => he.focus())
            };
        h.useEffect(() => () => window.clearTimeout(R.current), []),
        Df();
        const I = h.useCallback(W => {
            var O,
                M;
            return $.current === ((O = A.current) == null ? void 0 : O.side) && Bz(W, (M = A.current) == null ? void 0 : M.area)
        }, []);
        return e.jsx(kz, {
            scope: r,
            searchRef: H,
            onItemEnter: h.useCallback(W => {
                I(W) && W.preventDefault()
            }, [I]),
            onItemLeave: h.useCallback(W => {
                var oe;
                I(W) || ((oe = E.current) == null || oe.focus(), C(null))
            }, [I]),
            onTriggerLeave: h.useCallback(W => {
                I(W) && W.preventDefault()
            }, [I]),
            pointerGraceTimerRef: z,
            onPointerGraceIntentChange: h.useCallback(W => {
                A.current = W
            }, []),
            children: e.jsx(F, {
                ..._,
                children: e.jsx(um, {
                    asChild: !0,
                    trapped: a,
                    onMountAutoFocus: Ne(i, W => {
                        var oe;
                        W.preventDefault(),
                        (oe = E.current) == null || oe.focus({
                            preventScroll: !0
                        })
                    }),
                    onUnmountAutoFocus: o,
                    children: e.jsx(jl, {
                        asChild: !0,
                        disableOutsidePointerEvents: l,
                        onEscapeKeyDown: d,
                        onPointerDownOutside: u,
                        onFocusOutside: m,
                        onInteractOutside: p,
                        onDismiss: j,
                        children: e.jsx(c0, {
                            asChild: !0,
                            ...b,
                            dir: v.dir,
                            orientation: "vertical",
                            loop: n,
                            currentTabStopId: w,
                            onCurrentTabStopIdChange: C,
                            onEntryFocus: Ne(c, W => {
                                v.isUsingKeyboardRef.current || W.preventDefault()
                            }),
                            preventScrollOnEntryFocus: !0,
                            children: e.jsx(Af, {
                                role: "menu",
                                "aria-orientation": "vertical",
                                "data-state": dP(y.open),
                                "data-radix-menu-content": "",
                                dir: v.dir,
                                ...f,
                                ...x,
                                ref: k,
                                style: {
                                    outline: "none",
                                    ...x.style
                                },
                                onKeyDown: Ne(x.onKeyDown, W => {
                                    const O = W.target.closest("[data-radix-menu-content]") === W.currentTarget,
                                        M = W.ctrlKey || W.altKey || W.metaKey,
                                        re = W.key.length === 1;
                                    O && (W.key === "Tab" && W.preventDefault(), !M && re && S(W.key));
                                    const ue = E.current;
                                    if (W.target !== ue || !vz.includes(W.key))
                                        return;
                                    W.preventDefault();
                                    const he = N().filter(D => !D.disabled).map(D => D.ref.current);
                                    U4.includes(W.key) && he.reverse(),
                                    $z(he)
                                }),
                                onBlur: Ne(t.onBlur, W => {
                                    W.currentTarget.contains(W.target) || (window.clearTimeout(R.current), H.current = "")
                                }),
                                onPointerMove: Ne(t.onPointerMove, Su(W => {
                                    const oe = W.target,
                                        O = G.current !== W.clientX;
                                    if (W.currentTarget.contains(oe) && O) {
                                        const M = W.clientX > G.current ? "right" : "left";
                                        $.current = M,
                                        G.current = W.clientX
                                    }
                                }))
                            })
                        })
                    })
                })
            })
        })
    });
K4.displayName = Cn;
var Az = "MenuGroup",
    f0 = h.forwardRef((t, s) => {
        const {__scopeMenu: r, ...n} = t;
        return e.jsx(Oe.div, {
            role: "group",
            ...n,
            ref: s
        })
    });
f0.displayName = Az;
var Mz = "MenuLabel",
    Y4 = h.forwardRef((t, s) => {
        const {__scopeMenu: r, ...n} = t;
        return e.jsx(Oe.div, {
            ...n,
            ref: s
        })
    });
Y4.displayName = Mz;
var Tp = "MenuItem",
    Fw = "menu.itemSelect",
    Hf = h.forwardRef((t, s) => {
        const {disabled: r=!1, onSelect: n, ...a} = t,
            i = h.useRef(null),
            o = ym(Tp, t.__scopeMenu),
            l = h0(Tp, t.__scopeMenu),
            c = lt(s, i),
            d = h.useRef(!1),
            u = () => {
                const m = i.current;
                if (!r && m) {
                    const p = new CustomEvent(Fw, {
                        bubbles: !0,
                        cancelable: !0
                    });
                    m.addEventListener(Fw, j => n == null ? void 0 : n(j), {
                        once: !0
                    }),
                    Tj(m, p),
                    p.defaultPrevented ? d.current = !1 : o.onClose()
                }
            };
        return e.jsx(Q4, {
            ...a,
            ref: c,
            disabled: r,
            onClick: Ne(t.onClick, u),
            onPointerDown: m => {
                var p;
                (p = t.onPointerDown) == null || p.call(t, m),
                d.current = !0
            },
            onPointerUp: Ne(t.onPointerUp, m => {
                var p;
                d.current || (p = m.currentTarget) == null || p.click()
            }),
            onKeyDown: Ne(t.onKeyDown, m => {
                const p = l.searchRef.current !== "";
                r || p && m.key === " " || Xv.includes(m.key) && (m.currentTarget.click(), m.preventDefault())
            })
        })
    });
Hf.displayName = Tp;
var Q4 = h.forwardRef((t, s) => {
        const {__scopeMenu: r, disabled: n=!1, textValue: a, ...i} = t,
            o = h0(Tp, r),
            l = B4(r),
            c = h.useRef(null),
            d = lt(s, c),
            [u, m] = h.useState(!1),
            [p, j] = h.useState("");
        return h.useEffect(() => {
            const g = c.current;
            g && j((g.textContent ?? "").trim())
        }, [i.children]), e.jsx(Cu.ItemSlot, {
            scope: r,
            disabled: n,
            textValue: a ?? p,
            children: e.jsx(d0, {
                asChild: !0,
                ...l,
                focusable: !n,
                children: e.jsx(Oe.div, {
                    role: "menuitem",
                    "data-highlighted": u ? "" : void 0,
                    "aria-disabled": n || void 0,
                    "data-disabled": n ? "" : void 0,
                    ...i,
                    ref: d,
                    onPointerMove: Ne(t.onPointerMove, Su(g => {
                        n ? o.onItemLeave(g) : (o.onItemEnter(g), g.defaultPrevented || g.currentTarget.focus({
                            preventScroll: !0
                        }))
                    })),
                    onPointerLeave: Ne(t.onPointerLeave, Su(g => o.onItemLeave(g))),
                    onFocus: Ne(t.onFocus, () => m(!0)),
                    onBlur: Ne(t.onBlur, () => m(!1))
                })
            })
        })
    }),
    Iz = "MenuCheckboxItem",
    Z4 = h.forwardRef((t, s) => {
        const {checked: r=!1, onCheckedChange: n, ...a} = t;
        return e.jsx(sP, {
            scope: t.__scopeMenu,
            checked: r,
            children: e.jsx(Hf, {
                role: "menuitemcheckbox",
                "aria-checked": Ap(r) ? "mixed" : r,
                ...a,
                ref: s,
                "data-state": g0(r),
                onSelect: Ne(a.onSelect, () => n == null ? void 0 : n(Ap(r) ? !0 : !r), {
                    checkForDefaultPrevented: !1
                })
            })
        })
    });
Z4.displayName = Iz;
var X4 = "MenuRadioGroup",
    [Rz, Dz] = wl(X4, {
        value: void 0,
        onValueChange: () => {}
    }),
    J4 = h.forwardRef((t, s) => {
        const {value: r, onValueChange: n, ...a} = t,
            i = Zt(n);
        return e.jsx(Rz, {
            scope: t.__scopeMenu,
            value: r,
            onValueChange: i,
            children: e.jsx(f0, {
                ...a,
                ref: s
            })
        })
    });
J4.displayName = X4;
var eP = "MenuRadioItem",
    tP = h.forwardRef((t, s) => {
        const {value: r, ...n} = t,
            a = Dz(eP, t.__scopeMenu),
            i = r === a.value;
        return e.jsx(sP, {
            scope: t.__scopeMenu,
            checked: i,
            children: e.jsx(Hf, {
                role: "menuitemradio",
                "aria-checked": i,
                ...n,
                ref: s,
                "data-state": g0(i),
                onSelect: Ne(n.onSelect, () => {
                    var o;
                    return (o = a.onValueChange) == null ? void 0 : o.call(a, r)
                }, {
                    checkForDefaultPrevented: !1
                })
            })
        })
    });
tP.displayName = eP;
var x0 = "MenuItemIndicator",
    [sP, Oz] = wl(x0, {
        checked: !1
    }),
    rP = h.forwardRef((t, s) => {
        const {__scopeMenu: r, forceMount: n, ...a} = t,
            i = Oz(x0, r);
        return e.jsx(_s, {
            present: n || Ap(i.checked) || i.checked === !0,
            children: e.jsx(Oe.span, {
                ...a,
                ref: s,
                "data-state": g0(i.checked)
            })
        })
    });
rP.displayName = x0;
var Lz = "MenuSeparator",
    nP = h.forwardRef((t, s) => {
        const {__scopeMenu: r, ...n} = t;
        return e.jsx(Oe.div, {
            role: "separator",
            "aria-orientation": "horizontal",
            ...n,
            ref: s
        })
    });
nP.displayName = Lz;
var Fz = "MenuArrow",
    aP = h.forwardRef((t, s) => {
        const {__scopeMenu: r, ...n} = t,
            a = Bf(r);
        return e.jsx(Mf, {
            ...a,
            ...n,
            ref: s
        })
    });
aP.displayName = Fz;
var zz = "MenuSub",
    [GQ, iP] = wl(zz),
    Dd = "MenuSubTrigger",
    oP = h.forwardRef((t, s) => {
        const r = Cl(Dd, t.__scopeMenu),
            n = ym(Dd, t.__scopeMenu),
            a = iP(Dd, t.__scopeMenu),
            i = h0(Dd, t.__scopeMenu),
            o = h.useRef(null),
            {pointerGraceTimerRef: l, onPointerGraceIntentChange: c} = i,
            d = {
                __scopeMenu: t.__scopeMenu
            },
            u = h.useCallback(() => {
                o.current && window.clearTimeout(o.current),
                o.current = null
            }, []);
        return h.useEffect(() => u, [u]), h.useEffect(() => {
            const m = l.current;
            return () => {
                window.clearTimeout(m),
                c(null)
            }
        }, [l, c]), e.jsx(u0, {
            asChild: !0,
            ...d,
            children: e.jsx(Q4, {
                id: a.triggerId,
                "aria-haspopup": "menu",
                "aria-expanded": r.open,
                "aria-controls": a.contentId,
                "data-state": dP(r.open),
                ...t,
                ref: bf(s, a.onTriggerChange),
                onClick: m => {
                    var p;
                    (p = t.onClick) == null || p.call(t, m),
                    !(t.disabled || m.defaultPrevented) && (m.currentTarget.focus(), r.open || r.onOpenChange(!0))
                },
                onPointerMove: Ne(t.onPointerMove, Su(m => {
                    i.onItemEnter(m),
                    !m.defaultPrevented && !t.disabled && !r.open && !o.current && (i.onPointerGraceIntentChange(null), o.current = window.setTimeout(() => {
                        r.onOpenChange(!0),
                        u()
                    }, 100))
                })),
                onPointerLeave: Ne(t.onPointerLeave, Su(m => {
                    var j,
                        g;
                    u();
                    const p = (j = r.content) == null ? void 0 : j.getBoundingClientRect();
                    if (p) {
                        const x = (g = r.content) == null ? void 0 : g.dataset.side,
                            y = x === "right",
                            v = y ? -5 : 5,
                            f = p[y ? "left" : "right"],
                            b = p[y ? "right" : "left"];
                        i.onPointerGraceIntentChange({
                            area: [{
                                x: m.clientX + v,
                                y: m.clientY
                            }, {
                                x: f,
                                y: p.top
                            }, {
                                x: b,
                                y: p.top
                            }, {
                                x: b,
                                y: p.bottom
                            }, {
                                x: f,
                                y: p.bottom
                            }],
                            side: x
                        }),
                        window.clearTimeout(l.current),
                        l.current = window.setTimeout(() => i.onPointerGraceIntentChange(null), 300)
                    } else {
                        if (i.onTriggerLeave(m), m.defaultPrevented)
                            return;
                        i.onPointerGraceIntentChange(null)
                    }
                })),
                onKeyDown: Ne(t.onKeyDown, m => {
                    var j;
                    const p = i.searchRef.current !== "";
                    t.disabled || p && m.key === " " || yz[n.dir].includes(m.key) && (r.onOpenChange(!0), (j = r.content) == null || j.focus(), m.preventDefault())
                })
            })
        })
    });
oP.displayName = Dd;
var lP = "MenuSubContent",
    cP = h.forwardRef((t, s) => {
        const r = W4(Cn, t.__scopeMenu),
            {forceMount: n=r.forceMount, ...a} = t,
            i = Cl(Cn, t.__scopeMenu),
            o = ym(Cn, t.__scopeMenu),
            l = iP(lP, t.__scopeMenu),
            c = h.useRef(null),
            d = lt(s, c);
        return e.jsx(Cu.Provider, {
            scope: t.__scopeMenu,
            children: e.jsx(_s, {
                present: n || i.open,
                children: e.jsx(Cu.Slot, {
                    scope: t.__scopeMenu,
                    children: e.jsx(p0, {
                        id: l.contentId,
                        "aria-labelledby": l.triggerId,
                        ...a,
                        ref: d,
                        align: "start",
                        side: o.dir === "rtl" ? "left" : "right",
                        disableOutsidePointerEvents: !1,
                        disableOutsideScroll: !1,
                        trapFocus: !1,
                        onOpenAutoFocus: u => {
                            var m;
                            o.isUsingKeyboardRef.current && ((m = c.current) == null || m.focus()),
                            u.preventDefault()
                        },
                        onCloseAutoFocus: u => u.preventDefault(),
                        onFocusOutside: Ne(t.onFocusOutside, u => {
                            u.target !== l.trigger && i.onOpenChange(!1)
                        }),
                        onEscapeKeyDown: Ne(t.onEscapeKeyDown, u => {
                            o.onClose(),
                            u.preventDefault()
                        }),
                        onKeyDown: Ne(t.onKeyDown, u => {
                            var j;
                            const m = u.currentTarget.contains(u.target),
                                p = jz[o.dir].includes(u.key);
                            m && p && (i.onOpenChange(!1), (j = l.trigger) == null || j.focus(), u.preventDefault())
                        })
                    })
                })
            })
        })
    });
cP.displayName = lP;
function dP(t) {
    return t ? "open" : "closed"
}
function Ap(t) {
    return t === "indeterminate"
}
function g0(t) {
    return Ap(t) ? "indeterminate" : t ? "checked" : "unchecked"
}
function $z(t) {
    const s = document.activeElement;
    for (const r of t)
        if (r === s || (r.focus(), document.activeElement !== s))
            return
}
function Vz(t, s) {
    return t.map((r, n) => t[(s + n) % t.length])
}
function Uz(t, s, r) {
    const a = s.length > 1 && Array.from(s).every(d => d === s[0]) ? s[0] : s,
        i = r ? t.indexOf(r) : -1;
    let o = Vz(t, Math.max(i, 0));
    a.length === 1 && (o = o.filter(d => d !== r));
    const c = o.find(d => d.toLowerCase().startsWith(a.toLowerCase()));
    return c !== r ? c : void 0
}
function qz(t, s) {
    const {x: r, y: n} = t;
    let a = !1;
    for (let i = 0, o = s.length - 1; i < s.length; o = i++) {
        const l = s[i].x,
            c = s[i].y,
            d = s[o].x,
            u = s[o].y;
        c > n != u > n && r < (d - l) * (n - c) / (u - c) + l && (a = !a)
    }
    return a
}
function Bz(t, s) {
    if (!s)
        return !1;
    const r = {
        x: t.clientX,
        y: t.clientY
    };
    return qz(r, s)
}
function Su(t) {
    return s => s.pointerType === "mouse" ? t(s) : void 0
}
var Hz = H4,
    Wz = u0,
    Gz = G4,
    Kz = K4,
    Yz = f0,
    Qz = Y4,
    Zz = Hf,
    Xz = Z4,
    Jz = J4,
    e8 = tP,
    t8 = rP,
    s8 = nP,
    r8 = aP,
    n8 = oP,
    a8 = cP,
    v0 = "DropdownMenu",
    [i8, KQ] = ws(v0, [q4]),
    Ar = q4(),
    [o8, uP] = i8(v0),
    mP = t => {
        const {__scopeDropdownMenu: s, children: r, dir: n, open: a, defaultOpen: i, onOpenChange: o, modal: l=!0} = t,
            c = Ar(s),
            d = h.useRef(null),
            [u=!1, m] = Yr({
                prop: a,
                defaultProp: i,
                onChange: o
            });
        return e.jsx(o8, {
            scope: s,
            triggerId: cn(),
            triggerRef: d,
            contentId: cn(),
            open: u,
            onOpenChange: m,
            onOpenToggle: h.useCallback(() => m(p => !p), [m]),
            modal: l,
            children: e.jsx(Hz, {
                ...c,
                open: u,
                onOpenChange: m,
                dir: n,
                modal: l,
                children: r
            })
        })
    };
mP.displayName = v0;
var hP = "DropdownMenuTrigger",
    pP = h.forwardRef((t, s) => {
        const {__scopeDropdownMenu: r, disabled: n=!1, ...a} = t,
            i = uP(hP, r),
            o = Ar(r);
        return e.jsx(Wz, {
            asChild: !0,
            ...o,
            children: e.jsx(Oe.button, {
                type: "button",
                id: i.triggerId,
                "aria-haspopup": "menu",
                "aria-expanded": i.open,
                "aria-controls": i.open ? i.contentId : void 0,
                "data-state": i.open ? "open" : "closed",
                "data-disabled": n ? "" : void 0,
                disabled: n,
                ...a,
                ref: bf(s, i.triggerRef),
                onPointerDown: Ne(t.onPointerDown, l => {
                    !n && l.button === 0 && l.ctrlKey === !1 && (i.onOpenToggle(), i.open || l.preventDefault())
                }),
                onKeyDown: Ne(t.onKeyDown, l => {
                    n || (["Enter", " "].includes(l.key) && i.onOpenToggle(), l.key === "ArrowDown" && i.onOpenChange(!0), ["Enter", " ", "ArrowDown"].includes(l.key) && l.preventDefault())
                })
            })
        })
    });
pP.displayName = hP;
var l8 = "DropdownMenuPortal",
    fP = t => {
        const {__scopeDropdownMenu: s, ...r} = t,
            n = Ar(s);
        return e.jsx(Gz, {
            ...n,
            ...r
        })
    };
fP.displayName = l8;
var xP = "DropdownMenuContent",
    gP = h.forwardRef((t, s) => {
        const {__scopeDropdownMenu: r, ...n} = t,
            a = uP(xP, r),
            i = Ar(r),
            o = h.useRef(!1);
        return e.jsx(Kz, {
            id: a.contentId,
            "aria-labelledby": a.triggerId,
            ...i,
            ...n,
            ref: s,
            onCloseAutoFocus: Ne(t.onCloseAutoFocus, l => {
                var c;
                o.current || (c = a.triggerRef.current) == null || c.focus(),
                o.current = !1,
                l.preventDefault()
            }),
            onInteractOutside: Ne(t.onInteractOutside, l => {
                const c = l.detail.originalEvent,
                    d = c.button === 0 && c.ctrlKey === !0,
                    u = c.button === 2 || d;
                (!a.modal || u) && (o.current = !0)
            }),
            style: {
                ...t.style,
                "--radix-dropdown-menu-content-transform-origin": "var(--radix-popper-transform-origin)",
                "--radix-dropdown-menu-content-available-width": "var(--radix-popper-available-width)",
                "--radix-dropdown-menu-content-available-height": "var(--radix-popper-available-height)",
                "--radix-dropdown-menu-trigger-width": "var(--radix-popper-anchor-width)",
                "--radix-dropdown-menu-trigger-height": "var(--radix-popper-anchor-height)"
            }
        })
    });
gP.displayName = xP;
var c8 = "DropdownMenuGroup",
    d8 = h.forwardRef((t, s) => {
        const {__scopeDropdownMenu: r, ...n} = t,
            a = Ar(r);
        return e.jsx(Yz, {
            ...a,
            ...n,
            ref: s
        })
    });
d8.displayName = c8;
var u8 = "DropdownMenuLabel",
    vP = h.forwardRef((t, s) => {
        const {__scopeDropdownMenu: r, ...n} = t,
            a = Ar(r);
        return e.jsx(Qz, {
            ...a,
            ...n,
            ref: s
        })
    });
vP.displayName = u8;
var m8 = "DropdownMenuItem",
    yP = h.forwardRef((t, s) => {
        const {__scopeDropdownMenu: r, ...n} = t,
            a = Ar(r);
        return e.jsx(Zz, {
            ...a,
            ...n,
            ref: s
        })
    });
yP.displayName = m8;
var h8 = "DropdownMenuCheckboxItem",
    jP = h.forwardRef((t, s) => {
        const {__scopeDropdownMenu: r, ...n} = t,
            a = Ar(r);
        return e.jsx(Xz, {
            ...a,
            ...n,
            ref: s
        })
    });
jP.displayName = h8;
var p8 = "DropdownMenuRadioGroup",
    f8 = h.forwardRef((t, s) => {
        const {__scopeDropdownMenu: r, ...n} = t,
            a = Ar(r);
        return e.jsx(Jz, {
            ...a,
            ...n,
            ref: s
        })
    });
f8.displayName = p8;
var x8 = "DropdownMenuRadioItem",
    bP = h.forwardRef((t, s) => {
        const {__scopeDropdownMenu: r, ...n} = t,
            a = Ar(r);
        return e.jsx(e8, {
            ...a,
            ...n,
            ref: s
        })
    });
bP.displayName = x8;
var g8 = "DropdownMenuItemIndicator",
    NP = h.forwardRef((t, s) => {
        const {__scopeDropdownMenu: r, ...n} = t,
            a = Ar(r);
        return e.jsx(t8, {
            ...a,
            ...n,
            ref: s
        })
    });
NP.displayName = g8;
var v8 = "DropdownMenuSeparator",
    wP = h.forwardRef((t, s) => {
        const {__scopeDropdownMenu: r, ...n} = t,
            a = Ar(r);
        return e.jsx(s8, {
            ...a,
            ...n,
            ref: s
        })
    });
wP.displayName = v8;
var y8 = "DropdownMenuArrow",
    j8 = h.forwardRef((t, s) => {
        const {__scopeDropdownMenu: r, ...n} = t,
            a = Ar(r);
        return e.jsx(r8, {
            ...a,
            ...n,
            ref: s
        })
    });
j8.displayName = y8;
var b8 = "DropdownMenuSubTrigger",
    CP = h.forwardRef((t, s) => {
        const {__scopeDropdownMenu: r, ...n} = t,
            a = Ar(r);
        return e.jsx(n8, {
            ...a,
            ...n,
            ref: s
        })
    });
CP.displayName = b8;
var N8 = "DropdownMenuSubContent",
    SP = h.forwardRef((t, s) => {
        const {__scopeDropdownMenu: r, ...n} = t,
            a = Ar(r);
        return e.jsx(a8, {
            ...a,
            ...n,
            ref: s,
            style: {
                ...t.style,
                "--radix-dropdown-menu-content-transform-origin": "var(--radix-popper-transform-origin)",
                "--radix-dropdown-menu-content-available-width": "var(--radix-popper-available-width)",
                "--radix-dropdown-menu-content-available-height": "var(--radix-popper-available-height)",
                "--radix-dropdown-menu-trigger-width": "var(--radix-popper-anchor-width)",
                "--radix-dropdown-menu-trigger-height": "var(--radix-popper-anchor-height)"
            }
        })
    });
SP.displayName = N8;
var w8 = mP,
    C8 = pP,
    S8 = fP,
    EP = gP,
    kP = vP,
    PP = yP,
    _P = jP,
    TP = bP,
    AP = NP,
    MP = wP,
    IP = CP,
    RP = SP;
const Mp = w8,
    Ip = C8,
    E8 = h.forwardRef(({className: t, inset: s, children: r, ...n}, a) => e.jsxs(IP, {
        ref: a,
        className: me("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0", s && "pl-8", t),
        ...n,
        children: [r, e.jsx(Ni, {
            className: "ml-auto"
        })]
    }));
E8.displayName = IP.displayName;
const k8 = h.forwardRef(({className: t, ...s}, r) => e.jsx(RP, {
    ref: r,
    className: me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]", t),
    ...s
}));
k8.displayName = RP.displayName;
const Eu = h.forwardRef(({className: t, sideOffset: s=4, ...r}, n) => e.jsx(S8, {
    children: e.jsx(EP, {
        ref: n,
        sideOffset: s,
        className: me("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]", t),
        ...r
    })
}));
Eu.displayName = EP.displayName;
const Zs = h.forwardRef(({className: t, inset: s, ...r}, n) => e.jsx(PP, {
    ref: n,
    className: me("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0", s && "pl-8", t),
    ...r
}));
Zs.displayName = PP.displayName;
const P8 = h.forwardRef(({className: t, children: s, checked: r, ...n}, a) => e.jsxs(_P, {
    ref: a,
    className: me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50", t),
    checked: r,
    ...n,
    children: [e.jsx("span", {
        className: "absolute left-2 flex h-3.5 w-3.5 items-center justify-center",
        children: e.jsx(AP, {
            children: e.jsx(Cf, {
                className: "h-4 w-4"
            })
        })
    }), s]
}));
P8.displayName = _P.displayName;
const _8 = h.forwardRef(({className: t, children: s, ...r}, n) => e.jsxs(TP, {
    ref: n,
    className: me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50", t),
    ...r,
    children: [e.jsx("span", {
        className: "absolute left-2 flex h-3.5 w-3.5 items-center justify-center",
        children: e.jsx(AP, {
            children: e.jsx(LE, {
                className: "h-2 w-2 fill-current"
            })
        })
    }), s]
}));
_8.displayName = TP.displayName;
const ku = h.forwardRef(({className: t, inset: s, ...r}, n) => e.jsx(kP, {
    ref: n,
    className: me("px-2 py-1.5 text-sm font-semibold", s && "pl-8", t),
    ...r
}));
ku.displayName = kP.displayName;
const ii = h.forwardRef(({className: t, ...s}, r) => e.jsx(MP, {
    ref: r,
    className: me("-mx-1 my-1 h-px bg-muted", t),
    ...s
}));
ii.displayName = MP.displayName;
var y0 = "Avatar",
    [T8, YQ] = ws(y0),
    [A8, DP] = T8(y0),
    OP = h.forwardRef((t, s) => {
        const {__scopeAvatar: r, ...n} = t,
            [a, i] = h.useState("idle");
        return e.jsx(A8, {
            scope: r,
            imageLoadingStatus: a,
            onImageLoadingStatusChange: i,
            children: e.jsx(Oe.span, {
                ...n,
                ref: s
            })
        })
    });
OP.displayName = y0;
var LP = "AvatarImage",
    FP = h.forwardRef((t, s) => {
        const {__scopeAvatar: r, src: n, onLoadingStatusChange: a=() => {}, ...i} = t,
            o = DP(LP, r),
            l = M8(n, i),
            c = Zt(d => {
                a(d),
                o.onImageLoadingStatusChange(d)
            });
        return js(() => {
            l !== "idle" && c(l)
        }, [l, c]), l === "loaded" ? e.jsx(Oe.img, {
            ...i,
            ref: s,
            src: n
        }) : null
    });
FP.displayName = LP;
var zP = "AvatarFallback",
    $P = h.forwardRef((t, s) => {
        const {__scopeAvatar: r, delayMs: n, ...a} = t,
            i = DP(zP, r),
            [o, l] = h.useState(n === void 0);
        return h.useEffect(() => {
            if (n !== void 0) {
                const c = window.setTimeout(() => l(!0), n);
                return () => window.clearTimeout(c)
            }
        }, [n]), o && i.imageLoadingStatus !== "loaded" ? e.jsx(Oe.span, {
            ...a,
            ref: s
        }) : null
    });
$P.displayName = zP;
function zw(t, s) {
    return t ? s ? (t.src !== s && (t.src = s), t.complete && t.naturalWidth > 0 ? "loaded" : "loading") : "error" : "idle"
}
function M8(t, {referrerPolicy: s, crossOrigin: r}) {
    const n = R8(),
        a = h.useRef(null),
        i = n ? (a.current || (a.current = new window.Image), a.current) : null,
        [o, l] = h.useState(() => zw(i, t));
    return js(() => {
        l(zw(i, t))
    }, [i, t]), js(() => {
        const c = m => () => {
            l(m)
        };
        if (!i)
            return;
        const d = c("loaded"),
            u = c("error");
        return i.addEventListener("load", d), i.addEventListener("error", u), s && (i.referrerPolicy = s), typeof r == "string" && (i.crossOrigin = r), () => {
            i.removeEventListener("load", d),
            i.removeEventListener("error", u)
        }
    }, [i, r, s]), o
}
function I8() {
    return () => {}
}
function R8() {
    return h.useSyncExternalStore(I8, () => !0, () => !1)
}
var VP = OP,
    UP = FP,
    qP = $P;
const Jv = h.forwardRef(({className: t, ...s}, r) => e.jsx(VP, {
    ref: r,
    className: me("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full", t),
    ...s
}));
Jv.displayName = VP.displayName;
const D8 = h.forwardRef(({className: t, ...s}, r) => e.jsx(UP, {
    ref: r,
    className: me("aspect-square h-full w-full", t),
    ...s
}));
D8.displayName = UP.displayName;
const ey = h.forwardRef(({className: t, ...s}, r) => e.jsx(qP, {
    ref: r,
    className: me("flex h-full w-full items-center justify-center rounded-full bg-muted", t),
    ...s
}));
ey.displayName = qP.displayName;
var O8 = "Separator",
    $w = "horizontal",
    L8 = ["horizontal", "vertical"],
    BP = h.forwardRef((t, s) => {
        const {decorative: r, orientation: n=$w, ...a} = t,
            i = F8(n) ? n : $w,
            l = r ? {
                role: "none"
            } : {
                "aria-orientation": i === "vertical" ? i : void 0,
                role: "separator"
            };
        return e.jsx(Oe.div, {
            "data-orientation": i,
            ...l,
            ...a,
            ref: s
        })
    });
BP.displayName = O8;
function F8(t) {
    return L8.includes(t)
}
var HP = BP;
const Ca = h.forwardRef(({className: t, orientation: s="horizontal", decorative: r=!0, ...n}, a) => e.jsx(HP, {
    ref: a,
    decorative: r,
    orientation: s,
    className: me("shrink-0 bg-border", s === "horizontal" ? "h-[1px] w-full" : "h-full w-[1px]", t),
    ...n
}));
Ca.displayName = HP.displayName;
const Vw = () => {
        const {items: t, totalItems: s, totalPrice: r, isCartOpen: n, setIsCartOpen: a, updateQuantity: i, removeItem: o, clearCart: l, isLoading: c} = bl(),
            [, d] = ut(),
            u = () => {
                a(!1),
                d("/checkout")
            },
            m = () => {
                a(!1),
                d("/cart")
            },
            p = () => {
                a(!1),
                d("/")
            };
        return e.jsxs($f, {
            open: n,
            onOpenChange: a,
            children: [e.jsx(D4, {
                asChild: !0,
                children: e.jsxs(T, {
                    variant: "outline",
                    size: "icon",
                    className: "relative",
                    children: [e.jsx(ln, {
                        className: "h-5 w-5"
                    }), s > 0 && e.jsx(ye, {
                        className: "absolute -top-2 -right-2 h-5 w-5 flex items-center justify-center p-0 text-xs",
                        children: s > 99 ? "99+" : s
                    })]
                })
            }), e.jsxs(gm, {
                className: "w-full sm:max-w-lg flex flex-col",
                children: [e.jsx(Vf, {
                    className: "mb-4",
                    children: e.jsxs(Uf, {
                        children: ["Tu Carrito (", s, " ", s === 1 ? "artículo" : "artículos", ")"]
                    })
                }), e.jsx("div", {
                    className: "flex-1 overflow-y-auto",
                    children: t.length === 0 ? e.jsxs("div", {
                        className: "flex flex-col items-center justify-center py-12 text-center",
                        children: [e.jsx(ln, {
                            className: "h-16 w-16 text-gray-300 mb-4"
                        }), e.jsx("h3", {
                            className: "text-lg font-semibold text-gray-700 mb-2",
                            children: "Tu carrito está vacío"
                        }), e.jsx("p", {
                            className: "text-gray-500 mb-4",
                            children: "Añade piezas para continuar"
                        })]
                    }) : e.jsxs("div", {
                        className: "space-y-4",
                        children: [e.jsxs("div", {
                            className: "flex justify-between items-center",
                            children: [e.jsxs("h3", {
                                className: "font-medium",
                                children: ["Productos (", s, ")"]
                            }), e.jsxs(T, {
                                variant: "ghost",
                                size: "sm",
                                onClick: l,
                                className: "text-red-600 hover:text-red-700",
                                children: [e.jsx(nl, {
                                    className: "h-4 w-4 mr-1"
                                }), "Vaciar"]
                            })]
                        }), e.jsx("div", {
                            className: "space-y-3",
                            children: t.map(j => e.jsxs("div", {
                                className: "flex gap-3 p-3 border rounded-lg",
                                children: [e.jsx("div", {
                                    className: "h-16 w-16 rounded bg-gray-100 flex items-center justify-center overflow-hidden",
                                    children: j.partImage ? e.jsx("img", {
                                        src: j.partImage,
                                        alt: j.partName,
                                        className: "object-cover h-full w-full"
                                    }) : e.jsx("div", {
                                        className: "text-gray-400 text-xl",
                                        children: "🔧"
                                    })
                                }), e.jsxs("div", {
                                    className: "flex-1 min-w-0",
                                    children: [e.jsx("h4", {
                                        className: "font-medium text-sm leading-tight mb-1",
                                        children: j.partName
                                    }), e.jsx("p", {
                                        className: "text-xs text-gray-500 mb-1",
                                        children: j.partFamily
                                    }), (j.partReference || j.partCode) && e.jsxs("div", {
                                        className: "flex gap-2 text-xs text-gray-600 mb-2",
                                        children: [j.partReference && e.jsxs("span", {
                                            className: "bg-blue-100 px-2 py-1 rounded text-blue-800",
                                            children: ["Ref: ", j.partReference]
                                        }), j.partCode && e.jsxs("span", {
                                            className: "bg-green-100 px-2 py-1 rounded text-green-800",
                                            children: ["Código: ", j.partCode]
                                        })]
                                    }), e.jsxs("div", {
                                        className: "flex justify-between items-center",
                                        children: [e.jsx("div", {
                                            className: "flex items-center gap-1",
                                            children: e.jsx("span", {
                                                className: "text-sm font-medium text-center px-4 py-1 bg-gray-100 rounded",
                                                children: "1 unidad"
                                            })
                                        }), e.jsxs("div", {
                                            className: "text-right",
                                            children: [e.jsx("div", {
                                                className: "text-sm font-semibold",
                                                children: jt(j.price * j.quantity, !1)
                                            }), e.jsx(T, {
                                                variant: "ghost",
                                                size: "sm",
                                                className: "h-6 px-2 text-xs text-red-600 hover:text-red-700",
                                                onClick: () => o(j.partId),
                                                children: "Eliminar"
                                            })]
                                        })]
                                    })]
                                })]
                            }, j.id))
                        })]
                    })
                }), s > 0 && e.jsxs(e.Fragment, {
                    children: [e.jsx(Ca, {
                        className: "my-4"
                    }), e.jsxs("div", {
                        className: "space-y-2",
                        children: [(() => {
                            const j = r,
                                g = j / (1 + Ef),
                                x = j - g;
                            return e.jsxs("div", {
                                className: "space-y-1",
                                children: [e.jsxs("div", {
                                    className: "flex justify-between items-center text-sm",
                                    children: [e.jsx("span", {
                                        children: "Subtotal:"
                                    }), e.jsx("span", {
                                        children: jt(g, !1)
                                    })]
                                }), e.jsxs("div", {
                                    className: "flex justify-between items-center text-sm",
                                    children: [e.jsx("span", {
                                        children: "IVA (21%):"
                                    }), e.jsx("span", {
                                        children: jt(x, !1)
                                    })]
                                }), e.jsxs("div", {
                                    className: "flex justify-between items-center font-semibold text-lg border-t pt-2",
                                    children: [e.jsx("span", {
                                        children: "Total:"
                                    }), e.jsx("span", {
                                        children: jt(j, !1)
                                    })]
                                }), e.jsx("div", {
                                    className: "text-xs text-gray-500 text-center mt-1",
                                    children: "* Coste de envío calculado en el checkout"
                                })]
                            })
                        })(), e.jsxs("div", {
                            className: "space-y-3",
                            children: [e.jsxs(T, {
                                className: "w-full",
                                onClick: u,
                                children: [e.jsx(us, {
                                    className: "h-4 w-4 mr-2"
                                }), "Finalizar compra"]
                            }), e.jsxs("div", {
                                className: "flex gap-3",
                                children: [e.jsxs(T, {
                                    variant: "outline",
                                    className: "flex-1",
                                    onClick: m,
                                    children: [e.jsx(ln, {
                                        className: "h-4 w-4 mr-2"
                                    }), "Ver carrito"]
                                }), e.jsx(T, {
                                    variant: "outline",
                                    className: "flex-1",
                                    onClick: p,
                                    children: "Continuar comprando"
                                })]
                            })]
                        })]
                    })]
                })]
            })]
        })
    },
    z8 = () => {
        const [t] = ut(),
            [s, r] = h.useState(!1),
            [n, a] = h.useState(!1),
            {user: i, isLoading: o} = Ts(),
            {toast: l} = st();
        h.useEffect(() => {
            const g = () => {
                const x = window.innerWidth < 1024;
                a(x)
            };
            return g(), window.addEventListener("resize", g), () => window.removeEventListener("resize", g)
        }, []);
        const {data: c} = Te({
                queryKey: ["/api/cms/site-settings"],
                queryFn: async () => {
                    const g = await fetch("/api/cms/site-settings");
                    if (!g.ok)
                        throw new Error("Error al cargar configuraciones");
                    return g.json()
                }
            }),
            d = async () => {
                try {
                    (await Re("POST", "/api/auth/logout")).ok ? (l({
                        title: "Sesión cerrada",
                        description: "Has cerrado sesión correctamente"
                    }), window.location.href = "/") : l({
                        title: "Error",
                        description: "Hubo un problema al cerrar sesión",
                        variant: "destructive"
                    })
                } catch (g) {
                    console.error("Error al cerrar sesión:", g),
                    l({
                        title: "Error",
                        description: "No se pudo cerrar sesión",
                        variant: "destructive"
                    })
                }
            },
            u = g => t === g,
            m = () => i ? i.firstName ? i.firstName.substring(0, 2).toUpperCase() : i.email ? i.email.substring(0, 2).toUpperCase() : "DM" : "DM",
            p = () => {
                if (!c)
                    return "Lun-Vie: 9AM-7PM, Sáb: 9AM-2PM";
                const g = c.find(x => x.key === "business_hours");
                if (!g)
                    return "Lun-Vie: 9AM-7PM, Sáb: 9AM-2PM";
                try {
                    const x = JSON.parse(g.value),
                        y = b => b === "closed" || b === "Cerrado" ? "Cerrado" : b,
                        v = y(x.monday || ""),
                        f = y(x.saturday || "");
                    return v && f && f !== "Cerrado" ? `Lun-Vie: ${v}, Sáb: ${f}` : v ? `Lun-Vie: ${v}` : "Lun-Vie: 9AM-7PM, Sáb: 9AM-2PM"
                } catch {
                    return "Lun-Vie: 9AM-7PM, Sáb: 9AM-2PM"
                }
            },
            j = () => {
                if (!c)
                    return !0;
                const g = c.find(x => x.key === "header_show_hours");
                return g ? g.value === "true" : !0
            };
        return e.jsxs("header", {
            children: [e.jsx("div", {
                className: "bg-primary text-white py-2",
                children: e.jsxs("div", {
                    className: "container mx-auto px-4",
                    children: [e.jsxs("div", {
                        className: "flex sm:hidden justify-center items-center space-x-4",
                        children: [e.jsxs("a", {
                            href: "tel:958790858",
                            className: "text-xs flex items-center hover:text-secondary",
                            children: [e.jsx(Xn, {
                                size: 14,
                                className: "mr-1"
                            }), "958 790 858"]
                        }), e.jsxs("a", {
                            href: "mailto:info@desguacemurcia.com",
                            className: "text-xs flex items-center hover:text-secondary",
                            children: [e.jsx(Ls, {
                                size: 14,
                                className: "mr-1"
                            }), "info@desguacemurcia.com"]
                        })]
                    }), e.jsxs("div", {
                        className: "hidden sm:flex justify-between items-center",
                        children: [e.jsxs("div", {
                            className: "flex items-center space-x-4",
                            children: [e.jsxs("a", {
                                href: "tel:958790858",
                                className: "text-sm flex items-center hover:text-secondary",
                                children: [e.jsx(Xn, {
                                    size: 14,
                                    className: "mr-2"
                                }), "958 790 858"]
                            }), e.jsxs("a", {
                                href: "mailto:info@desguacemurcia.com",
                                className: "text-sm flex items-center hover:text-secondary",
                                children: [e.jsx(Ls, {
                                    size: 14,
                                    className: "mr-2"
                                }), "info@desguacemurcia.com"]
                            })]
                        }), j() && e.jsxs("div", {
                            className: "text-sm flex items-center",
                            children: [e.jsx(Bs, {
                                size: 14,
                                className: "mr-2"
                            }), e.jsx("span", {
                                children: p()
                            })]
                        })]
                    })]
                })
            }), e.jsx("div", {
                className: "bg-white py-4 shadow-md pt-[20px] pb-[20px]",
                children: e.jsx("div", {
                    className: "container mx-auto px-4",
                    children: e.jsxs("div", {
                        className: "flex justify-between items-center",
                        children: [e.jsx(ze, {
                            href: "/",
                            className: "flex items-center",
                            children: e.jsx("img", {
                                src: "/desguacesmurcia1.png",
                                alt: "Desguace Murcia Logo",
                                className: "h-16 md:h-20 w-auto",
                                width: "140",
                                height: "65",
                                style: {
                                    maxWidth: "140px",
                                    maxHeight: "65px",
                                    minWidth: "140px",
                                    minHeight: "65px"
                                },
                                decoding: "async"
                            })
                        }), n && e.jsxs("div", {
                            className: "flex items-center gap-2",
                            children: [e.jsx(Vw, {}), i ? e.jsxs(Mp, {
                                children: [e.jsx(Ip, {
                                    asChild: !0,
                                    children: e.jsx(T, {
                                        variant: "ghost",
                                        size: "icon",
                                        className: "relative rounded-full",
                                        children: e.jsx(Jv, {
                                            className: "h-8 w-8",
                                            children: e.jsx(ey, {
                                                children: m()
                                            })
                                        })
                                    })
                                }), e.jsxs(Eu, {
                                    align: "end",
                                    children: [e.jsx(ku, {
                                        children: "Mi cuenta"
                                    }), e.jsx(ii, {}), e.jsx(Zs, {
                                        asChild: !0,
                                        children: e.jsxs(ze, {
                                            href: "/panel",
                                            children: [e.jsx(Lr, {
                                                className: "mr-2 h-4 w-4"
                                            }), "Mi Panel"]
                                        })
                                    }), e.jsx(Zs, {
                                        asChild: !0,
                                        children: e.jsxs(ze, {
                                            href: "/pedidos",
                                            children: [e.jsx(Ot, {
                                                className: "mr-2 h-4 w-4"
                                            }), "Mis Pedidos"]
                                        })
                                    }), (i.isAdmin || i.role === "admin" || i.role === "manager") && e.jsx(Zs, {
                                        asChild: !0,
                                        children: e.jsxs(ze, {
                                            href: "/admin/dashboard",
                                            children: [e.jsx(Lr, {
                                                className: "mr-2 h-4 w-4"
                                            }), "Administración"]
                                        })
                                    }), e.jsx(ii, {}), e.jsxs(Zs, {
                                        onClick: d,
                                        children: [e.jsx(ka, {
                                            className: "mr-2 h-4 w-4"
                                        }), "Cerrar sesión"]
                                    })]
                                })]
                            }) : e.jsx(ze, {
                                href: "/login",
                                children: e.jsx(T, {
                                    variant: "ghost",
                                    size: "icon",
                                    children: e.jsx(Lr, {})
                                })
                            }), e.jsxs($f, {
                                open: s,
                                onOpenChange: r,
                                children: [e.jsx(D4, {
                                    asChild: !0,
                                    children: e.jsx(T, {
                                        variant: "ghost",
                                        size: "icon",
                                        children: e.jsx(BE, {})
                                    })
                                }), e.jsxs(gm, {
                                    side: "right",
                                    children: [e.jsx("div", {
                                        className: "flex items-center justify-center py-4 mb-4 border-b",
                                        children: e.jsx("img", {
                                            src: "/desguacesmurcia1.png",
                                            alt: "Desguace Murcia Logo",
                                            className: "h-12 w-auto"
                                        })
                                    }), e.jsxs("nav", {
                                        className: "flex flex-col gap-4",
                                        children: [e.jsx(ze, {
                                            href: "/",
                                            className: me("px-3 py-2 font-montserrat font-medium transition-colors", u("/") ? "text-secondary" : ""),
                                            onClick: () => r(!1),
                                            children: "Inicio"
                                        }), e.jsx(ze, {
                                            href: "/vehiculos",
                                            className: me("px-3 py-2 font-montserrat font-medium transition-colors", u("/vehiculos") ? "text-secondary" : ""),
                                            onClick: () => r(!1),
                                            children: "Vehículos"
                                        }), e.jsx(ze, {
                                            href: "/piezas",
                                            className: me("px-3 py-2 font-montserrat font-medium transition-colors", u("/piezas") ? "text-secondary" : ""),
                                            onClick: () => r(!1),
                                            children: "Piezas"
                                        }), e.jsx(ze, {
                                            href: "/tasamos-tu-vehiculo",
                                            className: me("px-3 py-2 font-montserrat font-medium transition-colors", u("/tasamos-tu-vehiculo") ? "text-secondary" : ""),
                                            onClick: () => r(!1),
                                            children: "Tasamos tu vehículo"
                                        }), e.jsx(ze, {
                                            href: "/contacto",
                                            className: me("px-3 py-2 font-montserrat font-medium transition-colors", u("/contacto") ? "text-secondary" : ""),
                                            onClick: () => r(!1),
                                            children: "Contacto"
                                        }), i && (i.isAdmin || i.role === "admin" || i.role === "manager") && e.jsx(ze, {
                                            href: "/admin/dashboard",
                                            className: me("px-3 py-2 font-montserrat font-medium transition-colors", u("/admin/dashboard") ? "text-secondary" : ""),
                                            onClick: () => r(!1),
                                            children: "Administración"
                                        }), !i && e.jsx(ze, {
                                            href: "/login",
                                            onClick: () => r(!1),
                                            children: e.jsx(T, {
                                                className: "w-full mb-2",
                                                variant: "outline",
                                                children: "Iniciar Sesión"
                                            })
                                        })]
                                    })]
                                })]
                            })]
                        }), !n && e.jsx("nav", {
                            className: "flex items-center justify-center flex-1",
                            children: e.jsxs("ul", {
                                className: "flex flex-wrap items-center justify-center space-x-2 lg:space-x-6",
                                children: [e.jsx("li", {
                                    children: e.jsx(ze, {
                                        href: "/",
                                        className: me("px-3 py-2 rounded font-montserrat font-medium transition-colors", u("/") ? "text-secondary" : "hover:text-secondary"),
                                        children: "Inicio"
                                    })
                                }), e.jsx("li", {
                                    children: e.jsx(ze, {
                                        href: "/vehiculos",
                                        className: me("px-3 py-2 rounded font-montserrat font-medium transition-colors", u("/vehiculos") ? "text-secondary" : "hover:text-secondary"),
                                        children: "Vehículos"
                                    })
                                }), e.jsx("li", {
                                    children: e.jsx(ze, {
                                        href: "/piezas",
                                        className: me("px-3 py-2 rounded font-montserrat font-medium transition-colors", u("/piezas") ? "text-secondary" : "hover:text-secondary"),
                                        children: "Piezas"
                                    })
                                }), e.jsx("li", {
                                    children: e.jsx(ze, {
                                        href: "/tasamos-tu-vehiculo",
                                        className: me("px-3 py-2 rounded font-montserrat font-medium transition-colors", u("/tasamos-tu-vehiculo") ? "text-secondary" : "hover:text-secondary"),
                                        children: "Tasamos tu vehículo"
                                    })
                                }), e.jsx("li", {
                                    children: e.jsx(ze, {
                                        href: "/contacto",
                                        className: me("px-3 py-2 rounded font-montserrat font-medium transition-colors", u("/contacto") ? "text-secondary" : "hover:text-secondary"),
                                        children: "Contacto"
                                    })
                                }), e.jsx("li", {
                                    children: e.jsx(Vw, {})
                                }), e.jsx("li", {
                                    children: i ? e.jsxs(Mp, {
                                        children: [e.jsx(Ip, {
                                            asChild: !0,
                                            children: e.jsxs(T, {
                                                variant: "ghost",
                                                size: "sm",
                                                className: "flex items-center gap-2",
                                                children: [e.jsx(Jv, {
                                                    className: "h-8 w-8",
                                                    children: e.jsx(ey, {
                                                        children: m()
                                                    })
                                                }), e.jsx("span", {
                                                    children: "Mi Cuenta"
                                                }), e.jsx(rl, {
                                                    className: "h-4 w-4 opacity-50"
                                                })]
                                            })
                                        }), e.jsxs(Eu, {
                                            align: "end",
                                            className: "w-56",
                                            children: [e.jsx(ku, {
                                                children: "Mi cuenta"
                                            }), e.jsx(ii, {}), e.jsx(Zs, {
                                                asChild: !0,
                                                children: e.jsxs(ze, {
                                                    href: "/panel",
                                                    children: [e.jsx(Lr, {
                                                        className: "mr-2 h-4 w-4"
                                                    }), "Mi Panel"]
                                                })
                                            }), e.jsx(Zs, {
                                                asChild: !0,
                                                children: e.jsxs(ze, {
                                                    href: "/pedidos",
                                                    children: [e.jsx(Ot, {
                                                        className: "mr-2 h-4 w-4"
                                                    }), "Mis Pedidos"]
                                                })
                                            }), (i.isAdmin || i.role === "admin" || i.role === "manager") && e.jsx(Zs, {
                                                asChild: !0,
                                                children: e.jsxs(ze, {
                                                    href: "/admin/dashboard",
                                                    children: [e.jsx(Lr, {
                                                        className: "mr-2 h-4 w-4"
                                                    }), "Administración"]
                                                })
                                            }), e.jsx(ii, {}), e.jsxs(Zs, {
                                                onClick: d,
                                                children: [e.jsx(ka, {
                                                    className: "mr-2 h-4 w-4"
                                                }), "Cerrar sesión"]
                                            })]
                                        })]
                                    }) : e.jsx(ze, {
                                        href: "/login",
                                        children: e.jsxs(T, {
                                            variant: "outline",
                                            className: "flex items-center gap-2",
                                            children: [e.jsx(Lr, {
                                                className: "h-4 w-4"
                                            }), "Iniciar Sesión"]
                                        })
                                    })
                                })]
                            })
                        })]
                    })
                })
            })]
        })
    },
    te = h.forwardRef(({className: t, type: s, ...r}, n) => e.jsx("input", {
        type: s,
        className: me("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm", t),
        ref: n,
        ...r
    }));
te.displayName = "Input"; /*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */
const {entries: WP, setPrototypeOf: Uw, isFrozen: $8, getPrototypeOf: V8, getOwnPropertyDescriptor: U8} = Object;
let {freeze: Er, seal: Pn, create: GP} = Object,
    {apply: ty, construct: sy} = typeof Reflect < "u" && Reflect;
Er || (Er = function(s) {
    return s
});
Pn || (Pn = function(s) {
    return s
});
ty || (ty = function(s, r, n) {
    return s.apply(r, n)
});
sy || (sy = function(s, r) {
    return new s(...r)
});
const uh = kr(Array.prototype.forEach),
    q8 = kr(Array.prototype.lastIndexOf),
    qw = kr(Array.prototype.pop),
    yd = kr(Array.prototype.push),
    B8 = kr(Array.prototype.splice),
    Lh = kr(String.prototype.toLowerCase),
    ug = kr(String.prototype.toString),
    Bw = kr(String.prototype.match),
    jd = kr(String.prototype.replace),
    H8 = kr(String.prototype.indexOf),
    W8 = kr(String.prototype.trim),
    Rn = kr(Object.prototype.hasOwnProperty),
    fr = kr(RegExp.prototype.test),
    bd = G8(TypeError);
function kr(t) {
    return function(s) {
        s instanceof RegExp && (s.lastIndex = 0);
        for (var r = arguments.length, n = new Array(r > 1 ? r - 1 : 0), a = 1; a < r; a++)
            n[a - 1] = arguments[a];
        return ty(t, s, n)
    }
}
function G8(t) {
    return function() {
        for (var s = arguments.length, r = new Array(s), n = 0; n < s; n++)
            r[n] = arguments[n];
        return sy(t, r)
    }
}
function wt(t, s) {
    let r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : Lh;
    Uw && Uw(t, null);
    let n = s.length;
    for (; n--;) {
        let a = s[n];
        if (typeof a == "string") {
            const i = r(a);
            i !== a && ($8(s) || (s[n] = i), a = i)
        }
        t[a] = !0
    }
    return t
}
function K8(t) {
    for (let s = 0; s < t.length; s++)
        Rn(t, s) || (t[s] = null);
    return t
}
function qa(t) {
    const s = GP(null);
    for (const [r, n] of WP(t))
        Rn(t, r) && (Array.isArray(n) ? s[r] = K8(n) : n && typeof n == "object" && n.constructor === Object ? s[r] = qa(n) : s[r] = n);
    return s
}
function Nd(t, s) {
    for (; t !== null;) {
        const n = U8(t, s);
        if (n) {
            if (n.get)
                return kr(n.get);
            if (typeof n.value == "function")
                return kr(n.value)
        }
        t = V8(t)
    }
    function r() {
        return null
    }
    return r
}
const Hw = Er(["a", "abbr", "acronym", "address", "area", "article", "aside", "audio", "b", "bdi", "bdo", "big", "blink", "blockquote", "body", "br", "button", "canvas", "caption", "center", "cite", "code", "col", "colgroup", "content", "data", "datalist", "dd", "decorator", "del", "details", "dfn", "dialog", "dir", "div", "dl", "dt", "element", "em", "fieldset", "figcaption", "figure", "font", "footer", "form", "h1", "h2", "h3", "h4", "h5", "h6", "head", "header", "hgroup", "hr", "html", "i", "img", "input", "ins", "kbd", "label", "legend", "li", "main", "map", "mark", "marquee", "menu", "menuitem", "meter", "nav", "nobr", "ol", "optgroup", "option", "output", "p", "picture", "pre", "progress", "q", "rp", "rt", "ruby", "s", "samp", "section", "select", "shadow", "small", "source", "spacer", "span", "strike", "strong", "style", "sub", "summary", "sup", "table", "tbody", "td", "template", "textarea", "tfoot", "th", "thead", "time", "tr", "track", "tt", "u", "ul", "var", "video", "wbr"]),
    mg = Er(["svg", "a", "altglyph", "altglyphdef", "altglyphitem", "animatecolor", "animatemotion", "animatetransform", "circle", "clippath", "defs", "desc", "ellipse", "filter", "font", "g", "glyph", "glyphref", "hkern", "image", "line", "lineargradient", "marker", "mask", "metadata", "mpath", "path", "pattern", "polygon", "polyline", "radialgradient", "rect", "stop", "style", "switch", "symbol", "text", "textpath", "title", "tref", "tspan", "view", "vkern"]),
    hg = Er(["feBlend", "feColorMatrix", "feComponentTransfer", "feComposite", "feConvolveMatrix", "feDiffuseLighting", "feDisplacementMap", "feDistantLight", "feDropShadow", "feFlood", "feFuncA", "feFuncB", "feFuncG", "feFuncR", "feGaussianBlur", "feImage", "feMerge", "feMergeNode", "feMorphology", "feOffset", "fePointLight", "feSpecularLighting", "feSpotLight", "feTile", "feTurbulence"]),
    Y8 = Er(["animate", "color-profile", "cursor", "discard", "font-face", "font-face-format", "font-face-name", "font-face-src", "font-face-uri", "foreignobject", "hatch", "hatchpath", "mesh", "meshgradient", "meshpatch", "meshrow", "missing-glyph", "script", "set", "solidcolor", "unknown", "use"]),
    pg = Er(["math", "menclose", "merror", "mfenced", "mfrac", "mglyph", "mi", "mlabeledtr", "mmultiscripts", "mn", "mo", "mover", "mpadded", "mphantom", "mroot", "mrow", "ms", "mspace", "msqrt", "mstyle", "msub", "msup", "msubsup", "mtable", "mtd", "mtext", "mtr", "munder", "munderover", "mprescripts"]),
    Q8 = Er(["maction", "maligngroup", "malignmark", "mlongdiv", "mscarries", "mscarry", "msgroup", "mstack", "msline", "msrow", "semantics", "annotation", "annotation-xml", "mprescripts", "none"]),
    Ww = Er(["#text"]),
    Gw = Er(["accept", "action", "align", "alt", "autocapitalize", "autocomplete", "autopictureinpicture", "autoplay", "background", "bgcolor", "border", "capture", "cellpadding", "cellspacing", "checked", "cite", "class", "clear", "color", "cols", "colspan", "controls", "controlslist", "coords", "crossorigin", "datetime", "decoding", "default", "dir", "disabled", "disablepictureinpicture", "disableremoteplayback", "download", "draggable", "enctype", "enterkeyhint", "face", "for", "headers", "height", "hidden", "high", "href", "hreflang", "id", "inputmode", "integrity", "ismap", "kind", "label", "lang", "list", "loading", "loop", "low", "max", "maxlength", "media", "method", "min", "minlength", "multiple", "muted", "name", "nonce", "noshade", "novalidate", "nowrap", "open", "optimum", "pattern", "placeholder", "playsinline", "popover", "popovertarget", "popovertargetaction", "poster", "preload", "pubdate", "radiogroup", "readonly", "rel", "required", "rev", "reversed", "role", "rows", "rowspan", "spellcheck", "scope", "selected", "shape", "size", "sizes", "span", "srclang", "start", "src", "srcset", "step", "style", "summary", "tabindex", "title", "translate", "type", "usemap", "valign", "value", "width", "wrap", "xmlns", "slot"]),
    fg = Er(["accent-height", "accumulate", "additive", "alignment-baseline", "amplitude", "ascent", "attributename", "attributetype", "azimuth", "basefrequency", "baseline-shift", "begin", "bias", "by", "class", "clip", "clippathunits", "clip-path", "clip-rule", "color", "color-interpolation", "color-interpolation-filters", "color-profile", "color-rendering", "cx", "cy", "d", "dx", "dy", "diffuseconstant", "direction", "display", "divisor", "dur", "edgemode", "elevation", "end", "exponent", "fill", "fill-opacity", "fill-rule", "filter", "filterunits", "flood-color", "flood-opacity", "font-family", "font-size", "font-size-adjust", "font-stretch", "font-style", "font-variant", "font-weight", "fx", "fy", "g1", "g2", "glyph-name", "glyphref", "gradientunits", "gradienttransform", "height", "href", "id", "image-rendering", "in", "in2", "intercept", "k", "k1", "k2", "k3", "k4", "kerning", "keypoints", "keysplines", "keytimes", "lang", "lengthadjust", "letter-spacing", "kernelmatrix", "kernelunitlength", "lighting-color", "local", "marker-end", "marker-mid", "marker-start", "markerheight", "markerunits", "markerwidth", "maskcontentunits", "maskunits", "max", "mask", "media", "method", "mode", "min", "name", "numoctaves", "offset", "operator", "opacity", "order", "orient", "orientation", "origin", "overflow", "paint-order", "path", "pathlength", "patterncontentunits", "patterntransform", "patternunits", "points", "preservealpha", "preserveaspectratio", "primitiveunits", "r", "rx", "ry", "radius", "refx", "refy", "repeatcount", "repeatdur", "restart", "result", "rotate", "scale", "seed", "shape-rendering", "slope", "specularconstant", "specularexponent", "spreadmethod", "startoffset", "stddeviation", "stitchtiles", "stop-color", "stop-opacity", "stroke-dasharray", "stroke-dashoffset", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke", "stroke-width", "style", "surfacescale", "systemlanguage", "tabindex", "tablevalues", "targetx", "targety", "transform", "transform-origin", "text-anchor", "text-decoration", "text-rendering", "textlength", "type", "u1", "u2", "unicode", "values", "viewbox", "visibility", "version", "vert-adv-y", "vert-origin-x", "vert-origin-y", "width", "word-spacing", "wrap", "writing-mode", "xchannelselector", "ychannelselector", "x", "x1", "x2", "xmlns", "y", "y1", "y2", "z", "zoomandpan"]),
    Kw = Er(["accent", "accentunder", "align", "bevelled", "close", "columnsalign", "columnlines", "columnspan", "denomalign", "depth", "dir", "display", "displaystyle", "encoding", "fence", "frame", "height", "href", "id", "largeop", "length", "linethickness", "lspace", "lquote", "mathbackground", "mathcolor", "mathsize", "mathvariant", "maxsize", "minsize", "movablelimits", "notation", "numalign", "open", "rowalign", "rowlines", "rowspacing", "rowspan", "rspace", "rquote", "scriptlevel", "scriptminsize", "scriptsizemultiplier", "selection", "separator", "separators", "stretchy", "subscriptshift", "supscriptshift", "symmetric", "voffset", "width", "xmlns"]),
    mh = Er(["xlink:href", "xml:id", "xlink:title", "xml:space", "xmlns:xlink"]),
    Z8 = Pn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),
    X8 = Pn(/<%[\w\W]*|[\w\W]*%>/gm),
    J8 = Pn(/\$\{[\w\W]*/gm),
    e$ = Pn(/^data-[\-\w.\u00B7-\uFFFF]+$/),
    t$ = Pn(/^aria-[\-\w]+$/),
    KP = Pn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),
    s$ = Pn(/^(?:\w+script|data):/i),
    r$ = Pn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),
    YP = Pn(/^html$/i),
    n$ = Pn(/^[a-z][.\w]*(-[.\w]+)+$/i);
var Yw = Object.freeze({
    __proto__: null,
    ARIA_ATTR: t$,
    ATTR_WHITESPACE: r$,
    CUSTOM_ELEMENT: n$,
    DATA_ATTR: e$,
    DOCTYPE_NAME: YP,
    ERB_EXPR: X8,
    IS_ALLOWED_URI: KP,
    IS_SCRIPT_OR_DATA: s$,
    MUSTACHE_EXPR: Z8,
    TMPLIT_EXPR: J8
});
const wd = {
        element: 1,
        attribute: 2,
        text: 3,
        cdataSection: 4,
        entityReference: 5,
        entityNode: 6,
        progressingInstruction: 7,
        comment: 8,
        document: 9,
        documentType: 10,
        documentFragment: 11,
        notation: 12
    },
    a$ = function() {
        return typeof window > "u" ? null : window
    },
    i$ = function(s, r) {
        if (typeof s != "object" || typeof s.createPolicy != "function")
            return null;
        let n = null;
        const a = "data-tt-policy-suffix";
        r && r.hasAttribute(a) && (n = r.getAttribute(a));
        const i = "dompurify" + (n ? "#" + n : "");
        try {
            return s.createPolicy(i, {
                createHTML(o) {
                    return o
                },
                createScriptURL(o) {
                    return o
                }
            })
        } catch {
            return console.warn("TrustedTypes policy " + i + " could not be created."), null
        }
    },
    Qw = function() {
        return {
            afterSanitizeAttributes: [],
            afterSanitizeElements: [],
            afterSanitizeShadowDOM: [],
            beforeSanitizeAttributes: [],
            beforeSanitizeElements: [],
            beforeSanitizeShadowDOM: [],
            uponSanitizeAttribute: [],
            uponSanitizeElement: [],
            uponSanitizeShadowNode: []
        }
    };
function QP() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : a$();
    const s = Qe => QP(Qe);
    if (s.version = "3.2.6", s.removed = [], !t || !t.document || t.document.nodeType !== wd.document || !t.Element)
        return s.isSupported = !1, s;
    let {document: r} = t;
    const n = r,
        a = n.currentScript,
        {DocumentFragment: i, HTMLTemplateElement: o, Node: l, Element: c, NodeFilter: d, NamedNodeMap: u=t.NamedNodeMap || t.MozNamedAttrMap, HTMLFormElement: m, DOMParser: p, trustedTypes: j} = t,
        g = c.prototype,
        x = Nd(g, "cloneNode"),
        y = Nd(g, "remove"),
        v = Nd(g, "nextSibling"),
        f = Nd(g, "childNodes"),
        b = Nd(g, "parentNode");
    if (typeof o == "function") {
        const Qe = r.createElement("template");
        Qe.content && Qe.content.ownerDocument && (r = Qe.content.ownerDocument)
    }
    let N,
        w = "";
    const {implementation: C, createNodeIterator: E, createDocumentFragment: k, getElementsByTagName: R} = r,
        {importNode: H} = n;
    let z = Qw();
    s.isSupported = typeof WP == "function" && typeof b == "function" && C && C.createHTMLDocument !== void 0;
    const {MUSTACHE_EXPR: A, ERB_EXPR: $, TMPLIT_EXPR: G, DATA_ATTR: F, ARIA_ATTR: _, IS_SCRIPT_OR_DATA: S, ATTR_WHITESPACE: I, CUSTOM_ELEMENT: W} = Yw;
    let {IS_ALLOWED_URI: oe} = Yw,
        O = null;
    const M = wt({}, [...Hw, ...mg, ...hg, ...pg, ...Ww]);
    let re = null;
    const ue = wt({}, [...Gw, ...fg, ...Kw, ...mh]);
    let Y = Object.seal(GP(null, {
            tagNameCheck: {
                writable: !0,
                configurable: !1,
                enumerable: !0,
                value: null
            },
            attributeNameCheck: {
                writable: !0,
                configurable: !1,
                enumerable: !0,
                value: null
            },
            allowCustomizedBuiltInElements: {
                writable: !0,
                configurable: !1,
                enumerable: !0,
                value: !1
            }
        })),
        he = null,
        D = null,
        K = !0,
        L = !0,
        ee = !1,
        ce = !0,
        le = !1,
        Se = !0,
        pe = !1,
        _e = !1,
        dt = !1,
        B = !1,
        De = !1,
        vt = !1,
        At = !0,
        Mt = !1;
    const P = "user-content-";
    let X = !0,
        ie = !1,
        we = {},
        be = null;
    const se = wt({}, ["annotation-xml", "audio", "colgroup", "desc", "foreignobject", "head", "iframe", "math", "mi", "mn", "mo", "ms", "mtext", "noembed", "noframes", "noscript", "plaintext", "script", "style", "svg", "template", "thead", "title", "video", "xmp"]);
    let je = null;
    const Ge = wt({}, ["audio", "video", "img", "source", "image", "track"]);
    let Pt = null;
    const $t = wt({}, ["alt", "class", "for", "id", "label", "name", "pattern", "placeholder", "role", "summary", "title", "value", "style", "xmlns"]),
        Zr = "http://www.w3.org/1998/Math/MathML",
        ve = "http://www.w3.org/2000/svg",
        mt = "http://www.w3.org/1999/xhtml";
    let Lt = mt,
        Mn = !1,
        Eo = null;
    const Sl = wt({}, [Zr, ve, mt], ug);
    let ko = wt({}, ["mi", "mo", "mn", "ms", "mtext"]),
        El = wt({}, ["annotation-xml"]);
    const Dm = wt({}, ["title", "style", "font", "a", "script"]);
    let Si = null;
    const Om = ["application/xhtml+xml", "text/html"],
        xx = "text/html";
    let ms = null,
        Da = null;
    const gx = r.createElement("form"),
        jb = function(J) {
            return J instanceof RegExp || J instanceof Function
        },
        vx = function() {
            let J = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
            if (!(Da && Da === J)) {
                if ((!J || typeof J != "object") && (J = {}), J = qa(J), Si = Om.indexOf(J.PARSER_MEDIA_TYPE) === -1 ? xx : J.PARSER_MEDIA_TYPE, ms = Si === "application/xhtml+xml" ? ug : Lh, O = Rn(J, "ALLOWED_TAGS") ? wt({}, J.ALLOWED_TAGS, ms) : M, re = Rn(J, "ALLOWED_ATTR") ? wt({}, J.ALLOWED_ATTR, ms) : ue, Eo = Rn(J, "ALLOWED_NAMESPACES") ? wt({}, J.ALLOWED_NAMESPACES, ug) : Sl, Pt = Rn(J, "ADD_URI_SAFE_ATTR") ? wt(qa($t), J.ADD_URI_SAFE_ATTR, ms) : $t, je = Rn(J, "ADD_DATA_URI_TAGS") ? wt(qa(Ge), J.ADD_DATA_URI_TAGS, ms) : Ge, be = Rn(J, "FORBID_CONTENTS") ? wt({}, J.FORBID_CONTENTS, ms) : se, he = Rn(J, "FORBID_TAGS") ? wt({}, J.FORBID_TAGS, ms) : qa({}), D = Rn(J, "FORBID_ATTR") ? wt({}, J.FORBID_ATTR, ms) : qa({}), we = Rn(J, "USE_PROFILES") ? J.USE_PROFILES : !1, K = J.ALLOW_ARIA_ATTR !== !1, L = J.ALLOW_DATA_ATTR !== !1, ee = J.ALLOW_UNKNOWN_PROTOCOLS || !1, ce = J.ALLOW_SELF_CLOSE_IN_ATTR !== !1, le = J.SAFE_FOR_TEMPLATES || !1, Se = J.SAFE_FOR_XML !== !1, pe = J.WHOLE_DOCUMENT || !1, B = J.RETURN_DOM || !1, De = J.RETURN_DOM_FRAGMENT || !1, vt = J.RETURN_TRUSTED_TYPE || !1, dt = J.FORCE_BODY || !1, At = J.SANITIZE_DOM !== !1, Mt = J.SANITIZE_NAMED_PROPS || !1, X = J.KEEP_CONTENT !== !1, ie = J.IN_PLACE || !1, oe = J.ALLOWED_URI_REGEXP || KP, Lt = J.NAMESPACE || mt, ko = J.MATHML_TEXT_INTEGRATION_POINTS || ko, El = J.HTML_INTEGRATION_POINTS || El, Y = J.CUSTOM_ELEMENT_HANDLING || {}, J.CUSTOM_ELEMENT_HANDLING && jb(J.CUSTOM_ELEMENT_HANDLING.tagNameCheck) && (Y.tagNameCheck = J.CUSTOM_ELEMENT_HANDLING.tagNameCheck), J.CUSTOM_ELEMENT_HANDLING && jb(J.CUSTOM_ELEMENT_HANDLING.attributeNameCheck) && (Y.attributeNameCheck = J.CUSTOM_ELEMENT_HANDLING.attributeNameCheck), J.CUSTOM_ELEMENT_HANDLING && typeof J.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements == "boolean" && (Y.allowCustomizedBuiltInElements = J.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements), le && (L = !1), De && (B = !0), we && (O = wt({}, Ww), re = [], we.html === !0 && (wt(O, Hw), wt(re, Gw)), we.svg === !0 && (wt(O, mg), wt(re, fg), wt(re, mh)), we.svgFilters === !0 && (wt(O, hg), wt(re, fg), wt(re, mh)), we.mathMl === !0 && (wt(O, pg), wt(re, Kw), wt(re, mh))), J.ADD_TAGS && (O === M && (O = qa(O)), wt(O, J.ADD_TAGS, ms)), J.ADD_ATTR && (re === ue && (re = qa(re)), wt(re, J.ADD_ATTR, ms)), J.ADD_URI_SAFE_ATTR && wt(Pt, J.ADD_URI_SAFE_ATTR, ms), J.FORBID_CONTENTS && (be === se && (be = qa(be)), wt(be, J.FORBID_CONTENTS, ms)), X && (O["#text"] = !0), pe && wt(O, ["html", "head", "body"]), O.table && (wt(O, ["tbody"]), delete he.tbody), J.TRUSTED_TYPES_POLICY) {
                    if (typeof J.TRUSTED_TYPES_POLICY.createHTML != "function")
                        throw bd('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');
                    if (typeof J.TRUSTED_TYPES_POLICY.createScriptURL != "function")
                        throw bd('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');
                    N = J.TRUSTED_TYPES_POLICY,
                    w = N.createHTML("")
                } else
                    N === void 0 && (N = i$(j, a)),
                    N !== null && typeof w == "string" && (w = N.createHTML(""));
                Er && Er(J),
                Da = J
            }
        },
        bb = wt({}, [...mg, ...hg, ...Y8]),
        Nb = wt({}, [...pg, ...Q8]),
        pI = function(J) {
            let Pe = b(J);
            (!Pe || !Pe.tagName) && (Pe = {
                namespaceURI: Lt,
                tagName: "template"
            });
            const Ke = Lh(J.tagName),
                Yt = Lh(Pe.tagName);
            return Eo[J.namespaceURI] ? J.namespaceURI === ve ? Pe.namespaceURI === mt ? Ke === "svg" : Pe.namespaceURI === Zr ? Ke === "svg" && (Yt === "annotation-xml" || ko[Yt]) : !!bb[Ke] : J.namespaceURI === Zr ? Pe.namespaceURI === mt ? Ke === "math" : Pe.namespaceURI === ve ? Ke === "math" && El[Yt] : !!Nb[Ke] : J.namespaceURI === mt ? Pe.namespaceURI === ve && !El[Yt] || Pe.namespaceURI === Zr && !ko[Yt] ? !1 : !Nb[Ke] && (Dm[Ke] || !bb[Ke]) : !!(Si === "application/xhtml+xml" && Eo[J.namespaceURI]) : !1
        },
        ia = function(J) {
            yd(s.removed, {
                element: J
            });
            try {
                b(J).removeChild(J)
            } catch {
                y(J)
            }
        },
        kl = function(J, Pe) {
            try {
                yd(s.removed, {
                    attribute: Pe.getAttributeNode(J),
                    from: Pe
                })
            } catch {
                yd(s.removed, {
                    attribute: null,
                    from: Pe
                })
            }
            if (Pe.removeAttribute(J), J === "is")
                if (B || De)
                    try {
                        ia(Pe)
                    } catch {}
                else
                    try {
                        Pe.setAttribute(J, "")
                    } catch {}
        },
        wb = function(J) {
            let Pe = null,
                Ke = null;
            if (dt)
                J = "<remove></remove>" + J;
            else {
                const Is = Bw(J, /^[\r\n\t ]+/);
                Ke = Is && Is[0]
            }
            Si === "application/xhtml+xml" && Lt === mt && (J = '<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>' + J + "</body></html>");
            const Yt = N ? N.createHTML(J) : J;
            if (Lt === mt)
                try {
                    Pe = new p().parseFromString(Yt, Si)
                } catch {}
            if (!Pe || !Pe.documentElement) {
                Pe = C.createDocument(Lt, "template", null);
                try {
                    Pe.documentElement.innerHTML = Mn ? w : Yt
                } catch {}
            }
            const sr = Pe.body || Pe.documentElement;
            return J && Ke && sr.insertBefore(r.createTextNode(Ke), sr.childNodes[0] || null), Lt === mt ? R.call(Pe, pe ? "html" : "body")[0] : pe ? Pe.documentElement : sr
        },
        Cb = function(J) {
            return E.call(J.ownerDocument || J, J, d.SHOW_ELEMENT | d.SHOW_COMMENT | d.SHOW_TEXT | d.SHOW_PROCESSING_INSTRUCTION | d.SHOW_CDATA_SECTION, null)
        },
        yx = function(J) {
            return J instanceof m && (typeof J.nodeName != "string" || typeof J.textContent != "string" || typeof J.removeChild != "function" || !(J.attributes instanceof u) || typeof J.removeAttribute != "function" || typeof J.setAttribute != "function" || typeof J.namespaceURI != "string" || typeof J.insertBefore != "function" || typeof J.hasChildNodes != "function")
        },
        Sb = function(J) {
            return typeof l == "function" && J instanceof l
        };
    function Oa(Qe, J, Pe) {
        uh(Qe, Ke => {
            Ke.call(s, J, Pe, Da)
        })
    }
    const Eb = function(J) {
            let Pe = null;
            if (Oa(z.beforeSanitizeElements, J, null), yx(J))
                return ia(J), !0;
            const Ke = ms(J.nodeName);
            if (Oa(z.uponSanitizeElement, J, {
                tagName: Ke,
                allowedTags: O
            }), Se && J.hasChildNodes() && !Sb(J.firstElementChild) && fr(/<[/\w!]/g, J.innerHTML) && fr(/<[/\w!]/g, J.textContent) || J.nodeType === wd.progressingInstruction || Se && J.nodeType === wd.comment && fr(/<[/\w]/g, J.data))
                return ia(J), !0;
            if (!O[Ke] || he[Ke]) {
                if (!he[Ke] && Pb(Ke) && (Y.tagNameCheck instanceof RegExp && fr(Y.tagNameCheck, Ke) || Y.tagNameCheck instanceof Function && Y.tagNameCheck(Ke)))
                    return !1;
                if (X && !be[Ke]) {
                    const Yt = b(J) || J.parentNode,
                        sr = f(J) || J.childNodes;
                    if (sr && Yt) {
                        const Is = sr.length;
                        for (let Mr = Is - 1; Mr >= 0; --Mr) {
                            const La = x(sr[Mr], !0);
                            La.__removalCount = (J.__removalCount || 0) + 1,
                            Yt.insertBefore(La, v(J))
                        }
                    }
                }
                return ia(J), !0
            }
            return J instanceof c && !pI(J) || (Ke === "noscript" || Ke === "noembed" || Ke === "noframes") && fr(/<\/no(script|embed|frames)/i, J.innerHTML) ? (ia(J), !0) : (le && J.nodeType === wd.text && (Pe = J.textContent, uh([A, $, G], Yt => {
                Pe = jd(Pe, Yt, " ")
            }), J.textContent !== Pe && (yd(s.removed, {
                element: J.cloneNode()
            }), J.textContent = Pe)), Oa(z.afterSanitizeElements, J, null), !1)
        },
        kb = function(J, Pe, Ke) {
            if (At && (Pe === "id" || Pe === "name") && (Ke in r || Ke in gx))
                return !1;
            if (!(L && !D[Pe] && fr(F, Pe))) {
                if (!(K && fr(_, Pe))) {
                    if (!re[Pe] || D[Pe]) {
                        if (!(Pb(J) && (Y.tagNameCheck instanceof RegExp && fr(Y.tagNameCheck, J) || Y.tagNameCheck instanceof Function && Y.tagNameCheck(J)) && (Y.attributeNameCheck instanceof RegExp && fr(Y.attributeNameCheck, Pe) || Y.attributeNameCheck instanceof Function && Y.attributeNameCheck(Pe)) || Pe === "is" && Y.allowCustomizedBuiltInElements && (Y.tagNameCheck instanceof RegExp && fr(Y.tagNameCheck, Ke) || Y.tagNameCheck instanceof Function && Y.tagNameCheck(Ke))))
                            return !1
                    } else if (!Pt[Pe]) {
                        if (!fr(oe, jd(Ke, I, ""))) {
                            if (!((Pe === "src" || Pe === "xlink:href" || Pe === "href") && J !== "script" && H8(Ke, "data:") === 0 && je[J])) {
                                if (!(ee && !fr(S, jd(Ke, I, "")))) {
                                    if (Ke)
                                        return !1
                                }
                            }
                        }
                    }
                }
            }
            return !0
        },
        Pb = function(J) {
            return J !== "annotation-xml" && Bw(J, W)
        },
        _b = function(J) {
            Oa(z.beforeSanitizeAttributes, J, null);
            const {attributes: Pe} = J;
            if (!Pe || yx(J))
                return;
            const Ke = {
                attrName: "",
                attrValue: "",
                keepAttr: !0,
                allowedAttributes: re,
                forceKeepAttr: void 0
            };
            let Yt = Pe.length;
            for (; Yt--;) {
                const sr = Pe[Yt],
                    {name: Is, namespaceURI: Mr, value: La} = sr,
                    ld = ms(Is),
                    jx = La;
                let rr = Is === "value" ? jx : W8(jx);
                if (Ke.attrName = ld, Ke.attrValue = rr, Ke.keepAttr = !0, Ke.forceKeepAttr = void 0, Oa(z.uponSanitizeAttribute, J, Ke), rr = Ke.attrValue, Mt && (ld === "id" || ld === "name") && (kl(Is, J), rr = P + rr), Se && fr(/((--!?|])>)|<\/(style|title)/i, rr)) {
                    kl(Is, J);
                    continue
                }
                if (Ke.forceKeepAttr)
                    continue;
                if (!Ke.keepAttr) {
                    kl(Is, J);
                    continue
                }
                if (!ce && fr(/\/>/i, rr)) {
                    kl(Is, J);
                    continue
                }
                le && uh([A, $, G], Ab => {
                    rr = jd(rr, Ab, " ")
                });
                const Tb = ms(J.nodeName);
                if (!kb(Tb, ld, rr)) {
                    kl(Is, J);
                    continue
                }
                if (N && typeof j == "object" && typeof j.getAttributeType == "function" && !Mr)
                    switch (j.getAttributeType(Tb, ld)) {
                    case "TrustedHTML":
                        {
                            rr = N.createHTML(rr);
                            break
                        }case "TrustedScriptURL":
                        {
                            rr = N.createScriptURL(rr);
                            break
                        }
                    }
                if (rr !== jx)
                    try {
                        Mr ? J.setAttributeNS(Mr, Is, rr) : J.setAttribute(Is, rr),
                        yx(J) ? ia(J) : qw(s.removed)
                    } catch {
                        kl(Is, J)
                    }
            }
            Oa(z.afterSanitizeAttributes, J, null)
        },
        fI = function Qe(J) {
            let Pe = null;
            const Ke = Cb(J);
            for (Oa(z.beforeSanitizeShadowDOM, J, null); Pe = Ke.nextNode();)
                Oa(z.uponSanitizeShadowNode, Pe, null),
                Eb(Pe),
                _b(Pe),
                Pe.content instanceof i && Qe(Pe.content);
            Oa(z.afterSanitizeShadowDOM, J, null)
        };
    return s.sanitize = function(Qe) {
        let J = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {},
            Pe = null,
            Ke = null,
            Yt = null,
            sr = null;
        if (Mn = !Qe, Mn && (Qe = "<!-->"), typeof Qe != "string" && !Sb(Qe))
            if (typeof Qe.toString == "function") {
                if (Qe = Qe.toString(), typeof Qe != "string")
                    throw bd("dirty is not a string, aborting")
            } else
                throw bd("toString is not a function");
        if (!s.isSupported)
            return Qe;
        if (_e || vx(J), s.removed = [], typeof Qe == "string" && (ie = !1), ie) {
            if (Qe.nodeName) {
                const La = ms(Qe.nodeName);
                if (!O[La] || he[La])
                    throw bd("root node is forbidden and cannot be sanitized in-place")
            }
        } else if (Qe instanceof l)
            Pe = wb("<!---->"),
            Ke = Pe.ownerDocument.importNode(Qe, !0),
            Ke.nodeType === wd.element && Ke.nodeName === "BODY" || Ke.nodeName === "HTML" ? Pe = Ke : Pe.appendChild(Ke);
        else {
            if (!B && !le && !pe && Qe.indexOf("<") === -1)
                return N && vt ? N.createHTML(Qe) : Qe;
            if (Pe = wb(Qe), !Pe)
                return B ? null : vt ? w : ""
        }
        Pe && dt && ia(Pe.firstChild);
        const Is = Cb(ie ? Qe : Pe);
        for (; Yt = Is.nextNode();)
            Eb(Yt),
            _b(Yt),
            Yt.content instanceof i && fI(Yt.content);
        if (ie)
            return Qe;
        if (B) {
            if (De)
                for (sr = k.call(Pe.ownerDocument); Pe.firstChild;)
                    sr.appendChild(Pe.firstChild);
            else
                sr = Pe;
            return (re.shadowroot || re.shadowrootmode) && (sr = H.call(n, sr, !0)), sr
        }
        let Mr = pe ? Pe.outerHTML : Pe.innerHTML;
        return pe && O["!doctype"] && Pe.ownerDocument && Pe.ownerDocument.doctype && Pe.ownerDocument.doctype.name && fr(YP, Pe.ownerDocument.doctype.name) && (Mr = "<!DOCTYPE " + Pe.ownerDocument.doctype.name + `>
`
        + Mr), le && uh([A, $, G], La => {
            Mr = jd(Mr, La, " ")
        }), N && vt ? N.createHTML(Mr) : Mr
    }, s.setConfig = function() {
        let Qe = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
        vx(Qe),
        _e = !0
    }, s.clearConfig = function() {
        Da = null,
        _e = !1
    }, s.isValidAttribute = function(Qe, J, Pe) {
        Da || vx({});
        const Ke = ms(Qe),
            Yt = ms(J);
        return kb(Ke, Yt, Pe)
    }, s.addHook = function(Qe, J) {
        typeof J == "function" && yd(z[Qe], J)
    }, s.removeHook = function(Qe, J) {
        if (J !== void 0) {
            const Pe = q8(z[Qe], J);
            return Pe === -1 ? void 0 : B8(z[Qe], Pe, 1)[0]
        }
        return qw(z[Qe])
    }, s.removeHooks = function(Qe) {
        z[Qe] = []
    }, s.removeAllHooks = function() {
        z = Qw()
    }, s
}
var di = QP();
const o$ = () => {
        const [t, s] = h.useState({}),
            {data: r} = Te({
                queryKey: ["/api/cms/footer-blocks"],
                queryFn: () => fetch("/api/cms/footer-blocks").then(d => d.json()),
                staleTime: 5 * 60 * 1e3
            }),
            {data: n} = Te({
                queryKey: ["/api/cms/settings"],
                queryFn: () => fetch("/api/cms/settings").then(d => d.json()),
                staleTime: 5 * 60 * 1e3
            }),
            a = d => {
                if (!n)
                    return "";
                const u = n.find(m => m.key === d);
                return u ? u.value : ""
            },
            i = d => {
                s(u => ({
                    ...u,
                    [d]: !u[d]
                }))
            },
            o = d => {
                d.startsWith("/") && setTimeout(() => {
                    window.scrollTo({
                        top: 0,
                        behavior: "smooth"
                    })
                }, 100)
            },
            l = (d, u=!1) => {
                const m = t[`block-${d.id}`] || !1,
                    p = `block-${d.id}`,
                    j = () => {
                        var g;
                        switch (d.blockType) {
                        case "contact":
                            return e.jsx("div", {
                                className: "text-sm",
                                dangerouslySetInnerHTML: {
                                    __html: di.sanitize(d.content, {
                                        ALLOWED_TAGS: ["p", "br", "strong", "em", "a", "div", "span"],
                                        ALLOWED_ATTR: ["href", "target", "rel"]
                                    })
                                }
                            });
                        case "hours":
                            return e.jsx("div", {
                                className: "text-sm",
                                dangerouslySetInnerHTML: {
                                    __html: di.sanitize(d.content, {
                                        ALLOWED_TAGS: ["p", "br", "strong", "em", "a", "div", "span"],
                                        ALLOWED_ATTR: ["href", "target", "rel"]
                                    })
                                }
                            });
                        case "links":
                            try {
                                const x = JSON.parse(d.content);
                                return e.jsx("ul", {
                                    className: "space-y-2 text-sm",
                                    children: (g = x.links) == null ? void 0 : g.map((y, v) => e.jsx("li", {
                                        children: e.jsx(ze, {
                                            href: y.url,
                                            className: "hover:text-secondary transition-colors",
                                            onClick: () => o(y.url),
                                            children: y.text
                                        })
                                    }, v))
                                })
                            } catch {
                                return null
                            }
                        case "text":
                            return e.jsx("div", {
                                className: "text-sm",
                                dangerouslySetInnerHTML: {
                                    __html: di.sanitize(d.content, {
                                        ALLOWED_TAGS: ["p", "br", "strong", "em", "a", "div", "span"],
                                        ALLOWED_ATTR: ["href", "target", "rel"]
                                    })
                                }
                            });
                        case "social":
                            return e.jsxs(e.Fragment, {
                                children: [e.jsx("p", {
                                    className: "mb-4 text-sm",
                                    children: "Suscríbase a nuestro boletín para recibir actualizaciones y ofertas especiales."
                                }), e.jsx("form", {
                                    className: "mb-4",
                                    onSubmit: x => x.preventDefault(),
                                    children: e.jsxs("div", {
                                        className: "flex gap-2 sm:gap-0",
                                        children: [e.jsx(te, {
                                            type: "email",
                                            placeholder: "Su correo electrónico",
                                            className: "sm:rounded-r-none bg-white text-black text-sm"
                                        }), e.jsx(T, {
                                            type: "submit",
                                            className: "bg-secondary hover:bg-secondary/90 sm:rounded-l-none px-3",
                                            size: "sm",
                                            children: e.jsx($O, {
                                                size: 16
                                            })
                                        })]
                                    })
                                }), e.jsx("p", {
                                    className: "text-sm",
                                    children: "Al suscribirse, acepta nuestra política de privacidad."
                                }), e.jsxs("div", {
                                    className: "flex space-x-4 mt-4",
                                    children: [e.jsx("a", {
                                        href: "https://facebook.com",
                                        target: "_blank",
                                        rel: "noopener noreferrer",
                                        className: "text-white hover:text-secondary transition-colors",
                                        "aria-label": "Facebook",
                                        children: e.jsx(PO, {
                                            size: 20
                                        })
                                    }), e.jsx("a", {
                                        href: "https://twitter.com",
                                        target: "_blank",
                                        rel: "noopener noreferrer",
                                        className: "text-white hover:text-secondary transition-colors",
                                        "aria-label": "Twitter",
                                        children: e.jsx(GO, {
                                            size: 20
                                        })
                                    }), e.jsx("a", {
                                        href: "https://instagram.com",
                                        target: "_blank",
                                        rel: "noopener noreferrer",
                                        className: "text-white hover:text-secondary transition-colors",
                                        "aria-label": "Instagram",
                                        children: e.jsx(IO, {
                                            size: 20
                                        })
                                    }), e.jsx("a", {
                                        href: "https://youtube.com",
                                        target: "_blank",
                                        rel: "noopener noreferrer",
                                        className: "text-white hover:text-secondary transition-colors",
                                        "aria-label": "Youtube",
                                        children: e.jsx(XO, {
                                            size: 20
                                        })
                                    })]
                                })]
                            });
                        default:
                            return null
                        }
                    };
                return u ? e.jsxs("div", {
                    className: "border-b border-gray-700 pb-4",
                    children: [e.jsxs("button", {
                        onClick: () => i(p),
                        className: "w-full flex justify-between items-center py-2 text-left",
                        children: [e.jsx("h3", {
                            className: "text-lg font-montserrat font-semibold",
                            children: d.title
                        }), m ? e.jsx(Ev, {
                            size: 20
                        }) : e.jsx(rl, {
                            size: 20
                        })]
                    }), m && e.jsx("div", {
                        className: "mt-4 pb-2 text-sm",
                        children: j()
                    })]
                }, d.id) : e.jsxs("div", {
                    children: [e.jsx("h3", {
                        className: "text-xl font-montserrat font-semibold mb-4",
                        children: d.title
                    }), j()]
                }, d.id)
            },
            c = (d=!1) => {
                const u = t["company-info"] || !1,
                    m = "company-info";
                return d ? e.jsxs("div", {
                    className: "border-b border-gray-700 pb-4",
                    children: [e.jsxs("button", {
                        onClick: () => i(m),
                        className: "w-full flex justify-between items-center py-2 text-left",
                        children: [e.jsx("h3", {
                            className: "text-lg font-montserrat font-semibold",
                            children: a("site_name") || "Desguace Murcia"
                        }), u ? e.jsx(Ev, {
                            size: 20
                        }) : e.jsx(rl, {
                            size: 20
                        })]
                    }), u && e.jsx("div", {
                        className: "mt-4 pb-2",
                        children: e.jsx("p", {
                            className: "text-sm",
                            children: a("site_description") || "Su proveedor de confianza para piezas de automóviles de calidad y garantía."
                        })
                    })]
                }) : e.jsxs("div", {
                    children: [e.jsx("h3", {
                        className: "text-xl font-montserrat font-semibold mb-4",
                        children: a("site_name") || "Desguace Murcia"
                    }), e.jsx("p", {
                        className: "mb-4 text-sm",
                        children: a("site_description") || "Su proveedor de confianza para piezas de automóviles de calidad y garantía."
                    })]
                })
            };
        return e.jsx("footer", {
            className: "bg-primary text-white pt-12 pb-6",
            children: e.jsxs("div", {
                className: "container mx-auto px-4",
                children: [e.jsxs("div", {
                    className: "block sm:hidden space-y-4 mb-8",
                    children: [c(!0), r == null ? void 0 : r.map(d => l(d, !0))]
                }), e.jsxs("div", {
                    className: "hidden sm:grid grid-cols-2 lg:grid-cols-5 gap-6 sm:gap-8 mb-8 sm:mb-10",
                    children: [c(!1), r == null ? void 0 : r.map(d => l(d, !1))]
                }), e.jsx("div", {
                    className: "border-t border-gray-700 pt-4 sm:pt-6",
                    children: e.jsxs("div", {
                        className: "flex flex-col sm:flex-row justify-between items-center gap-4",
                        children: [e.jsxs("p", {
                            className: "text-xs sm:text-sm mb-2 sm:mb-0 text-center sm:text-left",
                            children: ["© ", new Date().getFullYear(), " ", a("site_name") || "Desguace Murcia", ". Todos los derechos reservados."]
                        }), e.jsxs("div", {
                            className: "flex flex-wrap justify-center sm:justify-end gap-3 sm:gap-4",
                            children: [e.jsx(ze, {
                                href: "/aviso-legal",
                                className: "text-xs sm:text-sm hover:text-secondary",
                                onClick: () => o("/aviso-legal"),
                                children: "Aviso Legal"
                            }), e.jsx(ze, {
                                href: "/politica-privacidad",
                                className: "text-xs sm:text-sm hover:text-secondary",
                                onClick: () => o("/politica-privacidad"),
                                children: "Política de Privacidad"
                            }), e.jsx(ze, {
                                href: "/politica-cookies",
                                className: "text-xs sm:text-sm hover:text-secondary",
                                onClick: () => o("/politica-cookies"),
                                children: "Política de Cookies"
                            })]
                        })]
                    })
                })]
            })
        })
    },
    l$ = Zc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground", {
        variants: {
            variant: {
                default: "bg-background text-foreground",
                destructive: "border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"
            }
        },
        defaultVariants: {
            variant: "default"
        }
    }),
    cr = h.forwardRef(({className: t, variant: s, ...r}, n) => e.jsx("div", {
        ref: n,
        role: "alert",
        className: me(l$({
            variant: s
        }), t),
        ...r
    }));
cr.displayName = "Alert";
const Qi = h.forwardRef(({className: t, ...s}, r) => e.jsx("h5", {
    ref: r,
    className: me("mb-1 font-medium leading-none tracking-tight", t),
    ...s
}));
Qi.displayName = "AlertTitle";
const dr = h.forwardRef(({className: t, ...s}, r) => e.jsx("div", {
    ref: r,
    className: me("text-sm [&_p]:leading-relaxed", t),
    ...s
}));
dr.displayName = "AlertDescription";
const c$ = () => {
        const {user: t} = Ts(),
            s = (t == null ? void 0 : t.isAdmin) === !0,
            {data: r, isLoading: n} = Te({
                queryKey: ["/api/maintenance/config"],
                enabled: s,
                refetchInterval: 6e4
            });
        return !s || n || !(r != null && r.maintenanceMode) ? null : e.jsx(cr, {
            variant: "warning",
            className: "rounded-none border-l-0 border-r-0 border-t-0 border-b border-amber-500 bg-amber-50",
            children: e.jsxs("div", {
                className: "flex items-center justify-between w-full",
                children: [e.jsxs("div", {
                    className: "flex items-center",
                    children: [e.jsx(zs, {
                        className: "h-4 w-4 text-amber-600 mr-2"
                    }), e.jsxs(dr, {
                        className: "text-amber-700 font-medium",
                        children: ["El sitio está en modo mantenimiento.", r.maintenanceMessage && e.jsxs("span", {
                            className: "ml-1",
                            children: ["Mensaje: ", r.maintenanceMessage]
                        })]
                    })]
                }), r.estimatedTime && e.jsxs("div", {
                    className: "flex items-center text-amber-700 text-sm",
                    children: [e.jsx(Bs, {
                        className: "h-3 w-3 mr-1"
                    }), e.jsxs("span", {
                        children: ["Tiempo estimado: ", r.estimatedTime]
                    })]
                })]
            })
        })
    },
    d$ = "modulepreload",
    u$ = function(t) {
        return "/" + t
    },
    Zw = {},
    Pu = function(s, r, n) {
        let a = Promise.resolve();
        if (r && r.length > 0) {
            document.getElementsByTagName("link");
            const o = document.querySelector("meta[property=csp-nonce]"),
                l = (o == null ? void 0 : o.nonce) || (o == null ? void 0 : o.getAttribute("nonce"));
            a = Promise.allSettled(r.map(c => {
                if (c = u$(c), c in Zw)
                    return;
                Zw[c] = !0;
                const d = c.endsWith(".css"),
                    u = d ? '[rel="stylesheet"]' : "";
                if (document.querySelector(`link[href="${c}"]${u}`))
                    return;
                const m = document.createElement("link");
                if (m.rel = d ? "stylesheet" : d$, d || (m.as = "script"), m.crossOrigin = "", m.href = c, l && m.setAttribute("nonce", l), document.head.appendChild(m), d)
                    return new Promise((p, j) => {
                        m.addEventListener("load", p),
                        m.addEventListener("error", () => j(new Error(`Unable to preload CSS for ${c}`)))
                    })
            }))
        }
        function i(o) {
            const l = new Event("vite:preloadError", {
                cancelable: !0
            });
            if (l.payload = o, window.dispatchEvent(l), !l.defaultPrevented)
                throw o
        }
        return a.then(o => {
            for (const l of o || [])
                l.status === "rejected" && i(l.reason);
            return s().catch(i)
        })
    };
function jm(t, s, r) {
    if (typeof window > "u")
        return;
    document.title = t;
    let n = document.querySelector('meta[name="description"]');
    if (n || (n = document.createElement("meta"), n.setAttribute("name", "description"), document.head.appendChild(n)), n.setAttribute("content", s), r) {
        let o = document.querySelector('meta[name="keywords"]');
        o || (o = document.createElement("meta"), o.setAttribute("name", "keywords"), document.head.appendChild(o)),
        o.setAttribute("content", r)
    }
    let a = document.querySelector('meta[property="og:title"]');
    a || (a = document.createElement("meta"), a.setAttribute("property", "og:title"), document.head.appendChild(a)),
    a.setAttribute("content", t);
    let i = document.querySelector('meta[property="og:description"]');
    i || (i = document.createElement("meta"), i.setAttribute("property", "og:description"), document.head.appendChild(i)),
    i.setAttribute("content", s)
}
function m$() {
    jm("Desguace Murcia - Repuestos Originales Vehículos | Garantía 3 Meses", "Desguace especializado en repuestos originales de vehículos en Murcia. Más de 120.000 piezas disponibles con garantía de 3 meses. Envíos a toda España.", "desguace murcia, repuestos coches, piezas vehículos, recambios originales, garantía")
}
function h$() {
    jm("Catálogo de Piezas y Repuestos de Vehículos | Desguace Murcia", "Amplio catálogo de piezas y repuestos de vehículos. Más de 120.000 recambios originales disponibles con garantía. Búsqueda por marca, modelo y categoría.", "catálogo piezas, repuestos vehículos, recambios coches, piezas originales")
}
function p$() {
    jm("Catálogo de Vehículos Desguazados | Desguace Murcia", "Vehículos desguazados disponibles para extracción de piezas. Consulta nuestro inventario actualizado de coches con piezas disponibles.", "vehículos desguazados, coches desguace, inventario vehículos, piezas disponibles")
}
function f$() {
    jm("Contacto - Desguace Murcia | Teléfono 958 79 08 58", "Contacta con Desguace Murcia. Teléfono 958 79 08 58. Solicita presupuesto para repuestos de vehículos. Atención personalizada y envíos a toda España.", "contacto desguace murcia, teléfono repuestos, presupuesto piezas")
}
function x$() {
    jm("Tasamos tu Vehículo - Venta de Coches | Desguace Murcia", "Tasación gratuita de tu vehículo en Desguace Murcia. Compramos coches en cualquier estado. Valoración rápida y pago inmediato.", "tasación vehículo, venta coche, compra coches, valoración gratuita")
}
var j0 = "Tabs",
    [g$, QQ] = ws(j0, [rd]),
    ZP = rd(),
    [v$, b0] = g$(j0),
    XP = h.forwardRef((t, s) => {
        const {__scopeTabs: r, value: n, onValueChange: a, defaultValue: i, orientation: o="horizontal", dir: l, activationMode: c="automatic", ...d} = t,
            u = Nl(l),
            [m, p] = Yr({
                prop: n,
                onChange: a,
                defaultProp: i
            });
        return e.jsx(v$, {
            scope: r,
            baseId: cn(),
            value: m,
            onValueChange: p,
            orientation: o,
            dir: u,
            activationMode: c,
            children: e.jsx(Oe.div, {
                dir: u,
                "data-orientation": o,
                ...d,
                ref: s
            })
        })
    });
XP.displayName = j0;
var JP = "TabsList",
    e_ = h.forwardRef((t, s) => {
        const {__scopeTabs: r, loop: n=!0, ...a} = t,
            i = b0(JP, r),
            o = ZP(r);
        return e.jsx(c0, {
            asChild: !0,
            ...o,
            orientation: i.orientation,
            dir: i.dir,
            loop: n,
            children: e.jsx(Oe.div, {
                role: "tablist",
                "aria-orientation": i.orientation,
                ...a,
                ref: s
            })
        })
    });
e_.displayName = JP;
var t_ = "TabsTrigger",
    s_ = h.forwardRef((t, s) => {
        const {__scopeTabs: r, value: n, disabled: a=!1, ...i} = t,
            o = b0(t_, r),
            l = ZP(r),
            c = a_(o.baseId, n),
            d = i_(o.baseId, n),
            u = n === o.value;
        return e.jsx(d0, {
            asChild: !0,
            ...l,
            focusable: !a,
            active: u,
            children: e.jsx(Oe.button, {
                type: "button",
                role: "tab",
                "aria-selected": u,
                "aria-controls": d,
                "data-state": u ? "active" : "inactive",
                "data-disabled": a ? "" : void 0,
                disabled: a,
                id: c,
                ...i,
                ref: s,
                onMouseDown: Ne(t.onMouseDown, m => {
                    !a && m.button === 0 && m.ctrlKey === !1 ? o.onValueChange(n) : m.preventDefault()
                }),
                onKeyDown: Ne(t.onKeyDown, m => {
                    [" ", "Enter"].includes(m.key) && o.onValueChange(n)
                }),
                onFocus: Ne(t.onFocus, () => {
                    const m = o.activationMode !== "manual";
                    !u && !a && m && o.onValueChange(n)
                })
            })
        })
    });
s_.displayName = t_;
var r_ = "TabsContent",
    n_ = h.forwardRef((t, s) => {
        const {__scopeTabs: r, value: n, forceMount: a, children: i, ...o} = t,
            l = b0(r_, r),
            c = a_(l.baseId, n),
            d = i_(l.baseId, n),
            u = n === l.value,
            m = h.useRef(u);
        return h.useEffect(() => {
            const p = requestAnimationFrame(() => m.current = !1);
            return () => cancelAnimationFrame(p)
        }, []), e.jsx(_s, {
            present: a || u,
            children: ({present: p}) => e.jsx(Oe.div, {
                "data-state": u ? "active" : "inactive",
                "data-orientation": l.orientation,
                role: "tabpanel",
                "aria-labelledby": c,
                hidden: !p,
                id: d,
                tabIndex: 0,
                ...o,
                ref: s,
                style: {
                    ...t.style,
                    animationDuration: m.current ? "0s" : void 0
                },
                children: p && i
            })
        })
    });
n_.displayName = r_;
function a_(t, s) {
    return `${t}-trigger-${s}`
}
function i_(t, s) {
    return `${t}-content-${s}`
}
var y$ = XP,
    o_ = e_,
    l_ = s_,
    c_ = n_;
const ls = y$,
    es = h.forwardRef(({className: t, ...s}, r) => e.jsx(o_, {
        ref: r,
        className: me("inline-flex h-12 items-center justify-center rounded-full bg-muted p-1 text-muted-foreground", t),
        ...s
    }));
es.displayName = o_.displayName;
const Ue = h.forwardRef(({className: t, ...s}, r) => e.jsx(l_, {
    ref: r,
    className: me("inline-flex items-center justify-center whitespace-nowrap rounded-full px-4 py-2 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-sm hover:bg-primary/90 hover:text-primary-foreground", t),
    ...s
}));
Ue.displayName = l_.displayName;
const $e = h.forwardRef(({className: t, ...s}, r) => e.jsx(c_, {
    ref: r,
    className: me("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2", t),
    ...s
}));
$e.displayName = c_.displayName;
function j$(t) {
    return Object.prototype.toString.call(t) === "[object Object]"
}
function Xw(t) {
    return j$(t) || Array.isArray(t)
}
function b$() {
    return !!(typeof window < "u" && window.document && window.document.createElement)
}
function N0(t, s) {
    const r = Object.keys(t),
        n = Object.keys(s);
    if (r.length !== n.length)
        return !1;
    const a = JSON.stringify(Object.keys(t.breakpoints || {})),
        i = JSON.stringify(Object.keys(s.breakpoints || {}));
    return a !== i ? !1 : r.every(o => {
        const l = t[o],
            c = s[o];
        return typeof l == "function" ? `${l}` == `${c}` : !Xw(l) || !Xw(c) ? l === c : N0(l, c)
    })
}
function Jw(t) {
    return t.concat().sort((s, r) => s.name > r.name ? 1 : -1).map(s => s.options)
}
function N$(t, s) {
    if (t.length !== s.length)
        return !1;
    const r = Jw(t),
        n = Jw(s);
    return r.every((a, i) => {
        const o = n[i];
        return N0(a, o)
    })
}
function w0(t) {
    return typeof t == "number"
}
function ry(t) {
    return typeof t == "string"
}
function Wf(t) {
    return typeof t == "boolean"
}
function e1(t) {
    return Object.prototype.toString.call(t) === "[object Object]"
}
function as(t) {
    return Math.abs(t)
}
function C0(t) {
    return Math.sign(t)
}
function Xd(t, s) {
    return as(t - s)
}
function w$(t, s) {
    if (t === 0 || s === 0 || as(t) <= as(s))
        return 0;
    const r = Xd(as(t), as(s));
    return as(r / t)
}
function C$(t) {
    return Math.round(t * 100) / 100
}
function _u(t) {
    return Tu(t).map(Number)
}
function Yn(t) {
    return t[bm(t)]
}
function bm(t) {
    return Math.max(0, t.length - 1)
}
function S0(t, s) {
    return s === bm(t)
}
function t1(t, s=0) {
    return Array.from(Array(t), (r, n) => s + n)
}
function Tu(t) {
    return Object.keys(t)
}
function d_(t, s) {
    return [t, s].reduce((r, n) => (Tu(n).forEach(a => {
        const i = r[a],
            o = n[a],
            l = e1(i) && e1(o);
        r[a] = l ? d_(i, o) : o
    }), r), {})
}
function ny(t, s) {
    return typeof s.MouseEvent < "u" && t instanceof s.MouseEvent
}
function S$(t, s) {
    const r = {
        start: n,
        center: a,
        end: i
    };
    function n() {
        return 0
    }
    function a(c) {
        return i(c) / 2
    }
    function i(c) {
        return s - c
    }
    function o(c, d) {
        return ry(t) ? r[t](c) : t(s, c, d)
    }
    return {
        measure: o
    }
}
function Au() {
    let t = [];
    function s(a, i, o, l={
        passive: !0
    }) {
        let c;
        if ("addEventListener" in a)
            a.addEventListener(i, o, l),
            c = () => a.removeEventListener(i, o, l);
        else {
            const d = a;
            d.addListener(o),
            c = () => d.removeListener(o)
        }
        return t.push(c), n
    }
    function r() {
        t = t.filter(a => a())
    }
    const n = {
        add: s,
        clear: r
    };
    return n
}
function E$(t, s, r, n) {
    const a = Au(),
        i = 1e3 / 60;
    let o = null,
        l = 0,
        c = 0;
    function d() {
        a.add(t, "visibilitychange", () => {
            t.hidden && g()
        })
    }
    function u() {
        j(),
        a.clear()
    }
    function m(y) {
        if (!c)
            return;
        o || (o = y, r(), r());
        const v = y - o;
        for (o = y, l += v; l >= i;)
            r(),
            l -= i;
        const f = l / i;
        n(f),
        c && (c = s.requestAnimationFrame(m))
    }
    function p() {
        c || (c = s.requestAnimationFrame(m))
    }
    function j() {
        s.cancelAnimationFrame(c),
        o = null,
        l = 0,
        c = 0
    }
    function g() {
        o = null,
        l = 0
    }
    return {
        init: d,
        destroy: u,
        start: p,
        stop: j,
        update: r,
        render: n
    }
}
function k$(t, s) {
    const r = s === "rtl",
        n = t === "y",
        a = n ? "y" : "x",
        i = n ? "x" : "y",
        o = !n && r ? -1 : 1,
        l = u(),
        c = m();
    function d(g) {
        const {height: x, width: y} = g;
        return n ? x : y
    }
    function u() {
        return n ? "top" : r ? "right" : "left"
    }
    function m() {
        return n ? "bottom" : r ? "left" : "right"
    }
    function p(g) {
        return g * o
    }
    return {
        scroll: a,
        cross: i,
        startEdge: l,
        endEdge: c,
        measureSize: d,
        direction: p
    }
}
function cl(t=0, s=0) {
    const r = as(t - s);
    function n(d) {
        return d < t
    }
    function a(d) {
        return d > s
    }
    function i(d) {
        return n(d) || a(d)
    }
    function o(d) {
        return i(d) ? n(d) ? t : s : d
    }
    function l(d) {
        return r ? d - r * Math.ceil((d - s) / r) : d
    }
    return {
        length: r,
        max: s,
        min: t,
        constrain: o,
        reachedAny: i,
        reachedMax: a,
        reachedMin: n,
        removeOffset: l
    }
}
function u_(t, s, r) {
    const {constrain: n} = cl(0, t),
        a = t + 1;
    let i = o(s);
    function o(p) {
        return r ? as((a + p) % a) : n(p)
    }
    function l() {
        return i
    }
    function c(p) {
        return i = o(p), m
    }
    function d(p) {
        return u().set(l() + p)
    }
    function u() {
        return u_(t, l(), r)
    }
    const m = {
        get: l,
        set: c,
        add: d,
        clone: u
    };
    return m
}
function P$(t, s, r, n, a, i, o, l, c, d, u, m, p, j, g, x, y, v, f) {
    const {cross: b, direction: N} = t,
        w = ["INPUT", "SELECT", "TEXTAREA"],
        C = {
            passive: !1
        },
        E = Au(),
        k = Au(),
        R = cl(50, 225).constrain(j.measure(20)),
        H = {
            mouse: 300,
            touch: 400
        },
        z = {
            mouse: 500,
            touch: 600
        },
        A = g ? 43 : 25;
    let $ = !1,
        G = 0,
        F = 0,
        _ = !1,
        S = !1,
        I = !1,
        W = !1;
    function oe(le) {
        if (!f)
            return;
        function Se(_e) {
            (Wf(f) || f(le, _e)) && he(_e)
        }
        const pe = s;
        E.add(pe, "dragstart", _e => _e.preventDefault(), C).add(pe, "touchmove", () => {}, C).add(pe, "touchend", () => {}).add(pe, "touchstart", Se).add(pe, "mousedown", Se).add(pe, "touchcancel", K).add(pe, "contextmenu", K).add(pe, "click", L, !0)
    }
    function O() {
        E.clear(),
        k.clear()
    }
    function M() {
        const le = W ? r : s;
        k.add(le, "touchmove", D, C).add(le, "touchend", K).add(le, "mousemove", D, C).add(le, "mouseup", K)
    }
    function re(le) {
        const Se = le.nodeName || "";
        return w.includes(Se)
    }
    function ue() {
        return (g ? z : H)[W ? "mouse" : "touch"]
    }
    function Y(le, Se) {
        const pe = m.add(C0(le) * -1),
            _e = u.byDistance(le, !g).distance;
        return g || as(le) < R ? _e : y && Se ? _e * .5 : u.byIndex(pe.get(), 0).distance
    }
    function he(le) {
        const Se = ny(le, n);
        W = Se,
        I = g && Se && !le.buttons && $,
        $ = Xd(a.get(), o.get()) >= 2,
        !(Se && le.button !== 0) && (re(le.target) || (_ = !0, i.pointerDown(le), d.useFriction(0).useDuration(0), a.set(o), M(), G = i.readPoint(le), F = i.readPoint(le, b), p.emit("pointerDown")))
    }
    function D(le) {
        if (!ny(le, n) && le.touches.length >= 2)
            return K(le);
        const pe = i.readPoint(le),
            _e = i.readPoint(le, b),
            dt = Xd(pe, G),
            B = Xd(_e, F);
        if (!S && !W && (!le.cancelable || (S = dt > B, !S)))
            return K(le);
        const De = i.pointerMove(le);
        dt > x && (I = !0),
        d.useFriction(.3).useDuration(.75),
        l.start(),
        a.add(N(De)),
        le.preventDefault()
    }
    function K(le) {
        const pe = u.byDistance(0, !1).index !== m.get(),
            _e = i.pointerUp(le) * ue(),
            dt = Y(N(_e), pe),
            B = w$(_e, dt),
            De = A - 10 * B,
            vt = v + B / 50;
        S = !1,
        _ = !1,
        k.clear(),
        d.useDuration(De).useFriction(vt),
        c.distance(dt, !g),
        W = !1,
        p.emit("pointerUp")
    }
    function L(le) {
        I && (le.stopPropagation(), le.preventDefault(), I = !1)
    }
    function ee() {
        return _
    }
    return {
        init: oe,
        destroy: O,
        pointerDown: ee
    }
}
function _$(t, s) {
    let n,
        a;
    function i(m) {
        return m.timeStamp
    }
    function o(m, p) {
        const g = `client${(p || t.scroll) === "x" ? "X" : "Y"}`;
        return (ny(m, s) ? m : m.touches[0])[g]
    }
    function l(m) {
        return n = m, a = m, o(m)
    }
    function c(m) {
        const p = o(m) - o(a),
            j = i(m) - i(n) > 170;
        return a = m, j && (n = m), p
    }
    function d(m) {
        if (!n || !a)
            return 0;
        const p = o(a) - o(n),
            j = i(m) - i(n),
            g = i(m) - i(a) > 170,
            x = p / j;
        return j && !g && as(x) > .1 ? x : 0
    }
    return {
        pointerDown: l,
        pointerMove: c,
        pointerUp: d,
        readPoint: o
    }
}
function T$() {
    function t(r) {
        const {offsetTop: n, offsetLeft: a, offsetWidth: i, offsetHeight: o} = r;
        return {
            top: n,
            right: a + i,
            bottom: n + o,
            left: a,
            width: i,
            height: o
        }
    }
    return {
        measure: t
    }
}
function A$(t) {
    function s(n) {
        return t * (n / 100)
    }
    return {
        measure: s
    }
}
function M$(t, s, r, n, a, i, o) {
    const l = [t].concat(n);
    let c,
        d,
        u = [],
        m = !1;
    function p(y) {
        return a.measureSize(o.measure(y))
    }
    function j(y) {
        if (!i)
            return;
        d = p(t),
        u = n.map(p);
        function v(f) {
            for (const b of f) {
                if (m)
                    return;
                const N = b.target === t,
                    w = n.indexOf(b.target),
                    C = N ? d : u[w],
                    E = p(N ? t : n[w]);
                if (as(E - C) >= .5) {
                    y.reInit(),
                    s.emit("resize");
                    break
                }
            }
        }
        c = new ResizeObserver(f => {
            (Wf(i) || i(y, f)) && v(f)
        }),
        r.requestAnimationFrame(() => {
            l.forEach(f => c.observe(f))
        })
    }
    function g() {
        m = !0,
        c && c.disconnect()
    }
    return {
        init: j,
        destroy: g
    }
}
function I$(t, s, r, n, a, i) {
    let o = 0,
        l = 0,
        c = a,
        d = i,
        u = t.get(),
        m = 0;
    function p() {
        const C = n.get() - t.get(),
            E = !c;
        let k = 0;
        return E ? (o = 0, r.set(n), t.set(n), k = C) : (r.set(t), o += C / c, o *= d, u += o, t.add(o), k = u - m), l = C0(k), m = u, w
    }
    function j() {
        const C = n.get() - s.get();
        return as(C) < .001
    }
    function g() {
        return c
    }
    function x() {
        return l
    }
    function y() {
        return o
    }
    function v() {
        return b(a)
    }
    function f() {
        return N(i)
    }
    function b(C) {
        return c = C, w
    }
    function N(C) {
        return d = C, w
    }
    const w = {
        direction: x,
        duration: g,
        velocity: y,
        seek: p,
        settled: j,
        useBaseFriction: f,
        useBaseDuration: v,
        useFriction: N,
        useDuration: b
    };
    return w
}
function R$(t, s, r, n, a) {
    const i = a.measure(10),
        o = a.measure(50),
        l = cl(.1, .99);
    let c = !1;
    function d() {
        return !(c || !t.reachedAny(r.get()) || !t.reachedAny(s.get()))
    }
    function u(j) {
        if (!d())
            return;
        const g = t.reachedMin(s.get()) ? "min" : "max",
            x = as(t[g] - s.get()),
            y = r.get() - s.get(),
            v = l.constrain(x / o);
        r.subtract(y * v),
        !j && as(y) < i && (r.set(t.constrain(r.get())), n.useDuration(25).useBaseFriction())
    }
    function m(j) {
        c = !j
    }
    return {
        shouldConstrain: d,
        constrain: u,
        toggleActive: m
    }
}
function D$(t, s, r, n, a) {
    const i = cl(-s + t, 0),
        o = m(),
        l = u(),
        c = p();
    function d(g, x) {
        return Xd(g, x) <= 1
    }
    function u() {
        const g = o[0],
            x = Yn(o),
            y = o.lastIndexOf(g),
            v = o.indexOf(x) + 1;
        return cl(y, v)
    }
    function m() {
        return r.map((g, x) => {
            const {min: y, max: v} = i,
                f = i.constrain(g),
                b = !x,
                N = S0(r, x);
            return b ? v : N || d(y, f) ? y : d(v, f) ? v : f
        }).map(g => parseFloat(g.toFixed(3)))
    }
    function p() {
        if (s <= t + a)
            return [i.max];
        if (n === "keepSnaps")
            return o;
        const {min: g, max: x} = l;
        return o.slice(g, x)
    }
    return {
        snapsContained: c,
        scrollContainLimit: l
    }
}
function O$(t, s, r) {
    const n = s[0],
        a = r ? n - t : Yn(s);
    return {
        limit: cl(a, n)
    }
}
function L$(t, s, r, n) {
    const i = s.min + .1,
        o = s.max + .1,
        {reachedMin: l, reachedMax: c} = cl(i, o);
    function d(p) {
        return p === 1 ? c(r.get()) : p === -1 ? l(r.get()) : !1
    }
    function u(p) {
        if (!d(p))
            return;
        const j = t * (p * -1);
        n.forEach(g => g.add(j))
    }
    return {
        loop: u
    }
}
function F$(t) {
    const {max: s, length: r} = t;
    function n(i) {
        const o = i - s;
        return r ? o / -r : 0
    }
    return {
        get: n
    }
}
function z$(t, s, r, n, a) {
    const {startEdge: i, endEdge: o} = t,
        {groupSlides: l} = a,
        c = m().map(s.measure),
        d = p(),
        u = j();
    function m() {
        return l(n).map(x => Yn(x)[o] - x[0][i]).map(as)
    }
    function p() {
        return n.map(x => r[i] - x[i]).map(x => -as(x))
    }
    function j() {
        return l(d).map(x => x[0]).map((x, y) => x + c[y])
    }
    return {
        snaps: d,
        snapsAligned: u
    }
}
function $$(t, s, r, n, a, i) {
    const {groupSlides: o} = a,
        {min: l, max: c} = n,
        d = u();
    function u() {
        const p = o(i),
            j = !t || s === "keepSnaps";
        return r.length === 1 ? [i] : j ? p : p.slice(l, c).map((g, x, y) => {
            const v = !x,
                f = S0(y, x);
            if (v) {
                const b = Yn(y[0]) + 1;
                return t1(b)
            }
            if (f) {
                const b = bm(i) - Yn(y)[0] + 1;
                return t1(b, Yn(y)[0])
            }
            return g
        })
    }
    return {
        slideRegistry: d
    }
}
function V$(t, s, r, n, a) {
    const {reachedAny: i, removeOffset: o, constrain: l} = n;
    function c(g) {
        return g.concat().sort((x, y) => as(x) - as(y))[0]
    }
    function d(g) {
        const x = t ? o(g) : l(g),
            y = s.map((f, b) => ({
                diff: u(f - x, 0),
                index: b
            })).sort((f, b) => as(f.diff) - as(b.diff)),
            {index: v} = y[0];
        return {
            index: v,
            distance: x
        }
    }
    function u(g, x) {
        const y = [g, g + r, g - r];
        if (!t)
            return g;
        if (!x)
            return c(y);
        const v = y.filter(f => C0(f) === x);
        return v.length ? c(v) : Yn(y) - r
    }
    function m(g, x) {
        const y = s[g] - a.get(),
            v = u(y, x);
        return {
            index: g,
            distance: v
        }
    }
    function p(g, x) {
        const y = a.get() + g,
            {index: v, distance: f} = d(y),
            b = !t && i(y);
        if (!x || b)
            return {
                index: v,
                distance: g
            };
        const N = s[v] - f,
            w = g + u(N, 0);
        return {
            index: v,
            distance: w
        }
    }
    return {
        byDistance: p,
        byIndex: m,
        shortcut: u
    }
}
function U$(t, s, r, n, a, i, o) {
    function l(m) {
        const p = m.distance,
            j = m.index !== s.get();
        i.add(p),
        p && (n.duration() ? t.start() : (t.update(), t.render(1), t.update())),
        j && (r.set(s.get()), s.set(m.index), o.emit("select"))
    }
    function c(m, p) {
        const j = a.byDistance(m, p);
        l(j)
    }
    function d(m, p) {
        const j = s.clone().set(m),
            g = a.byIndex(j.get(), p);
        l(g)
    }
    return {
        distance: c,
        index: d
    }
}
function q$(t, s, r, n, a, i, o, l) {
    const c = {
        passive: !0,
        capture: !0
    };
    let d = 0;
    function u(j) {
        if (!l)
            return;
        function g(x) {
            if (new Date().getTime() - d > 10)
                return;
            o.emit("slideFocusStart"),
            t.scrollLeft = 0;
            const f = r.findIndex(b => b.includes(x));
            w0(f) && (a.useDuration(0), n.index(f, 0), o.emit("slideFocus"))
        }
        i.add(document, "keydown", m, !1),
        s.forEach((x, y) => {
            i.add(x, "focus", v => {
                (Wf(l) || l(j, v)) && g(y)
            }, c)
        })
    }
    function m(j) {
        j.code === "Tab" && (d = new Date().getTime())
    }
    return {
        init: u
    }
}
function Od(t) {
    let s = t;
    function r() {
        return s
    }
    function n(c) {
        s = o(c)
    }
    function a(c) {
        s += o(c)
    }
    function i(c) {
        s -= o(c)
    }
    function o(c) {
        return w0(c) ? c : c.get()
    }
    return {
        get: r,
        set: n,
        add: a,
        subtract: i
    }
}
function m_(t, s) {
    const r = t.scroll === "x" ? o : l,
        n = s.style;
    let a = null,
        i = !1;
    function o(p) {
        return `translate3d(${p}px,0px,0px)`
    }
    function l(p) {
        return `translate3d(0px,${p}px,0px)`
    }
    function c(p) {
        if (i)
            return;
        const j = C$(t.direction(p));
        j !== a && (n.transform = r(j), a = j)
    }
    function d(p) {
        i = !p
    }
    function u() {
        i || (n.transform = "", s.getAttribute("style") || s.removeAttribute("style"))
    }
    return {
        clear: u,
        to: c,
        toggleActive: d
    }
}
function B$(t, s, r, n, a, i, o, l, c) {
    const u = _u(a),
        m = _u(a).reverse(),
        p = v().concat(f());
    function j(E, k) {
        return E.reduce((R, H) => R - a[H], k)
    }
    function g(E, k) {
        return E.reduce((R, H) => j(R, k) > 0 ? R.concat([H]) : R, [])
    }
    function x(E) {
        return i.map((k, R) => ({
            start: k - n[R] + .5 + E,
            end: k + s - .5 + E
        }))
    }
    function y(E, k, R) {
        const H = x(k);
        return E.map(z => {
            const A = R ? 0 : -r,
                $ = R ? r : 0,
                G = R ? "end" : "start",
                F = H[z][G];
            return {
                index: z,
                loopPoint: F,
                slideLocation: Od(-1),
                translate: m_(t, c[z]),
                target: () => l.get() > F ? A : $
            }
        })
    }
    function v() {
        const E = o[0],
            k = g(m, E);
        return y(k, r, !1)
    }
    function f() {
        const E = s - o[0] - 1,
            k = g(u, E);
        return y(k, -r, !0)
    }
    function b() {
        return p.every(({index: E}) => {
            const k = u.filter(R => R !== E);
            return j(k, s) <= .1
        })
    }
    function N() {
        p.forEach(E => {
            const {target: k, translate: R, slideLocation: H} = E,
                z = k();
            z !== H.get() && (R.to(z), H.set(z))
        })
    }
    function w() {
        p.forEach(E => E.translate.clear())
    }
    return {
        canLoop: b,
        clear: w,
        loop: N,
        loopPoints: p
    }
}
function H$(t, s, r) {
    let n,
        a = !1;
    function i(c) {
        if (!r)
            return;
        function d(u) {
            for (const m of u)
                if (m.type === "childList") {
                    c.reInit(),
                    s.emit("slidesChanged");
                    break
                }
        }
        n = new MutationObserver(u => {
            a || (Wf(r) || r(c, u)) && d(u)
        }),
        n.observe(t, {
            childList: !0
        })
    }
    function o() {
        n && n.disconnect(),
        a = !0
    }
    return {
        init: i,
        destroy: o
    }
}
function W$(t, s, r, n) {
    const a = {};
    let i = null,
        o = null,
        l,
        c = !1;
    function d() {
        l = new IntersectionObserver(g => {
            c || (g.forEach(x => {
                const y = s.indexOf(x.target);
                a[y] = x
            }), i = null, o = null, r.emit("slidesInView"))
        }, {
            root: t.parentElement,
            threshold: n
        }),
        s.forEach(g => l.observe(g))
    }
    function u() {
        l && l.disconnect(),
        c = !0
    }
    function m(g) {
        return Tu(a).reduce((x, y) => {
            const v = parseInt(y),
                {isIntersecting: f} = a[v];
            return (g && f || !g && !f) && x.push(v), x
        }, [])
    }
    function p(g=!0) {
        if (g && i)
            return i;
        if (!g && o)
            return o;
        const x = m(g);
        return g && (i = x), g || (o = x), x
    }
    return {
        init: d,
        destroy: u,
        get: p
    }
}
function G$(t, s, r, n, a, i) {
    const {measureSize: o, startEdge: l, endEdge: c} = t,
        d = r[0] && a,
        u = g(),
        m = x(),
        p = r.map(o),
        j = y();
    function g() {
        if (!d)
            return 0;
        const f = r[0];
        return as(s[l] - f[l])
    }
    function x() {
        if (!d)
            return 0;
        const f = i.getComputedStyle(Yn(n));
        return parseFloat(f.getPropertyValue(`margin-${c}`))
    }
    function y() {
        return r.map((f, b, N) => {
            const w = !b,
                C = S0(N, b);
            return w ? p[b] + u : C ? p[b] + m : N[b + 1][l] - f[l]
        }).map(as)
    }
    return {
        slideSizes: p,
        slideSizesWithGaps: j,
        startGap: u,
        endGap: m
    }
}
function K$(t, s, r, n, a, i, o, l, c) {
    const {startEdge: d, endEdge: u, direction: m} = t,
        p = w0(r);
    function j(v, f) {
        return _u(v).filter(b => b % f === 0).map(b => v.slice(b, b + f))
    }
    function g(v) {
        return v.length ? _u(v).reduce((f, b, N) => {
            const w = Yn(f) || 0,
                C = w === 0,
                E = b === bm(v),
                k = a[d] - i[w][d],
                R = a[d] - i[b][u],
                H = !n && C ? m(o) : 0,
                z = !n && E ? m(l) : 0,
                A = as(R - z - (k + H));
            return N && A > s + c && f.push(b), E && f.push(v.length), f
        }, []).map((f, b, N) => {
            const w = Math.max(N[b - 1] || 0);
            return v.slice(w, f)
        }) : []
    }
    function x(v) {
        return p ? j(v, r) : g(v)
    }
    return {
        groupSlides: x
    }
}
function Y$(t, s, r, n, a, i, o) {
    const {align: l, axis: c, direction: d, startIndex: u, loop: m, duration: p, dragFree: j, dragThreshold: g, inViewThreshold: x, slidesToScroll: y, skipSnaps: v, containScroll: f, watchResize: b, watchSlides: N, watchDrag: w, watchFocus: C} = i,
        E = 2,
        k = T$(),
        R = k.measure(s),
        H = r.map(k.measure),
        z = k$(c, d),
        A = z.measureSize(R),
        $ = A$(A),
        G = S$(l, A),
        F = !m && !!f,
        _ = m || !!f,
        {slideSizes: S, slideSizesWithGaps: I, startGap: W, endGap: oe} = G$(z, R, H, r, _, a),
        O = K$(z, A, y, m, R, H, W, oe, E),
        {snaps: M, snapsAligned: re} = z$(z, G, R, H, O),
        ue = -Yn(M) + Yn(I),
        {snapsContained: Y, scrollContainLimit: he} = D$(A, ue, re, f, E),
        D = F ? Y : re,
        {limit: K} = O$(ue, D, m),
        L = u_(bm(D), u, m),
        ee = L.clone(),
        ce = _u(r),
        le = ({dragHandler: Pt, scrollBody: $t, scrollBounds: Zr, options: {loop: ve}}) => {
            ve || Zr.constrain(Pt.pointerDown()),
            $t.seek()
        },
        Se = ({scrollBody: Pt, translate: $t, location: Zr, offsetLocation: ve, previousLocation: mt, scrollLooper: Lt, slideLooper: Mn, dragHandler: Eo, animation: Sl, eventHandler: ko, scrollBounds: El, options: {loop: Dm}}, Si) => {
            const Om = Pt.settled(),
                xx = !El.shouldConstrain(),
                ms = Dm ? Om : Om && xx,
                Da = ms && !Eo.pointerDown();
            Da && Sl.stop();
            const gx = Zr.get() * Si + mt.get() * (1 - Si);
            ve.set(gx),
            Dm && (Lt.loop(Pt.direction()), Mn.loop()),
            $t.to(ve.get()),
            Da && ko.emit("settle"),
            ms || ko.emit("scroll")
        },
        pe = E$(n, a, () => le(Ge), Pt => Se(Ge, Pt)),
        _e = .68,
        dt = D[L.get()],
        B = Od(dt),
        De = Od(dt),
        vt = Od(dt),
        At = Od(dt),
        Mt = I$(B, vt, De, At, p, _e),
        P = V$(m, D, ue, K, At),
        X = U$(pe, L, ee, Mt, P, At, o),
        ie = F$(K),
        we = Au(),
        be = W$(s, r, o, x),
        {slideRegistry: se} = $$(F, f, D, he, O, ce),
        je = q$(t, r, se, X, Mt, we, o, C),
        Ge = {
            ownerDocument: n,
            ownerWindow: a,
            eventHandler: o,
            containerRect: R,
            slideRects: H,
            animation: pe,
            axis: z,
            dragHandler: P$(z, t, n, a, At, _$(z, a), B, pe, X, Mt, P, L, o, $, j, g, v, _e, w),
            eventStore: we,
            percentOfView: $,
            index: L,
            indexPrevious: ee,
            limit: K,
            location: B,
            offsetLocation: vt,
            previousLocation: De,
            options: i,
            resizeHandler: M$(s, o, a, r, z, b, k),
            scrollBody: Mt,
            scrollBounds: R$(K, vt, At, Mt, $),
            scrollLooper: L$(ue, K, vt, [B, vt, De, At]),
            scrollProgress: ie,
            scrollSnapList: D.map(ie.get),
            scrollSnaps: D,
            scrollTarget: P,
            scrollTo: X,
            slideLooper: B$(z, A, ue, S, I, M, D, vt, r),
            slideFocus: je,
            slidesHandler: H$(s, o, N),
            slidesInView: be,
            slideIndexes: ce,
            slideRegistry: se,
            slidesToScroll: O,
            target: At,
            translate: m_(z, s)
        };
    return Ge
}
function Q$() {
    let t = {},
        s;
    function r(d) {
        s = d
    }
    function n(d) {
        return t[d] || []
    }
    function a(d) {
        return n(d).forEach(u => u(s, d)), c
    }
    function i(d, u) {
        return t[d] = n(d).concat([u]), c
    }
    function o(d, u) {
        return t[d] = n(d).filter(m => m !== u), c
    }
    function l() {
        t = {}
    }
    const c = {
        init: r,
        emit: a,
        off: o,
        on: i,
        clear: l
    };
    return c
}
const Z$ = {
    align: "center",
    axis: "x",
    container: null,
    slides: null,
    containScroll: "trimSnaps",
    direction: "ltr",
    slidesToScroll: 1,
    inViewThreshold: 0,
    breakpoints: {},
    dragFree: !1,
    dragThreshold: 10,
    loop: !1,
    skipSnaps: !1,
    duration: 25,
    startIndex: 0,
    active: !0,
    watchDrag: !0,
    watchResize: !0,
    watchSlides: !0,
    watchFocus: !0
};
function X$(t) {
    function s(i, o) {
        return d_(i, o || {})
    }
    function r(i) {
        const o = i.breakpoints || {},
            l = Tu(o).filter(c => t.matchMedia(c).matches).map(c => o[c]).reduce((c, d) => s(c, d), {});
        return s(i, l)
    }
    function n(i) {
        return i.map(o => Tu(o.breakpoints || {})).reduce((o, l) => o.concat(l), []).map(t.matchMedia)
    }
    return {
        mergeOptions: s,
        optionsAtMedia: r,
        optionsMediaQueries: n
    }
}
function J$(t) {
    let s = [];
    function r(i, o) {
        return s = o.filter(({options: l}) => t.optionsAtMedia(l).active !== !1), s.forEach(l => l.init(i, t)), o.reduce((l, c) => Object.assign(l, {
            [c.name]: c
        }), {})
    }
    function n() {
        s = s.filter(i => i.destroy())
    }
    return {
        init: r,
        destroy: n
    }
}
function Rp(t, s, r) {
    const n = t.ownerDocument,
        a = n.defaultView,
        i = X$(a),
        o = J$(i),
        l = Au(),
        c = Q$(),
        {mergeOptions: d, optionsAtMedia: u, optionsMediaQueries: m} = i,
        {on: p, off: j, emit: g} = c,
        x = z;
    let y = !1,
        v,
        f = d(Z$, Rp.globalOptions),
        b = d(f),
        N = [],
        w,
        C,
        E;
    function k() {
        const {container: ce, slides: le} = b;
        C = (ry(ce) ? t.querySelector(ce) : ce) || t.children[0];
        const pe = ry(le) ? C.querySelectorAll(le) : le;
        E = [].slice.call(pe || C.children)
    }
    function R(ce) {
        const le = Y$(t, C, E, n, a, ce, c);
        if (ce.loop && !le.slideLooper.canLoop()) {
            const Se = Object.assign({}, ce, {
                loop: !1
            });
            return R(Se)
        }
        return le
    }
    function H(ce, le) {
        y || (f = d(f, ce), b = u(f), N = le || N, k(), v = R(b), m([f, ...N.map(({options: Se}) => Se)]).forEach(Se => l.add(Se, "change", z)), b.active && (v.translate.to(v.location.get()), v.animation.init(), v.slidesInView.init(), v.slideFocus.init(ee), v.eventHandler.init(ee), v.resizeHandler.init(ee), v.slidesHandler.init(ee), v.options.loop && v.slideLooper.loop(), C.offsetParent && E.length && v.dragHandler.init(ee), w = o.init(ee, N)))
    }
    function z(ce, le) {
        const Se = O();
        A(),
        H(d({
            startIndex: Se
        }, ce), le),
        c.emit("reInit")
    }
    function A() {
        v.dragHandler.destroy(),
        v.eventStore.clear(),
        v.translate.clear(),
        v.slideLooper.clear(),
        v.resizeHandler.destroy(),
        v.slidesHandler.destroy(),
        v.slidesInView.destroy(),
        v.animation.destroy(),
        o.destroy(),
        l.clear()
    }
    function $() {
        y || (y = !0, l.clear(), A(), c.emit("destroy"), c.clear())
    }
    function G(ce, le, Se) {
        !b.active || y || (v.scrollBody.useBaseFriction().useDuration(le === !0 ? 0 : b.duration), v.scrollTo.index(ce, Se || 0))
    }
    function F(ce) {
        const le = v.index.add(1).get();
        G(le, ce, -1)
    }
    function _(ce) {
        const le = v.index.add(-1).get();
        G(le, ce, 1)
    }
    function S() {
        return v.index.add(1).get() !== O()
    }
    function I() {
        return v.index.add(-1).get() !== O()
    }
    function W() {
        return v.scrollSnapList
    }
    function oe() {
        return v.scrollProgress.get(v.offsetLocation.get())
    }
    function O() {
        return v.index.get()
    }
    function M() {
        return v.indexPrevious.get()
    }
    function re() {
        return v.slidesInView.get()
    }
    function ue() {
        return v.slidesInView.get(!1)
    }
    function Y() {
        return w
    }
    function he() {
        return v
    }
    function D() {
        return t
    }
    function K() {
        return C
    }
    function L() {
        return E
    }
    const ee = {
        canScrollNext: S,
        canScrollPrev: I,
        containerNode: K,
        internalEngine: he,
        destroy: $,
        off: j,
        on: p,
        emit: g,
        plugins: Y,
        previousScrollSnap: M,
        reInit: x,
        rootNode: D,
        scrollNext: F,
        scrollPrev: _,
        scrollProgress: oe,
        scrollSnapList: W,
        scrollTo: G,
        selectedScrollSnap: O,
        slideNodes: L,
        slidesInView: re,
        slidesNotInView: ue
    };
    return H(s, r), setTimeout(() => c.emit("init"), 0), ee
}
Rp.globalOptions = void 0;
function E0(t={}, s=[]) {
    const r = h.useRef(t),
        n = h.useRef(s),
        [a, i] = h.useState(),
        [o, l] = h.useState(),
        c = h.useCallback(() => {
            a && a.reInit(r.current, n.current)
        }, [a]);
    return h.useEffect(() => {
        N0(r.current, t) || (r.current = t, c())
    }, [t, c]), h.useEffect(() => {
        N$(n.current, s) || (n.current = s, c())
    }, [s, c]), h.useEffect(() => {
        if (b$() && o) {
            Rp.globalOptions = E0.globalOptions;
            const d = Rp(o, r.current, n.current);
            return i(d), () => d.destroy()
        } else
            i(void 0)
    }, [o, i]), [l, a]
}
E0.globalOptions = void 0;
const h_ = h.createContext(null);
function Gf() {
    const t = h.useContext(h_);
    if (!t)
        throw new Error("useCarousel must be used within a <Carousel />");
    return t
}
const Ic = h.forwardRef(({orientation: t="horizontal", opts: s, setApi: r, plugins: n, className: a, children: i, ...o}, l) => {
    const [c, d] = E0({
            ...s,
            axis: t === "horizontal" ? "x" : "y"
        }, n),
        [u, m] = h.useState(!1),
        [p, j] = h.useState(!1),
        g = h.useCallback(f => {
            f && (m(f.canScrollPrev()), j(f.canScrollNext()))
        }, []),
        x = h.useCallback(() => {
            d == null || d.scrollPrev()
        }, [d]),
        y = h.useCallback(() => {
            d == null || d.scrollNext()
        }, [d]),
        v = h.useCallback(f => {
            f.key === "ArrowLeft" ? (f.preventDefault(), x()) : f.key === "ArrowRight" && (f.preventDefault(), y())
        }, [x, y]);
    return h.useEffect(() => {
        !d || !r || r(d)
    }, [d, r]), h.useEffect(() => {
        if (d)
            return g(d), d.on("reInit", g), d.on("select", g), () => {
                d == null || d.off("select", g)
            }
    }, [d, g]), e.jsx(h_.Provider, {
        value: {
            carouselRef: c,
            api: d,
            opts: s,
            orientation: t || ((s == null ? void 0 : s.axis) === "y" ? "vertical" : "horizontal"),
            scrollPrev: x,
            scrollNext: y,
            canScrollPrev: u,
            canScrollNext: p
        },
        children: e.jsx("div", {
            ref: l,
            onKeyDownCapture: v,
            className: me("relative", a),
            role: "region",
            "aria-roledescription": "carousel",
            ...o,
            children: i
        })
    })
});
Ic.displayName = "Carousel";
const Rc = h.forwardRef(({className: t, ...s}, r) => {
    const {carouselRef: n, orientation: a} = Gf();
    return e.jsx("div", {
        ref: n,
        className: "overflow-hidden",
        children: e.jsx("div", {
            ref: r,
            className: me("flex", a === "horizontal" ? "-ml-4" : "-mt-4 flex-col", t),
            ...s
        })
    })
});
Rc.displayName = "CarouselContent";
const Yo = h.forwardRef(({className: t, ...s}, r) => {
    const {orientation: n} = Gf();
    return e.jsx("div", {
        ref: r,
        role: "group",
        "aria-roledescription": "slide",
        className: me("min-w-0 shrink-0 grow-0 basis-full", n === "horizontal" ? "pl-4" : "pt-4", t),
        ...s
    })
});
Yo.displayName = "CarouselItem";
const Dc = h.forwardRef(({className: t, variant: s="outline", size: r="icon", ...n}, a) => {
    const {orientation: i, scrollPrev: o, canScrollPrev: l} = Gf();
    return e.jsxs(T, {
        ref: a,
        variant: s,
        size: r,
        className: me("absolute h-8 w-8 rounded-full z-10", i === "horizontal" ? "left-2 sm:-left-12 top-1/2 -translate-y-1/2" : "-top-12 left-1/2 -translate-x-1/2 rotate-90", t),
        disabled: !l,
        onClick: o,
        ...n,
        children: [e.jsx(Nr, {
            className: "h-4 w-4"
        }), e.jsx("span", {
            className: "sr-only",
            children: "Previous slide"
        })]
    })
});
Dc.displayName = "CarouselPrevious";
const Oc = h.forwardRef(({className: t, variant: s="outline", size: r="icon", ...n}, a) => {
    const {orientation: i, scrollNext: o, canScrollNext: l} = Gf();
    return e.jsxs(T, {
        ref: a,
        variant: s,
        size: r,
        className: me("absolute h-8 w-8 rounded-full z-10", i === "horizontal" ? "right-2 sm:-right-12 top-1/2 -translate-y-1/2" : "-bottom-12 left-1/2 -translate-x-1/2 rotate-90", t),
        disabled: !l,
        onClick: o,
        ...n,
        children: [e.jsx(gp, {
            className: "h-4 w-4"
        }), e.jsx("span", {
            className: "sr-only",
            children: "Next slide"
        })]
    })
});
Oc.displayName = "CarouselNext";
const Kf = {
        getVehicles: async t => {
            const s = new URLSearchParams;
            t != null && t.limit && s.append("limit", t.limit.toString()),
            t != null && t.offset && s.append("offset", t.offset.toString()),
            t != null && t.marca && s.append("marca", t.marca),
            t != null && t.modelo && s.append("modelo", t.modelo),
            t != null && t.anyo && s.append("anyo", t.anyo.toString()),
            t != null && t.search && s.append("search", t.search),
            t != null && t.withPartCounts && s.append("withPartCounts", "true"),
            t != null && t.activePartCounts && s.append("activePartCounts", "true"),
            t != null && t.idLocal && s.append("idLocal", t.idLocal.toString());
            const r = `/api/vehicles?${s.toString()}`;
            return await (await Re("GET", r)).json()
        },
        getVehicleById: async (t, s) => {
            const r = (s == null ? void 0 : s.soloActivas) !== !1,
                n = `/api/vehicles/${t}?soloActivas=${r}`;
            return await (await Re("GET", n)).json()
        },
        searchVehicles: async t => await (await Re("GET", `/api/vehicles/search?q=${encodeURIComponent(t)}`)).json(),
        getAll: async t => Kf.getVehicles(t),
        updateVehicle: async (t, s) => await (await Re("PUT", `/api/vehicles/${t}`, s)).json(),
        deleteVehicle: async t => await (await Re("DELETE", `/api/vehicles/${t}`)).json(),
        deleteAllVehicles: async () => await (await Re("DELETE", "/api/vehicles/all/delete")).json()
    },
    k0 = {
        getParts: async t => {
            const s = new URLSearchParams;
            t != null && t.limit && s.append("limit", t.limit.toString()),
            t != null && t.offset && s.append("offset", t.offset.toString()),
            t != null && t.vehicleId && s.append("vehicleId", t.vehicleId.toString()),
            t != null && t.familia && s.append("familia", t.familia),
            (t == null ? void 0 : t.activo) !== void 0 && s.append("activo", t.activo.toString());
            const r = `/api/parts?${s.toString()}`;
            return await (await Re("GET", r)).json()
        },
        getPartById: async (t, s) => {
            let r = `/api/parts/${t}`;
            const n = new URLSearchParams;
            return s != null && s.isAdmin && n.append("isAdmin", "true"), s != null && s.filterBrand && n.append("filterBrand", s.filterBrand), n.toString() && (r += `?${n.toString()}`), await (await Re("GET", r)).json()
        },
        searchParts: async t => await (await Re("GET", `/api/parts/search?q=${encodeURIComponent(t)}`)).json(),
        getAll: async t => k0.getParts(t),
        searchPartsAdvanced: async (t, s) => {
            const r = new URLSearchParams;
            r.append("q", t),
            s != null && s.limit && r.append("limit", s.limit.toString()),
            s != null && s.offset && r.append("offset", s.offset.toString()),
            (s == null ? void 0 : s.activo) !== void 0 && r.append("activo", s.activo.toString());
            const n = `/api/native-search?${r.toString()}`;
            return await (await Re("GET", n)).json()
        },
        updatePart: async (t, s) => await (await Re("PUT", `/api/parts/${t}`, s)).json(),
        deletePart: async t => await (await Re("DELETE", `/api/parts/${t}`)).json(),
        deleteAllParts: async () => await (await Re("DELETE", "/api/parts/all/delete")).json(),
        getBrandsAndModels: async (t={}) => {
            try {
                const s = new URLSearchParams;
                t.marca && t.marca !== "all-brands" && s.append("marca", t.marca),
                t.modelo && t.modelo !== "all-models" && s.append("modelo", t.modelo);
                const r = `/api/parts/brands-models?${s}`,
                    n = await fetch(r, {
                        method: "GET",
                        headers: {
                            "Content-Type": "application/json"
                        }
                    });
                if (!n.ok) {
                    const i = await n.text();
                    throw new Error(`Failed to fetch brands and models: ${n.status} ${i}`)
                }
                return await n.json()
            } catch (s) {
                throw s
            }
        }
    },
    Lc = {
        async getConfig() {
            const t = await fetch("/api/config");
            if (!t.ok)
                throw new Error(`Error ${t.status}: ${t.statusText}`);
            return t.json()
        },
        async updateConfig(t) {
            try {
                const s = await fetch("/api/config", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json"
                        },
                        body: JSON.stringify(t)
                    }),
                    r = await s.json();
                if (!s.ok)
                    throw new Error(r.error || r.details || `Error HTTP ${s.status}`);
                if (!r.success)
                    throw new Error(r.error || "La operación no fue exitosa");
                return r
            } catch (s) {
                throw s.name === "TypeError" && s.message.includes("fetch") ? new Error("Error de conexión con el servidor") : s
            }
        },
        async getChatbotConfig() {
            const t = await fetch("/api/config/chatbot");
            if (!t.ok)
                throw new Error(`Error ${t.status}: ${t.statusText}`);
            return t.json()
        },
        async updateChatbotCode(t) {
            try {
                const s = await fetch("/api/config/chatbot", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json"
                        },
                        body: JSON.stringify({
                            chatbotCode: t
                        })
                    }),
                    r = await s.json();
                if (!s.ok)
                    throw new Error(r.error || r.details || `Error HTTP ${s.status}`);
                return r
            } catch (s) {
                throw s.name === "TypeError" && s.message.includes("fetch") ? new Error("Error de conexión con el servidor") : s
            }
        }
    },
    ss = {
        getHistory: async t => {
            const s = t ? `/api/import/history?limit=${t}` : "/api/import/history";
            return await (await Re("GET", s)).json()
        },
        deleteHistoryItem: async t => await (await Re("DELETE", `/api/import/history/${t}`)).json(),
        getSchedules: async () => await (await Re("GET", "/api/import/schedules")).json(),
        updateSchedule: async (t, s) => await (await Re("PUT", `/api/import/schedule/${t}`, s)).json(),
        createSchedule: async t => await (await Re("POST", "/api/import/schedule", t)).json(),
        deleteSchedule: async t => await (await Re("DELETE", `/api/import/schedule/${t}`)).json(),
        startManualImport: async (t, s) => await (await Re("POST", "/api/import/manual", {
            type: t,
            fromDate: s == null ? void 0 : s.fromDate,
            fullImport: s == null ? void 0 : s.fullImport
        })).json(),
        resumeImport: async t => await (await Re("POST", `/api/import/history/${t}/resume`)).json(),
        pauseImport: async t => await (await Re("POST", `/api/import/history/${t}/pause`)).json(),
        cancelImport: async t => await (await Re("POST", `/api/import/history/${t}/cancel`)).json(),
        startOptimizedImport: async (t, s) => {
            const r = `/api/metasync-optimized/import/${t}`,
                n = {
                    ...s != null && s.fromDate ? {
                        fromDate: s.fromDate
                    } : {},
                    ...s != null && s.fullImport ? {
                        fullImport: s.fullImport
                    } : {}
                };
            return await (await Re("POST", r, n)).json()
        },
        getOptimizedImportStatus: async t => await (await Re("GET", `/api/metasync-optimized/import/${t}`)).json(),
        cancelOptimizedImport: async t => await (await Re("POST", `/api/metasync-optimized/import/${t}/cancel`)).json(),
        pauseOptimizedImport: async t => await (await Re("POST", `/api/metasync-optimized/import/${t}/pause`)).json(),
        resumeOptimizedImport: async t => await (await Re("POST", `/api/metasync-optimized/import/${t}/resume`)).json(),
        processPendingRelations: async () => await (await Re("POST", "/api/metasync-optimized/process-pending-relations")).json(),
        async getSyncStatus() {
            try {
                const t = await fetch("/api/metasync-optimized/sync-status");
                if (!t.ok)
                    throw new Error(`HTTP ${t.status}: ${t.statusText}`);
                return await t.json()
            } catch (t) {
                throw t
            }
        },
        async getImportStatus(t) {
            const s = await fetch(`/api/import/${t}`, {
                credentials: "include"
            });
            if (!s.ok)
                throw new Error("Error al obtener estado de importación");
            return s.json()
        },
        async startOptimizedImport2(t, s) {
            const r = await fetch(`/api/metasync-optimized/import/${t}`, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                credentials: "include",
                body: JSON.stringify(s)
            });
            if (!r.ok)
                throw new Error("Error al iniciar importación optimizada");
            return r.json()
        },
        async startOptimizedPartsImport() {
            const t = await fetch("/api/optimized-parts/import", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                credentials: "include"
            });
            if (!t.ok)
                throw new Error("Error al iniciar importación optimizada de piezas");
            return t.json()
        },
        async getImportStats() {
            const t = await fetch("/api/import/stats", {
                credentials: "include"
            });
            if (!t.ok)
                throw new Error("Error al obtener estadísticas de importación");
            return t.json()
        },
        async controlImport(t, s) {
            if (!(await fetch(`/api/import/${t}/${s}`, {
                method: "POST",
                credentials: "include"
            })).ok)
                throw new Error(`Error al ${s} la importación`)
        },
        async updateScheduleConfig(t, s) {
            const r = await fetch(`/api/import/schedule/${t}`, {
                method: "PUT",
                headers: {
                    "Content-Type": "application/json"
                },
                credentials: "include",
                body: JSON.stringify(s)
            });
            if (!r.ok)
                throw new Error("Error al actualizar programación");
            return r.json()
        },
        async pauseImportOperation(t) {
            const s = await fetch(`/api/metasync-optimized/import/${t}/pause`, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                credentials: "include"
            });
            if (!s.ok)
                throw new Error("Error al pausar importación");
            return s.json()
        },
        async resumeImportOperation(t) {
            const s = await fetch(`/api/metasync-optimized/import/${t}/resume`, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                credentials: "include"
            });
            if (!s.ok)
                throw new Error("Error al reanudar importación");
            return s.json()
        },
        async cancelImportOperation(t) {
            const s = await fetch(`/api/metasync-optimized/import/${t}/cancel`, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                credentials: "include"
            });
            if (!s.ok)
                throw new Error("Error al cancelar importación");
            return s.json()
        },
        async deleteImportFromHistory(t) {
            const s = await fetch(`/api/import/${t}`, {
                method: "DELETE",
                headers: {
                    "Content-Type": "application/json"
                },
                credentials: "include"
            });
            if (!s.ok) {
                const n = await s.json().catch(() => ({
                    message: "Error desconocido"
                }));
                throw new Error(n.message || "Error al eliminar importación del historial")
            }
            const r = await s.text();
            if (!r || r.trim() === "")
                return {
                    success: !0,
                    message: "Importación eliminada correctamente"
                };
            try {
                return JSON.parse(r)
            } catch (n) {
                return console.error("Error parsing JSON response:", n, "Response text:", r), {
                    success: !0,
                    message: "Importación eliminada correctamente"
                }
            }
        },
        async deleteAllImportHistory() {
            const t = await fetch("/api/import/clear-all", {
                method: "DELETE",
                headers: {
                    "Content-Type": "application/json"
                },
                credentials: "include"
            });
            if (!t.ok) {
                const r = await t.json().catch(() => ({
                    message: "Error desconocido"
                }));
                throw new Error(r.message || "Error al eliminar todo el historial de importaciones")
            }
            const s = await t.text();
            if (!s || s.trim() === "")
                return {
                    success: !0,
                    message: "Historial eliminado correctamente"
                };
            try {
                return JSON.parse(s)
            } catch (r) {
                return console.error("Error parsing JSON response:", r, "Response text:", s), {
                    success: !0,
                    message: "Historial eliminado correctamente"
                }
            }
        },
        async clearImportStatistics() {
            const t = await fetch("/api/import/history/stats", {
                method: "DELETE",
                headers: {
                    "Content-Type": "application/json"
                },
                credentials: "include"
            });
            if (!t.ok) {
                const r = await t.json().catch(() => ({
                    message: "Error desconocido"
                }));
                throw new Error(r.message || "Error al limpiar estadísticas de importación")
            }
            const s = await t.text();
            if (!s || s.trim() === "")
                return {
                    success: !0,
                    message: "Estadísticas limpiadas correctamente"
                };
            try {
                return JSON.parse(s)
            } catch (r) {
                return console.error("Error parsing JSON response:", r, "Response text:", s), {
                    success: !0,
                    message: "Estadísticas limpiadas correctamente"
                }
            }
        }
    },
    Jd = {
        runDiagnostic: async () => await (await Re("GET", "/api/diagnostic")).json(),
        testApiEndpoint: async t => await (await Re("POST", "/api/raw/test-metasync", t)).json(),
        checkCounts: async () => {
            var n,
                a,
                i,
                o,
                l,
                c;
            const t = await Jd.testApiEndpoint({
                    method: "ConteoVehiculosEmpresa",
                    fecha: "01/01/2000 00:00:00",
                    idempresa: 1476
                }),
                s = await Jd.testApiEndpoint({
                    method: "ConteoPiezasEmpresa",
                    fecha: "01/01/2000 00:00:00",
                    idempresa: 1476
                }),
                r = await Jd.testApiEndpoint({
                    method: "RecuperarCambiosCanalEmpresa",
                    fecha: "01/01/2000 00:00:00",
                    lastid: "0",
                    offset: "1000",
                    idempresa: 1476
                });
            return {
                vehicleCount: t.success && ((n = t.data) == null ? void 0 : n.total) || 0,
                partCount: s.success && ((a = s.data) == null ? void 0 : a.total) || 0,
                vehiclesRetrieved: r.success && ((o = (i = r.data) == null ? void 0 : i.vehiculos) == null ? void 0 : o.length) || 0,
                partsRetrieved: r.success && ((c = (l = r.data) == null ? void 0 : l.piezas) == null ? void 0 : c.length) || 0,
                timestamp: new Date().toISOString()
            }
        }
    };
function ay(t, [s, r]) {
    return Math.min(r, Math.max(s, t))
}
var eV = [" ", "Enter", "ArrowUp", "ArrowDown"],
    tV = [" ", "Enter"],
    Nm = "Select",
    [Yf, Qf, sV] = im(Nm),
    [nd, ZQ] = ws(Nm, [sV, No]),
    Zf = No(),
    [rV, wo] = nd(Nm),
    [nV, aV] = nd(Nm),
    p_ = t => {
        const {__scopeSelect: s, children: r, open: n, defaultOpen: a, onOpenChange: i, value: o, defaultValue: l, onValueChange: c, dir: d, name: u, autoComplete: m, disabled: p, required: j, form: g} = t,
            x = Zf(s),
            [y, v] = h.useState(null),
            [f, b] = h.useState(null),
            [N, w] = h.useState(!1),
            C = Nl(d),
            [E=!1, k] = Yr({
                prop: n,
                defaultProp: a,
                onChange: i
            }),
            [R, H] = Yr({
                prop: o,
                defaultProp: l,
                onChange: c
            }),
            z = h.useRef(null),
            A = y ? g || !!y.closest("form") : !0,
            [$, G] = h.useState(new Set),
            F = Array.from($).map(_ => _.props.value).join(";");
        return e.jsx(Kj, {
            ...x,
            children: e.jsxs(rV, {
                required: j,
                scope: s,
                trigger: y,
                onTriggerChange: v,
                valueNode: f,
                onValueNodeChange: b,
                valueNodeHasChildren: N,
                onValueNodeHasChildrenChange: w,
                contentId: cn(),
                value: R,
                onValueChange: H,
                open: E,
                onOpenChange: k,
                dir: C,
                triggerPointerDownPosRef: z,
                disabled: p,
                children: [e.jsx(Yf.Provider, {
                    scope: s,
                    children: e.jsx(nV, {
                        scope: t.__scopeSelect,
                        onNativeOptionAdd: h.useCallback(_ => {
                            G(S => new Set(S).add(_))
                        }, []),
                        onNativeOptionRemove: h.useCallback(_ => {
                            G(S => {
                                const I = new Set(S);
                                return I.delete(_), I
                            })
                        }, []),
                        children: r
                    })
                }), A ? e.jsxs(z_, {
                    "aria-hidden": !0,
                    required: j,
                    tabIndex: -1,
                    name: u,
                    autoComplete: m,
                    value: R,
                    onChange: _ => H(_.target.value),
                    disabled: p,
                    form: g,
                    children: [R === void 0 ? e.jsx("option", {
                        value: ""
                    }) : null, Array.from($)]
                }, F) : null]
            })
        })
    };
p_.displayName = Nm;
var f_ = "SelectTrigger",
    x_ = h.forwardRef((t, s) => {
        const {__scopeSelect: r, disabled: n=!1, ...a} = t,
            i = Zf(r),
            o = wo(f_, r),
            l = o.disabled || n,
            c = lt(s, o.onTriggerChange),
            d = Qf(r),
            u = h.useRef("touch"),
            [m, p, j] = $_(x => {
                const y = d().filter(b => !b.disabled),
                    v = y.find(b => b.value === o.value),
                    f = V_(y, x, v);
                f !== void 0 && o.onValueChange(f.value)
            }),
            g = x => {
                l || (o.onOpenChange(!0), j()),
                x && (o.triggerPointerDownPosRef.current = {
                    x: Math.round(x.pageX),
                    y: Math.round(x.pageY)
                })
            };
        return e.jsx(dm, {
            asChild: !0,
            ...i,
            children: e.jsx(Oe.button, {
                type: "button",
                role: "combobox",
                "aria-controls": o.contentId,
                "aria-expanded": o.open,
                "aria-required": o.required,
                "aria-autocomplete": "none",
                dir: o.dir,
                "data-state": o.open ? "open" : "closed",
                disabled: l,
                "data-disabled": l ? "" : void 0,
                "data-placeholder": F_(o.value) ? "" : void 0,
                ...a,
                ref: c,
                onClick: Ne(a.onClick, x => {
                    x.currentTarget.focus(),
                    u.current !== "mouse" && g(x)
                }),
                onPointerDown: Ne(a.onPointerDown, x => {
                    u.current = x.pointerType;
                    const y = x.target;
                    y.hasPointerCapture(x.pointerId) && y.releasePointerCapture(x.pointerId),
                    x.button === 0 && x.ctrlKey === !1 && x.pointerType === "mouse" && (g(x), x.preventDefault())
                }),
                onKeyDown: Ne(a.onKeyDown, x => {
                    const y = m.current !== "";
                    !(x.ctrlKey || x.altKey || x.metaKey) && x.key.length === 1 && p(x.key),
                    !(y && x.key === " ") && eV.includes(x.key) && (g(), x.preventDefault())
                })
            })
        })
    });
x_.displayName = f_;
var g_ = "SelectValue",
    v_ = h.forwardRef((t, s) => {
        const {__scopeSelect: r, className: n, style: a, children: i, placeholder: o="", ...l} = t,
            c = wo(g_, r),
            {onValueNodeHasChildrenChange: d} = c,
            u = i !== void 0,
            m = lt(s, c.onValueNodeChange);
        return js(() => {
            d(u)
        }, [d, u]), e.jsx(Oe.span, {
            ...l,
            ref: m,
            style: {
                pointerEvents: "none"
            },
            children: F_(c.value) ? e.jsx(e.Fragment, {
                children: o
            }) : i
        })
    });
v_.displayName = g_;
var iV = "SelectIcon",
    y_ = h.forwardRef((t, s) => {
        const {__scopeSelect: r, children: n, ...a} = t;
        return e.jsx(Oe.span, {
            "aria-hidden": !0,
            ...a,
            ref: s,
            children: n || "▼"
        })
    });
y_.displayName = iV;
var oV = "SelectPortal",
    j_ = t => e.jsx(Qc, {
        asChild: !0,
        ...t
    });
j_.displayName = oV;
var dl = "SelectContent",
    b_ = h.forwardRef((t, s) => {
        const r = wo(dl, t.__scopeSelect),
            [n, a] = h.useState();
        if (js(() => {
            a(new DocumentFragment)
        }, []), !r.open) {
            const i = n;
            return i ? yl.createPortal(e.jsx(N_, {
                scope: t.__scopeSelect,
                children: e.jsx(Yf.Slot, {
                    scope: t.__scopeSelect,
                    children: e.jsx("div", {
                        children: t.children
                    })
                })
            }), i) : null
        }
        return e.jsx(w_, {
            ...t,
            ref: s
        })
    });
b_.displayName = dl;
var Dn = 10,
    [N_, Co] = nd(dl),
    lV = "SelectContentImpl",
    cV = co("SelectContent.RemoveScroll"),
    w_ = h.forwardRef((t, s) => {
        const {__scopeSelect: r, position: n="item-aligned", onCloseAutoFocus: a, onEscapeKeyDown: i, onPointerDownOutside: o, side: l, sideOffset: c, align: d, alignOffset: u, arrowPadding: m, collisionBoundary: p, collisionPadding: j, sticky: g, hideWhenDetached: x, avoidCollisions: y, ...v} = t,
            f = wo(dl, r),
            [b, N] = h.useState(null),
            [w, C] = h.useState(null),
            E = lt(s, D => N(D)),
            [k, R] = h.useState(null),
            [H, z] = h.useState(null),
            A = Qf(r),
            [$, G] = h.useState(!1),
            F = h.useRef(!1);
        h.useEffect(() => {
            if (b)
                return Lf(b)
        }, [b]),
        Df();
        const _ = h.useCallback(D => {
                const [K, ...L] = A().map(le => le.ref.current),
                    [ee] = L.slice(-1),
                    ce = document.activeElement;
                for (const le of D)
                    if (le === ce || (le == null || le.scrollIntoView({
                        block: "nearest"
                    }), le === K && w && (w.scrollTop = 0), le === ee && w && (w.scrollTop = w.scrollHeight), le == null || le.focus(), document.activeElement !== ce))
                        return
            }, [A, w]),
            S = h.useCallback(() => _([k, b]), [_, k, b]);
        h.useEffect(() => {
            $ && S()
        }, [$, S]);
        const {onOpenChange: I, triggerPointerDownPosRef: W} = f;
        h.useEffect(() => {
            if (b) {
                let D = {
                    x: 0,
                    y: 0
                };
                const K = ee => {
                        var ce,
                            le;
                        D = {
                            x: Math.abs(Math.round(ee.pageX) - (((ce = W.current) == null ? void 0 : ce.x) ?? 0)),
                            y: Math.abs(Math.round(ee.pageY) - (((le = W.current) == null ? void 0 : le.y) ?? 0))
                        }
                    },
                    L = ee => {
                        D.x <= 10 && D.y <= 10 ? ee.preventDefault() : b.contains(ee.target) || I(!1),
                        document.removeEventListener("pointermove", K),
                        W.current = null
                    };
                return W.current !== null && (document.addEventListener("pointermove", K), document.addEventListener("pointerup", L, {
                    capture: !0,
                    once: !0
                })), () => {
                    document.removeEventListener("pointermove", K),
                    document.removeEventListener("pointerup", L, {
                        capture: !0
                    })
                }
            }
        }, [b, I, W]),
        h.useEffect(() => {
            const D = () => I(!1);
            return window.addEventListener("blur", D), window.addEventListener("resize", D), () => {
                window.removeEventListener("blur", D),
                window.removeEventListener("resize", D)
            }
        }, [I]);
        const [oe, O] = $_(D => {
                const K = A().filter(ce => !ce.disabled),
                    L = K.find(ce => ce.ref.current === document.activeElement),
                    ee = V_(K, D, L);
                ee && setTimeout(() => ee.ref.current.focus())
            }),
            M = h.useCallback((D, K, L) => {
                const ee = !F.current && !L;
                (f.value !== void 0 && f.value === K || ee) && (R(D), ee && (F.current = !0))
            }, [f.value]),
            re = h.useCallback(() => b == null ? void 0 : b.focus(), [b]),
            ue = h.useCallback((D, K, L) => {
                const ee = !F.current && !L;
                (f.value !== void 0 && f.value === K || ee) && z(D)
            }, [f.value]),
            Y = n === "popper" ? iy : C_,
            he = Y === iy ? {
                side: l,
                sideOffset: c,
                align: d,
                alignOffset: u,
                arrowPadding: m,
                collisionBoundary: p,
                collisionPadding: j,
                sticky: g,
                hideWhenDetached: x,
                avoidCollisions: y
            } : {};
        return e.jsx(N_, {
            scope: r,
            content: b,
            viewport: w,
            onViewportChange: C,
            itemRefCallback: M,
            selectedItem: k,
            onItemLeave: re,
            itemTextRefCallback: ue,
            focusSelectedItem: S,
            selectedItemText: H,
            position: n,
            isPositioned: $,
            searchRef: oe,
            children: e.jsx(mm, {
                as: cV,
                allowPinchZoom: !0,
                children: e.jsx(um, {
                    asChild: !0,
                    trapped: f.open,
                    onMountAutoFocus: D => {
                        D.preventDefault()
                    },
                    onUnmountAutoFocus: Ne(a, D => {
                        var K;
                        (K = f.trigger) == null || K.focus({
                            preventScroll: !0
                        }),
                        D.preventDefault()
                    }),
                    children: e.jsx(jl, {
                        asChild: !0,
                        disableOutsidePointerEvents: !0,
                        onEscapeKeyDown: i,
                        onPointerDownOutside: o,
                        onFocusOutside: D => D.preventDefault(),
                        onDismiss: () => f.onOpenChange(!1),
                        children: e.jsx(Y, {
                            role: "listbox",
                            id: f.contentId,
                            "data-state": f.open ? "open" : "closed",
                            dir: f.dir,
                            onContextMenu: D => D.preventDefault(),
                            ...v,
                            ...he,
                            onPlaced: () => G(!0),
                            ref: E,
                            style: {
                                display: "flex",
                                flexDirection: "column",
                                outline: "none",
                                ...v.style
                            },
                            onKeyDown: Ne(v.onKeyDown, D => {
                                const K = D.ctrlKey || D.altKey || D.metaKey;
                                if (D.key === "Tab" && D.preventDefault(), !K && D.key.length === 1 && O(D.key), ["ArrowUp", "ArrowDown", "Home", "End"].includes(D.key)) {
                                    let ee = A().filter(ce => !ce.disabled).map(ce => ce.ref.current);
                                    if (["ArrowUp", "End"].includes(D.key) && (ee = ee.slice().reverse()), ["ArrowUp", "ArrowDown"].includes(D.key)) {
                                        const ce = D.target,
                                            le = ee.indexOf(ce);
                                        ee = ee.slice(le + 1)
                                    }
                                    setTimeout(() => _(ee)),
                                    D.preventDefault()
                                }
                            })
                        })
                    })
                })
            })
        })
    });
w_.displayName = lV;
var dV = "SelectItemAlignedPosition",
    C_ = h.forwardRef((t, s) => {
        const {__scopeSelect: r, onPlaced: n, ...a} = t,
            i = wo(dl, r),
            o = Co(dl, r),
            [l, c] = h.useState(null),
            [d, u] = h.useState(null),
            m = lt(s, E => u(E)),
            p = Qf(r),
            j = h.useRef(!1),
            g = h.useRef(!0),
            {viewport: x, selectedItem: y, selectedItemText: v, focusSelectedItem: f} = o,
            b = h.useCallback(() => {
                if (i.trigger && i.valueNode && l && d && x && y && v) {
                    const E = i.trigger.getBoundingClientRect(),
                        k = d.getBoundingClientRect(),
                        R = i.valueNode.getBoundingClientRect(),
                        H = v.getBoundingClientRect();
                    if (i.dir !== "rtl") {
                        const ce = H.left - k.left,
                            le = R.left - ce,
                            Se = E.left - le,
                            pe = E.width + Se,
                            _e = Math.max(pe, k.width),
                            dt = window.innerWidth - Dn,
                            B = ay(le, [Dn, Math.max(Dn, dt - _e)]);
                        l.style.minWidth = pe + "px",
                        l.style.left = B + "px"
                    } else {
                        const ce = k.right - H.right,
                            le = window.innerWidth - R.right - ce,
                            Se = window.innerWidth - E.right - le,
                            pe = E.width + Se,
                            _e = Math.max(pe, k.width),
                            dt = window.innerWidth - Dn,
                            B = ay(le, [Dn, Math.max(Dn, dt - _e)]);
                        l.style.minWidth = pe + "px",
                        l.style.right = B + "px"
                    }
                    const z = p(),
                        A = window.innerHeight - Dn * 2,
                        $ = x.scrollHeight,
                        G = window.getComputedStyle(d),
                        F = parseInt(G.borderTopWidth, 10),
                        _ = parseInt(G.paddingTop, 10),
                        S = parseInt(G.borderBottomWidth, 10),
                        I = parseInt(G.paddingBottom, 10),
                        W = F + _ + $ + I + S,
                        oe = Math.min(y.offsetHeight * 5, W),
                        O = window.getComputedStyle(x),
                        M = parseInt(O.paddingTop, 10),
                        re = parseInt(O.paddingBottom, 10),
                        ue = E.top + E.height / 2 - Dn,
                        Y = A - ue,
                        he = y.offsetHeight / 2,
                        D = y.offsetTop + he,
                        K = F + _ + D,
                        L = W - K;
                    if (K <= ue) {
                        const ce = z.length > 0 && y === z[z.length - 1].ref.current;
                        l.style.bottom = "0px";
                        const le = d.clientHeight - x.offsetTop - x.offsetHeight,
                            Se = Math.max(Y, he + (ce ? re : 0) + le + S),
                            pe = K + Se;
                        l.style.height = pe + "px"
                    } else {
                        const ce = z.length > 0 && y === z[0].ref.current;
                        l.style.top = "0px";
                        const Se = Math.max(ue, F + x.offsetTop + (ce ? M : 0) + he) + L;
                        l.style.height = Se + "px",
                        x.scrollTop = K - ue + x.offsetTop
                    }
                    l.style.margin = `${Dn}px 0`,
                    l.style.minHeight = oe + "px",
                    l.style.maxHeight = A + "px",
                    n == null || n(),
                    requestAnimationFrame(() => j.current = !0)
                }
            }, [p, i.trigger, i.valueNode, l, d, x, y, v, i.dir, n]);
        js(() => b(), [b]);
        const [N, w] = h.useState();
        js(() => {
            d && w(window.getComputedStyle(d).zIndex)
        }, [d]);
        const C = h.useCallback(E => {
            E && g.current === !0 && (b(), f == null || f(), g.current = !1)
        }, [b, f]);
        return e.jsx(mV, {
            scope: r,
            contentWrapper: l,
            shouldExpandOnScrollRef: j,
            onScrollButtonChange: C,
            children: e.jsx("div", {
                ref: c,
                style: {
                    display: "flex",
                    flexDirection: "column",
                    position: "fixed",
                    zIndex: N
                },
                children: e.jsx(Oe.div, {
                    ...a,
                    ref: m,
                    style: {
                        boxSizing: "border-box",
                        maxHeight: "100%",
                        ...a.style
                    }
                })
            })
        })
    });
C_.displayName = dV;
var uV = "SelectPopperPosition",
    iy = h.forwardRef((t, s) => {
        const {__scopeSelect: r, align: n="start", collisionPadding: a=Dn, ...i} = t,
            o = Zf(r);
        return e.jsx(Af, {
            ...o,
            ...i,
            ref: s,
            align: n,
            collisionPadding: a,
            style: {
                boxSizing: "border-box",
                ...i.style,
                "--radix-select-content-transform-origin": "var(--radix-popper-transform-origin)",
                "--radix-select-content-available-width": "var(--radix-popper-available-width)",
                "--radix-select-content-available-height": "var(--radix-popper-available-height)",
                "--radix-select-trigger-width": "var(--radix-popper-anchor-width)",
                "--radix-select-trigger-height": "var(--radix-popper-anchor-height)"
            }
        })
    });
iy.displayName = uV;
var [mV, P0] = nd(dl, {}),
    oy = "SelectViewport",
    S_ = h.forwardRef((t, s) => {
        const {__scopeSelect: r, nonce: n, ...a} = t,
            i = Co(oy, r),
            o = P0(oy, r),
            l = lt(s, i.onViewportChange),
            c = h.useRef(0);
        return e.jsxs(e.Fragment, {
            children: [e.jsx("style", {
                dangerouslySetInnerHTML: {
                    __html: "[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"
                },
                nonce: n
            }), e.jsx(Yf.Slot, {
                scope: r,
                children: e.jsx(Oe.div, {
                    "data-radix-select-viewport": "",
                    role: "presentation",
                    ...a,
                    ref: l,
                    style: {
                        position: "relative",
                        flex: 1,
                        overflow: "hidden auto",
                        ...a.style
                    },
                    onScroll: Ne(a.onScroll, d => {
                        const u = d.currentTarget,
                            {contentWrapper: m, shouldExpandOnScrollRef: p} = o;
                        if (p != null && p.current && m) {
                            const j = Math.abs(c.current - u.scrollTop);
                            if (j > 0) {
                                const g = window.innerHeight - Dn * 2,
                                    x = parseFloat(m.style.minHeight),
                                    y = parseFloat(m.style.height),
                                    v = Math.max(x, y);
                                if (v < g) {
                                    const f = v + j,
                                        b = Math.min(g, f),
                                        N = f - b;
                                    m.style.height = b + "px",
                                    m.style.bottom === "0px" && (u.scrollTop = N > 0 ? N : 0, m.style.justifyContent = "flex-end")
                                }
                            }
                        }
                        c.current = u.scrollTop
                    })
                })
            })]
        })
    });
S_.displayName = oy;
var E_ = "SelectGroup",
    [hV, pV] = nd(E_),
    fV = h.forwardRef((t, s) => {
        const {__scopeSelect: r, ...n} = t,
            a = cn();
        return e.jsx(hV, {
            scope: r,
            id: a,
            children: e.jsx(Oe.div, {
                role: "group",
                "aria-labelledby": a,
                ...n,
                ref: s
            })
        })
    });
fV.displayName = E_;
var k_ = "SelectLabel",
    P_ = h.forwardRef((t, s) => {
        const {__scopeSelect: r, ...n} = t,
            a = pV(k_, r);
        return e.jsx(Oe.div, {
            id: a.id,
            ...n,
            ref: s
        })
    });
P_.displayName = k_;
var Dp = "SelectItem",
    [xV, __] = nd(Dp),
    T_ = h.forwardRef((t, s) => {
        const {__scopeSelect: r, value: n, disabled: a=!1, textValue: i, ...o} = t,
            l = wo(Dp, r),
            c = Co(Dp, r),
            d = l.value === n,
            [u, m] = h.useState(i ?? ""),
            [p, j] = h.useState(!1),
            g = lt(s, f => {
                var b;
                return (b = c.itemRefCallback) == null ? void 0 : b.call(c, f, n, a)
            }),
            x = cn(),
            y = h.useRef("touch"),
            v = () => {
                a || (l.onValueChange(n), l.onOpenChange(!1))
            };
        if (n === "")
            throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");
        return e.jsx(xV, {
            scope: r,
            value: n,
            disabled: a,
            textId: x,
            isSelected: d,
            onItemTextChange: h.useCallback(f => {
                m(b => b || ((f == null ? void 0 : f.textContent) ?? "").trim())
            }, []),
            children: e.jsx(Yf.ItemSlot, {
                scope: r,
                value: n,
                disabled: a,
                textValue: u,
                children: e.jsx(Oe.div, {
                    role: "option",
                    "aria-labelledby": x,
                    "data-highlighted": p ? "" : void 0,
                    "aria-selected": d && p,
                    "data-state": d ? "checked" : "unchecked",
                    "aria-disabled": a || void 0,
                    "data-disabled": a ? "" : void 0,
                    tabIndex: a ? void 0 : -1,
                    ...o,
                    ref: g,
                    onFocus: Ne(o.onFocus, () => j(!0)),
                    onBlur: Ne(o.onBlur, () => j(!1)),
                    onClick: Ne(o.onClick, () => {
                        y.current !== "mouse" && v()
                    }),
                    onPointerUp: Ne(o.onPointerUp, () => {
                        y.current === "mouse" && v()
                    }),
                    onPointerDown: Ne(o.onPointerDown, f => {
                        y.current = f.pointerType
                    }),
                    onPointerMove: Ne(o.onPointerMove, f => {
                        var b;
                        y.current = f.pointerType,
                        a ? (b = c.onItemLeave) == null || b.call(c) : y.current === "mouse" && f.currentTarget.focus({
                            preventScroll: !0
                        })
                    }),
                    onPointerLeave: Ne(o.onPointerLeave, f => {
                        var b;
                        f.currentTarget === document.activeElement && ((b = c.onItemLeave) == null || b.call(c))
                    }),
                    onKeyDown: Ne(o.onKeyDown, f => {
                        var N;
                        ((N = c.searchRef) == null ? void 0 : N.current) !== "" && f.key === " " || (tV.includes(f.key) && v(), f.key === " " && f.preventDefault())
                    })
                })
            })
        })
    });
T_.displayName = Dp;
var Ld = "SelectItemText",
    A_ = h.forwardRef((t, s) => {
        const {__scopeSelect: r, className: n, style: a, ...i} = t,
            o = wo(Ld, r),
            l = Co(Ld, r),
            c = __(Ld, r),
            d = aV(Ld, r),
            [u, m] = h.useState(null),
            p = lt(s, v => m(v), c.onItemTextChange, v => {
                var f;
                return (f = l.itemTextRefCallback) == null ? void 0 : f.call(l, v, c.value, c.disabled)
            }),
            j = u == null ? void 0 : u.textContent,
            g = h.useMemo(() => e.jsx("option", {
                value: c.value,
                disabled: c.disabled,
                children: j
            }, c.value), [c.disabled, c.value, j]),
            {onNativeOptionAdd: x, onNativeOptionRemove: y} = d;
        return js(() => (x(g), () => y(g)), [x, y, g]), e.jsxs(e.Fragment, {
            children: [e.jsx(Oe.span, {
                id: c.textId,
                ...i,
                ref: p
            }), c.isSelected && o.valueNode && !o.valueNodeHasChildren ? yl.createPortal(i.children, o.valueNode) : null]
        })
    });
A_.displayName = Ld;
var M_ = "SelectItemIndicator",
    I_ = h.forwardRef((t, s) => {
        const {__scopeSelect: r, ...n} = t;
        return __(M_, r).isSelected ? e.jsx(Oe.span, {
            "aria-hidden": !0,
            ...n,
            ref: s
        }) : null
    });
I_.displayName = M_;
var ly = "SelectScrollUpButton",
    R_ = h.forwardRef((t, s) => {
        const r = Co(ly, t.__scopeSelect),
            n = P0(ly, t.__scopeSelect),
            [a, i] = h.useState(!1),
            o = lt(s, n.onScrollButtonChange);
        return js(() => {
            if (r.viewport && r.isPositioned) {
                let l = function() {
                    const d = c.scrollTop > 0;
                    i(d)
                };
                const c = r.viewport;
                return l(), c.addEventListener("scroll", l), () => c.removeEventListener("scroll", l)
            }
        }, [r.viewport, r.isPositioned]), a ? e.jsx(O_, {
            ...t,
            ref: o,
            onAutoScroll: () => {
                const {viewport: l, selectedItem: c} = r;
                l && c && (l.scrollTop = l.scrollTop - c.offsetHeight)
            }
        }) : null
    });
R_.displayName = ly;
var cy = "SelectScrollDownButton",
    D_ = h.forwardRef((t, s) => {
        const r = Co(cy, t.__scopeSelect),
            n = P0(cy, t.__scopeSelect),
            [a, i] = h.useState(!1),
            o = lt(s, n.onScrollButtonChange);
        return js(() => {
            if (r.viewport && r.isPositioned) {
                let l = function() {
                    const d = c.scrollHeight - c.clientHeight,
                        u = Math.ceil(c.scrollTop) < d;
                    i(u)
                };
                const c = r.viewport;
                return l(), c.addEventListener("scroll", l), () => c.removeEventListener("scroll", l)
            }
        }, [r.viewport, r.isPositioned]), a ? e.jsx(O_, {
            ...t,
            ref: o,
            onAutoScroll: () => {
                const {viewport: l, selectedItem: c} = r;
                l && c && (l.scrollTop = l.scrollTop + c.offsetHeight)
            }
        }) : null
    });
D_.displayName = cy;
var O_ = h.forwardRef((t, s) => {
        const {__scopeSelect: r, onAutoScroll: n, ...a} = t,
            i = Co("SelectScrollButton", r),
            o = h.useRef(null),
            l = Qf(r),
            c = h.useCallback(() => {
                o.current !== null && (window.clearInterval(o.current), o.current = null)
            }, []);
        return h.useEffect(() => () => c(), [c]), js(() => {
            var u;
            const d = l().find(m => m.ref.current === document.activeElement);
            (u = d == null ? void 0 : d.ref.current) == null || u.scrollIntoView({
                block: "nearest"
            })
        }, [l]), e.jsx(Oe.div, {
            "aria-hidden": !0,
            ...a,
            ref: s,
            style: {
                flexShrink: 0,
                ...a.style
            },
            onPointerDown: Ne(a.onPointerDown, () => {
                o.current === null && (o.current = window.setInterval(n, 50))
            }),
            onPointerMove: Ne(a.onPointerMove, () => {
                var d;
                (d = i.onItemLeave) == null || d.call(i),
                o.current === null && (o.current = window.setInterval(n, 50))
            }),
            onPointerLeave: Ne(a.onPointerLeave, () => {
                c()
            })
        })
    }),
    gV = "SelectSeparator",
    L_ = h.forwardRef((t, s) => {
        const {__scopeSelect: r, ...n} = t;
        return e.jsx(Oe.div, {
            "aria-hidden": !0,
            ...n,
            ref: s
        })
    });
L_.displayName = gV;
var dy = "SelectArrow",
    vV = h.forwardRef((t, s) => {
        const {__scopeSelect: r, ...n} = t,
            a = Zf(r),
            i = wo(dy, r),
            o = Co(dy, r);
        return i.open && o.position === "popper" ? e.jsx(Mf, {
            ...a,
            ...n,
            ref: s
        }) : null
    });
vV.displayName = dy;
function F_(t) {
    return t === "" || t === void 0
}
var z_ = h.forwardRef((t, s) => {
    const {value: r, ...n} = t,
        a = h.useRef(null),
        i = lt(s, a),
        o = zf(r);
    return h.useEffect(() => {
        const l = a.current,
            c = window.HTMLSelectElement.prototype,
            u = Object.getOwnPropertyDescriptor(c, "value").set;
        if (o !== r && u) {
            const m = new Event("change", {
                bubbles: !0
            });
            u.call(l, r),
            l.dispatchEvent(m)
        }
    }, [o, r]), e.jsx(om, {
        asChild: !0,
        children: e.jsx("select", {
            ...n,
            ref: i,
            defaultValue: r
        })
    })
});
z_.displayName = "BubbleSelect";
function $_(t) {
    const s = Zt(t),
        r = h.useRef(""),
        n = h.useRef(0),
        a = h.useCallback(o => {
            const l = r.current + o;
            s(l),
            function c(d) {
                r.current = d,
                window.clearTimeout(n.current),
                d !== "" && (n.current = window.setTimeout(() => c(""), 1e3))
            }(l)
        }, [s]),
        i = h.useCallback(() => {
            r.current = "",
            window.clearTimeout(n.current)
        }, []);
    return h.useEffect(() => () => window.clearTimeout(n.current), []), [r, a, i]
}
function V_(t, s, r) {
    const a = s.length > 1 && Array.from(s).every(d => d === s[0]) ? s[0] : s,
        i = r ? t.indexOf(r) : -1;
    let o = yV(t, Math.max(i, 0));
    a.length === 1 && (o = o.filter(d => d !== r));
    const c = o.find(d => d.textValue.toLowerCase().startsWith(a.toLowerCase()));
    return c !== r ? c : void 0
}
function yV(t, s) {
    return t.map((r, n) => t[(s + n) % t.length])
}
var jV = p_,
    U_ = x_,
    bV = v_,
    NV = y_,
    wV = j_,
    q_ = b_,
    CV = S_,
    B_ = P_,
    H_ = T_,
    SV = A_,
    EV = I_,
    W_ = R_,
    G_ = D_,
    K_ = L_;
const He = jV,
    We = bV,
    qe = h.forwardRef(({className: t, children: s, ...r}, n) => e.jsxs(U_, {
        ref: n,
        className: me("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1", t),
        ...r,
        children: [s, e.jsx(NV, {
            asChild: !0,
            children: e.jsx(rl, {
                className: "h-4 w-4 opacity-50"
            })
        })]
    }));
qe.displayName = U_.displayName;
const Y_ = h.forwardRef(({className: t, ...s}, r) => e.jsx(W_, {
    ref: r,
    className: me("flex cursor-default items-center justify-center py-1", t),
    ...s,
    children: e.jsx(Ev, {
        className: "h-4 w-4"
    })
}));
Y_.displayName = W_.displayName;
const Q_ = h.forwardRef(({className: t, ...s}, r) => e.jsx(G_, {
    ref: r,
    className: me("flex cursor-default items-center justify-center py-1", t),
    ...s,
    children: e.jsx(rl, {
        className: "h-4 w-4"
    })
}));
Q_.displayName = G_.displayName;
const Be = h.forwardRef(({className: t, children: s, position: r="popper", ...n}, a) => e.jsx(wV, {
    children: e.jsxs(q_, {
        ref: a,
        className: me("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]", r === "popper" && "data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1", t),
        position: r,
        ...n,
        children: [e.jsx(Y_, {}), e.jsx(CV, {
            className: me("p-1", r === "popper" && "h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),
            children: s
        }), e.jsx(Q_, {})]
    })
}));
Be.displayName = q_.displayName;
const kV = h.forwardRef(({className: t, ...s}, r) => e.jsx(B_, {
    ref: r,
    className: me("py-1.5 pl-8 pr-2 text-sm font-semibold", t),
    ...s
}));
kV.displayName = B_.displayName;
const Q = h.forwardRef(({className: t, children: s, value: r, ...n}, a) => {
    const i = r === "" ? "__empty__" : r;
    return e.jsxs(H_, {
        ref: a,
        className: me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50", t),
        value: i,
        ...n,
        children: [e.jsx("span", {
            className: "absolute left-2 flex h-3.5 w-3.5 items-center justify-center",
            children: e.jsx(EV, {
                children: e.jsx(Cf, {
                    className: "h-4 w-4"
                })
            })
        }), e.jsx(SV, {
            children: s
        })]
    })
});
Q.displayName = H_.displayName;
const PV = h.forwardRef(({className: t, ...s}, r) => e.jsx(K_, {
    ref: r,
    className: me("-mx-1 my-1 h-px bg-muted", t),
    ...s
}));
PV.displayName = K_.displayName;
Array.from({
    length: 31
}, (t, s) => new Date().getFullYear() - s);
const _V = () => {
        const [, t] = ut(),
            [s, r] = h.useState("all-brands"),
            [n, a] = h.useState("all-models"),
            [i, o] = h.useState("all-families"),
            [l, c] = h.useState(""),
            {data: d, error: u, isLoading: m} = Te({
                queryKey: ["parts-brands-models"],
                queryFn: async () => {
                    try {
                        return await k0.getBrandsAndModels()
                    } catch (x) {
                        throw x
                    }
                },
                staleTime: 10 * 60 * 1e3,
                retry: 3
            }),
            p = h.useMemo(() => d != null && d.brands ? d.brands.sort() : [], [d]);
        Te({
            queryKey: ["parts-brands-models", s, n],
            queryFn: () => fetch(`/api/parts/brands-models?marca=${s || "all-brands"}&modelo=${n || "all-models"}`).then(x => x.json()),
            staleTime: 5 * 60 * 1e3
        });
        const {data: j} = Te({
                queryKey: ["/api/parts/families", s, n],
                queryFn: async () => {
                    try {
                        const x = new URLSearchParams;
                        s && s !== "all-brands" && x.append("marca", s),
                        n && n !== "all-models" && x.append("modelo", n);
                        const y = `/api/optimized/parts/families?${x.toString()}`,
                            v = await fetch(y);
                        if (!v.ok)
                            throw new Error(`Error ${v.status}: ${v.statusText}`);
                        const f = await v.json();
                        if (Array.isArray(f) && f.length > 0 && typeof f[0] == "object" && f[0].name)
                            return f.map(C => C.name).sort();
                        if (Array.isArray(f) && f.length > 0 && typeof f[0] == "string")
                            return f.sort();
                        const b = new URLSearchParams;
                        b.append("limit", "2000"),
                        b.append("activo", "true"),
                        s && s !== "all-brands" && b.append("marca", s),
                        n && n !== "all-models" && b.append("modelo", n);
                        const w = await (await fetch(`/api/parts?${b.toString()}`)).json();
                        return Array.from(new Set(w.data.map(C => C.descripcionFamilia).filter(Boolean))).sort()
                    } catch {
                        return []
                    }
                },
                staleTime: 3e4
            }),
            g = x => {
                x.preventDefault();
                const y = new URLSearchParams;
                l.trim() && y.append("search", l.trim()),
                s && s !== "all-brands" && s !== "" && y.append("marca", s),
                n && n !== "all-models" && n !== "" && y.append("modelo", n),
                i && i !== "all-families" && i !== "" && y.append("familia", i);
                const v = `/piezas?${y.toString()}`;
                t(v)
            };
        return e.jsx("section", {
            className: "relative",
            children: e.jsxs("div", {
                className: "min-h-[28rem] sm:min-h-[32rem] bg-center bg-cover py-8 sm:py-12 md:py-20 hero-background",
                style: {
                    backgroundImage: "url('https://images.unsplash.com/photo-1503376780353-7e6692767b70?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&h=700')",
                    backgroundPosition: "center center"
                },
                children: [e.jsx("div", {
                    className: "absolute inset-0 bg-gradient-to-r from-primary/95 via-primary/85 to-primary/70 sm:from-primary/90 sm:to-primary/50 md:from-primary/80 md:to-transparent"
                }), e.jsx("div", {
                    className: "relative z-10 flex min-h-[28rem] sm:min-h-[32rem] items-center",
                    children: e.jsx("div", {
                        className: "container mx-auto px-4 sm:px-6",
                        children: e.jsxs("div", {
                            className: "max-w-xl lg:max-w-2xl",
                            children: [e.jsx("h1", {
                                className: "text-xl sm:text-2xl md:text-3xl lg:text-4xl font-montserrat font-bold text-white mb-3 sm:mb-4 leading-tight text-center sm:text-left",
                                children: "Encuentra las piezas que necesitas"
                            }), e.jsx("p", {
                                className: "text-sm sm:text-base md:text-lg text-white mb-6 md:mb-8 leading-relaxed text-center sm:text-left",
                                children: "Miles de piezas originales de vehículos con garantía y al mejor precio"
                            }), e.jsx(U, {
                                className: "shadow-lg bg-white/95 backdrop-blur-sm",
                                children: e.jsx(q, {
                                    className: "p-3 sm:p-4 md:p-6",
                                    children: e.jsxs("form", {
                                        onSubmit: g,
                                        className: "space-y-3 sm:space-y-4",
                                        children: [e.jsxs("div", {
                                            className: "mb-3 sm:mb-4",
                                            children: [e.jsx("label", {
                                                className: "block text-xs sm:text-sm font-medium text-gray-700 mb-1",
                                                children: "Buscar"
                                            }), e.jsxs("div", {
                                                className: "relative",
                                                children: [e.jsx(Cr, {
                                                    className: "absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"
                                                }), e.jsx(te, {
                                                    placeholder: "Buscar por descripción, referencia...",
                                                    className: "pl-9 text-sm",
                                                    value: l,
                                                    onChange: x => c(x.target.value)
                                                })]
                                            })]
                                        }), e.jsxs("div", {
                                            className: "grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",
                                            children: [e.jsxs("div", {
                                                children: [e.jsx("label", {
                                                    className: "block text-xs sm:text-sm font-medium text-gray-700 mb-1",
                                                    children: "Marca de vehículo"
                                                }), e.jsxs(He, {
                                                    value: s,
                                                    onValueChange: x => {
                                                        x !== s && a(""),
                                                        r(x)
                                                    },
                                                    children: [e.jsx(qe, {
                                                        className: "bg-white",
                                                        children: e.jsx(We, {
                                                            placeholder: "Todas las marcas"
                                                        })
                                                    }), e.jsxs(Be, {
                                                        children: [e.jsx(Q, {
                                                            value: "all-brands",
                                                            children: "Todas las marcas"
                                                        }), p.map(x => e.jsx(Q, {
                                                            value: x,
                                                            children: x
                                                        }, x))]
                                                    })]
                                                })]
                                            }), e.jsxs("div", {
                                                children: [e.jsx("label", {
                                                    className: "block text-xs sm:text-sm font-medium text-gray-700 mb-1",
                                                    children: "Modelo de vehículo"
                                                }), e.jsxs(He, {
                                                    value: n,
                                                    onValueChange: a,
                                                    disabled: !s || s === "all-brands",
                                                    children: [e.jsx(qe, {
                                                        className: "bg-white",
                                                        children: e.jsx(We, {
                                                            placeholder: "Todos los modelos"
                                                        })
                                                    }), e.jsxs(Be, {
                                                        children: [e.jsx(Q, {
                                                            value: "all-models",
                                                            children: "Todos los modelos"
                                                        }), d != null && d.models && d.models[s] ? d.models[s].map(x => e.jsx(Q, {
                                                            value: x,
                                                            children: x
                                                        }, x)) : e.jsx(Q, {
                                                            disabled: !0,
                                                            value: "no-models",
                                                            children: "No hay modelos disponibles"
                                                        })]
                                                    })]
                                                })]
                                            }), e.jsxs("div", {
                                                className: "w-full sm:col-span-2 lg:col-span-1",
                                                children: [e.jsx("label", {
                                                    className: "block text-xs sm:text-sm font-medium text-gray-700 mb-1",
                                                    children: "Categoría de pieza"
                                                }), e.jsxs(He, {
                                                    value: i,
                                                    onValueChange: o,
                                                    children: [e.jsx(qe, {
                                                        className: "bg-white",
                                                        children: e.jsx(We, {
                                                            placeholder: "Todas las categorías"
                                                        })
                                                    }), e.jsxs(Be, {
                                                        children: [e.jsx(Q, {
                                                            value: "all-families",
                                                            children: "Todas las categorías"
                                                        }), j && j.length > 0 ? j.map(x => e.jsx(Q, {
                                                            value: x,
                                                            children: x
                                                        }, x)) : e.jsx(Q, {
                                                            value: "",
                                                            disabled: !0,
                                                            children: s || n ? "Cargando categorías..." : "Selecciona marca/modelo o busca directamente"
                                                        })]
                                                    })]
                                                })]
                                            })]
                                        }), e.jsxs(T, {
                                            type: "submit",
                                            className: "w-full bg-secondary hover:bg-secondary/90 text-white font-montserrat font-semibold py-2 sm:py-3 text-sm sm:text-base",
                                            children: [e.jsx(Cr, {
                                                className: "mr-2 h-4 w-4 sm:h-5 sm:w-5"
                                            }), " Buscar Piezas"]
                                        })]
                                    })
                                })
                            })]
                        })
                    })
                })]
            })
        })
    },
    TV = "/assets/introduesguace_1754119900576-xNI6bzgK.png",
    s1 = {
        CheckCircle: Rt,
        Truck: er,
        EuroIcon: VE,
        Headphones: qE,
        Star: ai,
        Shield: lm,
        Clock: Bs,
        Phone: Xn,
        Award: gO,
        Settings: Hs,
        Users: ci,
        Heart: AO,
        ThumbsUp: WO,
        Zap: Ga
    },
    AV = () => {
        const {data: t, isLoading: s} = Te({
            queryKey: ["/api/cms/homepage-blocks"],
            queryFn: async () => {
                const i = await fetch("/api/cms/homepage-blocks");
                if (!i.ok)
                    throw new Error("Error al cargar bloques");
                return i.json()
            }
        });
        if (s)
            return e.jsx("section", {
                className: "py-8 bg-white",
                children: e.jsx("div", {
                    className: "container mx-auto px-4",
                    children: e.jsx("div", {
                        className: "text-center",
                        children: "Cargando..."
                    })
                })
            });
        const r = t == null ? void 0 : t.find(i => i.blockType === "why_choose_us_title"),
            n = (t == null ? void 0 : t.filter(i => i.blockType === "why_choose_us" && i.isActive).sort((i, o) => i.sortOrder - o.sortOrder)) || [];
        t == null || t.find(i => i.blockType === "why_choose_us_image");
        const a = i => {
            if (!i || !s1[i])
                return e.jsx(Rt, {
                    className: "h-6 w-6"
                });
            const o = s1[i];
            return e.jsx(o, {
                className: "h-6 w-6"
            })
        };
        return e.jsx("section", {
            className: "py-8 bg-white",
            children: e.jsx("div", {
                className: "container mx-auto px-4",
                children: e.jsxs("div", {
                    className: "grid grid-cols-1 md:grid-cols-2 gap-8 items-center",
                    children: [e.jsxs("div", {
                        children: [r && e.jsx("h2", {
                            className: "text-3xl font-montserrat font-semibold text-gray-800 mb-2",
                            children: r.title
                        }), e.jsx("div", {
                            className: "space-y-6",
                            children: n.map(i => e.jsxs("div", {
                                className: "flex",
                                children: [e.jsx("div", {
                                    className: "flex-shrink-0 w-12 h-12 rounded-full bg-primary flex items-center justify-center text-white",
                                    children: a(i.icon)
                                }), e.jsxs("div", {
                                    className: "ml-4",
                                    children: [e.jsx("h3", {
                                        className: "text-xl font-montserrat font-semibold mb-2",
                                        children: i.title
                                    }), i.description && e.jsx("p", {
                                        className: "text-gray-600",
                                        children: i.description
                                    })]
                                })]
                            }, i.id))
                        })]
                    }), e.jsx("div", {
                        children: e.jsx("div", {
                            className: "rounded-lg shadow-lg overflow-hidden",
                            children: e.jsx("img", {
                                src: TV,
                                alt: "Desguace Murcia - Piezas y vehículos de desguace",
                                className: "w-full h-auto object-contain",
                                loading: "lazy",
                                decoding: "async",
                                onError: i => {
                                    const o = i.target;
                                    o.style.display = "none",
                                    o.parentElement.innerHTML = '<div class="w-full h-64 bg-gray-200 flex items-center justify-center"><p class="text-gray-600">Imagen de introducción al desguace</p></div>'
                                }
                            })
                        })
                    })]
                })
            })
        })
    },
    MV = async () => {
        try {
            const t = await fetch("/api/google-reviews");
            if (!t.ok)
                return {
                    success: !1,
                    business: "",
                    location: "",
                    reviews: [],
                    total: 0
                };
            const s = await t.json();
            return s.success ? s : {
                success: !1,
                business: "",
                location: "",
                reviews: [],
                total: 0
            }
        } catch {
            return {
                success: !1,
                business: "",
                location: "",
                reviews: [],
                total: 0
            }
        }
    },
    IV = () => {
        const {data: t, isLoading: s, error: r} = Te({
                queryKey: ["google-reviews"],
                queryFn: MV,
                staleTime: 36e5,
                refetchOnWindowFocus: !1
            }),
            n = (t == null ? void 0 : t.reviews) || [],
            i = n.filter(u => u.rating >= 4).slice(0, 8),
            o = (t == null ? void 0 : t.globalRating) || 4.8,
            l = (t == null ? void 0 : t.totalReviews) || 592;
        t != null && t.business;
        const c = u => [...Array(5)].map((m, p) => e.jsx(ai, {
            className: `h-4 w-4 ${p < u ? "fill-yellow-400 text-yellow-400" : "text-gray-300"}`
        }, p));
        if (s)
            return e.jsx("div", {
                className: "w-full bg-white py-8",
                children: e.jsxs("div", {
                    className: "container mx-auto px-4",
                    children: [e.jsxs("div", {
                        className: "text-center mb-8",
                        children: [e.jsx("h2", {
                            className: "text-3xl font-montserrat font-semibold text-gray-800 mb-2",
                            children: "Opiniones de nuestros clientes"
                        }), e.jsx("p", {
                            className: "text-lg text-gray-600 max-w-2xl mx-auto",
                            children: "Reseñas reales de Google de clientes satisfechos"
                        })]
                    }), e.jsxs("div", {
                        className: "flex justify-center items-center py-12",
                        children: [e.jsx(Xt, {
                            className: "h-8 w-8 animate-spin text-primary"
                        }), e.jsx("span", {
                            className: "ml-2 text-gray-600",
                            children: "Cargando reseñas..."
                        })]
                    })]
                })
            });
        if (r)
            return e.jsx("div", {
                className: "w-full bg-white py-8",
                children: e.jsxs("div", {
                    className: "container mx-auto px-4",
                    children: [e.jsxs("div", {
                        className: "text-center mb-8",
                        children: [e.jsx("h2", {
                            className: "text-3xl font-montserrat font-semibold text-gray-800 mb-2",
                            children: "Opiniones de nuestros clientes"
                        }), e.jsx("p", {
                            className: "text-lg text-gray-600 max-w-2xl mx-auto",
                            children: "Reseñas reales de Google de clientes satisfechos"
                        })]
                    }), e.jsxs("div", {
                        className: "flex justify-center items-center py-12",
                        children: [e.jsx(zr, {
                            className: "h-8 w-8 text-orange-500"
                        }), e.jsx("span", {
                            className: "ml-2 text-gray-600",
                            children: "No se pudieron cargar las reseñas en este momento"
                        })]
                    })]
                })
            });
        if (!i || i.length === 0)
            return e.jsx("section", {
                className: "py-16 bg-gray-50",
                children: e.jsxs("div", {
                    className: "container mx-auto px-4",
                    children: [e.jsxs("div", {
                        className: "text-center mb-12",
                        children: [e.jsx("h2", {
                            className: "text-3xl font-montserrat font-semibold text-gray-800 mb-2",
                            children: "Opiniones de Nuestros Clientes"
                        }), e.jsx("p", {
                            className: "text-lg text-gray-600",
                            children: "Mostramos solo reseñas de 4-5 estrellas de Google"
                        })]
                    }), e.jsx("div", {
                        className: "flex justify-center items-center py-12",
                        children: e.jsxs("div", {
                            className: "text-center",
                            children: [e.jsx(ai, {
                                className: "h-12 w-12 mx-auto text-yellow-400 mb-4"
                            }), e.jsx("p", {
                                className: "text-gray-600 mb-2",
                                children: n.length > 0 ? `Mostrando las mejores reseñas (${i.length} de ${n.length} con 4-5 ⭐)` : "Obteniendo reseñas auténticas de Google"
                            }), e.jsxs("p", {
                                className: "text-sm text-gray-500",
                                children: [o > 0 && e.jsxs(e.Fragment, {
                                    children: ["Valoración media: ", o.toFixed(1), "/5 ⭐ (", l, " reseñas totales)"]
                                }), o === 0 && "Solo mostramos reseñas verificadas de 4-5 estrellas"]
                            })]
                        })
                    })]
                })
            });
        const d = u => new Date(u).toLocaleDateString("es-ES", {
            year: "numeric",
            month: "long",
            day: "numeric"
        });
        return e.jsx("section", {
            className: "py-8 bg-gray-50",
            children: e.jsxs("div", {
                className: "container mx-auto px-4",
                children: [e.jsxs("div", {
                    className: "text-center mb-8",
                    children: [e.jsx("h2", {
                        className: "text-3xl font-montserrat font-semibold text-gray-800 mb-2",
                        children: "Opiniones de Nuestros Clientes"
                    }), e.jsx("p", {
                        className: "text-lg text-gray-600",
                        children: "Lo que dicen nuestros clientes en Google"
                    }), o > 0 && e.jsxs("div", {
                        className: "flex items-center justify-center mt-6 space-x-2",
                        children: [e.jsx("div", {
                            className: "flex items-center",
                            children: [...Array(5)].map((u, m) => e.jsx(ai, {
                                className: `w-6 h-6 ${m < Math.floor(o) ? "text-yellow-400 fill-current" : "text-gray-300"}`
                            }, m))
                        }), e.jsx("span", {
                            className: "text-2xl font-bold text-gray-900",
                            children: o.toFixed(1)
                        }), e.jsxs("span", {
                            className: "text-gray-600",
                            children: ["(", l.toLocaleString(), " reseñas)"]
                        })]
                    })]
                }), e.jsx("div", {
                    className: "max-w-6xl mx-auto",
                    children: e.jsxs(Ic, {
                        opts: {
                            align: "start",
                            loop: !0
                        },
                        className: "w-full",
                        children: [e.jsx(Rc, {
                            className: "-ml-2 md:-ml-4",
                            children: i.map(u => e.jsx(Yo, {
                                className: "pl-2 md:pl-4 md:basis-1/2 lg:basis-1/3",
                                children: e.jsx(U, {
                                    className: "h-full",
                                    children: e.jsxs(q, {
                                        className: "p-6",
                                        children: [e.jsxs("div", {
                                            className: "flex items-center mb-4",
                                            children: [e.jsx("div", {
                                                className: "flex items-center justify-center w-10 h-10 rounded-full bg-primary text-white font-semibold text-sm mr-3",
                                                children: u.avatar || u.author.charAt(0)
                                            }), e.jsxs("div", {
                                                className: "flex-1",
                                                children: [e.jsx("h4", {
                                                    className: "font-semibold text-gray-900",
                                                    children: u.author
                                                }), e.jsx("div", {
                                                    className: "flex items-center mt-1",
                                                    children: c(u.rating)
                                                })]
                                            })]
                                        }), e.jsxs("p", {
                                            className: "text-gray-600 mb-4 text-sm leading-relaxed",
                                            children: ['"', u.text, '"']
                                        }), e.jsxs("div", {
                                            className: "flex items-center justify-between text-xs text-gray-500",
                                            children: [e.jsx("span", {
                                                children: d(u.date)
                                            }), e.jsxs("div", {
                                                className: "flex items-center",
                                                children: [e.jsxs("svg", {
                                                    className: "w-4 h-4 mr-1",
                                                    viewBox: "0 0 24 24",
                                                    fill: "currentColor",
                                                    children: [e.jsx("path", {
                                                        d: "M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",
                                                        fill: "#4285F4"
                                                    }), e.jsx("path", {
                                                        d: "M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",
                                                        fill: "#34A853"
                                                    }), e.jsx("path", {
                                                        d: "M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",
                                                        fill: "#FBBC05"
                                                    }), e.jsx("path", {
                                                        d: "M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",
                                                        fill: "#EA4335"
                                                    })]
                                                }), e.jsx("span", {
                                                    children: "Google"
                                                })]
                                            })]
                                        })]
                                    })
                                })
                            }, u.id))
                        }), e.jsx(Dc, {}), e.jsx(Oc, {})]
                    })
                })]
            })
        })
    };
function Z_(t) {
    return t ? t.toLowerCase().trim().replace(/[áàäâã]/g, "a").replace(/[éèëê]/g, "e").replace(/[íìïî]/g, "i").replace(/[óòöôõ]/g, "o").replace(/[úùüû]/g, "u").replace(/[ñ]/g, "n").replace(/[ç]/g, "c").replace(/[^a-z0-9\s-]/g, "").replace(/\s+/g, "-").replace(/-+/g, "-").replace(/^-|-$/g, "") : ""
}
function uy(t) {
    return `/piezas/${Z_(`${t.descripcionArticulo} ${t.vehicleMarca} ${t.vehicleModelo}`)}-${t.id}`
}
function Mu(t) {
    const s = t.anyo ? `-${t.anyo}` : "";
    return `/vehiculos/${Z_(`${t.marca} ${t.modelo}${s}`)}-${t.id}`
}
function X_(t) {
    const s = t.match(/-(\d+)$/);
    return s ? parseInt(s[1]) : null
}
const _0 = ({src: t, alt: s, className: r="", fallbackIcon: n, priority: a=!1, placeholder: i}) => {
        const [o, l] = h.useState(!1),
            [c, d] = h.useState(!1),
            [u, m] = h.useState(a),
            p = h.useRef(null);
        h.useEffect(() => {
            if (a || u)
                return;
            const x = new IntersectionObserver(([y]) => {
                y.isIntersecting && (m(!0), x.disconnect())
            }, {
                rootMargin: "50px",
                threshold: .1
            });
            return p.current && x.observe(p.current), () => x.disconnect()
        }, [a, u]);
        const j = () => {
                l(!0)
            },
            g = () => {
                d(!0),
                l(!0)
            };
        return c ? e.jsxs("div", {
            className: `flex items-center justify-center bg-gray-100 ${r}`,
            children: [n, e.jsx("span", {
                className: "sr-only",
                children: s
            })]
        }) : e.jsxs("div", {
            className: `relative overflow-hidden ${r}`,
            ref: p,
            children: [i && !o && e.jsx("img", {
                src: i,
                alt: "",
                className: "absolute inset-0 w-full h-full object-cover filter blur-sm scale-110",
                "aria-hidden": "true"
            }), (u || a) && e.jsx("img", {
                src: t,
                alt: s,
                className: `w-full h-full object-cover transition-opacity duration-300 ${o ? "opacity-100" : "opacity-0"}`,
                loading: a ? "eager" : "lazy",
                decoding: "async",
                onLoad: j,
                onError: g
            }), !o && !i && e.jsx("div", {
                className: "absolute inset-0 bg-gray-100 animate-pulse"
            })]
        })
    },
    T0 = ({vehicle: t, className: s, partCount: r}) => {
        const [, n] = ut();
        if (!t)
            return null;
        const a = t.activeParts || t.active_parts_count || r || 0,
            o = t && t.imagenes && Array.isArray(t.imagenes) && t.imagenes.length > 0 ? t.imagenes[0] : null,
            l = () => {
                if (!t)
                    return "Vehículo";
                if (t.descripcion && t.descripcion.trim() !== "" && isNaN(Number(t.descripcion.trim())))
                    return t.descripcion;
                const d = [];
                return t.marca && t.marca !== "N/A" && t.marca.trim() !== "" && d.push(t.marca), t.modelo && t.modelo !== "N/A" && t.modelo.trim() !== "" && d.push(t.modelo), t.version && t.version !== "N/A" && t.version.trim() !== "" && d.push(t.version), t.anyo && t.anyo > 0 && d.push(t.anyo.toString()), d.length > 0 ? d.join(" ") : `Vehículo ${t.id || "Sin ID"}`
            },
            c = () => {
                const d = Mu({
                    id: t.id,
                    marca: t.marca,
                    modelo: t.modelo,
                    anyo: t.anyo
                });
                n(d),
                jf(!0)
            };
        return e.jsxs(U, {
            className: me("h-full flex flex-col cursor-pointer hover:shadow-lg transition-shadow duration-200 overflow-hidden", s),
            onClick: d => {
                d.target instanceof HTMLElement && !d.target.closest("a, button") && c()
            },
            children: [e.jsx("div", {
                className: "relative h-48 overflow-hidden bg-gray-100",
                children: o ? e.jsx(_0, {
                    src: o,
                    alt: l(),
                    className: "h-full",
                    fallbackIcon: e.jsx(Ss, {
                        className: "h-24 w-24 text-gray-300"
                    }),
                    priority: !1
                }) : e.jsxs("div", {
                    className: "flex items-center justify-center h-full bg-gray-100",
                    children: [e.jsx(Ss, {
                        className: "h-24 w-24 text-gray-300"
                    }), e.jsx("span", {
                        className: "sr-only",
                        children: "Imagen no disponible"
                    })]
                })
            }), e.jsx(ne, {
                className: "p-3 pb-2",
                children: e.jsx(ae, {
                    className: "text-base sm:text-lg font-bold line-clamp-2 min-h-[2rem] leading-tight",
                    children: l()
                })
            }), e.jsxs(q, {
                className: "flex-1 flex flex-col justify-between p-3 pt-0",
                children: [e.jsx("div", {
                    className: "space-y-2",
                    children: e.jsxs("div", {
                        className: "flex items-center justify-between",
                        children: [t.combustible && e.jsx(ye, {
                            variant: "outline",
                            className: "text-xs truncate max-w-[70%]",
                            children: jp(t.combustible || "")
                        }), e.jsxs("p", {
                            className: "text-xs text-gray-500",
                            children: ["ID: ", t.id]
                        })]
                    })
                }), e.jsxs("div", {
                    className: "mt-2 space-y-1.5",
                    children: [e.jsxs("div", {
                        className: "grid grid-cols-1 sm:grid-cols-2 gap-1 text-xs",
                        children: [e.jsxs("div", {
                            className: "bg-blue-50 px-2 py-1 rounded-md text-xs truncate",
                            children: [e.jsx("span", {
                                className: "font-medium text-blue-800",
                                children: "Marca:"
                            }), e.jsx("span", {
                                className: "text-blue-700 ml-1",
                                children: t.marca || "N/A"
                            })]
                        }), e.jsxs("div", {
                            className: "bg-green-50 px-2 py-1 rounded-md text-xs truncate",
                            children: [e.jsx("span", {
                                className: "font-medium text-green-800",
                                children: "Modelo:"
                            }), e.jsx("span", {
                                className: "text-green-700 ml-1",
                                children: t.modelo || "N/A"
                            })]
                        })]
                    }), e.jsxs("div", {
                        className: "grid grid-cols-1 sm:grid-cols-2 gap-1 text-xs",
                        children: [e.jsxs("div", {
                            className: "bg-yellow-50 px-2 py-1 rounded-md text-xs truncate",
                            children: [e.jsx("span", {
                                className: "font-medium text-yellow-800",
                                children: "Año:"
                            }), e.jsx("span", {
                                className: "text-yellow-700 ml-1",
                                children: t.anyo > 0 ? t.anyo : "N/A"
                            })]
                        }), t.potencia > 0 && e.jsxs("div", {
                            className: "bg-purple-50 px-2 py-1 rounded-md text-xs truncate",
                            children: [e.jsx("span", {
                                className: "font-medium text-purple-800",
                                children: "Potencia:"
                            }), e.jsxs("span", {
                                className: "text-purple-700 ml-1",
                                children: [t.potencia, " CV"]
                            })]
                        })]
                    })]
                }), e.jsxs("div", {
                    className: "mt-4 space-y-2",
                    children: [e.jsx("div", {
                        className: "text-center",
                        children: e.jsxs("span", {
                            className: "text-sm font-medium text-gray-700",
                            children: [a, " ", a === 1 ? "pieza disponible" : "piezas disponibles"]
                        })
                    }), e.jsx(ze, {
                        href: Mu({
                            id: t.id,
                            marca: t.marca,
                            modelo: t.modelo,
                            anyo: t.anyo
                        }),
                        onClick: d => d.stopPropagation(),
                        children: e.jsxs(T, {
                            variant: "default",
                            className: "w-full bg-primary hover:bg-primary/90 text-white font-medium",
                            size: "sm",
                            children: [e.jsx(bs, {
                                className: "mr-2 h-4 w-4"
                            }), "Ver piezas"]
                        })
                    })]
                })]
            })]
        })
    },
    ul = ({part: t, hideVehicleLinks: s, vehicleContextId: r, className: n}) => {
        var u,
            m,
            p,
            j,
            g,
            x;
        const [, a] = ut(),
            {addToCart: i} = bl(),
            o = async y => {
                y.stopPropagation(),
                await i(t.id, 1, t)
            },
            l = () => {
                const y = uy({
                    id: t.id,
                    descripcionArticulo: t.descripcionArticulo,
                    vehicleMarca: t.vehicleMarca || "",
                    vehicleModelo: t.vehicleModelo || ""
                });
                a(y),
                jf(!0)
            },
            c = y => {
                const v = typeof y == "number" ? y.toString() : y,
                    f = parseFloat(v.replace(",", "."));
                return isNaN(f) ? "Consultar precio" : jt(f)
            },
            d = t.imagenes && t.imagenes.length > 0 ? t.imagenes[0] : null;
        return e.jsxs(U, {
            className: `h-full flex flex-col cursor-pointer hover:shadow-lg transition-shadow duration-200 overflow-hidden ${n || ""}`,
            onClick: y => {
                y.target instanceof HTMLElement && !y.target.closest("a, button") && l()
            },
            children: [e.jsx("div", {
                className: "relative h-48 overflow-hidden bg-gray-100",
                children: d ? e.jsx(_0, {
                    src: d,
                    alt: t.descripcionArticulo,
                    className: "w-full h-full",
                    priority: !1
                }) : e.jsxs("div", {
                    className: "flex items-center justify-center h-full bg-gray-100",
                    children: [e.jsx(ZO, {
                        className: "h-24 w-24 text-gray-300"
                    }), e.jsx("span", {
                        className: "sr-only",
                        children: "Imagen no disponible"
                    })]
                })
            }), e.jsx(ne, {
                className: "p-3 pb-2",
                children: e.jsx(ae, {
                    className: "text-base sm:text-lg font-bold line-clamp-2 min-h-[2rem] leading-tight",
                    children: t.descripcionArticulo
                })
            }), e.jsxs(q, {
                className: "flex-1 flex flex-col justify-between p-3 pt-0",
                children: [e.jsx("div", {
                    className: "space-y-2",
                    children: e.jsxs("div", {
                        className: "flex items-center justify-between",
                        children: [e.jsx(ye, {
                            variant: "outline",
                            className: "text-xs truncate max-w-[70%]",
                            children: t.descripcionFamilia
                        }), e.jsxs("p", {
                            className: "text-xs text-gray-500",
                            children: ["Ref: ", t.refLocal]
                        })]
                    })
                }), e.jsxs("div", {
                    className: "mt-2 space-y-1.5",
                    children: [e.jsxs("div", {
                        className: "grid grid-cols-1 md:grid-cols-2 gap-1 text-xs",
                        children: [e.jsxs("div", {
                            className: "bg-blue-50 px-2 py-1 rounded-md text-xs truncate",
                            children: [e.jsx("span", {
                                className: "font-medium text-blue-800",
                                children: "Marca:"
                            }), e.jsx("span", {
                                className: "text-blue-700 ml-1",
                                children: t.vehicleMarca || "N/A"
                            })]
                        }), e.jsxs("div", {
                            className: "bg-green-50 px-2 py-1 rounded-md text-xs truncate",
                            children: [e.jsx("span", {
                                className: "font-medium text-green-800",
                                children: "Modelo:"
                            }), e.jsx("span", {
                                className: "text-green-700 ml-1",
                                children: t.vehicleModelo || "N/A"
                            })]
                        })]
                    }), (t.vehicleAnyo || t.vehicles && ((u = t.vehicles[0]) == null ? void 0 : u.anyo) || t.vehicleCombustible || t.vehicles && ((m = t.vehicles[0]) == null ? void 0 : m.combustible)) && e.jsxs("div", {
                        className: "grid grid-cols-1 md:grid-cols-2 gap-1 text-xs",
                        children: [(t.vehicleAnyo || t.vehicles && ((p = t.vehicles[0]) == null ? void 0 : p.anyo)) && e.jsxs("div", {
                            className: "bg-orange-50 px-2 py-1 rounded-md text-xs truncate",
                            children: [e.jsx("span", {
                                className: "font-medium text-orange-800",
                                children: "Año:"
                            }), e.jsx("span", {
                                className: "text-orange-700 ml-1",
                                children: t.vehicleAnyo || t.vehicles && ((j = t.vehicles[0]) == null ? void 0 : j.anyo) || "N/A"
                            })]
                        }), (t.vehicleCombustible || t.vehicles && ((g = t.vehicles[0]) == null ? void 0 : g.combustible)) && e.jsxs("div", {
                            className: "bg-purple-50 px-2 py-1 rounded-md text-xs truncate",
                            children: [e.jsx("span", {
                                className: "font-medium text-purple-800",
                                children: "Combustible:"
                            }), e.jsx("span", {
                                className: "text-purple-700 ml-1",
                                children: t.vehicleCombustible || t.vehicles && ((x = t.vehicles[0]) == null ? void 0 : x.combustible) || "N/A"
                            })]
                        })]
                    })]
                }), (() => {
                    let y = null,
                        v = "",
                        f = !1;
                    if (t.idVehiculo && t.idVehiculo < 0 && (f = !0), t.vehicles && t.vehicles.length > 0) {
                        const b = t.vehicles[0];
                        y = b.id,
                        v = `${b.marca} ${b.modelo}${b.version ? ` ${b.version}` : ""}${b.anyo ? ` (${b.anyo})` : ""}`
                    } else
                        t.vehicleId && !f && (t.vehicleMarca || t.vehicleModelo) ? (y = t.vehicleId, v = `${t.vehicleMarca || ""} ${t.vehicleModelo || ""}${t.vehicleVersion ? ` ${t.vehicleVersion}` : ""}${t.vehicleAnyo ? ` (${t.vehicleAnyo})` : ""}`.trim()) : t.idVehiculo && !f && (t.vehicleMarca || t.vehicleModelo) ? (y = t.idVehiculo, v = `${t.vehicleMarca || ""} ${t.vehicleModelo || ""}${t.vehicleVersion ? ` ${t.vehicleVersion}` : ""}${t.vehicleAnyo ? ` (${t.vehicleAnyo})` : ""}`.trim()) : (t.vehicleMarca || t.vehicleModelo) && (v = `${t.vehicleMarca || ""} ${t.vehicleModelo || ""}${t.vehicleVersion ? ` ${t.vehicleVersion}` : ""}${t.vehicleAnyo ? ` (${t.vehicleAnyo})` : ""}`.trim());
                    return v ? e.jsxs("div", {
                        className: "mt-1 bg-gray-50 rounded p-1.5 border border-gray-200",
                        children: [e.jsx("p", {
                            className: "font-medium text-xs mb-1 text-gray-600",
                            children: f ? "🔧 Compatible con:" : "🚗 Vehículo compatible:"
                        }), y && !f ? e.jsx(ze, {
                            to: Mu({
                                id: y,
                                marca: t.vehicleMarca || "",
                                modelo: t.vehicleModelo || "",
                                anyo: t.vehicleAnyo ? Number(t.vehicleAnyo) : void 0
                            }),
                            className: "text-primary hover:underline text-sm block font-medium text-left",
                            onClick: b => {
                                b.stopPropagation(),
                                setTimeout(() => {
                                    window.scrollTo({
                                        top: 0,
                                        behavior: "smooth"
                                    })
                                }, 100)
                            },
                            children: v
                        }) : e.jsxs("span", {
                            className: "text-gray-800 text-sm font-medium block",
                            children: [v, f && e.jsx("span", {
                                className: "text-xs text-gray-500 block mt-0.5",
                                children: "(Vehículo procesado)"
                            })]
                        })]
                    }) : null
                })(), e.jsxs("div", {
                    className: "mt-2 space-y-1.5",
                    children: [e.jsxs("div", {
                        className: "flex items-center justify-between",
                        children: [e.jsx("span", {
                            className: "text-lg font-bold text-primary",
                            children: c(t.precio)
                        }), t.stock !== void 0 && e.jsx(ye, {
                            variant: t.stock > 0 ? "default" : "destructive",
                            className: "text-xs",
                            children: t.stock > 0 ? `Stock: ${t.stock}` : "Sin stock"
                        })]
                    }), e.jsxs("div", {
                        className: "flex gap-1.5",
                        children: [e.jsxs(T, {
                            variant: "outline",
                            size: "sm",
                            className: "flex-1",
                            onClick: l,
                            children: [e.jsx(bs, {
                                className: "h-4 w-4 mr-1"
                            }), "Ver"]
                        }), e.jsxs(T, {
                            size: "sm",
                            className: "flex-1 bg-secondary hover:bg-secondary/90 text-white",
                            onClick: o,
                            disabled: t.stock === 0,
                            children: [e.jsx(ln, {
                                className: "h-4 w-4 mr-1"
                            }), "Añadir"]
                        })]
                    })]
                })]
            })]
        })
    },
    RV = t => {
        switch (t) {
        case "tag":
            return HO;
        case "truck":
            return er;
        case "shield":
            return lm;
        case "book":
            return jO;
        case "check-circle":
            return Rt;
        case "euro":
            return VE;
        case "headphones":
            return qE;
        case "home":
            return MO;
        default:
            return Rt
        }
    },
    DV = ({blocks: t}) => {
        const s = t.filter(r => r.blockType === "feature");
        return e.jsx(e.Fragment, {
            children: s.length > 0 && e.jsx("section", {
                className: "py-8 bg-white",
                children: e.jsx("div", {
                    className: "w-full max-w-[95%] mx-auto",
                    children: e.jsx("div", {
                        className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",
                        children: s.map(r => {
                            const n = RV(r.icon);
                            return e.jsxs("div", {
                                className: "group bg-white p-8 rounded-2xl border-2 border-gray-100 hover:border-primary/20 hover:shadow-xl transition-all duration-300 relative overflow-hidden text-center",
                                children: [e.jsx("div", {
                                    className: "absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"
                                }), e.jsx("div", {
                                    className: "w-16 h-16 mx-auto bg-primary/10 rounded-2xl flex items-center justify-center mb-6 transform group-hover:scale-110 transition-transform duration-300",
                                    children: e.jsx(n, {
                                        className: "h-8 w-8 text-primary"
                                    })
                                }), e.jsx("h3", {
                                    className: "text-xl font-bold mb-3 text-gray-900",
                                    children: r.title
                                }), r.description && e.jsx("p", {
                                    className: "text-gray-600 group-hover:text-gray-700 transition-colors duration-300",
                                    children: r.description
                                })]
                            }, r.id)
                        })
                    })
                })
            })
        })
    };
function OV({category: t}) {
    const [s, r] = h.useState("grid"),
        {data: n, isLoading: a, error: i} = Te({
            queryKey: ["category-parts", t],
            queryFn: async () => {
                const l = new URLSearchParams;
                l.set("familia", t),
                l.set("activo", "true"),
                l.set("limit", "8"),
                l.set("offset", "0"),
                l.set("getTotalCount", "true"),
                l.set("orden", "newest");
                const c = `/api/search-parts?${l.toString()}`,
                    d = await fetch(c);
                if (!d.ok)
                    throw new Error(`Error ${d.status}: ${d.statusText}`);
                const u = await d.json(),
                    m = (u == null ? void 0 : u.data) || [];
                return m.length > 0, m
            },
            staleTime: 24e5,
            gcTime: 72e5,
            refetchOnWindowFocus: !1,
            retry: 1
        }),
        o = n || [];
    return e.jsx(e.Fragment, {
        children: a ? e.jsx("div", {
            className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",
            children: [...Array(8)].map((l, c) => e.jsxs("div", {
                className: "bg-white rounded-lg shadow-md p-4 animate-pulse",
                children: [e.jsx("div", {
                    className: "h-40 bg-gray-200 rounded mb-4"
                }), e.jsxs("div", {
                    className: "space-y-3",
                    children: [e.jsx("div", {
                        className: "h-4 bg-gray-200 rounded w-3/4"
                    }), e.jsx("div", {
                        className: "h-3 bg-gray-200 rounded"
                    }), e.jsx("div", {
                        className: "h-4 bg-gray-200 rounded w-1/2"
                    })]
                })]
            }, c))
        }) : i ? e.jsx("div", {
            className: "text-center py-8",
            children: e.jsxs("div", {
                className: "bg-red-50 border border-red-200 rounded-lg p-6",
                children: [e.jsx("h3", {
                    className: "text-lg font-medium text-red-900 mb-2",
                    children: "Error al cargar piezas"
                }), e.jsxs("p", {
                    className: "text-red-700",
                    children: ["No se pudieron cargar las piezas de ", t]
                })]
            })
        }) : o.length > 0 ? s === "grid" ? e.jsx("div", {
            className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",
            children: o.map(l => e.jsx(ul, {
                part: l
            }, l.id || l.refLocal))
        }) : e.jsx("div", {
            className: "space-y-4",
            children: o.map(l => e.jsx(ul, {
                part: l
            }, l.id || l.refLocal))
        }) : e.jsx("div", {
            className: "text-center py-8",
            children: e.jsxs("div", {
                className: "bg-gray-50 border border-gray-200 rounded-lg p-6",
                children: [e.jsxs("h3", {
                    className: "text-lg font-medium text-gray-900 mb-2",
                    children: ["No hay piezas disponibles en ", t]
                }), e.jsx("p", {
                    className: "text-gray-600 mb-4",
                    children: "Esta categoría no tiene piezas disponibles en este momento."
                })]
            })
        })
    })
}
const Po = {
    audi: new URL("/assets/audi-logo-C1mmdlzA.svg", import.meta.url).href,
    bmw: new URL("/assets/bmw-logo-CpUXx7ZE.svg", import.meta.url).href,
    mercedes: new URL("/assets/mercedes-logo-new-Bc8PSf-3.svg", import.meta.url).href,
    volkswagen: new URL("data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20viewBox='0%200%201024%201024'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20transform='matrix(10.188387870788574,%200,%200,%2010.188387870788574,%20-251.519936680809,%20-252.79260253906244)'%3e%3cpath%20d='M75,120.4c-24.9,0-45.3-20.5-45.3-45.4c0-5.6,1-10.9,2.9-15.9l26.5,53.3c0.3,0.7,0.8,1.3,1.6,1.3c0.8,0,1.3-0.6,1.6-1.3l12.2-27.3c0.1-0.3,0.3-0.6,0.6-0.6s0.4,0.3,0.6,0.6l12.2,27.3c0.3,0.7,0.8,1.3,1.6,1.3c0.8,0,1.3-0.6,1.6-1.3l26.5-53.3c1.9,5,2.9,10.3,2.9,15.9C120.3,99.9,99.9,120.4,75,120.4z%20M75,64.7c-0.3,0-0.4-0.3-0.6-0.6l-14.2-32c4.6-1.7,9.6-2.6,14.8-2.6c5.2,0,10.2,0.9,14.8,2.6l-14.2,32C75.4,64.5,75.3,64.7,75,64.7z%20M60.5,97.6c-0.3,0-0.4-0.3-0.6-0.6l-23-46.4c4.1-6.3,9.6-11.6,16.3-15.3l16.6,36.9C70,72.8,70.5,73,71,73h8c0.6,0,1-0.1,1.3-0.8l16.6-36.9c6.6,3.7,12.2,9,16.3,15.3L90,97c-0.1,0.3-0.3,0.6-0.6,0.6c-0.3,0-0.4-0.3-0.6-0.6l-8.7-19.8c-0.3-0.7-0.7-0.8-1.3-0.8h-8c-0.6,0-1,0.1-1.3,0.8L61.1,97C61,97.3,60.8,97.6,60.5,97.6z%20M75,125c27.7,0,50-22.3,50-50c0-27.7-22.3-50-50-50c-27.7,0-50,22.3-50,50C25,102.7,47.3,125,75,125z'%20style='fill:%20rgb(0,%2030,%2080);'/%3e%3c/g%3e%3c/svg%3e", import.meta.url).href,
    toyota: new URL("data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xml:space='preserve'%20width='950'%20height='157.02'%20viewBox='0%200%20251.35%2041.55'%3e%3cpath%20fill='%23EB0A1E'%20d='M99.2%205.96H73.74v5.63h9.4v24h6.67v-24h9.4V5.96m24.89%2019.57a8.17%208.17%200%200%201-6.16%205.03%208.96%208.96%200%200%201-1.54.14c-.53%200-1.05-.05-1.55-.14a8.15%208.15%200%200%201-6.15-5.03%2013%2013%200%200%201-.9-4.76%2013%2013%200%200%201%20.9-4.75%208.16%208.16%200%200%201%206.15-5.04%208.52%208.52%200%200%201%203.1%200%208.16%208.16%200%200%201%206.15%205.03%2013.1%2013.1%200%200%201%200%209.52m-7.7-20.46a15.7%2015.7%200%201%200%200%2031.41%2015.7%2015.7%200%200%200%200-31.41zm15.8.9h7.86l7.33%2012.73%207.33-12.74h7.85l-11.85%2018.67v10.96h-6.66V24.63L132.2%205.96m46.2%2024.74c.52%200%201.04-.05%201.54-.14a8.15%208.15%200%200%200%206.15-5.03%2013%2013%200%200%200%200-9.51%208.15%208.15%200%200%200-6.15-5.03%208.78%208.78%200%200%200-3.1%200%208.15%208.15%200%200%200-6.14%205.03%2012.99%2012.99%200%200%200-.9%204.75c0%201.68.32%203.29.9%204.76a8.14%208.14%200%200%200%206.15%205.03%208.84%208.84%200%200%200%201.55.14m-15.7-9.93a15.7%2015.7%200%201%201%2031.4%200%2015.7%2015.7%200%200%201-31.4%200zm76.87%203.1-4.36-11.71-4.37%2011.7h8.73m1.93%205.19h-12.6l-2.43%206.52h-7.42l12-29.63h8.3l12%2029.63h-7.4zM221.01%205.96h-25.46v5.63h9.4v24h6.67v-24H221V5.96M46.54%202.04A47.5%2047.5%200%200%200%2032.22%200%2047.5%2047.5%200%200%200%2017.9%202.04C7.3%205.45%200%2012.53%200%2020.69c0%2011.49%2014.4%2020.86%2032.22%2020.86%2017.78%200%2032.22-9.33%2032.22-20.86%200-8.16-7.28-15.24-17.9-18.65zM32.22%2032.6c-2.66%200-4.83-5.2-4.95-11.79%201.58.17%203.24.21%204.95.21%201.7%200%203.37-.08%204.96-.2-.13%206.57-2.3%2011.78-4.96%2011.78ZM27.6%2015.7c.7-4.63%202.5-7.87%204.62-7.87%202.08%200%203.87%203.24%204.62%207.86a52.52%2052.52%200%200%201-9.24.01zm12.07-.38c-1.08-7.2-4-12.4-7.45-12.4s-6.37%205.16-7.45%2012.4c-6.54-1.04-11.12-3.33-11.12-6.04%200-3.66%208.33-6.62%2018.57-6.62S50.8%205.62%2050.8%209.28c0%202.7-4.58%205.04-11.12%206.04zM4.7%2019.94c0-3.54%201.38-6.83%203.75-9.7-.04.2-.04.42-.04.58%200%204.46%206.66%208.2%2015.94%209.62v1c0%208.24%202.3%2015.24%205.46%2017.65-14.07-.83-25.1-9.08-25.1-19.15zm29.94%2019.2c3.16-2.42%205.45-9.42%205.45-17.66v-1c9.28-1.37%2015.94-5.16%2015.94-9.61%200-.21%200-.42-.04-.59a15.06%2015.06%200%200%201%203.75%209.7c0%2010.03-11.03%2018.28-25.1%2019.15z'/%3e%3c/svg%3e", import.meta.url).href,
    renault: new URL("/assets/renault-logo-n0fmnPoz.svg", import.meta.url).href,
    seat: new URL("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMDAgMTAwIj4KICA8cGF0aCBkPSJNIDUwLDIwIEggMjUwIEMgMjYwLDIwIDI3MCwzMCAyNzAsNDAgViA2MCBDIDI3MCw3MCAyNjAsODAgMjUwLDgwIEggNTAgQyA0MCw4MCAzMCw3MCAzMCw2MCBWIDQwIEMgMzAsMzAgNDAsMjAgNTAsMjAgWiIgZmlsbD0iI0Q1MDAwMCIvPgogIDx0ZXh0IHg9IjE1MCIgeT0iNjIiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSI0NSIgZm9udC13ZWlnaHQ9ImJvbGQiIGZpbGw9IiNGRkZGRkYiIHRleHQtYW5jaG9yPSJtaWRkbGUiPlNFQVQ8L3RleHQ+Cjwvc3ZnPg==", import.meta.url).href
};
function LV() {
    h.useEffect(() => {
        m$()
    }, []);
    const {data: t} = Te({
            queryKey: ["optimized-vehicles"],
            queryFn: () => fetch("/api/optimized/vehicles?limit=10&withPartCounts=true&orden=fecha_desc").then(u => u.json()),
            staleTime: 6e5,
            gcTime: 18e5,
            refetchOnWindowFocus: !1,
            retry: 1
        }),
        {data: s} = Te({
            queryKey: ["parts-categories"],
            queryFn: () => fetch("/api/parts/families").then(u => u.json()),
            staleTime: 6e5,
            gcTime: 18e5,
            refetchOnWindowFocus: !1,
            retry: 1
        }),
        {data: r, isLoading: n} = Te({
            queryKey: ["/api/cms/homepage-blocks"],
            queryFn: async () => {
                const u = await fetch("/api/cms/homepage-blocks");
                if (!u.ok)
                    throw new Error("Error al cargar bloques");
                return u.json()
            },
            staleTime: 6e5,
            gcTime: 18e5,
            refetchOnWindowFocus: !1,
            retry: 1
        }),
        a = (t == null ? void 0 : t.data) || [],
        i = s || [],
        {data: o, isLoading: l, error: c} = Te({
            queryKey: ["parts-for-home"],
            queryFn: async () => {
                try {
                    const u = new URLSearchParams;
                    u.set("activo", "true"),
                    u.set("limit", "50"),
                    u.set("offset", "0"),
                    u.set("getTotalCount", "true"),
                    u.set("orden", "newest");
                    const m = `/api/search-parts?${u.toString()}`,
                        p = await fetch(m);
                    if (!p.ok)
                        throw new Error(`Error ${p.status}: ${p.statusText}`);
                    const j = await p.json(),
                        g = (j == null ? void 0 : j.data) || [];
                    return g.length > 0, g
                } catch (u) {
                    throw u
                }
            },
            staleTime: 6e5,
            gcTime: 18e5,
            refetchOnWindowFocus: !1,
            retry: 1
        }),
        d = o || [];
    return e.jsxs(e.Fragment, {
        children: [e.jsx(_V, {}), e.jsx("section", {
            className: "py-8 bg-gradient-to-b from-primary/5 to-background w-full",
            children: e.jsxs("div", {
                className: "w-full max-w-[1400px] mx-auto px-6",
                children: [e.jsxs("div", {
                    className: "mb-4 text-center",
                    children: [e.jsx("h2", {
                        className: "text-3xl font-montserrat font-semibold text-gray-800 mb-2",
                        children: "Catálogo de Vehículos"
                    }), e.jsx("p", {
                        className: "text-sm text-gray-600",
                        children: "Encuentra las piezas que necesitas para tu vehículo"
                    })]
                }), e.jsxs(Ic, {
                    className: "w-full max-w-7xl mx-auto px-4 sm:px-0",
                    children: [e.jsx(Rc, {
                        children: a && a.length > 0 ? [...a].sort((u, m) => u.fechaActualizacion && m.fechaActualizacion ? new Date(m.fechaActualizacion).getTime() - new Date(u.fechaActualizacion).getTime() : u.fechaCreacion && m.fechaCreacion ? new Date(m.fechaCreacion).getTime() - new Date(u.fechaCreacion).getTime() : (m.id || 0) - (u.id || 0)).map(u => e.jsx(Yo, {
                            className: "md:basis-1/2 lg:basis-1/4",
                            children: e.jsx(T0, {
                                vehicle: u
                            })
                        }, u.id)) : e.jsx(Yo, {
                            className: "flex justify-center w-full",
                            children: e.jsx(U, {
                                className: "w-full p-6 text-center",
                                children: e.jsx(q, {
                                    children: e.jsx("p", {
                                        className: "text-muted-foreground",
                                        children: "Cargando vehículos..."
                                    })
                                })
                            })
                        })
                    }), e.jsx(Dc, {}), e.jsx(Oc, {})]
                })]
            })
        }), r && !n && e.jsx(DV, {
            blocks: r
        }), e.jsx("section", {
            className: "py-8 w-full",
            children: e.jsxs("div", {
                className: "w-full max-w-[1400px] mx-auto px-6",
                children: [e.jsxs("div", {
                    className: "mb-4 text-center",
                    children: [e.jsx("h2", {
                        className: "text-3xl font-montserrat font-semibold text-gray-800 mb-2",
                        children: "Catálogo de Piezas"
                    }), e.jsx("p", {
                        className: "text-sm text-gray-600",
                        children: "Todas las piezas que necesitas en un solo lugar"
                    })]
                }), i.length > 0 ? e.jsxs(ls, {
                    defaultValue: "todas",
                    className: "w-full mx-auto",
                    children: [e.jsx("div", {
                        className: "bg-white rounded-lg p-1 mb-4 border",
                        children: e.jsxs("div", {
                            className: "relative flex items-center",
                            children: [e.jsx(T, {
                                variant: "outline",
                                size: "icon",
                                className: "absolute left-0 z-10 rounded-none h-[48px] px-3 border-y flex items-center justify-center",
                                onClick: () => {
                                    const u = document.querySelector('[role="tablist"]');
                                    u && u instanceof HTMLElement && Pu(async () => {
                                        const {safeScrollBy: m} = await Promise.resolve().then(() => kp);
                                        return {
                                            safeScrollBy: m
                                        }
                                    }, void 0).then(({safeScrollBy: m}) => {
                                        m(u, {
                                            left: -200,
                                            behavior: "smooth"
                                        })
                                    }).catch(m => console.warn("Error importing browser compatibility:", m))
                                },
                                children: e.jsx(xi, {
                                    className: "h-4 w-4"
                                })
                            }), e.jsxs(es, {
                                className: "flex w-full overflow-x-auto py-1 justify-start px-12 scrollbar-hide bg-white",
                                children: [e.jsx(Ue, {
                                    value: "todas",
                                    className: "flex-shrink-0 px-4 py-2 text-sm font-medium rounded data-[state=active]:bg-primary data-[state=active]:text-white",
                                    children: "Todas Las Piezas"
                                }), i.filter(u => u !== "GENERICO" && u !== "GENÉRICO" && u !== "MOTOS").map(u => {
                                    const m = u.toLowerCase().split(" ").map(p => p.charAt(0).toUpperCase() + p.slice(1)).join(" ");
                                    return e.jsx(Ue, {
                                        value: u.toLowerCase().replace(/\s+/g, "-").replace(/[/]/g, "-"),
                                        className: "flex-shrink-0 px-4 py-2 text-sm font-medium rounded data-[state=active]:bg-primary data-[state=active]:text-white whitespace-nowrap",
                                        children: m
                                    }, u)
                                })]
                            }), e.jsx(T, {
                                variant: "outline",
                                size: "icon",
                                className: "absolute right-0 z-10 rounded-none h-[48px] px-3 border-y flex items-center justify-center",
                                onClick: () => {
                                    const u = document.querySelector('[role="tablist"]');
                                    u && u instanceof HTMLElement && Pu(async () => {
                                        const {safeScrollBy: m} = await Promise.resolve().then(() => kp);
                                        return {
                                            safeScrollBy: m
                                        }
                                    }, void 0).then(({safeScrollBy: m}) => {
                                        m(u, {
                                            left: 200,
                                            behavior: "smooth"
                                        })
                                    }).catch(m => console.warn("Error importing browser compatibility:", m))
                                },
                                children: e.jsx(Ni, {
                                    className: "h-4 w-4"
                                })
                            })]
                        })
                    }), e.jsx($e, {
                        value: "todas",
                        children: e.jsx("div", {
                            className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",
                            children: l ? [...Array(8)].map((u, m) => e.jsxs("div", {
                                className: "bg-white rounded-lg shadow-md p-4 animate-pulse",
                                children: [e.jsx("div", {
                                    className: "h-40 bg-gray-200 rounded mb-4"
                                }), e.jsxs("div", {
                                    className: "space-y-3",
                                    children: [e.jsx("div", {
                                        className: "h-4 bg-gray-200 rounded w-3/4"
                                    }), e.jsx("div", {
                                        className: "h-3 bg-gray-200 rounded"
                                    }), e.jsx("div", {
                                        className: "h-4 bg-gray-200 rounded w-1/2"
                                    })]
                                })]
                            }, m)) : c ? e.jsx("div", {
                                className: "col-span-4 text-center py-8",
                                children: e.jsxs("div", {
                                    className: "bg-red-50 border border-red-200 rounded-lg p-6",
                                    children: [e.jsx("h3", {
                                        className: "text-lg font-medium text-red-900 mb-2",
                                        children: "Error al cargar piezas"
                                    }), e.jsx("p", {
                                        className: "text-red-700 mb-4",
                                        children: c.message || "Error desconocido al cargar las piezas"
                                    }), e.jsx(T, {
                                        onClick: () => window.location.reload(),
                                        variant: "outline",
                                        className: "border-red-300 text-red-700 hover:bg-red-50",
                                        children: "Recargar página"
                                    })]
                                })
                            }) : d && d.length > 0 ? d.slice(0, 8).map(u => e.jsx(ul, {
                                part: u
                            }, u.id || u.refLocal)) : e.jsx("div", {
                                className: "col-span-4 text-center py-8",
                                children: e.jsxs("div", {
                                    className: "bg-gray-50 border border-gray-200 rounded-lg p-6",
                                    children: [e.jsx("h3", {
                                        className: "text-lg font-medium text-gray-900 mb-2",
                                        children: "No hay piezas disponibles"
                                    }), e.jsx("p", {
                                        className: "text-gray-600 mb-4",
                                        children: "No se encontraron piezas para mostrar en este momento."
                                    }), e.jsx(T, {
                                        onClick: () => window.location.reload(),
                                        variant: "outline",
                                        children: "Recargar página"
                                    })]
                                })
                            })
                        })
                    }), i.filter(u => u !== "GENERICO" && u !== "GENÉRICO" && u !== "MOTOS").map(u => {
                        const m = u.toLowerCase().replace(/\s+/g, "-").replace(/[/]/g, "-");
                        return e.jsx($e, {
                            value: m,
                            children: e.jsx(OV, {
                                category: u
                            })
                        }, u)
                    })]
                }) : e.jsx("div", {
                    className: "flex justify-center",
                    children: e.jsx(U, {
                        className: "w-full max-w-md p-6 text-center",
                        children: e.jsx(q, {
                            children: e.jsx("p", {
                                className: "text-muted-foreground",
                                children: "Cargando categorías de piezas..."
                            })
                        })
                    })
                })]
            })
        }), e.jsx("section", {
            className: "py-8 bg-white w-full",
            children: e.jsx("div", {
                className: "w-full max-w-[1400px] mx-auto px-6",
                children: e.jsxs(Ic, {
                    className: "w-full max-w-7xl mx-auto",
                    children: [e.jsx(Rc, {
                        children: [{
                            name: "AUDI",
                            logo: Po.audi
                        }, {
                            name: "BMW",
                            logo: Po.bmw
                        }, {
                            name: "MERCEDES-BENZ",
                            logo: Po.mercedes
                        }, {
                            name: "VOLKSWAGEN",
                            logo: Po.volkswagen
                        }, {
                            name: "TOYOTA",
                            logo: Po.toyota
                        }, {
                            name: "RENAULT",
                            logo: Po.renault
                        }, {
                            name: "SEAT",
                            logo: Po.seat
                        }].map(u => e.jsx(Yo, {
                            className: "md:basis-1/4 lg:basis-1/4",
                            children: e.jsx(ze, {
                                href: `/piezas?marca=${encodeURIComponent(u.name)}`,
                                className: "flex items-center justify-center p-6 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors h-full",
                                children: e.jsxs("div", {
                                    className: "text-center",
                                    children: [e.jsx("img", {
                                        src: u.logo,
                                        alt: `${u.name} logo`,
                                        className: "object-contain mx-auto mb-4 w-20 h-20"
                                    }), e.jsx("span", {
                                        className: "font-medium text-sm",
                                        children: u.name
                                    })]
                                })
                            })
                        }, u.name))
                    }), e.jsx(Dc, {}), e.jsx(Oc, {})]
                })
            })
        }), e.jsx(AV, {}), e.jsx(IV, {})]
    })
}
const Ws = h.forwardRef(({className: t, ...s}, r) => e.jsx("div", {
    className: "relative w-full overflow-auto",
    children: e.jsx("table", {
        ref: r,
        className: me("w-full caption-bottom text-sm", t),
        ...s
    })
}));
Ws.displayName = "Table";
const Gs = h.forwardRef(({className: t, ...s}, r) => e.jsx("thead", {
    ref: r,
    className: me("[&_tr]:border-b", t),
    ...s
}));
Gs.displayName = "TableHeader";
const Ks = h.forwardRef(({className: t, ...s}, r) => e.jsx("tbody", {
    ref: r,
    className: me("[&_tr:last-child]:border-0", t),
    ...s
}));
Ks.displayName = "TableBody";
const FV = h.forwardRef(({className: t, ...s}, r) => e.jsx("tfoot", {
    ref: r,
    className: me("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0", t),
    ...s
}));
FV.displayName = "TableFooter";
const gt = h.forwardRef(({className: t, ...s}, r) => e.jsx("tr", {
    ref: r,
    className: me("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted", t),
    ...s
}));
gt.displayName = "TableRow";
const ge = h.forwardRef(({className: t, ...s}, r) => e.jsx("th", {
    ref: r,
    className: me("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0", t),
    ...s
}));
ge.displayName = "TableHead";
const xe = h.forwardRef(({className: t, ...s}, r) => e.jsx("td", {
    ref: r,
    className: me("p-4 align-middle [&:has([role=checkbox])]:pr-0", t),
    ...s
}));
xe.displayName = "TableCell";
const J_ = h.forwardRef(({className: t, ...s}, r) => e.jsx("caption", {
    ref: r,
    className: me("mt-4 text-sm text-muted-foreground", t),
    ...s
}));
J_.displayName = "TableCaption";
const wm = ({className: t, ...s}) => e.jsx("nav", {
    role: "navigation",
    "aria-label": "pagination",
    className: me("mx-auto flex w-full justify-center", t),
    ...s
});
wm.displayName = "Pagination";
const Cm = h.forwardRef(({className: t, ...s}, r) => e.jsx("ul", {
    ref: r,
    className: me("flex flex-row items-center gap-1", t),
    ...s
}));
Cm.displayName = "PaginationContent";
const ps = h.forwardRef(({className: t, ...s}, r) => e.jsx("li", {
    ref: r,
    className: me("", t),
    ...s
}));
ps.displayName = "PaginationItem";
const un = ({className: t, isActive: s, size: r="icon", ...n}) => e.jsx("a", {
    "aria-current": s ? "page" : void 0,
    className: me(Mc({
        variant: s ? "outline" : "ghost",
        size: r
    }), t),
    ...n
});
un.displayName = "PaginationLink";
const Sm = ({className: t, ...s}) => e.jsxs(un, {
    "aria-label": "Ir a la página anterior",
    size: "default",
    className: me("gap-1 pl-2.5", t),
    ...s,
    children: [e.jsx(xi, {
        className: "h-4 w-4"
    }), e.jsx("span", {
        children: "Anterior"
    })]
});
Sm.displayName = "PaginationPrevious";
const Em = ({className: t, ...s}) => e.jsxs(un, {
    "aria-label": "Ir a la siguiente página",
    size: "default",
    className: me("gap-1 pr-2.5", t),
    ...s,
    children: [e.jsx("span", {
        children: "Siguiente"
    }), e.jsx(Ni, {
        className: "h-4 w-4"
    })]
});
Em.displayName = "PaginationNext";
const zV = () => {
    var dt;
    h.useEffect(() => {
        p$()
    }, []),
    ut(),
    Pj();
    const [t, s] = h.useState(""),
        [r, n] = h.useState(""),
        [a, i] = h.useState(""),
        [o, l] = h.useState(""),
        [c, d] = h.useState(""),
        [u, m] = h.useState("newest"),
        [p, j] = h.useState(""),
        [g, x] = h.useState("grid"),
        [y, v] = h.useState(1),
        [f, b] = h.useState(12);
    h.useState(!1);
    const [N, w] = h.useState(!1),
        [C, E] = h.useState(!1),
        k = B => {
            v(B),
            jf(!0)
        };
    h.useEffect(() => {
        const B = () => {
            const De = window.innerWidth < 1024,
                vt = window.innerWidth < 768 ? "móvil" : window.innerWidth < 1024 ? "tablet" : "desktop";
            console.log("📱 Mobile detection (Vehicles):", {
                width: window.innerWidth,
                isMobile: De,
                deviceType: vt
            }),
            E(De),
            De && x("grid")
        };
        return B(), window.addEventListener("resize", B), () => window.removeEventListener("resize", B)
    }, []);
    const [R, H] = h.useState(p);
    h.useEffect(() => {
        const B = setTimeout(() => {
            H(p)
        }, 500);
        return () => clearTimeout(B)
    }, [p]),
    h.useEffect(() => {
        k(1)
    }, [t, r, a, o, c, u, R]),
    h.useEffect(() => {
        window.location.pathname === "/vehiculos" && window.location.search && window.history.replaceState({}, "", "/vehiculos")
    }, []);
    const {data: z, isLoading: A} = Te({
            queryKey: ["/api/optimized/vehicles", t, r, a, o, c, u, y, f, R],
            queryFn: async () => {
                var At,
                    Mt;
                const B = new URLSearchParams;
                B.append("limit", f.toString()),
                B.append("offset", ((y - 1) * f).toString()),
                B.append("withPartCounts", "true"),
                B.append("getTotalCount", "true"),
                B.append("orden", u),
                t && t !== "all-brands" && B.append("marca", t),
                r && r !== "all-models" && B.append("modelo", r),
                a && a !== "all-years" && B.append("anyo", a),
                o && o !== "all-fuels" && B.append("combustible", o),
                c && c !== "all-powers" && B.append("potencia", c),
                R && B.append("search", R);
                const De = await fetch(`/api/optimized/vehicles?${B.toString()}`);
                if (!De.ok)
                    throw new Error(`Error: ${De.statusText}`);
                const vt = await De.json();
                return {
                    data: vt.data || [],
                    pagination: {
                        total: ((At = vt.pagination) == null ? void 0 : At.total) || 0,
                        hasMore: (y - 1) * f + f < (((Mt = vt.pagination) == null ? void 0 : Mt.total) || 0)
                    }
                }
            },
            staleTime: 3e5,
            gcTime: 6e5,
            refetchOnWindowFocus: !1,
            retry: 1
        }),
        {data: $} = Te({
            queryKey: ["/api/vehicles-filter/brands-models"],
            queryFn: async () => {
                const B = await fetch("/api/vehicles-filter/brands-models");
                if (!B.ok)
                    throw new Error("Error al cargar marcas y modelos");
                return await B.json()
            },
            staleTime: 6e5,
            gcTime: 18e5,
            refetchOnWindowFocus: !1,
            retry: 1
        }),
        {data: G} = Te({
            queryKey: ["/api/vehicles-filter/years", t, r],
            queryFn: async () => {
                const B = new URLSearchParams;
                t && t !== "all-brands" && B.append("marca", t),
                r && r !== "all-models" && B.append("modelo", r);
                const De = await fetch(`/api/vehicles-filter/years?${B.toString()}`);
                if (!De.ok)
                    throw new Error("Error al cargar años");
                return await De.json()
            },
            staleTime: 6e5,
            gcTime: 18e5,
            refetchOnWindowFocus: !1,
            retry: 1
        }),
        {data: F} = Te({
            queryKey: ["/api/vehicles-filter/fuels", t, r, a],
            queryFn: async () => {
                const B = new URLSearchParams;
                t && t !== "all-brands" && B.append("marca", t),
                r && r !== "all-models" && B.append("modelo", r),
                a && a !== "all-years" && B.append("anyo", a);
                const De = await fetch(`/api/vehicles-filter/fuels?${B.toString()}`);
                if (!De.ok)
                    throw new Error("Error al cargar combustibles");
                return await De.json()
            },
            staleTime: 6e5,
            gcTime: 18e5,
            refetchOnWindowFocus: !1,
            retry: 1
        }),
        {data: _} = Te({
            queryKey: ["/api/vehicles/all"],
            queryFn: () => Kf.getVehicles({
                limit: 5e4
            }),
            staleTime: 6e5,
            gcTime: 18e5,
            refetchOnWindowFocus: !1,
            retry: 1
        }),
        S = () => {
            if ($ != null && $.brands)
                return $.brands;
            if (!(_ != null && _.data))
                return [];
            const B = _.data.map(De => De.marca).filter(De => De && De.trim() !== "");
            return Array.from(new Set(B)).sort()
        },
        I = () => {
            if (!t)
                return [];
            if ($ != null && $.models && $.models[t])
                return $.models[t];
            if (!(_ != null && _.data))
                return [];
            const B = _.data.filter(De => De.marca === t).map(De => De.modelo);
            return Array.from(new Set(B)).sort()
        },
        W = () => G || [],
        oe = () => F || [],
        O = I(),
        M = (z == null ? void 0 : z.data) || [],
        re = ((dt = z == null ? void 0 : z.pagination) == null ? void 0 : dt.total) || 0,
        ue = Math.ceil(re / f);
    (() => {
        const B = [];
        t && B.push(t),
        r && B.push(r),
        a && B.push(a),
        o && B.push(o);
        const De = B.length > 0 ? ` ${B.join(" ")}` : "",
            vt = `Vehículos para Desguace${De} | Desguace Murcia`,
            At = `Catálogo de ${re.toLocaleString()} vehículos para desguace${De}. Encuentra piezas de tu coche. ✅ Stock actualizado ✅ Garantía 3 meses ✅ Envío península.`,
            Mt = `vehículos desguace${De}, coches para piezas, desguace automóviles, ${t || ""} ${r || ""} ${o || ""}`.toLowerCase();
        return {
            title: vt,
            description: At,
            keywords: Mt
        }
    })();
    const he = B => {
            console.log("🔄 Brand change:", {
                from: t,
                to: B
            }),
            s(B),
            n(""),
            i(""),
            l("")
        },
        D = B => {
            console.log("🔄 Model change:", {
                from: r,
                to: B
            }),
            n(B),
            i(""),
            l("")
        },
        K = B => {
            i(B),
            l("")
        },
        L = B => {
            l(B)
        },
        ee = B => {
            d(B)
        },
        ce = () => {
            s(""),
            n(""),
            i(""),
            l(""),
            d(""),
            j(""),
            k(1)
        },
        le = () => e.jsxs("div", {
            className: "space-y-6",
            children: [e.jsxs("div", {
                children: [e.jsxs("label", {
                    className: "block text-sm font-medium mb-2 text-gray-700",
                    children: [e.jsx(Ss, {
                        className: "h-4 w-4 inline-block mr-2 text-blue-600"
                    }), " Marca"]
                }), e.jsxs(He, {
                    value: t === "" ? "__empty__" : t,
                    onValueChange: B => {
                        const De = B === "__empty__" ? "" : B;
                        console.log("📱 Mobile brand change:", De),
                        he(De)
                    },
                    children: [e.jsx(qe, {
                        className: "h-11 border-2 border-gray-200 hover:border-blue-300 focus:border-blue-500 rounded-lg transition-colors",
                        children: e.jsx(We, {
                            placeholder: "Todas las marcas"
                        })
                    }), e.jsxs(Be, {
                        children: [e.jsx(Q, {
                            value: "__empty__",
                            children: "Todas las marcas"
                        }), S().map(B => e.jsx(Q, {
                            value: B,
                            children: B
                        }, B))]
                    })]
                })]
            }), e.jsxs("div", {
                children: [e.jsxs("label", {
                    className: "block text-sm font-medium mb-2 text-gray-700",
                    children: [e.jsx(Ss, {
                        className: "h-4 w-4 inline-block mr-2 text-green-600"
                    }), " Modelo"]
                }), e.jsxs(He, {
                    value: r === "" ? "__empty__" : r,
                    onValueChange: B => {
                        const De = B === "__empty__" ? "" : B;
                        console.log("📱 Mobile model change:", De),
                        D(De)
                    },
                    disabled: !t,
                    children: [e.jsx(qe, {
                        className: "h-11 border-2 border-gray-200 hover:border-blue-300 focus:border-blue-500 rounded-lg transition-colors",
                        children: e.jsx(We, {
                            placeholder: "Todos los modelos"
                        })
                    }), e.jsxs(Be, {
                        children: [e.jsx(Q, {
                            value: "__empty__",
                            children: "Todos los modelos"
                        }), O.map(B => e.jsx(Q, {
                            value: B,
                            children: B
                        }, B))]
                    })]
                })]
            }), e.jsxs("div", {
                children: [e.jsxs("label", {
                    className: "block text-sm font-medium mb-2 text-gray-700",
                    children: [e.jsx(ur, {
                        className: "h-4 w-4 inline-block mr-2 text-purple-600"
                    }), " Año"]
                }), e.jsxs(He, {
                    value: a === "" ? "__empty__" : a,
                    onValueChange: B => {
                        K(B === "__empty__" ? "" : B)
                    },
                    children: [e.jsx(qe, {
                        className: "h-11 border-2 border-gray-200 hover:border-blue-300 focus:border-blue-500 rounded-lg transition-colors",
                        children: e.jsx(We, {
                            placeholder: "Todos los años"
                        })
                    }), e.jsxs(Be, {
                        children: [e.jsx(Q, {
                            value: "__empty__",
                            children: "Todos los años"
                        }), W().map(B => e.jsx(Q, {
                            value: B.toString(),
                            children: B
                        }, B))]
                    })]
                })]
            }), e.jsxs("div", {
                children: [e.jsxs("label", {
                    className: "block text-sm font-medium mb-2 text-gray-700",
                    children: [e.jsx(Zd, {
                        className: "h-4 w-4 inline-block mr-2 text-orange-600"
                    }), " Combustible"]
                }), e.jsxs(He, {
                    value: o === "" ? "__empty__" : o,
                    onValueChange: B => {
                        L(B === "__empty__" ? "" : B)
                    },
                    children: [e.jsx(qe, {
                        className: "h-11 border-2 border-gray-200 hover:border-blue-300 focus:border-blue-500 rounded-lg transition-colors",
                        children: e.jsx(We, {
                            placeholder: "Todos"
                        })
                    }), e.jsxs(Be, {
                        children: [e.jsx(Q, {
                            value: "__empty__",
                            children: "Todos"
                        }), oe().map(B => e.jsx(Q, {
                            value: B,
                            children: B
                        }, B))]
                    })]
                })]
            }), e.jsxs("div", {
                children: [e.jsxs("label", {
                    className: "block text-sm font-medium mb-2 text-gray-700",
                    children: [e.jsx(Ss, {
                        className: "h-4 w-4 inline-block mr-2 text-red-600"
                    }), " Potencia (CV)"]
                }), e.jsx(te, {
                    type: "number",
                    placeholder: "ej: 150",
                    value: c,
                    onChange: B => ee(B.target.value),
                    className: "h-11 border-2 border-gray-200 hover:border-blue-300 focus:border-blue-500 rounded-lg transition-colors"
                })]
            }), e.jsx("div", {
                className: "mt-6 flex justify-center",
                children: e.jsx(T, {
                    variant: "outline",
                    onClick: ce,
                    className: "w-full bg-gray-50 hover:bg-gray-100 border-gray-300 text-gray-700",
                    children: "Limpiar filtros"
                })
            })]
        }),
        Se = () => e.jsx("div", {
            className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",
            children: M.map(B => e.jsx(T0, {
                vehicle: B
            }, B.id))
        }),
        pe = () => e.jsx("div", {
            className: "space-y-4",
            children: M.map(B => e.jsx(U, {
                className: "hover:shadow-md transition-shadow",
                children: e.jsx(q, {
                    className: "p-6",
                    children: e.jsxs("div", {
                        className: "flex items-start gap-6",
                        children: [e.jsx("div", {
                            className: "w-72 h-48 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0",
                            children: B.imagenes && B.imagenes.length > 0 ? e.jsx("img", {
                                src: B.imagenes[0],
                                alt: `${B.marca} ${B.modelo}`,
                                className: "w-full h-full object-cover rounded-lg",
                                loading: "lazy",
                                decoding: "async"
                            }) : e.jsx(qs, {
                                className: "h-24 w-24 text-gray-400"
                            })
                        }), e.jsxs("div", {
                            className: "flex-1 space-y-3",
                            children: [e.jsxs("div", {
                                children: [e.jsxs("h3", {
                                    className: "font-semibold text-xl mb-1",
                                    children: [B.marca, " ", B.modelo]
                                }), e.jsxs("p", {
                                    className: "text-muted-foreground text-sm",
                                    children: ["Referencia: ", B.descripcion || "N/A"]
                                })]
                            }), e.jsxs("div", {
                                className: "grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",
                                children: [e.jsxs("div", {
                                    children: [e.jsx("span", {
                                        className: "font-medium text-muted-foreground",
                                        children: "Año:"
                                    }), e.jsx("p", {
                                        className: "font-semibold",
                                        children: B.anyo || "N/A"
                                    })]
                                }), e.jsxs("div", {
                                    children: [e.jsx("span", {
                                        className: "font-medium text-muted-foreground",
                                        children: "Combustible:"
                                    }), e.jsx("p", {
                                        className: "font-semibold",
                                        children: B.combustible || "N/A"
                                    })]
                                }), e.jsxs("div", {
                                    children: [e.jsx("span", {
                                        className: "font-medium text-muted-foreground",
                                        children: "Potencia:"
                                    }), e.jsx("p", {
                                        className: "font-semibold",
                                        children: B.potencia ? `${B.potencia} CV` : "N/A"
                                    })]
                                }), e.jsxs("div", {
                                    children: [e.jsx("span", {
                                        className: "font-medium text-muted-foreground",
                                        children: "Versión:"
                                    }), e.jsx("p", {
                                        className: "font-semibold",
                                        children: B.version || "N/A"
                                    })]
                                })]
                            }), (B.matricula || B.bastidor || B.color) && e.jsxs("div", {
                                className: "grid grid-cols-1 md:grid-cols-3 gap-3 text-sm",
                                children: [B.matricula && e.jsxs("div", {
                                    children: [e.jsx("span", {
                                        className: "font-medium text-muted-foreground",
                                        children: "Matrícula:"
                                    }), e.jsx("p", {
                                        className: "font-semibold",
                                        children: B.matricula
                                    })]
                                }), B.bastidor && e.jsxs("div", {
                                    children: [e.jsx("span", {
                                        className: "font-medium text-muted-foreground",
                                        children: "Bastidor:"
                                    }), e.jsx("p", {
                                        className: "font-semibold text-xs",
                                        children: B.bastidor
                                    })]
                                }), B.color && e.jsxs("div", {
                                    children: [e.jsx("span", {
                                        className: "font-medium text-muted-foreground",
                                        children: "Color:"
                                    }), e.jsx("p", {
                                        className: "font-semibold",
                                        children: B.color
                                    })]
                                })]
                            }), e.jsxs("div", {
                                className: "flex flex-wrap gap-2 items-center",
                                children: [B.combustible && e.jsxs(ye, {
                                    variant: "outline",
                                    className: "bg-blue-50 text-blue-700 border-blue-200",
                                    children: [e.jsx(Zd, {
                                        className: "h-3 w-3 mr-1"
                                    }), B.combustible === "Diesel" ? "Diésel" : B.combustible === "Hibrido" ? "Híbrido" : B.combustible === "Electrico" ? "Eléctrico" : B.combustible]
                                }), B.anyo && e.jsxs(ye, {
                                    variant: "outline",
                                    className: "bg-green-50 text-green-700 border-green-200",
                                    children: [e.jsx(ur, {
                                        className: "h-3 w-3 mr-1"
                                    }), B.anyo]
                                }), (B.activeParts || B.active_parts_count) && e.jsxs(ye, {
                                    variant: "secondary",
                                    className: "bg-orange-100 text-orange-800",
                                    children: [B.activeParts || B.active_parts_count, " piezas disponibles"]
                                }), B.fechaActualizacion && e.jsxs(ye, {
                                    variant: "outline",
                                    className: "text-xs",
                                    children: ["Actualizado: ", new Date(B.fechaActualizacion).toLocaleDateString("es-ES")]
                                })]
                            }), B.descripcion && B.descripcion.trim() !== "" && e.jsxs("div", {
                                className: "text-sm",
                                children: [e.jsx("span", {
                                    className: "font-medium text-muted-foreground",
                                    children: "Descripción:"
                                }), e.jsx("p", {
                                    className: "text-gray-700 mt-1 line-clamp-2",
                                    children: B.descripcion
                                })]
                            })]
                        }), e.jsx("div", {
                            className: "text-right flex-shrink-0",
                            children: e.jsx(ze, {
                                to: Mu({
                                    id: B.id,
                                    marca: B.marca,
                                    modelo: B.modelo,
                                    anyo: B.anyo
                                }),
                                children: e.jsxs(T, {
                                    variant: "default",
                                    className: "bg-secondary hover:bg-secondary/90",
                                    children: [e.jsx(bs, {
                                        className: "h-4 w-4 mr-2"
                                    }), "Ver piezas"]
                                })
                            })
                        })]
                    })
                })
            }, B.id))
        }),
        _e = () => e.jsx(U, {
            children: e.jsx(q, {
                className: "p-0",
                children: e.jsxs(Ws, {
                    children: [e.jsx(Gs, {
                        children: e.jsxs(gt, {
                            children: [e.jsx(ge, {
                                children: "Imagen"
                            }), e.jsx(ge, {
                                children: "Referencia"
                            }), e.jsx(ge, {
                                children: "Marca"
                            }), e.jsx(ge, {
                                children: "Modelo"
                            }), e.jsx(ge, {
                                children: "Año"
                            }), e.jsx(ge, {
                                children: "Combustible"
                            }), e.jsx(ge, {
                                children: "Motor"
                            }), e.jsx(ge, {
                                children: "Piezas"
                            }), e.jsx(ge, {
                                children: "Acciones"
                            })]
                        })
                    }), e.jsx(Ks, {
                        children: M.map(B => e.jsxs(gt, {
                            children: [e.jsx(xe, {
                                children: e.jsx("div", {
                                    className: "w-16 h-12 bg-gray-100 rounded flex items-center justify-center",
                                    children: B.imagenes && B.imagenes.length > 0 ? e.jsx("img", {
                                        src: B.imagenes[0],
                                        alt: `${B.marca} ${B.modelo}`,
                                        className: "w-full h-full object-cover rounded",
                                        loading: "lazy",
                                        decoding: "async"
                                    }) : e.jsx(qs, {
                                        className: "h-6 w-6 text-gray-400"
                                    })
                                })
                            }), e.jsx(xe, {
                                className: "font-medium",
                                children: e.jsx(ye, {
                                    variant: "outline",
                                    children: B.descripcion || "N/A"
                                })
                            }), e.jsx(xe, {
                                className: "font-medium",
                                children: B.marca
                            }), e.jsx(xe, {
                                children: B.modelo
                            }), e.jsx(xe, {
                                children: B.anyo
                            }), e.jsx(xe, {
                                children: B.combustible
                            }), e.jsx(xe, {
                                children: B.potencia ? e.jsxs(ye, {
                                    variant: "outline",
                                    children: [B.potencia, " CV"]
                                }) : e.jsx(ye, {
                                    variant: "outline",
                                    children: B.version || "N/A"
                                })
                            }), e.jsx(xe, {
                                children: (B.activeParts || B.active_parts_count) && e.jsx(ye, {
                                    variant: "secondary",
                                    children: B.activeParts || B.active_parts_count
                                })
                            }), e.jsx(xe, {
                                children: e.jsx(ze, {
                                    to: Mu({
                                        id: B.id,
                                        marca: B.marca,
                                        modelo: B.modelo,
                                        anyo: B.anyo
                                    }),
                                    children: e.jsxs(T, {
                                        variant: "outline",
                                        size: "sm",
                                        children: [e.jsx(bs, {
                                            className: "h-4 w-4 mr-2"
                                        }), "Ver"]
                                    })
                                })
                            })]
                        }, B.id))
                    })]
                })
            })
        });
    return e.jsxs("div", {
        className: "max-w-[1400px] mx-auto px-6 py-8 relative",
        children: [C && e.jsx("button", {
            onClick: () => w(!0),
            className: "fixed bottom-6 left-6 z-50 w-12 h-12 bg-[#1e3a8a] hover:bg-[#1e40af] text-white rounded-full shadow-lg flex items-center justify-center",
            style: {
                position: "fixed",
                bottom: "24px",
                left: "24px",
                zIndex: 999999
            },
            children: e.jsx(tc, {
                className: "w-5 h-5"
            })
        }), e.jsx($f, {
            open: N,
            onOpenChange: w,
            children: e.jsxs(gm, {
                side: "left",
                className: "w-80 overflow-y-auto",
                children: [e.jsx(Vf, {
                    children: e.jsxs(Uf, {
                        className: "flex items-center gap-2",
                        children: [e.jsx(tc, {
                            className: "h-5 w-5"
                        }), "Filtros"]
                    })
                }), e.jsx("div", {
                    className: "mt-6",
                    children: e.jsx(le, {})
                })]
            })
        }), e.jsxs("div", {
            className: "flex flex-col lg:flex-row gap-8",
            children: [!C && e.jsx("div", {
                className: "lg:w-64 flex-shrink-0",
                children: e.jsx(U, {
                    className: "border-0 shadow-lg bg-white",
                    children: e.jsxs(q, {
                        className: "p-6",
                        children: [e.jsxs("div", {
                            className: "flex items-center gap-3 mb-6",
                            children: [e.jsx("div", {
                                className: "flex items-center justify-center w-10 h-10 bg-blue-100 rounded-lg",
                                children: e.jsx(tc, {
                                    className: "h-5 w-5 text-blue-600"
                                })
                            }), e.jsx("h2", {
                                className: "text-lg font-semibold text-gray-900",
                                children: "Filtros"
                            })]
                        }), e.jsxs("div", {
                            className: "space-y-6",
                            children: [e.jsxs("div", {
                                children: [e.jsxs("label", {
                                    className: "block text-sm font-medium mb-2 text-gray-700",
                                    children: [e.jsx(Ss, {
                                        className: "h-4 w-4 inline-block mr-2 text-blue-600"
                                    }), " Marca"]
                                }), e.jsxs(He, {
                                    value: t === "" ? "__empty__" : t,
                                    onValueChange: B => {
                                        he(B === "__empty__" ? "" : B)
                                    },
                                    children: [e.jsx(qe, {
                                        className: "h-11 border-2 border-gray-200 hover:border-blue-300 focus:border-blue-500 rounded-lg transition-colors",
                                        children: e.jsx(We, {
                                            placeholder: "Todas las marcas"
                                        })
                                    }), e.jsxs(Be, {
                                        children: [e.jsx(Q, {
                                            value: "__empty__",
                                            children: "Todas las marcas"
                                        }), S().map(B => e.jsx(Q, {
                                            value: B,
                                            children: B
                                        }, B))]
                                    })]
                                })]
                            }), e.jsxs("div", {
                                children: [e.jsxs("label", {
                                    className: "block text-sm font-medium mb-2 text-gray-700",
                                    children: [e.jsx(Ss, {
                                        className: "h-4 w-4 inline-block mr-2 text-green-600"
                                    }), " Modelo"]
                                }), e.jsxs(He, {
                                    value: r === "" ? "__empty__" : r,
                                    onValueChange: B => {
                                        D(B === "__empty__" ? "" : B)
                                    },
                                    disabled: !t,
                                    children: [e.jsx(qe, {
                                        className: "h-11 border-2 border-gray-200 hover:border-blue-300 focus:border-blue-500 rounded-lg transition-colors",
                                        children: e.jsx(We, {
                                            placeholder: "Todos los modelos"
                                        })
                                    }), e.jsxs(Be, {
                                        children: [e.jsx(Q, {
                                            value: "__empty__",
                                            children: "Todos los modelos"
                                        }), O.map(B => e.jsx(Q, {
                                            value: B,
                                            children: B
                                        }, B))]
                                    })]
                                })]
                            }), e.jsxs("div", {
                                children: [e.jsxs("label", {
                                    className: "block text-sm font-medium mb-2 text-gray-700",
                                    children: [e.jsx(ur, {
                                        className: "h-4 w-4 inline-block mr-2 text-purple-600"
                                    }), " Año"]
                                }), e.jsxs(He, {
                                    value: a === "" ? "__empty__" : a,
                                    onValueChange: B => {
                                        K(B === "__empty__" ? "" : B)
                                    },
                                    children: [e.jsx(qe, {
                                        className: "h-11 border-2 border-gray-200 hover:border-blue-300 focus:border-blue-500 rounded-lg transition-colors",
                                        children: e.jsx(We, {
                                            placeholder: "Todos los años"
                                        })
                                    }), e.jsxs(Be, {
                                        children: [e.jsx(Q, {
                                            value: "__empty__",
                                            children: "Todos los años"
                                        }), W().map(B => e.jsx(Q, {
                                            value: B.toString(),
                                            children: B
                                        }, B))]
                                    })]
                                })]
                            }), e.jsxs("div", {
                                children: [e.jsxs("label", {
                                    className: "block text-sm font-medium mb-2 text-gray-700",
                                    children: [e.jsx(Zd, {
                                        className: "h-4 w-4 inline-block mr-2 text-orange-600"
                                    }), " Combustible"]
                                }), e.jsxs(He, {
                                    value: o === "" ? "__empty__" : o,
                                    onValueChange: B => {
                                        L(B === "__empty__" ? "" : B)
                                    },
                                    children: [e.jsx(qe, {
                                        className: "h-11 border-2 border-gray-200 hover:border-blue-300 focus:border-blue-500 rounded-lg transition-colors",
                                        children: e.jsx(We, {
                                            placeholder: "Todos"
                                        })
                                    }), e.jsxs(Be, {
                                        children: [e.jsx(Q, {
                                            value: "__empty__",
                                            children: "Todos"
                                        }), oe().map(B => e.jsx(Q, {
                                            value: B,
                                            children: jp(B || "")
                                        }, B))]
                                    })]
                                })]
                            }), e.jsxs("div", {
                                children: [e.jsxs("label", {
                                    className: "block text-sm font-medium mb-2 text-gray-700",
                                    children: [e.jsx(Ss, {
                                        className: "h-4 w-4 inline-block mr-2 text-red-600"
                                    }), " Potencia (CV)"]
                                }), e.jsx(te, {
                                    type: "number",
                                    placeholder: "ej: 150",
                                    value: c,
                                    onChange: B => ee(B.target.value),
                                    className: "h-11 border-2 border-gray-200 hover:border-blue-300 focus:border-blue-500 rounded-lg transition-colors"
                                })]
                            })]
                        }), e.jsx("div", {
                            className: "mt-6 flex justify-center",
                            children: e.jsx(T, {
                                onClick: ce,
                                variant: "outline",
                                className: "px-6 py-2 border-2 border-gray-300 hover:border-red-400 hover:bg-red-50 hover:text-red-700 transition-all duration-200 rounded-lg",
                                children: e.jsx("span", {
                                    className: "flex items-center justify-center",
                                    children: "✕ Limpiar filtros"
                                })
                            })
                        }), e.jsxs("div", {
                            className: "mt-6 space-y-2",
                            children: [re > 0 && e.jsxs(ye, {
                                variant: "secondary",
                                className: "bg-green-100 text-green-800 border-green-200 w-full justify-center",
                                children: [re.toLocaleString(), " resultados"]
                            }), (t || r || a || o || p) && e.jsxs(ye, {
                                variant: "outline",
                                className: "bg-blue-100 text-blue-800 border-blue-200 w-full justify-center",
                                children: [[t, r, a, o, p].filter(Boolean).length, " filtros activos"]
                            })]
                        }), (t || r || a || o) && e.jsxs("div", {
                            className: "mt-6 pt-4 border-t border-gray-200",
                            children: [e.jsx("span", {
                                className: "text-sm font-medium text-gray-700 block mb-2",
                                children: "Filtros activos:"
                            }), e.jsxs("div", {
                                className: "flex flex-wrap gap-2",
                                children: [t && e.jsxs(ye, {
                                    variant: "outline",
                                    className: "bg-blue-50 text-blue-700 border-blue-200",
                                    children: ["Marca: ", t]
                                }), r && e.jsxs(ye, {
                                    variant: "outline",
                                    className: "bg-green-50 text-green-700 border-green-200",
                                    children: ["Modelo: ", r]
                                }), a && e.jsxs(ye, {
                                    variant: "outline",
                                    className: "bg-purple-50 text-purple-700 border-purple-200",
                                    children: ["Año: ", a]
                                }), o && e.jsxs(ye, {
                                    variant: "outline",
                                    className: "bg-orange-50 text-orange-700 border-orange-200",
                                    children: ["Combustible: ", o]
                                })]
                            })]
                        })]
                    })
                })
            }), e.jsxs("div", {
                className: "flex-1",
                children: [e.jsxs("div", {
                    className: "mb-6 text-center",
                    children: [e.jsx("h1", {
                        className: "text-2xl font-montserrat font-semibold text-gray-800 mb-2",
                        children: "Catálogo de Vehículos"
                    }), e.jsx("p", {
                        className: "text-sm text-gray-600 mb-4",
                        children: "Explore nuestro inventario completo de vehículos disponibles para recambios"
                    })]
                }), e.jsx("div", {
                    className: "mb-6",
                    children: e.jsxs("div", {
                        className: "relative",
                        children: [e.jsx(Cr, {
                            className: "absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"
                        }), e.jsx(te, {
                            placeholder: "Buscar por ID, referencia, marca, modelo, año...",
                            className: "pl-10 pr-4 py-2 border-2 border-gray-200 focus:border-blue-500 focus:ring-0 rounded-lg transition-all duration-200",
                            value: p,
                            onChange: B => j(B.target.value)
                        }), p && e.jsx("button", {
                            onClick: () => j(""),
                            className: "absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",
                            children: "✕"
                        })]
                    })
                }), e.jsxs("div", {
                    className: "mb-6",
                    children: [e.jsxs("div", {
                        className: "flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-4",
                        children: [e.jsxs("h2", {
                            className: "text-sm font-montserrat font-medium text-gray-600",
                            children: [re, " vehículos disponibles"]
                        }), e.jsxs("div", {
                            className: "flex flex-wrap items-center gap-4",
                            children: [e.jsxs("div", {
                                className: "flex items-center gap-2",
                                children: [e.jsx("span", {
                                    className: "text-sm text-muted-foreground whitespace-nowrap",
                                    children: "Mostrar:"
                                }), e.jsxs(He, {
                                    value: f.toString(),
                                    onValueChange: B => {
                                        b(parseInt(B)),
                                        v(1)
                                    },
                                    children: [e.jsx(qe, {
                                        className: "w-20",
                                        children: e.jsx(We, {})
                                    }), e.jsxs(Be, {
                                        children: [e.jsx(Q, {
                                            value: "12",
                                            children: "12"
                                        }), e.jsx(Q, {
                                            value: "24",
                                            children: "24"
                                        }), e.jsx(Q, {
                                            value: "48",
                                            children: "48"
                                        }), e.jsx(Q, {
                                            value: "96",
                                            children: "96"
                                        })]
                                    })]
                                })]
                            }), e.jsxs("div", {
                                className: "flex items-center gap-2",
                                children: [e.jsx("span", {
                                    className: "text-sm text-muted-foreground whitespace-nowrap",
                                    children: "Ordenar por:"
                                }), e.jsxs(He, {
                                    value: u,
                                    onValueChange: B => {
                                        m(B),
                                        v(1)
                                    },
                                    children: [e.jsx(qe, {
                                        className: "w-[140px]",
                                        children: e.jsx(We, {})
                                    }), e.jsxs(Be, {
                                        children: [e.jsx(Q, {
                                            value: "newest",
                                            children: "Más recientes"
                                        }), e.jsx(Q, {
                                            value: "oldest",
                                            children: "Más antiguos"
                                        }), e.jsx(Q, {
                                            value: "brand_asc",
                                            children: "Marca A-Z"
                                        }), e.jsx(Q, {
                                            value: "brand_desc",
                                            children: "Marca Z-A"
                                        }), e.jsx(Q, {
                                            value: "model_asc",
                                            children: "Modelo A-Z"
                                        }), e.jsx(Q, {
                                            value: "model_desc",
                                            children: "Modelo Z-A"
                                        }), e.jsx(Q, {
                                            value: "year_asc",
                                            children: "Año ascendente"
                                        }), e.jsx(Q, {
                                            value: "year_desc",
                                            children: "Año descendente"
                                        })]
                                    })]
                                })]
                            }), !C && e.jsxs("div", {
                                className: "flex items-center gap-2",
                                children: [e.jsx("span", {
                                    className: "text-sm text-muted-foreground whitespace-nowrap",
                                    children: "Vista:"
                                }), e.jsxs("div", {
                                    className: "flex border rounded-lg",
                                    children: [e.jsx(T, {
                                        variant: g === "grid" ? "default" : "ghost",
                                        size: "sm",
                                        onClick: () => x("grid"),
                                        className: "rounded-r-none",
                                        children: e.jsx(Dj, {
                                            className: "h-4 w-4"
                                        })
                                    }), e.jsx(T, {
                                        variant: g === "list" ? "default" : "ghost",
                                        size: "sm",
                                        onClick: () => x("list"),
                                        className: "rounded-none border-x",
                                        children: e.jsx(Sf, {
                                            className: "h-4 w-4"
                                        })
                                    }), e.jsx(T, {
                                        variant: g === "table" ? "default" : "ghost",
                                        size: "sm",
                                        onClick: () => x("table"),
                                        className: "rounded-l-none",
                                        children: e.jsx(qO, {
                                            className: "h-4 w-4"
                                        })
                                    })]
                                })]
                            })]
                        })]
                    }), A ? e.jsx("div", {
                        className: "flex justify-center items-center h-64",
                        children: e.jsxs("div", {
                            className: "text-center",
                            children: [e.jsx("div", {
                                className: "animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"
                            }), e.jsx("p", {
                                className: "text-muted-foreground",
                                children: "Cargando vehículos..."
                            })]
                        })
                    }) : M.length === 0 ? e.jsxs(U, {
                        className: "p-8 text-center",
                        children: [e.jsx("p", {
                            className: "text-muted-foreground mb-4",
                            children: "No se encontraron vehículos con los filtros aplicados."
                        }), e.jsx(T, {
                            onClick: ce,
                            variant: "outline",
                            children: "Limpiar filtros"
                        })]
                    }) : e.jsxs(e.Fragment, {
                        children: [g === "grid" && Se(), g === "list" && pe(), g === "table" && _e(), ue > 1 && e.jsx("div", {
                            className: "mt-8 flex justify-center pagination-container",
                            children: e.jsx(wm, {
                                children: e.jsxs(Cm, {
                                    children: [e.jsx(ps, {
                                        children: e.jsx(Sm, {
                                            onClick: () => y > 1 && k(y - 1),
                                            className: y <= 1 ? "pointer-events-none opacity-50" : "cursor-pointer",
                                            title: "Página anterior"
                                        })
                                    }), (() => {
                                        let De = [],
                                            vt = !1,
                                            At = !1;
                                        return ue <= 7 ? De = Array.from({
                                            length: ue
                                        }, (Mt, P) => P + 1) : y <= 4 ? (De = [1, 2, 3, 4, 5], At = !0) : y >= ue - 3 ? (De = Array.from({
                                            length: 5
                                        }, (Mt, P) => ue - 4 + P), vt = !0) : (De = [y - 1, y, y + 1], vt = !0, At = !0), e.jsxs(e.Fragment, {
                                            children: [vt && e.jsxs(e.Fragment, {
                                                children: [e.jsx(ps, {
                                                    children: e.jsx(un, {
                                                        onClick: () => k(1),
                                                        className: "cursor-pointer",
                                                        children: "1"
                                                    })
                                                }), e.jsx("span", {
                                                    className: "px-2 flex items-center text-gray-500",
                                                    children: "..."
                                                })]
                                            }), De.map(Mt => e.jsx(ps, {
                                                children: e.jsx(un, {
                                                    onClick: () => k(Mt),
                                                    isActive: y === Mt,
                                                    className: "cursor-pointer",
                                                    children: Mt
                                                })
                                            }, Mt)), At && e.jsxs(e.Fragment, {
                                                children: [e.jsx("span", {
                                                    className: "px-2 flex items-center text-gray-500",
                                                    children: "..."
                                                }), e.jsx(ps, {
                                                    children: e.jsx(un, {
                                                        onClick: () => k(ue),
                                                        className: "cursor-pointer",
                                                        children: ue
                                                    })
                                                })]
                                            })]
                                        })
                                    })(), e.jsx(ps, {
                                        children: e.jsx(Em, {
                                            onClick: () => y < ue && k(y + 1),
                                            className: y >= ue ? "pointer-events-none opacity-50" : "cursor-pointer",
                                            title: "Página siguiente"
                                        })
                                    })]
                                })
                            })
                        })]
                    })]
                })]
            })]
        })]
    })
};
function eT(t) {
    try {
        document.title = t.title,
        _i("name", "description", t.description),
        _i("property", "og:title", t.ogTitle || t.title),
        _i("property", "og:description", t.ogDescription || t.description),
        _i("property", "og:url", t.ogUrl || window.location.href),
        t.ogImage && _i("property", "og:image", t.ogImage),
        _i("name", "twitter:title", t.ogTitle || t.title),
        _i("name", "twitter:description", t.ogDescription || t.description),
        t.ogImage && _i("name", "twitter:image", t.ogImage)
    } catch (s) {
        console.error("Error updating SEO meta tags:", s)
    }
}
function _i(t, s, r) {
    try {
        let n = document.querySelector(`meta[${t}="${s}"]`);
        n || (n = document.createElement("meta"), n.setAttribute(t, s), document.head.appendChild(n)),
        n.setAttribute("content", r)
    } catch (n) {
        console.error(`Error updating meta tag ${t}="${s}":`, n)
    }
}
function $V(t) {
    if (!t)
        return {
            title: "Desguace Murcia - Repuestos Originales Vehículos",
            description: "Encuentra repuestos originales para tu vehículo en Desguace Murcia.",
            ogImage: "https://images.unsplash.com/photo-1580273916550-e323be2ae537?w=1200&h=630&fit=crop"
        };
    const s = t.descripcionArticulo || t.descripcion || "Pieza",
        r = t.vehicleMarca || t.marca || "",
        n = t.vehicleModelo || t.modelo || "",
        a = t.vehicleAnyo || t.anyo || "",
        i = t.codArticulo || t.codigoPieza || t.codigo_pieza || "N/A",
        o = t.precio || "0";
    return {
        title: `${s} ${r} ${n} ${a ? `(${a})` : ""} (OEM: ${i}) (Ref: ${t.id})`.replace(/\s+/g, " ").trim(),
        description: `Compra ${s} para ${r} ${n} online en Desguace Murcia por ${o}€. Garantía 3 meses y envío península.`,
        ogImage: "https://images.unsplash.com/photo-1580273916550-e323be2ae537?w=1200&h=630&fit=crop"
    }
}
function VV(t) {
    if (!t)
        return {
            title: "Desguace Murcia - Repuestos Originales Vehículos",
            description: "Encuentra repuestos originales para tu vehículo en Desguace Murcia.",
            ogImage: "https://images.unsplash.com/photo-1580273916550-e323be2ae537?w=1200&h=630&fit=crop"
        };
    const s = t.marca || "",
        r = t.modelo || "",
        n = t.anyo || "",
        a = t.activeParts || t.active_parts_count || 0;
    return {
        title: `${s} ${r} ${n} - Piezas y Recambios | Desguace Murcia`.replace(/\s+/g, " ").trim(),
        description: `Encuentra piezas para ${s} ${r} ${n} en Desguace Murcia. ${a} piezas disponibles. Garantía 3 meses y envío península.`,
        ogImage: "https://images.unsplash.com/photo-1580273916550-e323be2ae537?w=1200&h=630&fit=crop"
    }
}
function Cs({className: t, ...s}) {
    return e.jsx("div", {
        className: me("animate-pulse rounded-md bg-muted", t),
        ...s
    })
}
const UV = ({src: t, alt: s, className: r="", isPrimary: n=!1, aspectRatio: a="4/3", sizes: i="(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"}) => {
        const [o, l] = h.useState(!1),
            [c, d] = h.useState(!1),
            [u, m] = h.useState(n),
            p = h.useRef(null);
        ke.useMemo(() => {
            if (t.includes("metasync.com")) {
                const x = r.includes("thumb") || r.includes("small");
                return t + `#w=${x ? 150 : 400}&h=${x ? 100 : 300}&q=${x ? 60 : 75}`
            }
            return t
        }, [t, r]),
        h.useEffect(() => {
            if (n || u)
                return;
            const x = new IntersectionObserver(([y]) => {
                y.isIntersecting && (m(!0), x.disconnect())
            }, {
                rootMargin: "50px",
                threshold: .1
            });
            return p.current && x.observe(p.current), () => x.disconnect()
        }, [n, u]);
        const j = () => {
                l(!0)
            },
            g = () => {
                d(!0),
                l(!0)
            };
        return c ? e.jsxs("div", {
            className: `flex items-center justify-center bg-gray-100 ${r}`,
            style: {
                aspectRatio: a
            },
            children: [e.jsxs("div", {
                className: "text-center text-gray-400",
                children: [e.jsx("svg", {
                    className: "w-12 h-12 mx-auto mb-2",
                    fill: "none",
                    stroke: "currentColor",
                    viewBox: "0 0 24 24",
                    children: e.jsx("path", {
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeWidth: 1.5,
                        d: "M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"
                    })
                }), e.jsx("span", {
                    className: "text-sm",
                    children: "Imagen no disponible"
                })]
            }), e.jsx("span", {
                className: "sr-only",
                children: s
            })]
        }) : e.jsxs("div", {
            className: `relative overflow-hidden ${r}`,
            style: {
                aspectRatio: a
            },
            ref: p,
            children: [!o && e.jsx("div", {
                className: "absolute inset-0 bg-gray-200 animate-pulse"
            }), (u || n) && e.jsx("img", {
                src: t,
                alt: s,
                className: `w-full h-full ${r.includes("object-cover") ? "object-cover" : "object-contain"} transition-opacity duration-300 ${o ? "opacity-100" : "opacity-0"}`,
                loading: n ? "eager" : "lazy",
                decoding: "async",
                ...n && {
                    fetchPriority: "high"
                },
                onLoad: j,
                onError: g,
                width: n ? "364" : "123",
                height: n ? "273" : "92",
                style: {
                    maxWidth: "100%",
                    height: "auto",
                    aspectRatio: "4/3",
                    minHeight: n ? "273px" : "92px",
                    minWidth: n ? "364px" : "123px"
                }
            })]
        })
    },
    tT = ({src: t, alt: s, className: r="", isSelected: n=!1, onClick: a}) => {
        const [i, o] = h.useState(!1),
            [l, c] = h.useState(!1),
            [d, u] = h.useState(!1),
            m = h.useRef(null);
        h.useEffect(() => {
            if (d)
                return;
            const g = new IntersectionObserver(([x]) => {
                x.isIntersecting && (u(!0), g.disconnect())
            }, {
                rootMargin: "100px",
                threshold: .1
            });
            return m.current && g.observe(m.current), () => g.disconnect()
        }, [d]);
        const p = () => {
                o(!0)
            },
            j = () => {
                c(!0),
                o(!0)
            };
        return l ? e.jsxs("div", {
            className: `flex items-center justify-center bg-gray-100 cursor-pointer ${r}`,
            onClick: a,
            children: [e.jsx("div", {
                className: "text-gray-400",
                children: e.jsx("svg", {
                    className: "w-6 h-6",
                    fill: "none",
                    stroke: "currentColor",
                    viewBox: "0 0 24 24",
                    children: e.jsx("path", {
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeWidth: 1.5,
                        d: "M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"
                    })
                })
            }), e.jsx("span", {
                className: "sr-only",
                children: s
            })]
        }) : e.jsxs("div", {
            className: `relative overflow-hidden cursor-pointer transition-colors border-2 ${n ? "border-primary" : "border-gray-200"} hover:border-primary ${r}`,
            onClick: a,
            ref: m,
            children: [!i && e.jsx("div", {
                className: "absolute inset-0 bg-gray-200 animate-pulse"
            }), d && e.jsx("img", {
                src: t,
                alt: s,
                className: `w-full h-full object-cover transition-opacity duration-300 ${i ? "opacity-100" : "opacity-0"}`,
                loading: "lazy",
                decoding: "async",
                onLoad: p,
                onError: j,
                width: "96",
                height: "96"
            })]
        })
    },
    qV = ({images: t, priority: s=1, delay: r=1e3}) => (h.useEffect(() => {
        if (!t || t.length === 0)
            return;
        if (t.slice(0, s).forEach((a, i) => {
            if (a && !document.querySelector(`link[href="${a}"]`)) {
                const o = document.createElement("link");
                o.rel = "preload",
                o.as = "image",
                o.href = a,
                i === 0 && (o.fetchPriority = "high"),
                document.head.appendChild(o)
            }
        }), t.length > s) {
            const a = setTimeout(() => {
                t.slice(s).forEach(o => {
                    if (o && !document.querySelector(`link[href="${o}"]`)) {
                        const l = document.createElement("link");
                        l.rel = "preload",
                        l.as = "image",
                        l.href = o,
                        document.head.appendChild(l)
                    }
                })
            }, r);
            return () => clearTimeout(a)
        }
    }, [t, s, r]), null),
    BV = () => {
        var y;
        const s = am().slug || "0",
            r = X_(`/vehiculos/${s}`);
        h.useEffect(() => {
            window.scrollTo({
                top: 0,
                behavior: "smooth"
            })
        }, [r]);
        const [n, a] = h.useState(0),
            [i, o] = h.useState(""),
            [l, c] = h.useState("grid"),
            {data: d, isLoading: u, error: m} = Te({
                queryKey: [`vehicle-detail-${r}`],
                queryFn: async () => {
                    try {
                        console.log(`🔍 Cargando detalles del vehículo ${r}...`);
                        const v = await Kf.getVehicleById(r, {
                            soloActivas: !0
                        });
                        return console.log("✅ Detalles del vehículo cargados:", v), v
                    } catch (v) {
                        throw console.error(`❌ Error cargando vehículo ${r}:`, v), v
                    }
                },
                enabled: !isNaN(r) && r > 0,
                retry: 2,
                staleTime: 18e5,
                gcTime: 36e5,
                refetchOnWindowFocus: !1
            });
        h.useEffect(() => {
            if (d != null && d.vehicle && d.vehicle.marca && d.vehicle.modelo) {
                const v = VV(d.vehicle);
                eT(v)
            }
        }, [d == null ? void 0 : d.vehicle]),
        h.useEffect(() => {
            var v;
            if ((v = d == null ? void 0 : d.vehicle) != null && v.imagenes && d.vehicle.imagenes.length > 0) {
                const f = d.vehicle.imagenes[0];
                if (f && !document.querySelector(`link[href="${f}"]`)) {
                    const b = document.createElement("link");
                    if (b.rel = "preload", b.as = "image", b.href = f, b.fetchPriority = "high", b.crossOrigin = "anonymous", document.head.appendChild(b), console.log("🚀 Preloading critical LCP image:", f), navigator.sendBeacon) {
                        const N = `<${f}>; rel=preload; as=image`;
                        document.dispatchEvent(new CustomEvent("earlyHint", {
                            detail: N
                        }))
                    }
                }
            }
        }, [(y = d == null ? void 0 : d.vehicle) == null ? void 0 : y.imagenes]);
        const p = h.useMemo(() => {
                if (!(d != null && d.parts) || d.parts.length === 0)
                    return [];
                const v = new Set;
                return d.parts.forEach(f => {
                    f.descripcionFamilia && v.add(f.descripcionFamilia)
                }), Array.from(v)
            }, [d == null ? void 0 : d.parts]),
            j = h.useMemo(() => {
                if (!(d != null && d.parts) || d.parts.length === 0 || !(d != null && d.vehicle))
                    return [];
                let v = d.parts;
                if (i.trim()) {
                    const f = i.toLowerCase();
                    v = d.parts.filter(b => b.descripcionArticulo.toLowerCase().includes(f) || b.descripcionFamilia && b.descripcionFamilia.toLowerCase().includes(f) || b.codArticulo.toLowerCase().includes(f) || b.refPrincipal && b.refPrincipal.toLowerCase().includes(f))
                }
                return v.map(f => ({
                    ...f,
                    refLocal: f.refLocal.toString(),
                    activo: f.activo ?? !0,
                    vehicleId: d.vehicle.id,
                    vehicleMarca: d.vehicle.marca,
                    vehicleModelo: d.vehicle.modelo,
                    vehicleVersion: d.vehicle.version || "",
                    vehicleAnyo: d.vehicle.anyo,
                    vehicleCombustible: d.vehicle.combustible,
                    vehicleInfo: {
                        id: d.vehicle.id,
                        idLocal: d.vehicle.id,
                        marca: d.vehicle.marca,
                        modelo: d.vehicle.modelo,
                        version: d.vehicle.version || "",
                        anyo: d.vehicle.anyo,
                        combustible: d.vehicle.combustible
                    }
                }))
            }, [d == null ? void 0 : d.parts, d == null ? void 0 : d.vehicle, i]);
        if (isNaN(r))
            return e.jsxs("div", {
                className: "container mx-auto px-4 py-12 text-center",
                children: [e.jsx("h1", {
                    className: "text-2xl font-montserrat font-bold mb-4",
                    children: "ID de vehículo inválido"
                }), e.jsx("p", {
                    className: "mb-6",
                    children: "El ID proporcionado no es válido."
                }), e.jsx(ze, {
                    to: "/vehiculos",
                    children: e.jsxs(T, {
                        children: [e.jsx(Nr, {
                            className: "mr-2 h-4 w-4"
                        }), "Volver a vehículos"]
                    })
                })]
            });
        if (u)
            return e.jsxs("div", {
                className: "max-w-[1400px] mx-auto px-6 py-8",
                children: [e.jsx("div", {
                    className: "mb-8",
                    children: e.jsx(Cs, {
                        className: "h-4 w-64"
                    })
                }), e.jsxs("div", {
                    className: "flex flex-col md:flex-row justify-between items-start mb-8",
                    style: {
                        minHeight: "120px"
                    },
                    children: [e.jsxs("div", {
                        children: [e.jsx(Cs, {
                            className: "h-8 w-80 mb-2"
                        }), e.jsx(Cs, {
                            className: "h-5 w-32"
                        })]
                    }), e.jsx(Cs, {
                        className: "h-10 w-48 mt-4 md:mt-0"
                    })]
                }), e.jsxs("div", {
                    className: "grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",
                    children: [e.jsxs("div", {
                        className: "space-y-4",
                        children: [e.jsx(Cs, {
                            className: "aspect-[4/3] w-full rounded-lg"
                        }), e.jsx("div", {
                            className: "flex space-x-2",
                            children: [1, 2, 3, 4].map(v => e.jsx(Cs, {
                                className: "w-24 h-24 rounded-md"
                            }, v))
                        })]
                    }), e.jsx("div", {
                        className: "space-y-4",
                        children: e.jsx(Cs, {
                            className: "h-64 w-full rounded-lg"
                        })
                    })]
                }), e.jsxs("div", {
                    className: "space-y-4",
                    children: [e.jsx(Cs, {
                        className: "h-6 w-48"
                    }), e.jsxs("div", {
                        className: "flex gap-4 mb-4",
                        children: [e.jsx(Cs, {
                            className: "h-10 flex-1"
                        }), e.jsx(Cs, {
                            className: "h-10 w-32"
                        })]
                    }), e.jsx("div", {
                        className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",
                        children: [1, 2, 3, 4, 5, 6].map(v => e.jsx(Cs, {
                            className: "h-80 rounded-lg"
                        }, v))
                    })]
                })]
            });
        if (m)
            return console.error("❌ Error en VehicleDetail:", m), e.jsxs("div", {
                className: "container mx-auto px-4 py-12 text-center",
                children: [e.jsx("h1", {
                    className: "text-2xl font-montserrat font-bold mb-4",
                    children: "Error al cargar el vehículo"
                }), e.jsxs("p", {
                    className: "mb-6",
                    children: ["No se pudo cargar la información del vehículo.", m instanceof Error ? ` Error: ${m.message}` : ""]
                }), e.jsx(ze, {
                    to: "/vehiculos",
                    children: e.jsxs(T, {
                        children: [e.jsx(Nr, {
                            className: "mr-2 h-4 w-4"
                        }), "Volver a vehículos"]
                    })
                })]
            });
        if (!d || !d.vehicle)
            return u ? null : (console.log("⚠️ No hay datos del vehículo, pero no está cargando"), e.jsxs("div", {
                className: "container mx-auto px-4 py-12 text-center",
                children: [e.jsx("h1", {
                    className: "text-2xl font-montserrat font-bold mb-4",
                    children: "Vehículo no encontrado"
                }), e.jsxs("p", {
                    className: "mb-6",
                    children: ["El vehículo con ID ", r, " no existe o no está disponible."]
                }), e.jsx(ze, {
                    to: "/vehiculos",
                    children: e.jsxs(T, {
                        children: [e.jsx(Nr, {
                            className: "mr-2 h-4 w-4"
                        }), "Volver a vehículos"]
                    })
                })]
            }));
        const {vehicle: g, parts: x} = d;
        return g && !Array.isArray(g.imagenes) && (g.imagenes = []), e.jsxs("div", {
            className: "max-w-[1400px] mx-auto px-6 py-8",
            children: [g && g.imagenes && e.jsx(qV, {
                images: g.imagenes,
                priority: 1,
                delay: 500
            }), e.jsx("div", {
                className: "mb-8",
                children: e.jsxs("div", {
                    className: "flex items-center space-x-2 text-sm",
                    children: [e.jsx(ze, {
                        to: "/",
                        children: e.jsx("a", {
                            className: "hover:text-primary",
                            children: "Inicio"
                        })
                    }), e.jsx("span", {
                        children: "/"
                    }), e.jsx(ze, {
                        to: "/vehiculos",
                        children: e.jsx("a", {
                            className: "hover:text-primary",
                            children: "Vehículos"
                        })
                    }), e.jsx("span", {
                        children: "/"
                    }), e.jsx("span", {
                        className: "text-muted-foreground",
                        children: (() => {
                            if (!g)
                                return "Vehículo";
                            if (g.descripcion && g.descripcion.trim() !== "" && isNaN(Number(g.descripcion.trim())))
                                return g.descripcion;
                            const v = [];
                            return g.marca && g.marca !== "N/A" && g.marca.trim() !== "" && v.push(g.marca), g.modelo && g.modelo !== "N/A" && g.modelo.trim() !== "" && v.push(g.modelo), g.version && g.version !== "N/A" && g.version.trim() !== "" && v.push(g.version), v.length > 0 ? v.join(" ") : "Vehículo"
                        })()
                    })]
                })
            }), e.jsxs("div", {
                className: "flex flex-col md:flex-row justify-between items-start mb-8 vehicle-detail-container prevent-cls",
                children: [e.jsxs("div", {
                    children: [e.jsxs("div", {
                        className: "flex items-center gap-3 mb-2",
                        children: [e.jsx("h1", {
                            className: "text-3xl font-montserrat font-bold",
                            children: (() => {
                                if (!g)
                                    return "Vehículo";
                                if (g.descripcion && g.descripcion.trim() !== "" && isNaN(Number(g.descripcion.trim())))
                                    return g.descripcion;
                                const v = [];
                                return g.marca && g.marca !== "N/A" && g.marca.trim() !== "" && v.push(g.marca), g.modelo && g.modelo !== "N/A" && g.modelo.trim() !== "" && v.push(g.modelo), g.version && g.version !== "N/A" && g.version.trim() !== "" && v.push(g.version), g.anyo && g.anyo > 0 && v.push(g.anyo.toString()), v.length > 0 ? v.join(" ") : `Vehículo ${g.id || "Sin ID"}`
                            })()
                        }), e.jsxs(ye, {
                            variant: "outline",
                            className: "border-primary text-primary",
                            children: ["Ref: ", (g == null ? void 0 : g.descripcion) || "N/A"]
                        })]
                    }), e.jsx("div", {
                        className: "flex items-center space-x-2",
                        children: e.jsx(ye, {
                            className: "bg-primary text-white",
                            children: jp((g == null ? void 0 : g.combustible) || "")
                        })
                    })]
                }), e.jsx(ze, {
                    to: "/vehiculos",
                    children: e.jsxs(T, {
                        variant: "outline",
                        className: "mt-4 md:mt-0",
                        children: [e.jsx(Nr, {
                            className: "mr-2 h-4 w-4"
                        }), "Volver a vehículos"]
                    })
                })]
            }), e.jsxs("div", {
                className: "grid grid-cols-1 lg:grid-cols-3 gap-8",
                children: [e.jsx("div", {
                    className: "lg:col-span-2",
                    children: g && g.imagenes && Array.isArray(g.imagenes) && g.imagenes.length > 0 ? e.jsxs("div", {
                        className: "space-y-4",
                        children: [e.jsxs(Ic, {
                            className: "w-full",
                            "data-carousel-container": "true",
                            opts: {
                                startIndex: n,
                                align: "start"
                            },
                            children: [e.jsx(Rc, {
                                children: (g.imagenes || []).map((v, f) => e.jsx(Yo, {
                                    children: e.jsx(UV, {
                                        src: v,
                                        alt: `${g.descripcion || g.marca + " " + g.modelo} - Imagen ${f + 1}`,
                                        className: "rounded-lg",
                                        isPrimary: f === 0,
                                        aspectRatio: "4/3",
                                        sizes: "(max-width: 768px) 100vw, (max-width: 1200px) 66vw, 50vw"
                                    })
                                }, f))
                            }), e.jsx(Dc, {}), e.jsx(Oc, {})]
                        }), e.jsx("div", {
                            className: "overflow-x-auto pb-2",
                            children: e.jsx("div", {
                                className: "flex space-x-2",
                                children: (g.imagenes || []).map((v, f) => e.jsx(tT, {
                                    src: v,
                                    alt: `Thumbnail ${f + 1}`,
                                    className: "flex-none w-24 h-24 rounded-md",
                                    isSelected: n === f,
                                    onClick: () => {
                                        var N,
                                            w;
                                        a(f);
                                        const b = document.querySelector('[data-carousel-container="true"]');
                                        if (b) {
                                            const C = (w = (N = b._emblaRef) == null ? void 0 : N.current) == null ? void 0 : w.emblaApi;
                                            C && C.scrollTo(f)
                                        }
                                    }
                                }, f))
                            })
                        })]
                    }) : e.jsx("div", {
                        className: "bg-gray-200 rounded-lg flex items-center justify-center aspect-[4/3]",
                        children: e.jsx("p", {
                            className: "text-gray-500",
                            children: "No hay imágenes disponibles"
                        })
                    })
                }), e.jsx(U, {
                    children: e.jsxs(q, {
                        className: "p-6",
                        children: [e.jsx("h2", {
                            className: "text-xl font-montserrat font-semibold mb-4",
                            children: "Detalles del vehículo"
                        }), e.jsxs("div", {
                            className: "space-y-0",
                            children: [e.jsxs("div", {
                                className: "grid grid-cols-2 bg-gray-50 px-3 py-2",
                                children: [e.jsx("span", {
                                    className: "text-muted-foreground",
                                    children: "Referencia:"
                                }), e.jsx("span", {
                                    className: "font-medium",
                                    children: g.descripcion || "N/A"
                                })]
                            }), e.jsxs("div", {
                                className: "grid grid-cols-2 bg-white px-3 py-2",
                                children: [e.jsx("span", {
                                    className: "text-muted-foreground",
                                    children: "ID:"
                                }), e.jsx("span", {
                                    className: "font-medium",
                                    children: g.id
                                })]
                            }), e.jsxs("div", {
                                className: "grid grid-cols-2 bg-gray-50 px-3 py-2",
                                children: [e.jsx("span", {
                                    className: "text-muted-foreground",
                                    children: "Marca:"
                                }), e.jsx("span", {
                                    className: "font-medium",
                                    children: g.marca
                                })]
                            }), e.jsxs("div", {
                                className: "grid grid-cols-2 bg-gray-50 px-3 py-2",
                                children: [e.jsx("span", {
                                    className: "text-muted-foreground",
                                    children: "Modelo:"
                                }), e.jsx("span", {
                                    className: "font-medium",
                                    children: g.modelo
                                })]
                            }), e.jsxs("div", {
                                className: "grid grid-cols-2 bg-white px-3 py-2",
                                children: [e.jsx("span", {
                                    className: "text-muted-foreground",
                                    children: "Versión:"
                                }), e.jsx("span", {
                                    className: "font-medium",
                                    children: g.version || "N/A"
                                })]
                            }), e.jsxs("div", {
                                className: "grid grid-cols-2 bg-gray-50 px-3 py-2",
                                children: [e.jsx("span", {
                                    className: "text-muted-foreground",
                                    children: "Año:"
                                }), e.jsx("span", {
                                    className: "font-medium",
                                    children: g.anyo
                                })]
                            }), e.jsxs("div", {
                                className: "grid grid-cols-2 bg-white px-3 py-2",
                                children: [e.jsx("span", {
                                    className: "text-muted-foreground",
                                    children: "Combustible:"
                                }), e.jsx("span", {
                                    className: "font-medium",
                                    children: jp(g.combustible || "")
                                })]
                            }), e.jsxs("div", {
                                className: "grid grid-cols-2 bg-gray-50 px-3 py-2",
                                children: [e.jsx("span", {
                                    className: "text-muted-foreground",
                                    children: "Matrícula:"
                                }), e.jsx("span", {
                                    className: "font-medium",
                                    children: g.matricula || "N/A"
                                })]
                            }), e.jsxs("div", {
                                className: "grid grid-cols-2 bg-white px-3 py-2",
                                children: [e.jsx("span", {
                                    className: "text-muted-foreground",
                                    children: "Bastidor:"
                                }), e.jsx("span", {
                                    className: "font-medium",
                                    children: g.bastidor || "N/A"
                                })]
                            }), e.jsxs("div", {
                                className: "grid grid-cols-2 bg-gray-50 px-3 py-2",
                                children: [e.jsx("span", {
                                    className: "text-muted-foreground",
                                    children: "Kilometraje:"
                                }), e.jsx("span", {
                                    className: "font-medium",
                                    children: g.kilometraje ? `${g.kilometraje} km` : "N/A"
                                })]
                            }), e.jsxs("div", {
                                className: "grid grid-cols-2 bg-white px-3 py-2",
                                children: [e.jsx("span", {
                                    className: "text-muted-foreground",
                                    children: "Potencia:"
                                }), e.jsx("span", {
                                    className: "font-medium",
                                    children: g.potencia ? `${g.potencia} CV` : "N/A"
                                })]
                            }), e.jsxs("div", {
                                className: "grid grid-cols-2 bg-gray-50 px-3 py-2",
                                children: [e.jsx("span", {
                                    className: "text-muted-foreground",
                                    children: "Color:"
                                }), e.jsx("span", {
                                    className: "font-medium",
                                    children: g.color || "N/A"
                                })]
                            }), e.jsxs("div", {
                                className: "grid grid-cols-2 bg-white px-3 py-2",
                                children: [e.jsx("span", {
                                    className: "text-muted-foreground",
                                    children: "Actualizado:"
                                }), e.jsx("span", {
                                    className: "font-medium",
                                    children: I3(g.fechaActualizacion)
                                })]
                            })]
                        }), e.jsxs("div", {
                            className: "mt-6",
                            children: [e.jsx("h3", {
                                className: "text-lg font-montserrat font-semibold mb-2",
                                children: "Contacte con nosotros"
                            }), e.jsx("p", {
                                className: "text-sm text-muted-foreground mb-4",
                                children: "¿Interesado en alguna pieza de este vehículo? Contacte con nuestro equipo para más información."
                            }), e.jsxs("div", {
                                className: "space-y-6",
                                children: [e.jsx(T, {
                                    className: "w-full bg-primary hover:bg-primary/90 text-lg py-6",
                                    children: "Llamar: 958 790 858"
                                }), e.jsx(ze, {
                                    to: "/contacto",
                                    className: "block",
                                    children: e.jsx(T, {
                                        className: "w-full bg-secondary hover:bg-secondary/90 text-lg py-6",
                                        children: "Formulario de contacto"
                                    })
                                })]
                            })]
                        })]
                    })
                })]
            }), e.jsxs("div", {
                className: "mt-12",
                children: [e.jsxs("div", {
                    className: "flex flex-col md:flex-row justify-between items-start md:items-center mb-6",
                    children: [e.jsxs("h2", {
                        className: "text-2xl font-montserrat font-bold",
                        children: ["Piezas disponibles (", (x == null ? void 0 : x.length) || 0, " piezas)"]
                    }), e.jsxs("div", {
                        className: "flex flex-col sm:flex-row gap-4 mt-4 md:mt-0 w-full md:w-auto",
                        children: [e.jsxs("div", {
                            className: "relative w-full md:w-80",
                            children: [e.jsx(Cr, {
                                className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"
                            }), e.jsx(te, {
                                type: "text",
                                placeholder: "Buscar piezas...",
                                value: i,
                                onChange: v => o(v.target.value),
                                className: "pl-10 pr-4 py-2 w-full"
                            })]
                        }), e.jsxs("div", {
                            className: "flex gap-2 ml-auto",
                            children: [e.jsx(T, {
                                variant: l === "grid" ? "default" : "outline",
                                size: "icon",
                                onClick: () => c("grid"),
                                className: "h-10 w-10",
                                title: "Vista en cuadrícula",
                                children: e.jsx(Dj, {
                                    className: "h-5 w-5"
                                })
                            }), e.jsx(T, {
                                variant: l === "list" ? "default" : "outline",
                                size: "icon",
                                onClick: () => c("list"),
                                className: "h-10 w-10",
                                title: "Vista en lista",
                                children: e.jsx(Sf, {
                                    className: "h-5 w-5"
                                })
                            })]
                        })]
                    })]
                }), e.jsxs(ls, {
                    defaultValue: "all",
                    className: "w-full",
                    children: [e.jsx("div", {
                        className: "relative mb-6",
                        children: e.jsxs("div", {
                            className: "relative flex items-center",
                            children: [e.jsx(T, {
                                variant: "outline",
                                size: "icon",
                                className: "absolute left-0 z-10 rounded-none h-[48px] px-3 border-y flex items-center justify-center top-0",
                                onClick: () => {
                                    const v = document.querySelector('[role="tablist"]');
                                    v && v instanceof HTMLElement && Pu(async () => {
                                        const {safeScrollBy: f} = await Promise.resolve().then(() => kp);
                                        return {
                                            safeScrollBy: f
                                        }
                                    }, void 0).then(({safeScrollBy: f}) => {
                                        f(v, {
                                            left: -200,
                                            behavior: "smooth"
                                        })
                                    }).catch(f => console.warn("Error importing browser compatibility:", f))
                                },
                                children: e.jsx(Nr, {
                                    className: "h-4 w-4"
                                })
                            }), e.jsxs(es, {
                                className: "mb-6 w-full justify-start overflow-x-auto h-[48px] px-12 scrollbar-hide border rounded-none bg-white",
                                children: [e.jsx(Ue, {
                                    value: "all",
                                    className: "px-4 py-2 font-bold rounded-none data-[state=active]:border-b-2 data-[state=active]:border-primary mx-1",
                                    children: "Todas Las Piezas"
                                }), p.map((v, f) => {
                                    const b = v.toLowerCase().split(" ").map(N => N.charAt(0).toUpperCase() + N.slice(1)).join(" ");
                                    return e.jsx(Ue, {
                                        value: `category-${f}`,
                                        className: "px-4 py-2 font-bold rounded-none data-[state=active]:border-b-2 data-[state=active]:border-primary mx-1",
                                        children: b
                                    }, f)
                                })]
                            }), e.jsx(T, {
                                variant: "outline",
                                size: "icon",
                                className: "absolute right-0 z-10 rounded-none h-[48px] px-3 border-y flex items-center justify-center top-0",
                                onClick: () => {
                                    const v = document.querySelector('[role="tablist"]');
                                    v && v instanceof HTMLElement && Pu(async () => {
                                        const {safeScrollBy: f} = await Promise.resolve().then(() => kp);
                                        return {
                                            safeScrollBy: f
                                        }
                                    }, void 0).then(({safeScrollBy: f}) => {
                                        f(v, {
                                            left: 200,
                                            behavior: "smooth"
                                        })
                                    }).catch(f => console.warn("Error importing browser compatibility:", f))
                                },
                                children: e.jsx(gp, {
                                    className: "h-4 w-4"
                                })
                            })]
                        })
                    }), e.jsx($e, {
                        value: "all",
                        children: j && j.length > 0 ? l === "grid" ? e.jsx("div", {
                            className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",
                            children: j.map(v => e.jsx(ul, {
                                part: v
                            }, v.id))
                        }) : e.jsx("div", {
                            className: "space-y-4",
                            children: j.map(v => e.jsx(U, {
                                className: "overflow-hidden",
                                children: e.jsxs("div", {
                                    className: "flex flex-col md:flex-row",
                                    children: [e.jsx("div", {
                                        className: "w-full md:w-1/4 h-48 md:h-auto",
                                        children: v.imagenes && v.imagenes.length > 0 ? e.jsx("img", {
                                            src: v.imagenes[0],
                                            alt: v.descripcionArticulo,
                                            className: "w-full h-full object-cover"
                                        }) : e.jsx("div", {
                                            className: "flex items-center justify-center h-full bg-gray-100",
                                            children: e.jsx("div", {
                                                className: "p-6",
                                                children: e.jsx(Cr, {
                                                    className: "h-16 w-16 text-gray-300"
                                                })
                                            })
                                        })
                                    }), e.jsxs("div", {
                                        className: "p-6 flex-1",
                                        children: [e.jsxs("div", {
                                            className: "mb-4",
                                            children: [e.jsx("h3", {
                                                className: "text-xl font-montserrat font-bold mb-2 break-words",
                                                children: v.descripcionArticulo
                                            }), e.jsx("p", {
                                                className: "text-sm text-gray-600 mb-2",
                                                children: v.descripcionFamilia || "Pieza de recambio"
                                            })]
                                        }), e.jsxs("div", {
                                            className: "grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",
                                            children: [e.jsxs("div", {
                                                children: [e.jsxs("p", {
                                                    className: "text-sm text-gray-700 mb-1",
                                                    children: [e.jsx("span", {
                                                        className: "font-medium",
                                                        children: "Referencia:"
                                                    }), " ", v.refPrincipal || "N/A"]
                                                }), e.jsxs("p", {
                                                    className: "text-sm text-gray-700 mb-1",
                                                    children: [e.jsx("span", {
                                                        className: "font-medium",
                                                        children: "Código:"
                                                    }), " ", v.codArticulo || "N/A"]
                                                })]
                                            }), e.jsxs("div", {
                                                children: [e.jsxs("p", {
                                                    className: "text-sm text-gray-700 mb-1",
                                                    children: [e.jsx("span", {
                                                        className: "font-medium",
                                                        children: "Vehículo:"
                                                    }), " ", g.marca, " ", g.modelo]
                                                }), v.vehicles && v.vehicles.length > 0 && v.vehicles[0].id !== r && e.jsxs("p", {
                                                    className: "text-sm text-gray-700",
                                                    children: [e.jsx("span", {
                                                        className: "font-medium",
                                                        children: "Compatible con:"
                                                    }), " ", e.jsxs(ze, {
                                                        to: `/vehiculos/${v.vehicles[0].id}`,
                                                        className: "text-primary hover:underline",
                                                        children: [v.vehicles[0].marca, " ", v.vehicles[0].modelo, v.vehicles[0].version ? ` ${v.vehicles[0].version}` : "", v.vehicles[0].anyo ? ` (${v.vehicles[0].anyo})` : ""]
                                                    })]
                                                })]
                                            })]
                                        }), e.jsxs("div", {
                                            className: "flex justify-between items-center",
                                            children: [e.jsx("span", {
                                                className: "text-primary text-lg font-bold",
                                                children: jt(v.precio)
                                            }), e.jsx(ze, {
                                                to: `/piezas/${v.id}`,
                                                children: e.jsx(T, {
                                                    variant: "default",
                                                    className: "bg-secondary hover:bg-secondary/90 text-white",
                                                    children: "Ver detalle"
                                                })
                                            })]
                                        })]
                                    })]
                                })
                            }, v.id))
                        }) : e.jsxs("div", {
                            className: "text-center py-12 bg-white border rounded-lg",
                            children: [e.jsx("h3", {
                                className: "text-xl font-montserrat font-semibold mb-2",
                                children: "No hay piezas disponibles"
                            }), e.jsx("p", {
                                className: "text-muted-foreground",
                                children: i ? "No se encontraron piezas que coincidan con tu búsqueda." : "Actualmente no hay piezas disponibles para este vehículo."
                            })]
                        })
                    }), p.map((v, f) => {
                        const b = j.filter(N => N.descripcionFamilia === v);
                        return e.jsx($e, {
                            value: `category-${f}`,
                            children: b.length > 0 ? l === "grid" ? e.jsx("div", {
                                className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",
                                children: b.map(N => e.jsx(ul, {
                                    part: N
                                }, N.id))
                            }) : e.jsx("div", {
                                className: "space-y-4",
                                children: b.map(N => e.jsx(U, {
                                    className: "overflow-hidden",
                                    children: e.jsxs("div", {
                                        className: "flex flex-col md:flex-row",
                                        children: [e.jsx("div", {
                                            className: "w-full md:w-1/4 h-48 md:h-auto",
                                            children: N.imagenes && N.imagenes.length > 0 ? e.jsx("img", {
                                                src: N.imagenes[0],
                                                alt: N.descripcionArticulo,
                                                className: "w-full h-full object-cover"
                                            }) : e.jsx("div", {
                                                className: "flex items-center justify-center h-full bg-gray-100",
                                                children: e.jsx("div", {
                                                    className: "p-6",
                                                    children: e.jsx(Cr, {
                                                        className: "h-16 w-16 text-gray-300"
                                                    })
                                                })
                                            })
                                        }), e.jsxs("div", {
                                            className: "p-6 flex-1",
                                            children: [e.jsxs("div", {
                                                className: "mb-4",
                                                children: [e.jsx("h3", {
                                                    className: "text-xl font-montserrat font-bold mb-2 break-words",
                                                    children: N.descripcionArticulo
                                                }), e.jsx("p", {
                                                    className: "text-sm text-gray-600 mb-2",
                                                    children: N.descripcionFamilia
                                                })]
                                            }), e.jsxs("div", {
                                                className: "grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",
                                                children: [e.jsxs("div", {
                                                    children: [e.jsxs("p", {
                                                        className: "text-sm text-gray-700 mb-1",
                                                        children: [e.jsx("span", {
                                                            className: "font-medium",
                                                            children: "Referencia:"
                                                        }), " ", N.refPrincipal || "N/A"]
                                                    }), e.jsxs("p", {
                                                        className: "text-sm text-gray-700 mb-1",
                                                        children: [e.jsx("span", {
                                                            className: "font-medium",
                                                            children: "Código:"
                                                        }), " ", N.codArticulo || "N/A"]
                                                    })]
                                                }), e.jsxs("div", {
                                                    children: [e.jsxs("p", {
                                                        className: "text-sm text-gray-700 mb-1",
                                                        children: [e.jsx("span", {
                                                            className: "font-medium",
                                                            children: "Marca:"
                                                        }), " ", g.marca || "N/A"]
                                                    }), e.jsxs("p", {
                                                        className: "text-sm text-gray-700",
                                                        children: [e.jsx("span", {
                                                            className: "font-medium",
                                                            children: "Modelo:"
                                                        }), " ", g.modelo || "N/A"]
                                                    })]
                                                })]
                                            }), e.jsxs("div", {
                                                className: "flex justify-between items-center",
                                                children: [e.jsx("span", {
                                                    className: "text-primary text-lg font-bold",
                                                    children: jt(N.precio)
                                                }), e.jsx(T, {
                                                    variant: "default",
                                                    className: "bg-secondary hover:bg-secondary/90 text-white",
                                                    onClick: () => window.location.href = `/piezas/${N.id}`,
                                                    children: "Ver detalle"
                                                })]
                                            })]
                                        })]
                                    })
                                }, N.id))
                            }) : e.jsx("div", {
                                className: "text-center py-12 bg-white border rounded-lg",
                                children: e.jsx("p", {
                                    className: "text-muted-foreground",
                                    children: i ? `No se encontraron piezas de ${v.toLowerCase()} que coincidan con tu búsqueda.` : `No hay piezas de ${v.toLowerCase()} disponibles para este vehículo.`
                                })
                            })
                        }, f)
                    })]
                })]
            })]
        })
    },
    HV = () => {
        const [, t] = ut(),
            s = Pj(),
            n = new URLSearchParams(s).get("idLocal"),
            {data: a, isLoading: i, isError: o, error: l} = Te({
                queryKey: ["/api/vehicles/search", n],
                queryFn: async () => n ? Kf.getVehicles({
                    idLocal: parseInt(n)
                }) : {
                    data: []
                },
                enabled: !!n
            });
        return h.useEffect(() => {
            a != null && a.data && a.data.length === 1 && t(`/vehiculos/${a.data[0].id}`)
        }, [a, t]), e.jsxs("div", {
            className: "container mx-auto px-4 py-8",
            children: [e.jsxs("div", {
                className: "mb-8",
                children: [e.jsx("h1", {
                    className: "text-3xl font-montserrat font-bold mb-2",
                    children: "Búsqueda de Vehículos"
                }), e.jsx("p", {
                    className: "text-muted-foreground",
                    children: n ? `Buscando vehículo compatible con ID: ${n}` : "Ingrese un ID de vehículo para buscar"
                })]
            }), i && e.jsxs("div", {
                className: "flex justify-center items-center h-32",
                children: [e.jsx(Xt, {
                    className: "h-8 w-8 animate-spin text-primary"
                }), e.jsx("span", {
                    className: "ml-2",
                    children: "Buscando vehículo..."
                })]
            }), o && e.jsx(U, {
                className: "bg-red-50 border-red-200",
                children: e.jsx(q, {
                    className: "pt-6",
                    children: e.jsxs("p", {
                        className: "text-red-600",
                        children: ["Error al buscar el vehículo: ", l.message]
                    })
                })
            }), !i && !o && (a == null ? void 0 : a.data) && e.jsx("div", {
                children: a.data.length === 0 ? e.jsx(U, {
                    className: "bg-yellow-50 border-yellow-200",
                    children: e.jsx(q, {
                        className: "pt-6",
                        children: e.jsxs("p", {
                            className: "text-yellow-600",
                            children: ["No se encontraron vehículos con ID: ", n]
                        })
                    })
                }) : e.jsx("div", {
                    className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",
                    children: a.data.map(c => e.jsx(T0, {
                        vehicle: c
                    }, c.id))
                })
            })]
        })
    };
var A0 = "Checkbox",
    [WV, XQ] = ws(A0),
    [GV, KV] = WV(A0),
    sT = h.forwardRef((t, s) => {
        const {__scopeCheckbox: r, name: n, checked: a, defaultChecked: i, required: o, disabled: l, value: c="on", onCheckedChange: d, form: u, ...m} = t,
            [p, j] = h.useState(null),
            g = lt(s, N => j(N)),
            x = h.useRef(!1),
            y = p ? u || !!p.closest("form") : !0,
            [v=!1, f] = Yr({
                prop: a,
                defaultProp: i,
                onChange: d
            }),
            b = h.useRef(v);
        return h.useEffect(() => {
            const N = p == null ? void 0 : p.form;
            if (N) {
                const w = () => f(b.current);
                return N.addEventListener("reset", w), () => N.removeEventListener("reset", w)
            }
        }, [p, f]), e.jsxs(GV, {
            scope: r,
            state: v,
            disabled: l,
            children: [e.jsx(Oe.button, {
                type: "button",
                role: "checkbox",
                "aria-checked": io(v) ? "mixed" : v,
                "aria-required": o,
                "data-state": aT(v),
                "data-disabled": l ? "" : void 0,
                disabled: l,
                value: c,
                ...m,
                ref: g,
                onKeyDown: Ne(t.onKeyDown, N => {
                    N.key === "Enter" && N.preventDefault()
                }),
                onClick: Ne(t.onClick, N => {
                    f(w => io(w) ? !0 : !w),
                    y && (x.current = N.isPropagationStopped(), x.current || N.stopPropagation())
                })
            }), y && e.jsx(YV, {
                control: p,
                bubbles: !x.current,
                name: n,
                value: c,
                checked: v,
                required: o,
                disabled: l,
                form: u,
                style: {
                    transform: "translateX(-100%)"
                },
                defaultChecked: io(i) ? !1 : i
            })]
        })
    });
sT.displayName = A0;
var rT = "CheckboxIndicator",
    nT = h.forwardRef((t, s) => {
        const {__scopeCheckbox: r, forceMount: n, ...a} = t,
            i = KV(rT, r);
        return e.jsx(_s, {
            present: n || io(i.state) || i.state === !0,
            children: e.jsx(Oe.span, {
                "data-state": aT(i.state),
                "data-disabled": i.disabled ? "" : void 0,
                ...a,
                ref: s,
                style: {
                    pointerEvents: "none",
                    ...t.style
                }
            })
        })
    });
nT.displayName = rT;
var YV = t => {
    const {control: s, checked: r, bubbles: n=!0, defaultChecked: a, ...i} = t,
        o = h.useRef(null),
        l = zf(r),
        c = Tf(s);
    h.useEffect(() => {
        const u = o.current,
            m = window.HTMLInputElement.prototype,
            j = Object.getOwnPropertyDescriptor(m, "checked").set;
        if (l !== r && j) {
            const g = new Event("click", {
                bubbles: n
            });
            u.indeterminate = io(r),
            j.call(u, io(r) ? !1 : r),
            u.dispatchEvent(g)
        }
    }, [l, r, n]);
    const d = h.useRef(io(r) ? !1 : r);
    return e.jsx("input", {
        type: "checkbox",
        "aria-hidden": !0,
        defaultChecked: a ?? d.current,
        ...i,
        tabIndex: -1,
        ref: o,
        style: {
            ...t.style,
            ...c,
            position: "absolute",
            pointerEvents: "none",
            opacity: 0,
            margin: 0
        }
    })
};
function io(t) {
    return t === "indeterminate"
}
function aT(t) {
    return io(t) ? "indeterminate" : t ? "checked" : "unchecked"
}
var iT = sT,
    QV = nT;
const yi = h.forwardRef(({className: t, ...s}, r) => e.jsx(iT, {
    ref: r,
    className: me("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground", t),
    ...s,
    children: e.jsx(QV, {
        className: me("flex items-center justify-center text-current"),
        children: e.jsx(Cf, {
            className: "h-4 w-4"
        })
    })
}));
yi.displayName = iT.displayName;
function r1(t) {
    if (t.vehicles && t.vehicles.length > 0) {
        const s = t.vehicles[0];
        return {
            id: s.id,
            marca: s.marca,
            modelo: s.modelo,
            version: s.version || "",
            anyo: s.anyo,
            combustible: s.combustible,
            hasValidId: !!s.id
        }
    }
    return t.vehicleId || t.vehicleMarca || t.vehicleModelo ? {
        id: t.vehicleId,
        marca: t.vehicleMarca || "",
        modelo: t.vehicleModelo || "",
        version: t.vehicleVersion || "",
        anyo: t.vehicleAnyo,
        hasValidId: !!t.vehicleId
    } : t.idVehiculo && (t.vehicleMarca || t.vehicleModelo) ? {
        id: void 0,
        marca: t.vehicleMarca || "",
        modelo: t.vehicleModelo || "",
        version: t.vehicleVersion || "",
        anyo: t.vehicleAnyo,
        hasValidId: !1
    } : {
        id: void 0,
        marca: t.marcaVehiculo || "",
        modelo: t.modeloVehiculo || "",
        version: t.versionVehiculo || "",
        anyo: t.anyoVehiculo,
        hasValidId: !1
    }
}
function ZV(t, s={}) {
    const {includeYear: r=!1, uppercase: n=!1, includeId: a=!1} = s,
        i = [t.marca, t.modelo, t.version].filter(Boolean);
    r && t.anyo && i.push(`(${t.anyo})`),
    a && t.id && i.push(`ID: ${t.id}`);
    let o = i.join(" ");
    return n ? o.toUpperCase() : o
}
function n1(t, s={}) {
    const {hideLinks: r=!1, contextVehicleId: n, includeYear: a=!1, uppercase: i=!1, showId: o=!1} = s,
        l = ZV(t, {
            includeYear: a,
            uppercase: i
        }),
        c = !r && t.hasValidId && t.id !== n;
    return {
        vehicleText: l,
        shouldShowLink: c,
        vehicleId: t.id,
        linkTo: t.id ? `/vehiculos/${t.id}` : void 0,
        displayText: o && t.id ? `${l} (ID: ${t.id})` : l
    }
}
const a1 = () => {
    var Mt;
    h.useEffect(() => {
        h$()
    }, []),
    ut();
    const t = Pj(),
        [s, r] = h.useState(""),
        [n, a] = h.useState(""),
        [i, o] = h.useState(""),
        [l, c] = h.useState(""),
        [d, u] = h.useState("newest"),
        [m, p] = h.useState(""),
        [j, g] = h.useState(""),
        [x, y] = h.useState("grid"),
        [v, f] = h.useState(1),
        [b, N] = h.useState(12);
    h.useState(!1);
    const [w, C] = h.useState(!1),
        [E, k] = h.useState(!1),
        [R, H] = h.useState(!0),
        [z, A] = h.useState(!0);
    h.useEffect(() => {
        const P = new URLSearchParams(t);
        if (P.toString()) {
            console.log("🔗 PARTS: Inicializando filtros desde URL:", t);
            const X = P.get("marca") || "",
                ie = P.get("modelo") || "",
                we = P.get("anyo") || "",
                be = P.get("combustible") || "",
                se = P.get("familia") || "",
                je = P.get("search") || "",
                Ge = P.get("ordenar") || "newest";
            console.log("📋 PARTS: Parámetros URL encontrados:", {
                marca: `"${X}"`,
                modelo: `"${ie}"`,
                anyo: `"${we}"`,
                combustible: `"${be}"`,
                familia: `"${se}"`,
                search: `"${je}"`,
                ordenar: `"${Ge}"`,
                familiaIsEmpty: se === "",
                familiaLength: se.length
            }),
            r(X),
            a(ie),
            o(we),
            c(be),
            g(se),
            p(je),
            u(Ge),
            W(je),
            console.log("📋 PARTS: Estados después de asignar:", {
                brand: X,
                model: ie,
                family: se,
                initialSearchTerm: je
            })
        }
        setTimeout(() => {
            S(!1)
        }, 100)
    }, []);
    const $ = P => {
        f(P),
        jf(!0)
    };
    h.useEffect(() => {
        const P = () => {
            const X = window.innerWidth < 1024,
                ie = window.innerWidth < 768 ? "móvil" : window.innerWidth < 1024 ? "tablet" : "desktop";
            console.log("📱 Mobile detection (Parts):", {
                width: window.innerWidth,
                isMobile: X,
                deviceType: ie
            }),
            k(X),
            X && y("grid")
        };
        return P(), window.addEventListener("resize", P), () => window.removeEventListener("resize", P)
    }, []);
    const [G, F] = h.useState(m);
    h.useEffect(() => {
        const P = setTimeout(() => {
            F(m)
        }, 500);
        return () => clearTimeout(P)
    }, [m]);
    const [_, S] = h.useState(!0),
        [I, W] = h.useState("");
    h.useEffect(() => {
        m && !_ && m !== I && (console.log("🔄 PARTS: Reseteando familia por búsqueda manual:", {
            searchTerm: m,
            initialSearchTerm: I
        }), g(""))
    }, [m, _, I]),
    h.useEffect(() => {
        if (_) {
            console.log("🔄 PARTS: Saltando actualización durante carga inicial");
            return
        }
        console.log("🔄 PARTS: Aplicando filtros internamente (URL limpia):", {
            brand: s,
            model: n,
            year: i,
            fuel: l,
            family: j,
            sort: d,
            debouncedSearchTerm: G
        }),
        $(1)
    }, [s, n, i, l, j, d, G, _]),
    h.useEffect(() => {
        window.location.pathname === "/piezas" && window.location.search && window.history.replaceState({}, "", "/piezas")
    }, []);
    const {data: oe, isLoading: O} = Te({
            queryKey: ["/api/optimized/parts", s, n, i, l, j, d, v, b, G, R, z],
            queryFn: async () => {
                var we,
                    be;
                const P = new URLSearchParams;
                P.append("limit", b.toString()),
                P.append("offset", ((v - 1) * b).toString()),
                P.append("withPartCounts", "true"),
                P.append("getTotalCount", "true"),
                P.append("orden", d),
                s && s !== "all-brands" && P.append("marca", s),
                n && n !== "all-models" && P.append("modelo", n),
                i && i !== "all-years" && P.append("anyo", i),
                l && l !== "all-fuels" && P.append("combustible", l),
                j && j !== "" && P.append("familia", j),
                G && P.append("search", G),
                R && z || (R && !z ? P.append("vehicleType", "associated") : !R && z ? P.append("vehicleType", "processed") : P.append("vehicleType", "none"));
                const X = await fetch(`/api/search-parts?${P.toString()}`);
                if (!X.ok)
                    throw new Error(`Error: ${X.statusText}`);
                const ie = await X.json();
                return {
                    data: ie.data || [],
                    pagination: {
                        total: ((we = ie.pagination) == null ? void 0 : we.total) || 0,
                        hasMore: (v - 1) * b + b < (((be = ie.pagination) == null ? void 0 : be.total) || 0)
                    }
                }
            },
            staleTime: 3e5,
            gcTime: 6e5,
            refetchOnWindowFocus: !1,
            retry: 1
        }),
        {data: M} = Te({
            queryKey: ["/api/parts/brands-models"],
            queryFn: async () => {
                const P = await fetch("/api/parts/brands-models");
                if (!P.ok)
                    throw new Error("Error al cargar marcas y modelos");
                return await P.json()
            },
            staleTime: 6e5,
            gcTime: 18e5,
            refetchOnWindowFocus: !1,
            retry: 1
        }),
        {data: re} = Te({
            queryKey: ["/api/parts-filter/years", s, n],
            queryFn: async () => {
                const P = new URLSearchParams;
                s && s !== "all-brands" && P.append("marca", s),
                n && n !== "all-models" && P.append("modelo", n);
                const X = await fetch(`/api/parts-filter/years?${P.toString()}`);
                if (!X.ok)
                    throw new Error("Error al cargar años");
                return await X.json()
            },
            staleTime: 6e5,
            gcTime: 18e5,
            refetchOnWindowFocus: !1,
            retry: 1
        }),
        {data: ue} = Te({
            queryKey: ["/api/parts-filter/fuels", s, n, i],
            queryFn: async () => {
                const P = new URLSearchParams;
                s && s !== "all-brands" && P.append("marca", s),
                n && n !== "all-models" && P.append("modelo", n),
                i && i !== "all-years" && P.append("anyo", i);
                const X = await fetch(`/api/parts-filter/fuels?${P.toString()}`);
                if (!X.ok)
                    throw new Error("Error al cargar combustibles");
                return await X.json()
            },
            staleTime: 6e5,
            gcTime: 18e5,
            refetchOnWindowFocus: !1,
            retry: 1
        }),
        {data: Y} = Te({
            queryKey: ["/api/parts-filter/families", s, n, i, l],
            queryFn: async () => {
                const P = new URLSearchParams;
                s && s !== "all-brands" && P.append("marca", s),
                n && n !== "all-models" && P.append("modelo", n),
                i && i !== "all-years" && P.append("anyo", i),
                l && l !== "all-fuels" && P.append("combustible", l);
                const X = await fetch(`/api/parts-filter/families?${P.toString()}`);
                if (!X.ok)
                    throw new Error("Error al cargar categorías");
                return await X.json()
            },
            staleTime: 6e5,
            gcTime: 18e5,
            refetchOnWindowFocus: !1,
            retry: 1
        }),
        he = () => M != null && M.brands ? M.brands : [],
        D = () => s ? M != null && M.models && M.models[s] ? M.models[s] : [] : [],
        K = () => re || [],
        L = () => ue || [],
        ee = () => Y || [],
        ce = D(),
        le = (oe == null ? void 0 : oe.data) || [],
        Se = ((Mt = oe == null ? void 0 : oe.pagination) == null ? void 0 : Mt.total) || 0,
        pe = Math.ceil(Se / b),
        _e = () => {
            p(""),
            r(""),
            a(""),
            g(""),
            o(""),
            c(""),
            f(1),
            H(!0),
            A(!0)
        },
        dt = P => {
            r(P),
            a(""),
            o(""),
            c(""),
            g("")
        },
        B = P => {
            a(P),
            o(""),
            c(""),
            g("")
        },
        De = P => {
            o(P),
            c(""),
            g("")
        },
        vt = P => {
            c(P),
            g("")
        },
        At = () => e.jsxs(e.Fragment, {
            children: [e.jsxs("div", {
                className: "space-y-6",
                children: [e.jsxs("div", {
                    children: [e.jsxs("label", {
                        className: "block text-sm font-medium mb-2 text-gray-700",
                        children: [e.jsx(Ss, {
                            className: "h-4 w-4 inline-block mr-2 text-blue-600"
                        }), " Marca"]
                    }), e.jsxs(He, {
                        value: s === "" ? "__empty__" : s,
                        onValueChange: P => {
                            dt(P === "__empty__" ? "" : P)
                        },
                        children: [e.jsx(qe, {
                            className: "h-11 border-2 border-gray-200 hover:border-blue-300 focus:border-blue-500 rounded-lg transition-colors",
                            children: e.jsx(We, {
                                placeholder: "Todas las marcas"
                            })
                        }), e.jsxs(Be, {
                            children: [e.jsx(Q, {
                                value: "__empty__",
                                children: "Todas las marcas"
                            }), he().map(P => e.jsx(Q, {
                                value: P,
                                children: P
                            }, P))]
                        })]
                    })]
                }), e.jsxs("div", {
                    children: [e.jsxs("label", {
                        className: "block text-sm font-medium mb-2 text-gray-700",
                        children: [e.jsx(Ss, {
                            className: "h-4 w-4 inline-block mr-2 text-green-600"
                        }), " Modelo"]
                    }), e.jsxs(He, {
                        value: n === "" ? "__empty__" : n,
                        onValueChange: P => {
                            B(P === "__empty__" ? "" : P)
                        },
                        disabled: !s,
                        children: [e.jsx(qe, {
                            className: "h-11 border-2 border-gray-200 hover:border-blue-300 focus:border-blue-500 rounded-lg transition-colors",
                            children: e.jsx(We, {
                                placeholder: "Todos los modelos"
                            })
                        }), e.jsxs(Be, {
                            children: [e.jsx(Q, {
                                value: "__empty__",
                                children: "Todos los modelos"
                            }), ce.map(P => e.jsx(Q, {
                                value: P,
                                children: P
                            }, P))]
                        })]
                    })]
                }), e.jsxs("div", {
                    children: [e.jsxs("label", {
                        className: "block text-sm font-medium mb-2 text-gray-700",
                        children: [e.jsx(ur, {
                            className: "h-4 w-4 inline-block mr-2 text-purple-600"
                        }), " Año"]
                    }), e.jsxs(He, {
                        value: i === "" ? "__empty__" : i,
                        onValueChange: P => {
                            De(P === "__empty__" ? "" : P)
                        },
                        children: [e.jsx(qe, {
                            className: "h-11 border-2 border-gray-200 hover:border-blue-300 focus:border-blue-500 rounded-lg transition-colors",
                            children: e.jsx(We, {
                                placeholder: "Todos los años"
                            })
                        }), e.jsxs(Be, {
                            children: [e.jsx(Q, {
                                value: "__empty__",
                                children: "Todos los años"
                            }), K().map(P => e.jsx(Q, {
                                value: P.toString(),
                                children: P
                            }, P))]
                        })]
                    })]
                }), e.jsxs("div", {
                    children: [e.jsxs("label", {
                        className: "block text-sm font-medium mb-2 text-gray-700",
                        children: [e.jsx(Zd, {
                            className: "h-4 w-4 inline-block mr-2 text-orange-600"
                        }), " Combustible"]
                    }), e.jsxs(He, {
                        value: l === "" ? "__empty__" : l,
                        onValueChange: P => {
                            vt(P === "__empty__" ? "" : P)
                        },
                        children: [e.jsx(qe, {
                            className: "h-11 border-2 border-gray-200 hover:border-blue-300 focus:border-blue-500 rounded-lg transition-colors",
                            children: e.jsx(We, {
                                placeholder: "Todos"
                            })
                        }), e.jsxs(Be, {
                            children: [e.jsx(Q, {
                                value: "__empty__",
                                children: "Todos"
                            }), L().map(P => e.jsx(Q, {
                                value: P,
                                children: P
                            }, P))]
                        })]
                    })]
                }), e.jsxs("div", {
                    children: [e.jsxs("label", {
                        className: "block text-sm font-medium mb-2 text-gray-700",
                        children: [e.jsx(Ot, {
                            className: "h-4 w-4 inline-block mr-2 text-red-600"
                        }), " Categoría"]
                    }), e.jsxs(He, {
                        value: j === "" ? "__empty__" : j,
                        onValueChange: P => {
                            g(P === "__empty__" ? "" : P)
                        },
                        children: [e.jsx(qe, {
                            className: "h-11 border-2 border-gray-200 hover:border-blue-300 focus:border-blue-500 rounded-lg transition-colors",
                            children: e.jsx(We, {
                                placeholder: "Todas las categorías"
                            })
                        }), e.jsxs(Be, {
                            children: [e.jsx(Q, {
                                value: "__empty__",
                                children: "Todas las categorías"
                            }), ee().map(P => e.jsx(Q, {
                                value: P,
                                children: P
                            }, P))]
                        })]
                    })]
                })]
            }), e.jsxs("div", {
                className: "mt-6 space-y-4",
                children: [e.jsx("h4", {
                    className: "text-sm font-medium text-gray-700 mb-3",
                    children: "Opciones de visualización"
                }), e.jsxs("div", {
                    className: "space-y-3",
                    children: [e.jsxs("div", {
                        className: "flex items-center space-x-2",
                        children: [e.jsx(yi, {
                            id: "showAssociated",
                            checked: R,
                            onCheckedChange: P => {
                                H(!!P),
                                f(1)
                            }
                        }), e.jsx("label", {
                            htmlFor: "showAssociated",
                            className: "text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",
                            children: "Vehículos Asociados"
                        })]
                    }), e.jsxs("div", {
                        className: "flex items-center space-x-2",
                        children: [e.jsx(yi, {
                            id: "showProcessed",
                            checked: z,
                            onCheckedChange: P => {
                                A(!!P),
                                f(1)
                            }
                        }), e.jsx("label", {
                            htmlFor: "showProcessed",
                            className: "text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",
                            children: "Vehículos Procesados"
                        })]
                    })]
                })]
            }), e.jsx("div", {
                className: "mt-6 flex justify-center",
                children: e.jsx(T, {
                    onClick: _e,
                    variant: "outline",
                    className: "px-6 py-2 border-2 border-gray-300 hover:border-red-400 hover:bg-red-50 hover:text-red-700 transition-all duration-200 rounded-lg",
                    children: e.jsx("span", {
                        className: "flex items-center justify-center",
                        children: "✕ Limpiar filtros"
                    })
                })
            }), e.jsxs("div", {
                className: "mt-6 space-y-2",
                children: [Se > 0 && e.jsxs(ye, {
                    variant: "secondary",
                    className: "bg-green-100 text-green-800 border-green-200 w-full justify-center",
                    children: [Se.toLocaleString(), " piezas disponibles"]
                }), (s || n || j || i || l || m) && e.jsxs(ye, {
                    variant: "outline",
                    className: "bg-blue-100 text-blue-800 border-blue-200 w-full justify-center",
                    children: [[s, n, j, i, l, m].filter(Boolean).length, " filtros activos"]
                })]
            }), (s || n || j || i || l) && e.jsxs("div", {
                className: "mt-6 pt-4 border-t border-gray-200",
                children: [e.jsx("span", {
                    className: "text-sm font-medium text-gray-700 block mb-2",
                    children: "Filtros activos:"
                }), e.jsxs("div", {
                    className: "flex flex-wrap gap-2",
                    children: [s && e.jsxs(ye, {
                        variant: "outline",
                        className: "bg-blue-50 text-blue-700 border-blue-200",
                        children: ["Marca: ", s]
                    }), n && e.jsxs(ye, {
                        variant: "outline",
                        className: "bg-green-50 text-green-700 border-green-200",
                        children: ["Modelo: ", n]
                    }), j && e.jsxs(ye, {
                        variant: "outline",
                        className: "bg-red-50 text-red-700 border-red-200",
                        children: ["Categoría: ", j]
                    }), i && e.jsxs(ye, {
                        variant: "outline",
                        className: "bg-purple-50 text-purple-700 border-purple-200",
                        children: ["Año: ", i]
                    }), l && e.jsxs(ye, {
                        variant: "outline",
                        className: "bg-orange-50 text-orange-700 border-orange-200",
                        children: ["Combustible: ", l]
                    })]
                })]
            })]
        });
    return e.jsxs(e.Fragment, {
        children: [E && e.jsx("button", {
            onClick: () => C(!0),
            className: "fixed bottom-6 left-6 z-50 w-12 h-12 bg-[#1e3a8a] hover:bg-[#1e40af] text-white rounded-full shadow-lg flex items-center justify-center",
            style: {
                position: "fixed",
                bottom: "24px",
                left: "24px",
                zIndex: 999999
            },
            children: e.jsx(tc, {
                className: "w-5 h-5"
            })
        }), e.jsx($f, {
            open: w,
            onOpenChange: C,
            children: e.jsxs(gm, {
                side: "left",
                className: "w-80 overflow-y-auto",
                children: [e.jsx(Vf, {
                    children: e.jsxs(Uf, {
                        className: "flex items-center gap-2",
                        children: [e.jsx(tc, {
                            className: "h-5 w-5"
                        }), "Filtros"]
                    })
                }), e.jsx("div", {
                    className: "mt-6",
                    children: e.jsx(At, {})
                })]
            })
        }), e.jsx("div", {
            className: "max-w-[1400px] mx-auto px-6 py-8 relative",
            children: e.jsxs("div", {
                className: "flex flex-col lg:flex-row gap-8",
                children: [!E && e.jsx("div", {
                    className: "lg:w-64 flex-shrink-0",
                    children: e.jsx(U, {
                        className: "border-0 shadow-lg bg-white",
                        children: e.jsxs(q, {
                            className: "p-6",
                            children: [e.jsxs("div", {
                                className: "flex items-center gap-3 mb-6",
                                children: [e.jsx("div", {
                                    className: "flex items-center justify-center w-10 h-10 bg-blue-100 rounded-lg",
                                    children: e.jsx(tc, {
                                        className: "h-5 w-5 text-blue-600"
                                    })
                                }), e.jsx("h2", {
                                    className: "text-lg font-semibold text-gray-900",
                                    children: "Filtros"
                                })]
                            }), e.jsx(At, {})]
                        })
                    })
                }), e.jsxs("div", {
                    className: "flex-1",
                    children: [e.jsxs("div", {
                        className: "mb-6 text-center",
                        children: [e.jsx("h1", {
                            className: "text-2xl font-montserrat font-semibold text-gray-800 mb-2",
                            children: "Catálogo de Piezas"
                        }), e.jsx("p", {
                            className: "text-sm text-gray-600 mb-4",
                            children: "Encuentra la pieza perfecta para tu vehículo"
                        })]
                    }), e.jsx("div", {
                        className: "mb-6",
                        children: e.jsxs("div", {
                            className: "relative",
                            children: [e.jsx(Cr, {
                                className: "absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"
                            }), e.jsx(te, {
                                placeholder: "Buscar código, familia, marca...",
                                className: "pl-10 pr-4 py-2 border-2 border-gray-200 focus:border-blue-500 focus:ring-0 rounded-lg transition-all duration-200",
                                value: m,
                                onChange: P => p(P.target.value)
                            }), m && e.jsx("button", {
                                onClick: () => p(""),
                                className: "absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",
                                children: "✕"
                            })]
                        })
                    }), e.jsxs("div", {
                        className: "mb-6",
                        children: [e.jsxs("div", {
                            className: "flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-4",
                            children: [e.jsxs("h2", {
                                className: "text-sm font-montserrat font-medium text-gray-600",
                                children: [Se, " piezas disponibles"]
                            }), e.jsxs("div", {
                                className: "flex flex-wrap items-center gap-4",
                                children: [e.jsxs("div", {
                                    className: "flex items-center gap-2",
                                    children: [e.jsx("span", {
                                        className: "text-sm text-muted-foreground whitespace-nowrap",
                                        children: "Mostrar:"
                                    }), e.jsxs(He, {
                                        value: b.toString(),
                                        onValueChange: P => {
                                            N(parseInt(P)),
                                            f(1)
                                        },
                                        children: [e.jsx(qe, {
                                            className: "w-20",
                                            children: e.jsx(We, {})
                                        }), e.jsxs(Be, {
                                            children: [e.jsx(Q, {
                                                value: "6",
                                                children: "6"
                                            }), e.jsx(Q, {
                                                value: "12",
                                                children: "12"
                                            }), e.jsx(Q, {
                                                value: "24",
                                                children: "24"
                                            }), e.jsx(Q, {
                                                value: "48",
                                                children: "48"
                                            })]
                                        })]
                                    })]
                                }), e.jsxs("div", {
                                    className: "flex items-center gap-2",
                                    children: [e.jsx("span", {
                                        className: "text-sm text-muted-foreground whitespace-nowrap",
                                        children: "Ordenar por:"
                                    }), e.jsxs(He, {
                                        value: d,
                                        onValueChange: P => {
                                            u(P),
                                            f(1)
                                        },
                                        children: [e.jsx(qe, {
                                            className: "w-[140px]",
                                            children: e.jsx(We, {})
                                        }), e.jsxs(Be, {
                                            children: [e.jsx(Q, {
                                                value: "newest",
                                                children: "Más recientes"
                                            }), e.jsx(Q, {
                                                value: "oldest",
                                                children: "Más antiguos"
                                            }), e.jsx(Q, {
                                                value: "name_asc",
                                                children: "Nombre A-Z"
                                            }), e.jsx(Q, {
                                                value: "name_desc",
                                                children: "Nombre Z-A"
                                            }), e.jsx(Q, {
                                                value: "price_asc",
                                                children: "Precio menor"
                                            }), e.jsx(Q, {
                                                value: "price_desc",
                                                children: "Precio mayor"
                                            })]
                                        })]
                                    })]
                                }), !E && e.jsxs("div", {
                                    className: "flex items-center gap-2",
                                    children: [e.jsx("span", {
                                        className: "text-sm text-muted-foreground whitespace-nowrap",
                                        children: "Vista:"
                                    }), e.jsxs("div", {
                                        className: "flex border rounded-lg",
                                        children: [e.jsx(T, {
                                            variant: x === "grid" ? "default" : "ghost",
                                            size: "sm",
                                            onClick: () => y("grid"),
                                            className: "rounded-r-none",
                                            children: e.jsx(Dj, {
                                                className: "h-4 w-4"
                                            })
                                        }), e.jsx(T, {
                                            variant: x === "list" ? "default" : "ghost",
                                            size: "sm",
                                            onClick: () => y("list"),
                                            className: "rounded-none border-x-0",
                                            children: e.jsx(Sf, {
                                                className: "h-4 w-4"
                                            })
                                        }), e.jsx(T, {
                                            variant: x === "table" ? "default" : "ghost",
                                            size: "sm",
                                            onClick: () => y("table"),
                                            className: "rounded-l-none",
                                            children: e.jsx(BO, {
                                                className: "h-4 w-4"
                                            })
                                        })]
                                    })]
                                })]
                            })]
                        }), O ? e.jsx("div", {
                            className: "flex justify-center items-center h-64",
                            children: e.jsxs("div", {
                                className: "text-center",
                                children: [e.jsx("div", {
                                    className: "animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"
                                }), e.jsx("p", {
                                    className: "text-muted-foreground",
                                    children: "Cargando piezas..."
                                })]
                            })
                        }) : le.length === 0 ? e.jsxs(U, {
                            className: "p-8 text-center",
                            children: [e.jsx(Cr, {
                                className: "h-12 w-12 text-gray-400 mx-auto mb-4"
                            }), e.jsx("h3", {
                                className: "text-lg font-medium text-gray-900 mb-2",
                                children: "No se encontraron piezas"
                            }), e.jsx("p", {
                                className: "text-muted-foreground mb-4",
                                children: "Intenta ajustar los filtros o realizar una búsqueda diferente"
                            }), e.jsx(T, {
                                onClick: _e,
                                variant: "outline",
                                children: "Limpiar filtros"
                            })]
                        }) : e.jsxs(e.Fragment, {
                            children: [x === "grid" ? e.jsx("div", {
                                className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",
                                children: le.map(P => e.jsx(ul, {
                                    part: P,
                                    className: "h-full"
                                }, P.id))
                            }) : x === "table" ? e.jsx(U, {
                                children: e.jsx(q, {
                                    className: "p-0",
                                    children: e.jsx("div", {
                                        className: "overflow-x-auto",
                                        children: e.jsxs(Ws, {
                                            children: [e.jsx(Gs, {
                                                children: e.jsxs(gt, {
                                                    children: [e.jsx(ge, {
                                                        children: "Imagen"
                                                    }), e.jsx(ge, {
                                                        children: "Descripción"
                                                    }), e.jsx(ge, {
                                                        children: "Categoría"
                                                    }), e.jsx(ge, {
                                                        children: "Referencia"
                                                    }), e.jsx(ge, {
                                                        children: "Vehículo Compatible"
                                                    }), e.jsx(ge, {
                                                        children: "Precio"
                                                    }), e.jsx(ge, {
                                                        children: "Acciones"
                                                    })]
                                                })
                                            }), e.jsx(Ks, {
                                                children: le.map(P => {
                                                    var je;
                                                    const X = r1(P),
                                                        {vehicleText: ie, shouldShowLink: we, linkTo: be, displayText: se} = n1(X, {
                                                            uppercase: !0,
                                                            showId: !0
                                                        });
                                                    return e.jsxs(gt, {
                                                        children: [e.jsx(xe, {
                                                            children: e.jsx("div", {
                                                                className: "w-24 h-16 bg-gray-100 rounded flex items-center justify-center",
                                                                children: P.imagenes && P.imagenes.length > 0 ? e.jsx("img", {
                                                                    src: P.imagenes[0],
                                                                    alt: P.descripcionArticulo,
                                                                    className: "w-full h-full object-cover rounded"
                                                                }) : e.jsx(qs, {
                                                                    className: "h-8 w-8 text-gray-400"
                                                                })
                                                            })
                                                        }), e.jsx(xe, {
                                                            children: e.jsx("div", {
                                                                children: e.jsx("h3", {
                                                                    className: "font-medium text-sm",
                                                                    children: P.descripcionArticulo
                                                                })
                                                            })
                                                        }), e.jsx(xe, {
                                                            children: e.jsx("span", {
                                                                className: "text-sm text-muted-foreground",
                                                                children: P.descripcionFamilia
                                                            })
                                                        }), e.jsx(xe, {
                                                            children: e.jsx(ye, {
                                                                variant: "outline",
                                                                className: "text-xs",
                                                                children: P.refPrincipal || "N/A"
                                                            })
                                                        }), e.jsx(xe, {
                                                            children: e.jsx("div", {
                                                                className: "max-w-[150px]",
                                                                children: ie ? we && be ? e.jsx("div", {
                                                                    className: "space-y-1",
                                                                    children: e.jsx(ze, {
                                                                        to: be,
                                                                        children: e.jsx("span", {
                                                                            className: "text-blue-600 hover:text-blue-800 hover:underline font-medium cursor-pointer text-xs block transition-colors",
                                                                            children: se
                                                                        })
                                                                    })
                                                                }) : e.jsx("span", {
                                                                    className: "font-medium text-xs",
                                                                    children: se
                                                                }) : e.jsx("span", {
                                                                    className: "text-sm text-muted-foreground",
                                                                    children: "-"
                                                                })
                                                            })
                                                        }), e.jsx(xe, {
                                                            children: e.jsx(ye, {
                                                                variant: "secondary",
                                                                className: "text-xs",
                                                                children: jt(parseFloat(((je = P.precio) == null ? void 0 : je.toString()) || "0"))
                                                            })
                                                        }), e.jsx(xe, {
                                                            children: e.jsx(ze, {
                                                                to: uy({
                                                                    id: P.id,
                                                                    descripcionArticulo: P.descripcionArticulo,
                                                                    vehicleMarca: P.vehicleMarca || "",
                                                                    vehicleModelo: P.vehicleModelo || ""
                                                                }),
                                                                children: e.jsxs(T, {
                                                                    variant: "outline",
                                                                    size: "sm",
                                                                    children: [e.jsx(bs, {
                                                                        className: "h-4 w-4 mr-1"
                                                                    }), "Ver"]
                                                                })
                                                            })
                                                        })]
                                                    }, P.id)
                                                })
                                            })]
                                        })
                                    })
                                })
                            }) : e.jsx("div", {
                                className: "space-y-4",
                                children: le.map(P => {
                                    var je;
                                    const X = r1(P),
                                        {vehicleText: ie, shouldShowLink: we, linkTo: be, displayText: se} = n1(X, {
                                            includeYear: !0
                                        });
                                    return e.jsx(U, {
                                        className: "hover:shadow-md transition-shadow",
                                        children: e.jsx(q, {
                                            className: "p-4",
                                            children: e.jsxs("div", {
                                                className: "flex items-center gap-4",
                                                children: [e.jsx("div", {
                                                    className: "w-48 h-32 bg-gray-100 rounded-lg flex items-center justify-center",
                                                    children: P.imagenes && P.imagenes.length > 0 ? e.jsx("img", {
                                                        src: P.imagenes[0],
                                                        alt: P.descripcionArticulo,
                                                        className: "w-full h-full object-cover rounded-lg"
                                                    }) : e.jsx(qs, {
                                                        className: "h-16 w-16 text-gray-400"
                                                    })
                                                }), e.jsxs("div", {
                                                    className: "flex-1",
                                                    children: [e.jsx("h3", {
                                                        className: "font-semibold text-lg",
                                                        children: P.descripcionArticulo
                                                    }), e.jsx("p", {
                                                        className: "text-muted-foreground",
                                                        children: P.descripcionFamilia
                                                    }), e.jsxs("div", {
                                                        className: "flex items-center gap-4 mt-2",
                                                        children: [e.jsx(ye, {
                                                            variant: "secondary",
                                                            children: jt(parseFloat(((je = P.precio) == null ? void 0 : je.toString()) || "0"))
                                                        }), e.jsx(ye, {
                                                            variant: "outline",
                                                            children: P.refPrincipal || "N/A"
                                                        })]
                                                    }), ie && e.jsx("div", {
                                                        className: "mt-2",
                                                        children: we && be ? e.jsx(ze, {
                                                            to: be,
                                                            children: e.jsxs("span", {
                                                                className: "text-blue-600 hover:text-blue-800 hover:underline font-medium cursor-pointer text-sm transition-colors",
                                                                children: ["🚗 ", se]
                                                            })
                                                        }) : e.jsxs("span", {
                                                            className: "font-medium text-sm",
                                                            children: ["🚗 ", se]
                                                        })
                                                    })]
                                                }), e.jsx("div", {
                                                    className: "flex flex-col gap-2",
                                                    children: e.jsx(ze, {
                                                        to: uy({
                                                            id: P.id,
                                                            descripcionArticulo: P.descripcionArticulo,
                                                            vehicleMarca: P.vehicleMarca || "",
                                                            vehicleModelo: P.vehicleModelo || ""
                                                        }),
                                                        children: e.jsxs(T, {
                                                            variant: "outline",
                                                            size: "sm",
                                                            children: [e.jsx(bs, {
                                                                className: "h-4 w-4 mr-1"
                                                            }), "Ver detalles"]
                                                        })
                                                    })
                                                })]
                                            })
                                        })
                                    }, P.id)
                                })
                            }), pe > 1 && e.jsx("div", {
                                className: "mt-8 flex justify-center pagination-container",
                                children: e.jsx(wm, {
                                    children: e.jsxs(Cm, {
                                        children: [e.jsx(ps, {
                                            children: e.jsx(Sm, {
                                                onClick: () => v > 1 && $(v - 1),
                                                className: v <= 1 ? "pointer-events-none opacity-50" : "cursor-pointer",
                                                title: "Página anterior"
                                            })
                                        }), Array.from({
                                            length: Math.min(5, pe)
                                        }, (P, X) => {
                                            let ie;
                                            return pe <= 5 || v <= 3 ? ie = X + 1 : v >= pe - 2 ? ie = pe - 4 + X : ie = v - 2 + X, e.jsx(ps, {
                                                children: e.jsx(un, {
                                                    onClick: () => $(ie),
                                                    isActive: v === ie,
                                                    className: "cursor-pointer",
                                                    title: `Página ${ie}`,
                                                    children: ie
                                                })
                                            }, ie)
                                        }), e.jsx(ps, {
                                            children: e.jsx(Em, {
                                                onClick: () => v < pe && $(v + 1),
                                                className: v >= pe ? "pointer-events-none opacity-50" : "cursor-pointer",
                                                title: "Página siguiente"
                                            })
                                        })]
                                    })
                                })
                            })]
                        })]
                    })]
                })]
            })
        })]
    })
};
var M0 = "Collapsible",
    [XV, oT] = ws(M0),
    [JV, I0] = XV(M0),
    lT = h.forwardRef((t, s) => {
        const {__scopeCollapsible: r, open: n, defaultOpen: a, disabled: i, onOpenChange: o, ...l} = t,
            [c=!1, d] = Yr({
                prop: n,
                defaultProp: a,
                onChange: o
            });
        return e.jsx(JV, {
            scope: r,
            disabled: i,
            contentId: cn(),
            open: c,
            onOpenToggle: h.useCallback(() => d(u => !u), [d]),
            children: e.jsx(Oe.div, {
                "data-state": D0(c),
                "data-disabled": i ? "" : void 0,
                ...l,
                ref: s
            })
        })
    });
lT.displayName = M0;
var cT = "CollapsibleTrigger",
    dT = h.forwardRef((t, s) => {
        const {__scopeCollapsible: r, ...n} = t,
            a = I0(cT, r);
        return e.jsx(Oe.button, {
            type: "button",
            "aria-controls": a.contentId,
            "aria-expanded": a.open || !1,
            "data-state": D0(a.open),
            "data-disabled": a.disabled ? "" : void 0,
            disabled: a.disabled,
            ...n,
            ref: s,
            onClick: Ne(t.onClick, a.onOpenToggle)
        })
    });
dT.displayName = cT;
var R0 = "CollapsibleContent",
    uT = h.forwardRef((t, s) => {
        const {forceMount: r, ...n} = t,
            a = I0(R0, t.__scopeCollapsible);
        return e.jsx(_s, {
            present: r || a.open,
            children: ({present: i}) => e.jsx(e9, {
                ...n,
                ref: s,
                present: i
            })
        })
    });
uT.displayName = R0;
var e9 = h.forwardRef((t, s) => {
    const {__scopeCollapsible: r, present: n, children: a, ...i} = t,
        o = I0(R0, r),
        [l, c] = h.useState(n),
        d = h.useRef(null),
        u = lt(s, d),
        m = h.useRef(0),
        p = m.current,
        j = h.useRef(0),
        g = j.current,
        x = o.open || l,
        y = h.useRef(x),
        v = h.useRef(void 0);
    return h.useEffect(() => {
        const f = requestAnimationFrame(() => y.current = !1);
        return () => cancelAnimationFrame(f)
    }, []), js(() => {
        const f = d.current;
        if (f) {
            v.current = v.current || {
                transitionDuration: f.style.transitionDuration,
                animationName: f.style.animationName
            },
            f.style.transitionDuration = "0s",
            f.style.animationName = "none";
            const b = f.getBoundingClientRect();
            m.current = b.height,
            j.current = b.width,
            y.current || (f.style.transitionDuration = v.current.transitionDuration, f.style.animationName = v.current.animationName),
            c(n)
        }
    }, [o.open, n]), e.jsx(Oe.div, {
        "data-state": D0(o.open),
        "data-disabled": o.disabled ? "" : void 0,
        id: o.contentId,
        hidden: !x,
        ...i,
        ref: u,
        style: {
            "--radix-collapsible-content-height": p ? `${p}px` : void 0,
            "--radix-collapsible-content-width": g ? `${g}px` : void 0,
            ...t.style
        },
        children: x && a
    })
});
function D0(t) {
    return t ? "open" : "closed"
}
var t9 = lT,
    s9 = dT,
    r9 = uT,
    wi = "Accordion",
    n9 = ["Home", "End", "ArrowDown", "ArrowUp", "ArrowLeft", "ArrowRight"],
    [O0, a9, i9] = im(wi),
    [Xf, JQ] = ws(wi, [i9, oT]),
    L0 = oT(),
    mT = ke.forwardRef((t, s) => {
        const {type: r, ...n} = t,
            a = n,
            i = n;
        return e.jsx(O0.Provider, {
            scope: t.__scopeAccordion,
            children: r === "multiple" ? e.jsx(d9, {
                ...i,
                ref: s
            }) : e.jsx(c9, {
                ...a,
                ref: s
            })
        })
    });
mT.displayName = wi;
var [hT, o9] = Xf(wi),
    [pT, l9] = Xf(wi, {
        collapsible: !1
    }),
    c9 = ke.forwardRef((t, s) => {
        const {value: r, defaultValue: n, onValueChange: a=() => {}, collapsible: i=!1, ...o} = t,
            [l, c] = Yr({
                prop: r,
                defaultProp: n,
                onChange: a
            });
        return e.jsx(hT, {
            scope: t.__scopeAccordion,
            value: l ? [l] : [],
            onItemOpen: c,
            onItemClose: ke.useCallback(() => i && c(""), [i, c]),
            children: e.jsx(pT, {
                scope: t.__scopeAccordion,
                collapsible: i,
                children: e.jsx(fT, {
                    ...o,
                    ref: s
                })
            })
        })
    }),
    d9 = ke.forwardRef((t, s) => {
        const {value: r, defaultValue: n, onValueChange: a=() => {}, ...i} = t,
            [o=[], l] = Yr({
                prop: r,
                defaultProp: n,
                onChange: a
            }),
            c = ke.useCallback(u => l((m=[]) => [...m, u]), [l]),
            d = ke.useCallback(u => l((m=[]) => m.filter(p => p !== u)), [l]);
        return e.jsx(hT, {
            scope: t.__scopeAccordion,
            value: o,
            onItemOpen: c,
            onItemClose: d,
            children: e.jsx(pT, {
                scope: t.__scopeAccordion,
                collapsible: !0,
                children: e.jsx(fT, {
                    ...i,
                    ref: s
                })
            })
        })
    }),
    [u9, Jf] = Xf(wi),
    fT = ke.forwardRef((t, s) => {
        const {__scopeAccordion: r, disabled: n, dir: a, orientation: i="vertical", ...o} = t,
            l = ke.useRef(null),
            c = lt(l, s),
            d = a9(r),
            m = Nl(a) === "ltr",
            p = Ne(t.onKeyDown, j => {
                var k;
                if (!n9.includes(j.key))
                    return;
                const g = j.target,
                    x = d().filter(R => {
                        var H;
                        return !((H = R.ref.current) != null && H.disabled)
                    }),
                    y = x.findIndex(R => R.ref.current === g),
                    v = x.length;
                if (y === -1)
                    return;
                j.preventDefault();
                let f = y;
                const b = 0,
                    N = v - 1,
                    w = () => {
                        f = y + 1,
                        f > N && (f = b)
                    },
                    C = () => {
                        f = y - 1,
                        f < b && (f = N)
                    };
                switch (j.key) {
                case "Home":
                    f = b;
                    break;
                case "End":
                    f = N;
                    break;
                case "ArrowRight":
                    i === "horizontal" && (m ? w() : C());
                    break;
                case "ArrowDown":
                    i === "vertical" && w();
                    break;
                case "ArrowLeft":
                    i === "horizontal" && (m ? C() : w());
                    break;
                case "ArrowUp":
                    i === "vertical" && C();
                    break
                }
                const E = f % v;
                (k = x[E].ref.current) == null || k.focus()
            });
        return e.jsx(u9, {
            scope: r,
            disabled: n,
            direction: a,
            orientation: i,
            children: e.jsx(O0.Slot, {
                scope: r,
                children: e.jsx(Oe.div, {
                    ...o,
                    "data-orientation": i,
                    ref: c,
                    onKeyDown: n ? void 0 : p
                })
            })
        })
    }),
    Op = "AccordionItem",
    [m9, F0] = Xf(Op),
    xT = ke.forwardRef((t, s) => {
        const {__scopeAccordion: r, value: n, ...a} = t,
            i = Jf(Op, r),
            o = o9(Op, r),
            l = L0(r),
            c = cn(),
            d = n && o.value.includes(n) || !1,
            u = i.disabled || t.disabled;
        return e.jsx(m9, {
            scope: r,
            open: d,
            disabled: u,
            triggerId: c,
            children: e.jsx(t9, {
                "data-orientation": i.orientation,
                "data-state": NT(d),
                ...l,
                ...a,
                ref: s,
                disabled: u,
                open: d,
                onOpenChange: m => {
                    m ? o.onItemOpen(n) : o.onItemClose(n)
                }
            })
        })
    });
xT.displayName = Op;
var gT = "AccordionHeader",
    vT = ke.forwardRef((t, s) => {
        const {__scopeAccordion: r, ...n} = t,
            a = Jf(wi, r),
            i = F0(gT, r);
        return e.jsx(Oe.h3, {
            "data-orientation": a.orientation,
            "data-state": NT(i.open),
            "data-disabled": i.disabled ? "" : void 0,
            ...n,
            ref: s
        })
    });
vT.displayName = gT;
var my = "AccordionTrigger",
    yT = ke.forwardRef((t, s) => {
        const {__scopeAccordion: r, ...n} = t,
            a = Jf(wi, r),
            i = F0(my, r),
            o = l9(my, r),
            l = L0(r);
        return e.jsx(O0.ItemSlot, {
            scope: r,
            children: e.jsx(s9, {
                "aria-disabled": i.open && !o.collapsible || void 0,
                "data-orientation": a.orientation,
                id: i.triggerId,
                ...l,
                ...n,
                ref: s
            })
        })
    });
yT.displayName = my;
var jT = "AccordionContent",
    bT = ke.forwardRef((t, s) => {
        const {__scopeAccordion: r, ...n} = t,
            a = Jf(wi, r),
            i = F0(jT, r),
            o = L0(r);
        return e.jsx(r9, {
            role: "region",
            "aria-labelledby": i.triggerId,
            "data-orientation": a.orientation,
            ...o,
            ...n,
            ref: s,
            style: {
                "--radix-accordion-content-height": "var(--radix-collapsible-content-height)",
                "--radix-accordion-content-width": "var(--radix-collapsible-content-width)",
                ...t.style
            }
        })
    });
bT.displayName = jT;
function NT(t) {
    return t ? "open" : "closed"
}
var h9 = mT,
    p9 = xT,
    f9 = vT,
    wT = yT,
    CT = bT;
const z0 = h9,
    Iu = h.forwardRef(({className: t, ...s}, r) => e.jsx(p9, {
        ref: r,
        className: me("border-b", t),
        ...s
    }));
Iu.displayName = "AccordionItem";
const Ru = h.forwardRef(({className: t, children: s, ...r}, n) => e.jsx(f9, {
    className: "flex",
    children: e.jsxs(wT, {
        ref: n,
        className: me("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180", t),
        ...r,
        children: [s, e.jsx(rl, {
            className: "h-4 w-4 shrink-0 transition-transform duration-200"
        })]
    })
}));
Ru.displayName = wT.displayName;
const Du = h.forwardRef(({className: t, children: s, ...r}, n) => e.jsx(CT, {
    ref: n,
    className: "overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",
    ...r,
    children: e.jsx("div", {
        className: me("pb-4 pt-0", t),
        children: s
    })
}));
Du.displayName = CT.displayName;
const i1 = () => {
    var H,
        z,
        A,
        $,
        G,
        F,
        _;
    const s = am().slug || "0",
        r = X_(`/piezas/${s}`),
        {addToCart: n, setIsCartOpen: a, clearCart: i, isLoading: o} = bl();
    h.useState(1);
    const [l, c] = h.useState(0),
        {toast: d} = st();
    h.useEffect(() => {
        window.scrollTo({
            top: 0,
            behavior: "smooth"
        })
    }, [r]);
    const [u, m] = h.useState(!1),
        [p, j] = h.useState(!1),
        g = async () => {
            try {
                if (!k)
                    return;
                m(!0),
                await n(r, 1, k),
                d({
                    title: "Producto añadido",
                    description: "El producto se ha añadido al carrito correctamente"
                }),
                a(!0)
            } catch (S) {
                console.error("Error al añadir al carrito:", S),
                d({
                    title: "Error",
                    description: "No se pudo añadir al carrito",
                    variant: "destructive"
                })
            } finally {
                m(!1)
            }
        },
        [x, y] = ut(),
        v = async () => {
            try {
                j(!0),
                i(),
                await n(r, 1, k, !1),
                y("/checkout")
            } catch (S) {
                console.error("Error al procesar la compra:", S),
                d({
                    title: "Error",
                    description: "No se pudo procesar la compra",
                    variant: "destructive"
                })
            } finally {
                j(!1)
            }
        },
        b = new URLSearchParams(window.location.search).get("filterBrand"),
        {data: N, isLoading: w, error: C} = Te({
            queryKey: [`/api/parts/${r}`, b],
            queryFn: () => k0.getPartById(r, {
                filterBrand: b || void 0
            }),
            enabled: !isNaN(r),
            staleTime: 3e5,
            gcTime: 9e5,
            refetchOnWindowFocus: !1,
            retry: 2
        });
    h.useEffect(() => {
        if (N && !w && N.descripcionArticulo) {
            const S = $V(N);
            eT(S)
        }
    }, [N, w]);
    const {data: E} = Te({
        queryKey: ["related-parts", (z = (H = N == null ? void 0 : N.vehicles) == null ? void 0 : H[0]) == null ? void 0 : z.id, r],
        queryFn: async () => {
            var M,
                re;
            if (!((re = (M = N == null ? void 0 : N.vehicles) == null ? void 0 : M[0]) != null && re.id))
                return null;
            const S = N.vehicles[0].id,
                I = r;
            console.log(`Obteniendo piezas relacionadas para vehículo ID: ${S}, excluyendo pieza ID: ${I}`);
            const W = await fetch(`/api/optimized/parts/related/${S}?excludePartId=${I}&limit=8`);
            if (!W.ok)
                throw new Error("Error al obtener piezas relacionadas");
            const oe = await W.json(),
                O = (oe.data || []).filter(ue => {
                    var he;
                    return parseFloat(((he = ue.precio) == null ? void 0 : he.toString()) || "0") > 0
                });
            return O.length !== (oe.data || []).length && console.warn(`Se filtraron ${(oe.data || []).length - O.length} piezas con precio inválido en el frontend`), console.log(`Piezas relacionadas obtenidas: ${O.length} (todas con precio válido)`), {
                parts: O,
                vehicleId: S
            }
        },
        enabled: !!(($ = (A = N == null ? void 0 : N.vehicles) == null ? void 0 : A[0]) != null && $.id),
        staleTime: 18e4,
        gcTime: 6e5,
        refetchOnWindowFocus: !1,
        retry: 1
    });
    if (isNaN(r))
        return e.jsxs("div", {
            className: "container mx-auto px-4 py-12 text-center",
            children: [e.jsx("h1", {
                className: "text-2xl font-montserrat font-bold mb-4",
                children: "ID de pieza inválido"
            }), e.jsx("p", {
                className: "mb-6",
                children: "El ID proporcionado no es válido."
            }), e.jsx(ze, {
                to: "/piezas",
                children: e.jsxs(T, {
                    children: [e.jsx(Nr, {
                        className: "mr-2 h-4 w-4"
                    }), "Volver a piezas"]
                })
            })]
        });
    if (w)
        return e.jsxs("div", {
            className: "container mx-auto px-4 py-12 text-center",
            children: [e.jsx("div", {
                className: "animate-spin h-12 w-12 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"
            }), e.jsx("p", {
                children: "Cargando detalles de la pieza..."
            })]
        });
    if (C || !N)
        return e.jsxs("div", {
            className: "container mx-auto px-4 py-12 text-center",
            children: [e.jsx("h1", {
                className: "text-2xl font-montserrat font-bold mb-4",
                children: "Error al cargar la pieza"
            }), e.jsx("p", {
                className: "mb-6",
                children: "No se pudo cargar la información de la pieza."
            }), e.jsx(ze, {
                to: "/piezas",
                children: e.jsxs(T, {
                    children: [e.jsx(Nr, {
                        className: "mr-2 h-4 w-4"
                    }), "Volver a piezas"]
                })
            })]
        });
    const k = N,
        R = N.vehicles || [];
    return e.jsx(e.Fragment, {
        children: e.jsxs("div", {
            className: "max-w-[1400px] mx-auto px-6 py-8",
            children: [e.jsx("div", {
                className: "mb-8",
                children: e.jsxs("div", {
                    className: "flex items-center space-x-2 text-sm",
                    children: [e.jsx(ze, {
                        to: "/",
                        className: "hover:text-primary",
                        children: "Inicio"
                    }), e.jsx("span", {
                        children: "/"
                    }), e.jsx(ze, {
                        to: "/piezas",
                        className: "hover:text-primary",
                        children: "Piezas"
                    }), e.jsx("span", {
                        children: "/"
                    }), e.jsx("span", {
                        className: "text-muted-foreground",
                        children: k.descripcionArticulo
                    })]
                })
            }), e.jsxs("div", {
                className: "flex flex-col md:flex-row justify-between items-start mb-8",
                children: [e.jsxs("div", {
                    children: [e.jsxs("div", {
                        className: "flex items-center gap-3 mb-2",
                        children: [e.jsx("h1", {
                            className: "text-3xl font-montserrat font-bold",
                            children: k.descripcionArticulo
                        }), e.jsxs(ye, {
                            variant: "outline",
                            className: "px-3 py-1 border-primary text-primary",
                            children: ["Ref: ", k.refLocal || "N/A"]
                        })]
                    }), e.jsxs("div", {
                        className: "flex items-center space-x-2",
                        children: [e.jsx(ye, {
                            className: "bg-accent text-white",
                            children: "En stock"
                        }), k.codArticulo && e.jsxs(ye, {
                            variant: "outline",
                            className: "px-3 py-1",
                            children: ["Código: ", k.codArticulo]
                        })]
                    })]
                }), e.jsx(ze, {
                    to: "/piezas",
                    children: e.jsxs(T, {
                        variant: "outline",
                        className: "mt-4 md:mt-0",
                        children: [e.jsx(Nr, {
                            className: "mr-2 h-4 w-4"
                        }), "Volver a piezas"]
                    })
                })]
            }), e.jsxs("div", {
                className: "grid grid-cols-1 lg:grid-cols-3 gap-8",
                children: [e.jsxs("div", {
                    className: "lg:col-span-2",
                    children: [k.imagenes && k.imagenes.length > 0 ? e.jsxs("div", {
                        className: "space-y-4",
                        children: [e.jsxs(Ic, {
                            className: "w-full h-auto",
                            "data-carousel-container": "true",
                            opts: {
                                startIndex: l,
                                align: "start"
                            },
                            children: [e.jsx(Rc, {
                                className: "-ml-0 h-auto",
                                children: k.imagenes.map((S, I) => e.jsx(Yo, {
                                    className: "pl-0 h-auto",
                                    children: e.jsx("img", {
                                        src: S,
                                        alt: `${k.descripcionArticulo} - Imagen ${I + 1}`,
                                        className: "w-full h-auto object-contain rounded-lg bg-gray-100",
                                        loading: I === 0 ? "eager" : "lazy",
                                        style: {
                                            width: "100%",
                                            height: "auto",
                                            maxHeight: "none",
                                            minHeight: "auto",
                                            margin: 0,
                                            padding: 0,
                                            display: "block"
                                        }
                                    })
                                }, I))
                            }), e.jsx(Dc, {}), e.jsx(Oc, {})]
                        }), e.jsx("div", {
                            className: "overflow-x-auto pb-2",
                            children: e.jsx("div", {
                                className: "flex space-x-2",
                                children: k.imagenes.map((S, I) => e.jsx(tT, {
                                    src: S,
                                    alt: `Thumbnail ${I + 1}`,
                                    className: "flex-none w-24 h-24 rounded-md",
                                    isSelected: l === I,
                                    onClick: () => {
                                        var oe,
                                            O;
                                        c(I);
                                        const W = document.querySelector('[data-carousel-container="true"]');
                                        if (W) {
                                            const M = (O = (oe = W._emblaRef) == null ? void 0 : oe.current) == null ? void 0 : O.emblaApi;
                                            M && M.scrollTo(I)
                                        }
                                    }
                                }, I))
                            })
                        })]
                    }) : e.jsx("div", {
                        className: "bg-gray-200 rounded-lg flex items-center justify-center aspect-[4/3]",
                        children: e.jsx("p", {
                            className: "text-gray-500",
                            children: "No hay imágenes disponibles"
                        })
                    }), e.jsxs("div", {
                        className: "mt-8",
                        children: [e.jsx("div", {
                            className: "mb-8",
                            children: e.jsxs(ls, {
                                defaultValue: "specs",
                                className: "w-full",
                                children: [e.jsxs(es, {
                                    className: "mb-6 w-full justify-start overflow-x-auto h-[48px] px-4 scrollbar-hide border rounded-none bg-white",
                                    children: [e.jsx(Ue, {
                                        value: "specs",
                                        className: "px-4 py-2 font-bold rounded-none data-[state=active]:border-b-2 data-[state=active]:border-primary mx-1",
                                        children: "Ficha técnica"
                                    }), e.jsx(Ue, {
                                        value: "details",
                                        className: "px-4 py-2 font-bold rounded-none data-[state=active]:border-b-2 data-[state=active]:border-primary mx-1",
                                        children: "Más información"
                                    })]
                                }), e.jsx($e, {
                                    value: "specs",
                                    children: e.jsxs("div", {
                                        className: "space-y-1",
                                        children: [e.jsxs("div", {
                                            className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 mb-4",
                                            children: [e.jsxs("div", {
                                                className: "bg-white rounded p-3 border",
                                                children: [e.jsx("span", {
                                                    className: "text-sm font-medium text-gray-600",
                                                    children: "Marca:"
                                                }), e.jsx("p", {
                                                    className: "text-lg font-semibold text-blue-700",
                                                    children: k.vehicleMarca || k.marca || "No especificada"
                                                })]
                                            }), e.jsxs("div", {
                                                className: "bg-white rounded p-3 border",
                                                children: [e.jsx("span", {
                                                    className: "text-sm font-medium text-gray-600",
                                                    children: "Modelo:"
                                                }), e.jsx("p", {
                                                    className: "text-lg font-semibold text-green-700",
                                                    children: k.vehicleModelo || k.modelo || "No especificado"
                                                })]
                                            }), e.jsxs("div", {
                                                className: "bg-white rounded p-3 border",
                                                children: [e.jsx("span", {
                                                    className: "text-sm font-medium text-gray-600",
                                                    children: "Versión:"
                                                }), e.jsx("p", {
                                                    className: "text-lg font-semibold text-purple-700",
                                                    children: k.vehicleVersion || k.version || "No especificada"
                                                })]
                                            }), e.jsxs("div", {
                                                className: "bg-white rounded p-3 border",
                                                children: [e.jsx("span", {
                                                    className: "text-sm font-medium text-gray-600",
                                                    children: "Año:"
                                                }), e.jsx("p", {
                                                    className: "text-lg font-semibold text-orange-700",
                                                    children: k.vehicleAnyo || k.anyo || "No especificado"
                                                })]
                                            }), e.jsxs("div", {
                                                className: "bg-white rounded p-3 border",
                                                children: [e.jsx("span", {
                                                    className: "text-sm font-medium text-gray-600",
                                                    children: "Combustible:"
                                                }), e.jsx("p", {
                                                    className: "text-lg font-semibold text-red-700",
                                                    children: ((F = (G = k.vehicles) == null ? void 0 : G[0]) == null ? void 0 : F.combustible) || "No especificado"
                                                })]
                                            }), e.jsxs("div", {
                                                className: "bg-white rounded p-3 border",
                                                children: [e.jsx("span", {
                                                    className: "text-sm font-medium text-gray-600",
                                                    children: "Familia:"
                                                }), e.jsx("p", {
                                                    className: "text-lg font-semibold text-indigo-700",
                                                    children: k.descripcionFamilia || "No especificada"
                                                })]
                                            })]
                                        }), e.jsxs("div", {
                                            className: "grid grid-cols-2 bg-gray-50 p-2 rounded",
                                            children: [e.jsx("span", {
                                                className: "text-muted-foreground",
                                                children: "Referencia:"
                                            }), e.jsx("span", {
                                                className: "font-semibold",
                                                children: k.refLocal || "N/A"
                                            })]
                                        }), e.jsxs("div", {
                                            className: "grid grid-cols-2 bg-white p-2 rounded",
                                            children: [e.jsx("span", {
                                                className: "text-muted-foreground",
                                                children: "Código:"
                                            }), e.jsx("span", {
                                                children: k.codArticulo || "N/A"
                                            })]
                                        }), e.jsxs("div", {
                                            className: "grid grid-cols-2 bg-gray-50 p-2 rounded",
                                            children: [e.jsx("span", {
                                                className: "text-muted-foreground",
                                                children: "Peso:"
                                            }), e.jsx("span", {
                                                children: M3(k.peso)
                                            })]
                                        })]
                                    })
                                }), e.jsx($e, {
                                    value: "details",
                                    children: e.jsxs("div", {
                                        className: "space-y-4",
                                        children: [e.jsxs("div", {
                                            className: "space-y-1 mb-4",
                                            children: [e.jsxs("div", {
                                                className: "grid grid-cols-2 even:bg-white odd:bg-gray-50 p-2",
                                                children: [e.jsx("span", {
                                                    className: "text-muted-foreground",
                                                    children: "Referencia:"
                                                }), e.jsx("span", {
                                                    className: "font-semibold",
                                                    children: k.refLocal || "N/A"
                                                })]
                                            }), e.jsxs("div", {
                                                className: "grid grid-cols-2 even:bg-white odd:bg-gray-50 p-2",
                                                children: [e.jsx("span", {
                                                    className: "text-muted-foreground",
                                                    children: "Código:"
                                                }), e.jsx("span", {
                                                    children: k.codArticulo || "N/A"
                                                })]
                                            }), k.refPrincipal && e.jsxs("div", {
                                                className: "grid grid-cols-2 even:bg-white odd:bg-gray-50 p-2",
                                                children: [e.jsx("span", {
                                                    className: "text-muted-foreground",
                                                    children: "Ref Principal:"
                                                }), e.jsx("span", {
                                                    children: k.refPrincipal
                                                })]
                                            }), e.jsxs("div", {
                                                className: "grid grid-cols-2 even:bg-white odd:bg-gray-50 p-2",
                                                children: [e.jsx("span", {
                                                    className: "text-muted-foreground",
                                                    children: "Estado:"
                                                }), e.jsx("span", {
                                                    children: "Disponible"
                                                })]
                                            }), e.jsxs("div", {
                                                className: "grid grid-cols-2 even:bg-white odd:bg-gray-50 p-2",
                                                children: [e.jsx("span", {
                                                    className: "text-muted-foreground",
                                                    children: "Garantía:"
                                                }), e.jsx("span", {
                                                    children: "3 meses"
                                                })]
                                            }), e.jsxs("div", {
                                                className: "grid grid-cols-2 even:bg-white odd:bg-gray-50 p-2",
                                                children: [e.jsx("span", {
                                                    className: "text-muted-foreground",
                                                    children: "Actualizado:"
                                                }), e.jsx("span", {
                                                    children: "16/05/2025"
                                                })]
                                            }), e.jsxs("div", {
                                                className: "grid grid-cols-2 even:bg-white odd:bg-gray-50 p-2",
                                                children: [e.jsx("span", {
                                                    className: "text-muted-foreground",
                                                    children: "Código Versión:"
                                                }), e.jsx("span", {
                                                    children: k.cod_version_vehiculo || k.rvCode || "N/A"
                                                })]
                                            })]
                                        }), e.jsx("h4", {
                                            className: "font-semibold mb-2",
                                            children: "Información de la pieza"
                                        }), e.jsx("p", {
                                            children: k.descripcion || "No hay descripción disponible"
                                        })]
                                    })
                                })]
                            })
                        }), k.observaciones && e.jsxs("div", {
                            className: "mb-8",
                            children: [e.jsx("h3", {
                                className: "text-lg font-montserrat font-semibold mb-3",
                                children: "Observaciones"
                            }), e.jsx("p", {
                                className: "bg-gray-50 p-4 rounded-lg text-gray-700",
                                children: k.observaciones
                            })]
                        }), e.jsxs(z0, {
                            type: "single",
                            collapsible: !0,
                            className: "mb-8",
                            children: [e.jsxs(Iu, {
                                value: "compatibility",
                                children: [e.jsx(Ru, {
                                    children: e.jsxs("div", {
                                        className: "flex items-center",
                                        children: [e.jsx(yp, {
                                            className: "mr-2 h-4 w-4"
                                        }), "Compatibilidad y garantía"]
                                    })
                                }), e.jsx(Du, {
                                    children: e.jsxs("div", {
                                        className: "space-y-4 pt-2",
                                        children: [e.jsx("p", {
                                            children: "Esta pieza es compatible con el vehículo especificado. Antes de realizar su pedido, verifique que la referencia coincide con la que necesita o contáctenos para confirmar la compatibilidad con su vehículo."
                                        }), e.jsx("p", {
                                            children: "Todas nuestras piezas disponen de una garantía de 3 meses desde la fecha de compra. La garantía cubre defectos de fabricación y no se aplica a desgaste normal o instalación incorrecta."
                                        })]
                                    })
                                })]
                            }), e.jsxs(Iu, {
                                value: "shipping",
                                children: [e.jsx(Ru, {
                                    children: e.jsxs("div", {
                                        className: "flex items-center",
                                        children: [e.jsx(er, {
                                            className: "mr-2 h-4 w-4"
                                        }), "Envío y devoluciones"]
                                    })
                                }), e.jsx(Du, {
                                    children: e.jsxs("div", {
                                        className: "space-y-4 pt-2",
                                        children: [e.jsx("p", {
                                            children: "Realizamos envíos a toda España peninsular en 24-48 horas laborables. Para Baleares, Canarias, Ceuta y Melilla el plazo puede ser de 3-5 días laborables."
                                        }), e.jsx("p", {
                                            children: "Las devoluciones son aceptadas durante los 14 días siguientes a la recepción, siempre que la pieza se encuentre en su estado original y no haya sido montada."
                                        })]
                                    })
                                })]
                            })]
                        })]
                    })]
                }), e.jsx(U, {
                    className: "lg:col-span-1",
                    children: e.jsxs(q, {
                        className: "p-6",
                        children: [e.jsxs("div", {
                            className: "mb-6",
                            children: [(() => {
                                const S = A3(k.precio);
                                return e.jsxs("div", {
                                    className: "bg-gray-50 p-4 rounded-lg mb-4",
                                    children: [e.jsxs("div", {
                                        className: "flex items-baseline justify-between mb-2",
                                        children: [e.jsx("span", {
                                            className: "text-3xl font-montserrat font-bold text-primary",
                                            children: S.totalPrice
                                        }), e.jsx("span", {
                                            className: "text-sm text-muted-foreground",
                                            children: "IVA incluido"
                                        })]
                                    }), e.jsxs("div", {
                                        className: "space-y-1 text-sm text-gray-600",
                                        children: [e.jsxs("div", {
                                            className: "flex justify-between",
                                            children: [e.jsx("span", {
                                                children: "Precio sin IVA:"
                                            }), e.jsx("span", {
                                                className: "font-medium",
                                                children: S.basePrice
                                            })]
                                        }), e.jsxs("div", {
                                            className: "flex justify-between",
                                            children: [e.jsx("span", {
                                                children: "IVA (21%):"
                                            }), e.jsx("span", {
                                                className: "font-medium",
                                                children: S.iva
                                            })]
                                        }), e.jsxs("div", {
                                            className: "border-t pt-1 flex justify-between font-semibold text-primary",
                                            children: [e.jsx("span", {
                                                children: "Total:"
                                            }), e.jsx("span", {
                                                children: S.totalPrice
                                            })]
                                        })]
                                    })]
                                })
                            })(), e.jsxs("div", {
                                className: "flex items-center text-accent mt-2 mb-6",
                                children: [e.jsx(Rt, {
                                    className: "h-5 w-5 mr-2"
                                }), e.jsx("span", {
                                    className: "font-medium",
                                    children: "En stock"
                                })]
                            }), e.jsxs("div", {
                                className: "space-y-4 mb-6",
                                children: [e.jsxs("div", {
                                    className: "flex items-center justify-between mb-4",
                                    children: [e.jsx("span", {
                                        className: "font-medium",
                                        children: "Cantidad:"
                                    }), e.jsx("div", {
                                        className: "flex items-center px-4 py-2 border rounded-md",
                                        children: e.jsx("span", {
                                            className: "text-center",
                                            children: "1 unidad"
                                        })
                                    })]
                                }), e.jsxs(T, {
                                    className: "w-full bg-primary hover:bg-primary/90",
                                    size: "lg",
                                    onClick: g,
                                    disabled: u || p,
                                    children: [e.jsx(ln, {
                                        className: "mr-2 h-5 w-5"
                                    }), u ? "Añadiendo..." : "Añadir al carrito", u && e.jsx("span", {
                                        className: "ml-2 h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"
                                    })]
                                }), e.jsxs(T, {
                                    className: "w-full bg-secondary hover:bg-secondary/90",
                                    size: "lg",
                                    onClick: v,
                                    disabled: u || p,
                                    children: [e.jsx(ln, {
                                        className: "mr-2 h-5 w-5"
                                    }), p ? "Procesando..." : "Comprar ahora", p && e.jsx("span", {
                                        className: "ml-2 h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"
                                    })]
                                }), e.jsxs(T, {
                                    variant: "outline",
                                    className: "w-full",
                                    size: "lg",
                                    children: [e.jsx(Xn, {
                                        className: "mr-2 h-5 w-5"
                                    }), "Llamar: 958 790 858"]
                                })]
                            })]
                        }), e.jsxs("div", {
                            className: "space-y-4",
                            children: [e.jsxs("div", {
                                className: "flex items-start",
                                children: [e.jsx(Rt, {
                                    className: "h-5 w-5 mr-2 text-accent flex-shrink-0 mt-0.5"
                                }), e.jsx("span", {
                                    children: "Garantía de calidad: todas nuestras piezas son verificadas y testadas"
                                })]
                            }), e.jsxs("div", {
                                className: "flex items-start",
                                children: [e.jsx(er, {
                                    className: "h-5 w-5 mr-2 text-accent flex-shrink-0 mt-0.5"
                                }), e.jsx("span", {
                                    children: "Envío rápido: 24/48h en península"
                                })]
                            }), e.jsxs("div", {
                                className: "flex items-start",
                                children: [e.jsx(yp, {
                                    className: "h-5 w-5 mr-2 text-accent flex-shrink-0 mt-0.5"
                                }), e.jsx("span", {
                                    children: "Soporte técnico: asesoramiento personalizado por teléfono"
                                })]
                            })]
                        }), R && R.length > 0 && e.jsxs("div", {
                            className: "mt-6 rounded-lg border border-gray-200 overflow-hidden",
                            children: [e.jsx("div", {
                                className: "bg-gray-800 text-white p-3",
                                children: e.jsx("h3", {
                                    className: "font-bold",
                                    children: "Vehículo compatible"
                                })
                            }), e.jsxs("div", {
                                className: "p-4",
                                children: [e.jsx("div", {
                                    className: "mb-3 bg-white border rounded-md p-2",
                                    children: R[0].imagenes && R[0].imagenes.length > 0 ? e.jsx(_0, {
                                        src: R[0].imagenes[0],
                                        alt: `${R[0].marca} ${R[0].modelo}`,
                                        className: "w-full h-48 object-cover",
                                        priority: !1
                                    }) : e.jsx("div", {
                                        className: "w-full h-48 bg-gray-100 flex items-center justify-center",
                                        children: e.jsx(qs, {
                                            className: "h-10 w-10 text-gray-400"
                                        })
                                    })
                                }), e.jsxs("h4", {
                                    className: "font-bold text-xs mb-2",
                                    children: [R[0].marca, " ", R[0].modelo, " ", R[0].version]
                                }), e.jsxs("div", {
                                    className: "space-y-1 text-xs mb-3",
                                    children: [e.jsxs("div", {
                                        children: [e.jsx("span", {
                                            className: "font-medium",
                                            children: "Marca:"
                                        }), " ", R[0].marca]
                                    }), e.jsxs("div", {
                                        children: [e.jsx("span", {
                                            className: "font-medium",
                                            children: "Modelo:"
                                        }), " ", R[0].modelo]
                                    }), e.jsxs("div", {
                                        children: [e.jsx("span", {
                                            className: "font-medium",
                                            children: "Versión:"
                                        }), " ", R[0].version]
                                    }), e.jsxs("div", {
                                        children: [e.jsx("span", {
                                            className: "font-medium",
                                            children: "Motor:"
                                        }), " ", R[0].potencia || "-", " CV"]
                                    }), e.jsxs("div", {
                                        children: [e.jsx("span", {
                                            className: "font-medium",
                                            children: "Año:"
                                        }), " ", R[0].anyo]
                                    })]
                                }), e.jsx(ze, {
                                    to: `/vehiculos/${R[0].id}`,
                                    className: "w-full",
                                    onClick: () => {
                                        setTimeout(() => {
                                            window.scrollTo({
                                                top: 0,
                                                behavior: "smooth"
                                            })
                                        }, 100)
                                    },
                                    children: e.jsxs(T, {
                                        variant: "outline",
                                        size: "sm",
                                        className: "w-full text-xs text-black hover:text-black",
                                        children: ["Ver vehículo completo", e.jsx(gp, {
                                            className: "ml-1 h-3 w-3"
                                        })]
                                    })
                                })]
                            })]
                        }), e.jsxs("div", {
                            className: "mt-6 pt-6 border-t",
                            children: [e.jsx("h3", {
                                className: "text-lg font-montserrat font-semibold mb-3",
                                children: "¿Necesita ayuda?"
                            }), e.jsx("p", {
                                className: "text-sm text-gray-600 mb-4",
                                children: "Si tiene dudas sobre esta pieza o necesita asesoramiento técnico, contacte con nuestro equipo especializado."
                            }), e.jsx(ze, {
                                to: "/contacto",
                                children: e.jsx(T, {
                                    className: "w-full",
                                    children: "Formulario de contacto"
                                })
                            })]
                        })]
                    })
                })]
            }), (E == null ? void 0 : E.parts) && E.parts.length > 0 && e.jsxs("div", {
                className: "mt-16",
                children: [e.jsxs("div", {
                    className: "flex items-center justify-between mb-6",
                    children: [e.jsxs("h2", {
                        className: "text-2xl font-montserrat font-bold",
                        children: ["Otras piezas disponibles para ", (_ = N == null ? void 0 : N.vehicles) != null && _[0] ? `${N.vehicles[0].marca} ${N.vehicles[0].modelo}${N.vehicles[0].version ? ` ${N.vehicles[0].version}` : ""}${N.vehicles[0].anyo ? ` (${N.vehicles[0].anyo})` : ""}` : "este vehículo"]
                    }), E.vehicleId && e.jsx(ze, {
                        to: `/vehiculos/${E.vehicleId}`,
                        onClick: () => {
                            setTimeout(() => {
                                window.scrollTo({
                                    top: 0,
                                    behavior: "smooth"
                                })
                            }, 100)
                        },
                        children: e.jsxs(T, {
                            variant: "outline",
                            children: ["Ver todas las piezas", e.jsx(gp, {
                                className: "ml-2 h-4 w-4"
                            })]
                        })
                    })]
                }), e.jsx("div", {
                    className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",
                    children: E.parts.slice(0, 8).map(S => e.jsx(ul, {
                        part: S,
                        className: "h-full",
                        hideVehicleLinks: !1
                    }, S.id))
                })]
            })]
        })
    })
};
var km = t => t.type === "checkbox",
    Lo = t => t instanceof Date,
    jr = t => t == null;
const ST = t => typeof t == "object";
var ys = t => !jr(t) && !Array.isArray(t) && ST(t) && !Lo(t),
    ET = t => ys(t) && t.target ? km(t.target) ? t.target.checked : t.target.value : t,
    x9 = t => t.substring(0, t.search(/\.\d+(\.|$)/)) || t,
    kT = (t, s) => t.has(x9(s)),
    g9 = t => {
        const s = t.constructor && t.constructor.prototype;
        return ys(s) && s.hasOwnProperty("isPrototypeOf")
    },
    $0 = typeof window < "u" && typeof window.HTMLElement < "u" && typeof document < "u";
function Ys(t) {
    let s;
    const r = Array.isArray(t),
        n = typeof FileList < "u" ? t instanceof FileList : !1;
    if (t instanceof Date)
        s = new Date(t);
    else if (t instanceof Set)
        s = new Set(t);
    else if (!($0 && (t instanceof Blob || n)) && (r || ys(t)))
        if (s = r ? [] : {}, !r && !g9(t))
            s = t;
        else
            for (const a in t)
                t.hasOwnProperty(a) && (s[a] = Ys(t[a]));
    else
        return t;
    return s
}
var ex = t => Array.isArray(t) ? t.filter(Boolean) : [],
    hs = t => t === void 0,
    Ae = (t, s, r) => {
        if (!s || !ys(t))
            return r;
        const n = ex(s.split(/[,[\].]+?/)).reduce((a, i) => jr(a) ? a : a[i], t);
        return hs(n) || n === t ? hs(t[s]) ? r : t[s] : n
    },
    tn = t => typeof t == "boolean",
    V0 = t => /^\w*$/.test(t),
    PT = t => ex(t.replace(/["|']|\]/g, "").split(/\.|\[/)),
    It = (t, s, r) => {
        let n = -1;
        const a = V0(s) ? [s] : PT(s),
            i = a.length,
            o = i - 1;
        for (; ++n < i;) {
            const l = a[n];
            let c = r;
            if (n !== o) {
                const d = t[l];
                c = ys(d) || Array.isArray(d) ? d : isNaN(+a[n + 1]) ? {} : []
            }
            if (l === "__proto__" || l === "constructor" || l === "prototype")
                return;
            t[l] = c,
            t = t[l]
        }
    };
const Lp = {
        BLUR: "blur",
        FOCUS_OUT: "focusout",
        CHANGE: "change"
    },
    Un = {
        onBlur: "onBlur",
        onChange: "onChange",
        onSubmit: "onSubmit",
        onTouched: "onTouched",
        all: "all"
    },
    za = {
        max: "max",
        min: "min",
        maxLength: "maxLength",
        minLength: "minLength",
        pattern: "pattern",
        required: "required",
        validate: "validate"
    },
    _T = ke.createContext(null),
    tx = () => ke.useContext(_T),
    v9 = t => {
        const {children: s, ...r} = t;
        return ke.createElement(_T.Provider, {
            value: r
        }, s)
    };
var TT = (t, s, r, n=!0) => {
    const a = {
        defaultValues: s._defaultValues
    };
    for (const i in t)
        Object.defineProperty(a, i, {
            get: () => {
                const o = i;
                return s._proxyFormState[o] !== Un.all && (s._proxyFormState[o] = !n || Un.all), r && (r[o] = !0), t[o]
            }
        });
    return a
};
function y9(t) {
    const s = tx(),
        {control: r=s.control, disabled: n, name: a, exact: i} = t || {},
        [o, l] = ke.useState(r._formState),
        c = ke.useRef({
            isDirty: !1,
            isLoading: !1,
            dirtyFields: !1,
            touchedFields: !1,
            validatingFields: !1,
            isValidating: !1,
            isValid: !1,
            errors: !1
        }),
        d = ke.useRef(a);
    return d.current = a, ke.useEffect(() => r._subscribe({
        name: d.current,
        formState: c.current,
        exact: i,
        callback: u => {
            !n && l({
                ...r._formState,
                ...u
            })
        }
    }), [r, n, i]), ke.useEffect(() => {
        c.current.isValid && r._setValid(!0)
    }, [r]), ke.useMemo(() => TT(o, r, c.current, !1), [o, r])
}
var va = t => typeof t == "string",
    AT = (t, s, r, n, a) => va(t) ? (n && s.watch.add(t), Ae(r, t, a)) : Array.isArray(t) ? t.map(i => (n && s.watch.add(i), Ae(r, i))) : (n && (s.watchAll = !0), r);
function j9(t) {
    const s = tx(),
        {control: r=s.control, name: n, defaultValue: a, disabled: i, exact: o} = t || {},
        l = ke.useRef(n),
        c = ke.useRef(a);
    l.current = n,
    ke.useEffect(() => r._subscribe({
        name: l.current,
        formState: {
            values: !0
        },
        exact: o,
        callback: m => !i && u(AT(l.current, r._names, m.values || r._formValues, !1, c.current))
    }), [r, i, o]);
    const [d, u] = ke.useState(r._getWatch(n, a));
    return ke.useEffect(() => r._removeUnmounted()), d
}
function b9(t) {
    const s = tx(),
        {name: r, disabled: n, control: a=s.control, shouldUnregister: i} = t,
        o = kT(a._names.array, r),
        l = j9({
            control: a,
            name: r,
            defaultValue: Ae(a._formValues, r, Ae(a._defaultValues, r, t.defaultValue)),
            exact: !0
        }),
        c = y9({
            control: a,
            name: r,
            exact: !0
        }),
        d = ke.useRef(t),
        u = ke.useRef(a.register(r, {
            ...t.rules,
            value: l,
            ...tn(t.disabled) ? {
                disabled: t.disabled
            } : {}
        })),
        m = ke.useMemo(() => Object.defineProperties({}, {
            invalid: {
                enumerable: !0,
                get: () => !!Ae(c.errors, r)
            },
            isDirty: {
                enumerable: !0,
                get: () => !!Ae(c.dirtyFields, r)
            },
            isTouched: {
                enumerable: !0,
                get: () => !!Ae(c.touchedFields, r)
            },
            isValidating: {
                enumerable: !0,
                get: () => !!Ae(c.validatingFields, r)
            },
            error: {
                enumerable: !0,
                get: () => Ae(c.errors, r)
            }
        }), [c, r]),
        p = ke.useCallback(y => u.current.onChange({
            target: {
                value: ET(y),
                name: r
            },
            type: Lp.CHANGE
        }), [r]),
        j = ke.useCallback(() => u.current.onBlur({
            target: {
                value: Ae(a._formValues, r),
                name: r
            },
            type: Lp.BLUR
        }), [r, a._formValues]),
        g = ke.useCallback(y => {
            const v = Ae(a._fields, r);
            v && y && (v._f.ref = {
                focus: () => y.focus(),
                select: () => y.select(),
                setCustomValidity: f => y.setCustomValidity(f),
                reportValidity: () => y.reportValidity()
            })
        }, [a._fields, r]),
        x = ke.useMemo(() => ({
            name: r,
            value: l,
            ...tn(n) || c.disabled ? {
                disabled: c.disabled || n
            } : {},
            onChange: p,
            onBlur: j,
            ref: g
        }), [r, n, c.disabled, p, j, g, l]);
    return ke.useEffect(() => {
        const y = a._options.shouldUnregister || i;
        a.register(r, {
            ...d.current.rules,
            ...tn(d.current.disabled) ? {
                disabled: d.current.disabled
            } : {}
        });
        const v = (f, b) => {
            const N = Ae(a._fields, f);
            N && N._f && (N._f.mount = b)
        };
        if (v(r, !0), y) {
            const f = Ys(Ae(a._options.defaultValues, r));
            It(a._defaultValues, r, f),
            hs(Ae(a._formValues, r)) && It(a._formValues, r, f)
        }
        return !o && a.register(r), () => {
            (o ? y && !a._state.action : y) ? a.unregister(r) : v(r, !1)
        }
    }, [r, a, o, i]), ke.useEffect(() => {
        a._setDisabledField({
            disabled: n,
            name: r
        })
    }, [n, r, a]), ke.useMemo(() => ({
        field: x,
        formState: c,
        fieldState: m
    }), [x, c, m])
}
const N9 = t => t.render(b9(t));
var MT = (t, s, r, n, a) => s ? {
        ...r[t],
        types: {
            ...r[t] && r[t].types ? r[t].types : {},
            [n]: a || !0
        }
    } : {},
    eu = t => Array.isArray(t) ? t : [t],
    o1 = () => {
        let t = [];
        return {
            get observers() {
                return t
            },
            next: a => {
                for (const i of t)
                    i.next && i.next(a)
            },
            subscribe: a => (t.push(a), {
                unsubscribe: () => {
                    t = t.filter(i => i !== a)
                }
            }),
            unsubscribe: () => {
                t = []
            }
        }
    },
    hy = t => jr(t) || !ST(t);
function Li(t, s) {
    if (hy(t) || hy(s))
        return t === s;
    if (Lo(t) && Lo(s))
        return t.getTime() === s.getTime();
    const r = Object.keys(t),
        n = Object.keys(s);
    if (r.length !== n.length)
        return !1;
    for (const a of r) {
        const i = t[a];
        if (!n.includes(a))
            return !1;
        if (a !== "ref") {
            const o = s[a];
            if (Lo(i) && Lo(o) || ys(i) && ys(o) || Array.isArray(i) && Array.isArray(o) ? !Li(i, o) : i !== o)
                return !1
        }
    }
    return !0
}
var vr = t => ys(t) && !Object.keys(t).length,
    U0 = t => t.type === "file",
    qn = t => typeof t == "function",
    Fp = t => {
        if (!$0)
            return !1;
        const s = t ? t.ownerDocument : 0;
        return t instanceof (s && s.defaultView ? s.defaultView.HTMLElement : HTMLElement)
    },
    IT = t => t.type === "select-multiple",
    q0 = t => t.type === "radio",
    w9 = t => q0(t) || km(t),
    xg = t => Fp(t) && t.isConnected;
function C9(t, s) {
    const r = s.slice(0, -1).length;
    let n = 0;
    for (; n < r;)
        t = hs(t) ? n++ : t[s[n++]];
    return t
}
function S9(t) {
    for (const s in t)
        if (t.hasOwnProperty(s) && !hs(t[s]))
            return !1;
    return !0
}
function Rs(t, s) {
    const r = Array.isArray(s) ? s : V0(s) ? [s] : PT(s),
        n = r.length === 1 ? t : C9(t, r),
        a = r.length - 1,
        i = r[a];
    return n && delete n[i], a !== 0 && (ys(n) && vr(n) || Array.isArray(n) && S9(n)) && Rs(t, r.slice(0, -1)), t
}
var RT = t => {
    for (const s in t)
        if (qn(t[s]))
            return !0;
    return !1
};
function zp(t, s={}) {
    const r = Array.isArray(t);
    if (ys(t) || r)
        for (const n in t)
            Array.isArray(t[n]) || ys(t[n]) && !RT(t[n]) ? (s[n] = Array.isArray(t[n]) ? [] : {}, zp(t[n], s[n])) : jr(t[n]) || (s[n] = !0);
    return s
}
function DT(t, s, r) {
    const n = Array.isArray(t);
    if (ys(t) || n)
        for (const a in t)
            Array.isArray(t[a]) || ys(t[a]) && !RT(t[a]) ? hs(s) || hy(r[a]) ? r[a] = Array.isArray(t[a]) ? zp(t[a], []) : {
                ...zp(t[a])
            } : DT(t[a], jr(s) ? {} : s[a], r[a]) : r[a] = !Li(t[a], s[a]);
    return r
}
var Cd = (t, s) => DT(t, s, zp(s));
const l1 = {
        value: !1,
        isValid: !1
    },
    c1 = {
        value: !0,
        isValid: !0
    };
var OT = t => {
        if (Array.isArray(t)) {
            if (t.length > 1) {
                const s = t.filter(r => r && r.checked && !r.disabled).map(r => r.value);
                return {
                    value: s,
                    isValid: !!s.length
                }
            }
            return t[0].checked && !t[0].disabled ? t[0].attributes && !hs(t[0].attributes.value) ? hs(t[0].value) || t[0].value === "" ? c1 : {
                value: t[0].value,
                isValid: !0
            } : c1 : l1
        }
        return l1
    },
    LT = (t, {valueAsNumber: s, valueAsDate: r, setValueAs: n}) => hs(t) ? t : s ? t === "" ? NaN : t && +t : r && va(t) ? new Date(t) : n ? n(t) : t;
const d1 = {
    isValid: !1,
    value: null
};
var FT = t => Array.isArray(t) ? t.reduce((s, r) => r && r.checked && !r.disabled ? {
    isValid: !0,
    value: r.value
} : s, d1) : d1;
function u1(t) {
    const s = t.ref;
    return U0(s) ? s.files : q0(s) ? FT(t.refs).value : IT(s) ? [...s.selectedOptions].map(({value: r}) => r) : km(s) ? OT(t.refs).value : LT(hs(s.value) ? t.ref.value : s.value, t)
}
var E9 = (t, s, r, n) => {
        const a = {};
        for (const i of t) {
            const o = Ae(s, i);
            o && It(a, i, o._f)
        }
        return {
            criteriaMode: r,
            names: [...t],
            fields: a,
            shouldUseNativeValidation: n
        }
    },
    $p = t => t instanceof RegExp,
    Sd = t => hs(t) ? t : $p(t) ? t.source : ys(t) ? $p(t.value) ? t.value.source : t.value : t,
    m1 = t => ({
        isOnSubmit: !t || t === Un.onSubmit,
        isOnBlur: t === Un.onBlur,
        isOnChange: t === Un.onChange,
        isOnAll: t === Un.all,
        isOnTouch: t === Un.onTouched
    });
const h1 = "AsyncFunction";
var k9 = t => !!t && !!t.validate && !!(qn(t.validate) && t.validate.constructor.name === h1 || ys(t.validate) && Object.values(t.validate).find(s => s.constructor.name === h1)),
    P9 = t => t.mount && (t.required || t.min || t.max || t.maxLength || t.minLength || t.pattern || t.validate),
    p1 = (t, s, r) => !r && (s.watchAll || s.watch.has(t) || [...s.watch].some(n => t.startsWith(n) && /^\.\w+/.test(t.slice(n.length))));
const tu = (t, s, r, n) => {
    for (const a of r || Object.keys(t)) {
        const i = Ae(t, a);
        if (i) {
            const {_f: o, ...l} = i;
            if (o) {
                if (o.refs && o.refs[0] && s(o.refs[0], a) && !n)
                    return !0;
                if (o.ref && s(o.ref, o.name) && !n)
                    return !0;
                if (tu(l, s))
                    break
            } else if (ys(l) && tu(l, s))
                break
        }
    }
};
function f1(t, s, r) {
    const n = Ae(t, r);
    if (n || V0(r))
        return {
            error: n,
            name: r
        };
    const a = r.split(".");
    for (; a.length;) {
        const i = a.join("."),
            o = Ae(s, i),
            l = Ae(t, i);
        if (o && !Array.isArray(o) && r !== i)
            return {
                name: r
            };
        if (l && l.type)
            return {
                name: i,
                error: l
            };
        a.pop()
    }
    return {
        name: r
    }
}
var _9 = (t, s, r, n) => {
        r(t);
        const {name: a, ...i} = t;
        return vr(i) || Object.keys(i).length >= Object.keys(s).length || Object.keys(i).find(o => s[o] === (!n || Un.all))
    },
    T9 = (t, s, r) => !t || !s || t === s || eu(t).some(n => n && (r ? n === s : n.startsWith(s) || s.startsWith(n))),
    A9 = (t, s, r, n, a) => a.isOnAll ? !1 : !r && a.isOnTouch ? !(s || t) : (r ? n.isOnBlur : a.isOnBlur) ? !t : (r ? n.isOnChange : a.isOnChange) ? t : !0,
    M9 = (t, s) => !ex(Ae(t, s)).length && Rs(t, s),
    I9 = (t, s, r) => {
        const n = eu(Ae(t, r));
        return It(n, "root", s[r]), It(t, r, n), t
    },
    Fh = t => va(t);
function x1(t, s, r="validate") {
    if (Fh(t) || Array.isArray(t) && t.every(Fh) || tn(t) && !t)
        return {
            type: r,
            message: Fh(t) ? t : "",
            ref: s
        }
}
var Ml = t => ys(t) && !$p(t) ? t : {
        value: t,
        message: ""
    },
    g1 = async (t, s, r, n, a, i) => {
        const {ref: o, refs: l, required: c, maxLength: d, minLength: u, min: m, max: p, pattern: j, validate: g, name: x, valueAsNumber: y, mount: v} = t._f,
            f = Ae(r, x);
        if (!v || s.has(x))
            return {};
        const b = l ? l[0] : o,
            N = A => {
                a && b.reportValidity && (b.setCustomValidity(tn(A) ? "" : A || ""), b.reportValidity())
            },
            w = {},
            C = q0(o),
            E = km(o),
            k = C || E,
            R = (y || U0(o)) && hs(o.value) && hs(f) || Fp(o) && o.value === "" || f === "" || Array.isArray(f) && !f.length,
            H = MT.bind(null, x, n, w),
            z = (A, $, G, F=za.maxLength, _=za.minLength) => {
                const S = A ? $ : G;
                w[x] = {
                    type: A ? F : _,
                    message: S,
                    ref: o,
                    ...H(A ? F : _, S)
                }
            };
        if (i ? !Array.isArray(f) || !f.length : c && (!k && (R || jr(f)) || tn(f) && !f || E && !OT(l).isValid || C && !FT(l).isValid)) {
            const {value: A, message: $} = Fh(c) ? {
                value: !!c,
                message: c
            } : Ml(c);
            if (A && (w[x] = {
                type: za.required,
                message: $,
                ref: b,
                ...H(za.required, $)
            }, !n))
                return N($), w
        }
        if (!R && (!jr(m) || !jr(p))) {
            let A,
                $;
            const G = Ml(p),
                F = Ml(m);
            if (!jr(f) && !isNaN(f)) {
                const _ = o.valueAsNumber || f && +f;
                jr(G.value) || (A = _ > G.value),
                jr(F.value) || ($ = _ < F.value)
            } else {
                const _ = o.valueAsDate || new Date(f),
                    S = oe => new Date(new Date().toDateString() + " " + oe),
                    I = o.type == "time",
                    W = o.type == "week";
                va(G.value) && f && (A = I ? S(f) > S(G.value) : W ? f > G.value : _ > new Date(G.value)),
                va(F.value) && f && ($ = I ? S(f) < S(F.value) : W ? f < F.value : _ < new Date(F.value))
            }
            if ((A || $) && (z(!!A, G.message, F.message, za.max, za.min), !n))
                return N(w[x].message), w
        }
        if ((d || u) && !R && (va(f) || i && Array.isArray(f))) {
            const A = Ml(d),
                $ = Ml(u),
                G = !jr(A.value) && f.length > +A.value,
                F = !jr($.value) && f.length < +$.value;
            if ((G || F) && (z(G, A.message, $.message), !n))
                return N(w[x].message), w
        }
        if (j && !R && va(f)) {
            const {value: A, message: $} = Ml(j);
            if ($p(A) && !f.match(A) && (w[x] = {
                type: za.pattern,
                message: $,
                ref: o,
                ...H(za.pattern, $)
            }, !n))
                return N($), w
        }
        if (g) {
            if (qn(g)) {
                const A = await g(f, r),
                    $ = x1(A, b);
                if ($ && (w[x] = {
                    ...$,
                    ...H(za.validate, $.message)
                }, !n))
                    return N($.message), w
            } else if (ys(g)) {
                let A = {};
                for (const $ in g) {
                    if (!vr(A) && !n)
                        break;
                    const G = x1(await g[$](f, r), b, $);
                    G && (A = {
                        ...G,
                        ...H($, G.message)
                    }, N(G.message), n && (w[x] = A))
                }
                if (!vr(A) && (w[x] = {
                    ref: b,
                    ...A
                }, !n))
                    return w
            }
        }
        return N(!0), w
    };
const R9 = {
    mode: Un.onSubmit,
    reValidateMode: Un.onChange,
    shouldFocusError: !0
};
function D9(t={}) {
    let s = {
            ...R9,
            ...t
        },
        r = {
            submitCount: 0,
            isDirty: !1,
            isLoading: qn(s.defaultValues),
            isValidating: !1,
            isSubmitted: !1,
            isSubmitting: !1,
            isSubmitSuccessful: !1,
            isValid: !1,
            touchedFields: {},
            dirtyFields: {},
            validatingFields: {},
            errors: s.errors || {},
            disabled: s.disabled || !1
        };
    const n = {};
    let a = ys(s.defaultValues) || ys(s.values) ? Ys(s.values || s.defaultValues) || {} : {},
        i = s.shouldUnregister ? {} : Ys(a),
        o = {
            action: !1,
            mount: !1,
            watch: !1
        },
        l = {
            mount: new Set,
            disabled: new Set,
            unMount: new Set,
            array: new Set,
            watch: new Set
        },
        c,
        d = 0;
    const u = {
        isDirty: !1,
        dirtyFields: !1,
        validatingFields: !1,
        touchedFields: !1,
        isValidating: !1,
        isValid: !1,
        errors: !1
    };
    let m = {
        ...u
    };
    const p = {
            array: o1(),
            state: o1()
        },
        j = m1(s.mode),
        g = m1(s.reValidateMode),
        x = s.criteriaMode === Un.all,
        y = P => X => {
            clearTimeout(d),
            d = setTimeout(P, X)
        },
        v = async P => {
            if (!s.disabled && (u.isValid || m.isValid || P)) {
                const X = s.resolver ? vr((await R()).errors) : await z(n, !0);
                X !== r.isValid && p.state.next({
                    isValid: X
                })
            }
        },
        f = (P, X) => {
            !s.disabled && (u.isValidating || u.validatingFields || m.isValidating || m.validatingFields) && ((P || Array.from(l.mount)).forEach(ie => {
                ie && (X ? It(r.validatingFields, ie, X) : Rs(r.validatingFields, ie))
            }), p.state.next({
                validatingFields: r.validatingFields,
                isValidating: !vr(r.validatingFields)
            }))
        },
        b = (P, X=[], ie, we, be=!0, se=!0) => {
            if (we && ie && !s.disabled) {
                if (o.action = !0, se && Array.isArray(Ae(n, P))) {
                    const je = ie(Ae(n, P), we.argA, we.argB);
                    be && It(n, P, je)
                }
                if (se && Array.isArray(Ae(r.errors, P))) {
                    const je = ie(Ae(r.errors, P), we.argA, we.argB);
                    be && It(r.errors, P, je),
                    M9(r.errors, P)
                }
                if ((u.touchedFields || m.touchedFields) && se && Array.isArray(Ae(r.touchedFields, P))) {
                    const je = ie(Ae(r.touchedFields, P), we.argA, we.argB);
                    be && It(r.touchedFields, P, je)
                }
                (u.dirtyFields || m.dirtyFields) && (r.dirtyFields = Cd(a, i)),
                p.state.next({
                    name: P,
                    isDirty: $(P, X),
                    dirtyFields: r.dirtyFields,
                    errors: r.errors,
                    isValid: r.isValid
                })
            } else
                It(i, P, X)
        },
        N = (P, X) => {
            It(r.errors, P, X),
            p.state.next({
                errors: r.errors
            })
        },
        w = P => {
            r.errors = P,
            p.state.next({
                errors: r.errors,
                isValid: !1
            })
        },
        C = (P, X, ie, we) => {
            const be = Ae(n, P);
            if (be) {
                const se = Ae(i, P, hs(ie) ? Ae(a, P) : ie);
                hs(se) || we && we.defaultChecked || X ? It(i, P, X ? se : u1(be._f)) : _(P, se),
                o.mount && v()
            }
        },
        E = (P, X, ie, we, be) => {
            let se = !1,
                je = !1;
            const Ge = {
                name: P
            };
            if (!s.disabled) {
                if (!ie || we) {
                    (u.isDirty || m.isDirty) && (je = r.isDirty, r.isDirty = Ge.isDirty = $(), se = je !== Ge.isDirty);
                    const Pt = Li(Ae(a, P), X);
                    je = !!Ae(r.dirtyFields, P),
                    Pt ? Rs(r.dirtyFields, P) : It(r.dirtyFields, P, !0),
                    Ge.dirtyFields = r.dirtyFields,
                    se = se || (u.dirtyFields || m.dirtyFields) && je !== !Pt
                }
                if (ie) {
                    const Pt = Ae(r.touchedFields, P);
                    Pt || (It(r.touchedFields, P, ie), Ge.touchedFields = r.touchedFields, se = se || (u.touchedFields || m.touchedFields) && Pt !== ie)
                }
                se && be && p.state.next(Ge)
            }
            return se ? Ge : {}
        },
        k = (P, X, ie, we) => {
            const be = Ae(r.errors, P),
                se = (u.isValid || m.isValid) && tn(X) && r.isValid !== X;
            if (s.delayError && ie ? (c = y(() => N(P, ie)), c(s.delayError)) : (clearTimeout(d), c = null, ie ? It(r.errors, P, ie) : Rs(r.errors, P)), (ie ? !Li(be, ie) : be) || !vr(we) || se) {
                const je = {
                    ...we,
                    ...se && tn(X) ? {
                        isValid: X
                    } : {},
                    errors: r.errors,
                    name: P
                };
                r = {
                    ...r,
                    ...je
                },
                p.state.next(je)
            }
        },
        R = async P => {
            f(P, !0);
            const X = await s.resolver(i, s.context, E9(P || l.mount, n, s.criteriaMode, s.shouldUseNativeValidation));
            return f(P), X
        },
        H = async P => {
            const {errors: X} = await R(P);
            if (P)
                for (const ie of P) {
                    const we = Ae(X, ie);
                    we ? It(r.errors, ie, we) : Rs(r.errors, ie)
                }
            else
                r.errors = X;
            return X
        },
        z = async (P, X, ie={
            valid: !0
        }) => {
            for (const we in P) {
                const be = P[we];
                if (be) {
                    const {_f: se, ...je} = be;
                    if (se) {
                        const Ge = l.array.has(se.name),
                            Pt = be._f && k9(be._f);
                        Pt && u.validatingFields && f([we], !0);
                        const $t = await g1(be, l.disabled, i, x, s.shouldUseNativeValidation && !X, Ge);
                        if (Pt && u.validatingFields && f([we]), $t[se.name] && (ie.valid = !1, X))
                            break;
                        !X && (Ae($t, se.name) ? Ge ? I9(r.errors, $t, se.name) : It(r.errors, se.name, $t[se.name]) : Rs(r.errors, se.name))
                    }
                    !vr(je) && await z(je, X, ie)
                }
            }
            return ie.valid
        },
        A = () => {
            for (const P of l.unMount) {
                const X = Ae(n, P);
                X && (X._f.refs ? X._f.refs.every(ie => !xg(ie)) : !xg(X._f.ref)) && L(P)
            }
            l.unMount = new Set
        },
        $ = (P, X) => !s.disabled && (P && X && It(i, P, X), !Li(M(), a)),
        G = (P, X, ie) => AT(P, l, {
            ...o.mount ? i : hs(X) ? a : va(P) ? {
                [P]: X
            } : X
        }, ie, X),
        F = P => ex(Ae(o.mount ? i : a, P, s.shouldUnregister ? Ae(a, P, []) : [])),
        _ = (P, X, ie={}) => {
            const we = Ae(n, P);
            let be = X;
            if (we) {
                const se = we._f;
                se && (!se.disabled && It(i, P, LT(X, se)), be = Fp(se.ref) && jr(X) ? "" : X, IT(se.ref) ? [...se.ref.options].forEach(je => je.selected = be.includes(je.value)) : se.refs ? km(se.ref) ? se.refs.length > 1 ? se.refs.forEach(je => (!je.defaultChecked || !je.disabled) && (je.checked = Array.isArray(be) ? !!be.find(Ge => Ge === je.value) : be === je.value)) : se.refs[0] && (se.refs[0].checked = !!be) : se.refs.forEach(je => je.checked = je.value === be) : U0(se.ref) ? se.ref.value = "" : (se.ref.value = be, se.ref.type || p.state.next({
                    name: P,
                    values: Ys(i)
                })))
            }
            (ie.shouldDirty || ie.shouldTouch) && E(P, be, ie.shouldTouch, ie.shouldDirty, !0),
            ie.shouldValidate && O(P)
        },
        S = (P, X, ie) => {
            for (const we in X) {
                const be = X[we],
                    se = `${P}.${we}`,
                    je = Ae(n, se);
                (l.array.has(P) || ys(be) || je && !je._f) && !Lo(be) ? S(se, be, ie) : _(se, be, ie)
            }
        },
        I = (P, X, ie={}) => {
            const we = Ae(n, P),
                be = l.array.has(P),
                se = Ys(X);
            It(i, P, se),
            be ? (p.array.next({
                name: P,
                values: Ys(i)
            }), (u.isDirty || u.dirtyFields || m.isDirty || m.dirtyFields) && ie.shouldDirty && p.state.next({
                name: P,
                dirtyFields: Cd(a, i),
                isDirty: $(P, se)
            })) : we && !we._f && !jr(se) ? S(P, se, ie) : _(P, se, ie),
            p1(P, l) && p.state.next({
                ...r
            }),
            p.state.next({
                name: o.mount ? P : void 0,
                values: Ys(i)
            })
        },
        W = async P => {
            o.mount = !0;
            const X = P.target;
            let ie = X.name,
                we = !0;
            const be = Ae(n, ie),
                se = je => {
                    we = Number.isNaN(je) || Lo(je) && isNaN(je.getTime()) || Li(je, Ae(i, ie, je))
                };
            if (be) {
                let je,
                    Ge;
                const Pt = X.type ? u1(be._f) : ET(P),
                    $t = P.type === Lp.BLUR || P.type === Lp.FOCUS_OUT,
                    Zr = !P9(be._f) && !s.resolver && !Ae(r.errors, ie) && !be._f.deps || A9($t, Ae(r.touchedFields, ie), r.isSubmitted, g, j),
                    ve = p1(ie, l, $t);
                It(i, ie, Pt),
                $t ? (be._f.onBlur && be._f.onBlur(P), c && c(0)) : be._f.onChange && be._f.onChange(P);
                const mt = E(ie, Pt, $t),
                    Lt = !vr(mt) || ve;
                if (!$t && p.state.next({
                    name: ie,
                    type: P.type,
                    values: Ys(i)
                }), Zr)
                    return (u.isValid || m.isValid) && (s.mode === "onBlur" ? $t && v() : $t || v()), Lt && p.state.next({
                        name: ie,
                        ...ve ? {} : mt
                    });
                if (!$t && ve && p.state.next({
                    ...r
                }), s.resolver) {
                    const {errors: Mn} = await R([ie]);
                    if (se(Pt), we) {
                        const Eo = f1(r.errors, n, ie),
                            Sl = f1(Mn, n, Eo.name || ie);
                        je = Sl.error,
                        ie = Sl.name,
                        Ge = vr(Mn)
                    }
                } else
                    f([ie], !0),
                    je = (await g1(be, l.disabled, i, x, s.shouldUseNativeValidation))[ie],
                    f([ie]),
                    se(Pt),
                    we && (je ? Ge = !1 : (u.isValid || m.isValid) && (Ge = await z(n, !0)));
                we && (be._f.deps && O(be._f.deps), k(ie, Ge, je, mt))
            }
        },
        oe = (P, X) => {
            if (Ae(r.errors, X) && P.focus)
                return P.focus(), 1
        },
        O = async (P, X={}) => {
            let ie,
                we;
            const be = eu(P);
            if (s.resolver) {
                const se = await H(hs(P) ? P : be);
                ie = vr(se),
                we = P ? !be.some(je => Ae(se, je)) : ie
            } else
                P ? (we = (await Promise.all(be.map(async se => {
                    const je = Ae(n, se);
                    return await z(je && je._f ? {
                        [se]: je
                    } : je)
                }))).every(Boolean), !(!we && !r.isValid) && v()) : we = ie = await z(n);
            return p.state.next({
                ...!va(P) || (u.isValid || m.isValid) && ie !== r.isValid ? {} : {
                    name: P
                },
                ...s.resolver || !P ? {
                    isValid: ie
                } : {},
                errors: r.errors
            }), X.shouldFocus && !we && tu(n, oe, P ? be : l.mount), we
        },
        M = P => {
            const X = {
                ...o.mount ? i : a
            };
            return hs(P) ? X : va(P) ? Ae(X, P) : P.map(ie => Ae(X, ie))
        },
        re = (P, X) => ({
            invalid: !!Ae((X || r).errors, P),
            isDirty: !!Ae((X || r).dirtyFields, P),
            error: Ae((X || r).errors, P),
            isValidating: !!Ae(r.validatingFields, P),
            isTouched: !!Ae((X || r).touchedFields, P)
        }),
        ue = P => {
            P && eu(P).forEach(X => Rs(r.errors, X)),
            p.state.next({
                errors: P ? r.errors : {}
            })
        },
        Y = (P, X, ie) => {
            const we = (Ae(n, P, {
                    _f: {}
                })._f || {}).ref,
                be = Ae(r.errors, P) || {},
                {ref: se, message: je, type: Ge, ...Pt} = be;
            It(r.errors, P, {
                ...Pt,
                ...X,
                ref: we
            }),
            p.state.next({
                name: P,
                errors: r.errors,
                isValid: !1
            }),
            ie && ie.shouldFocus && we && we.focus && we.focus()
        },
        he = (P, X) => qn(P) ? p.state.subscribe({
            next: ie => P(G(void 0, X), ie)
        }) : G(P, X, !0),
        D = P => p.state.subscribe({
            next: X => {
                T9(P.name, X.name, P.exact) && _9(X, P.formState || u, vt, P.reRenderRoot) && P.callback({
                    values: {
                        ...i
                    },
                    ...r,
                    ...X
                })
            }
        }).unsubscribe,
        K = P => (o.mount = !0, m = {
            ...m,
            ...P.formState
        }, D({
            ...P,
            formState: m
        })),
        L = (P, X={}) => {
            for (const ie of P ? eu(P) : l.mount)
                l.mount.delete(ie),
                l.array.delete(ie),
                X.keepValue || (Rs(n, ie), Rs(i, ie)),
                !X.keepError && Rs(r.errors, ie),
                !X.keepDirty && Rs(r.dirtyFields, ie),
                !X.keepTouched && Rs(r.touchedFields, ie),
                !X.keepIsValidating && Rs(r.validatingFields, ie),
                !s.shouldUnregister && !X.keepDefaultValue && Rs(a, ie);
            p.state.next({
                values: Ys(i)
            }),
            p.state.next({
                ...r,
                ...X.keepDirty ? {
                    isDirty: $()
                } : {}
            }),
            !X.keepIsValid && v()
        },
        ee = ({disabled: P, name: X}) => {
            (tn(P) && o.mount || P || l.disabled.has(X)) && (P ? l.disabled.add(X) : l.disabled.delete(X))
        },
        ce = (P, X={}) => {
            let ie = Ae(n, P);
            const we = tn(X.disabled) || tn(s.disabled);
            return It(n, P, {
                ...ie || {},
                _f: {
                    ...ie && ie._f ? ie._f : {
                        ref: {
                            name: P
                        }
                    },
                    name: P,
                    mount: !0,
                    ...X
                }
            }), l.mount.add(P), ie ? ee({
                disabled: tn(X.disabled) ? X.disabled : s.disabled,
                name: P
            }) : C(P, !0, X.value), {
                ...we ? {
                    disabled: X.disabled || s.disabled
                } : {},
                ...s.progressive ? {
                    required: !!X.required,
                    min: Sd(X.min),
                    max: Sd(X.max),
                    minLength: Sd(X.minLength),
                    maxLength: Sd(X.maxLength),
                    pattern: Sd(X.pattern)
                } : {},
                name: P,
                onChange: W,
                onBlur: W,
                ref: be => {
                    if (be) {
                        ce(P, X),
                        ie = Ae(n, P);
                        const se = hs(be.value) && be.querySelectorAll && be.querySelectorAll("input,select,textarea")[0] || be,
                            je = w9(se),
                            Ge = ie._f.refs || [];
                        if (je ? Ge.find(Pt => Pt === se) : se === ie._f.ref)
                            return;
                        It(n, P, {
                            _f: {
                                ...ie._f,
                                ...je ? {
                                    refs: [...Ge.filter(xg), se, ...Array.isArray(Ae(a, P)) ? [{}] : []],
                                    ref: {
                                        type: se.type,
                                        name: P
                                    }
                                } : {
                                    ref: se
                                }
                            }
                        }),
                        C(P, !1, void 0, se)
                    } else
                        ie = Ae(n, P, {}),
                        ie._f && (ie._f.mount = !1),
                        (s.shouldUnregister || X.shouldUnregister) && !(kT(l.array, P) && o.action) && l.unMount.add(P)
                }
            }
        },
        le = () => s.shouldFocusError && tu(n, oe, l.mount),
        Se = P => {
            tn(P) && (p.state.next({
                disabled: P
            }), tu(n, (X, ie) => {
                const we = Ae(n, ie);
                we && (X.disabled = we._f.disabled || P, Array.isArray(we._f.refs) && we._f.refs.forEach(be => {
                    be.disabled = we._f.disabled || P
                }))
            }, 0, !1))
        },
        pe = (P, X) => async ie => {
            let we;
            ie && (ie.preventDefault && ie.preventDefault(), ie.persist && ie.persist());
            let be = Ys(i);
            if (p.state.next({
                isSubmitting: !0
            }), s.resolver) {
                const {errors: se, values: je} = await R();
                r.errors = se,
                be = je
            } else
                await z(n);
            if (l.disabled.size)
                for (const se of l.disabled)
                    It(be, se, void 0);
            if (Rs(r.errors, "root"), vr(r.errors)) {
                p.state.next({
                    errors: {}
                });
                try {
                    await P(be, ie)
                } catch (se) {
                    we = se
                }
            } else
                X && await X({
                    ...r.errors
                }, ie),
                le(),
                setTimeout(le);
            if (p.state.next({
                isSubmitted: !0,
                isSubmitting: !1,
                isSubmitSuccessful: vr(r.errors) && !we,
                submitCount: r.submitCount + 1,
                errors: r.errors
            }), we)
                throw we
        },
        _e = (P, X={}) => {
            Ae(n, P) && (hs(X.defaultValue) ? I(P, Ys(Ae(a, P))) : (I(P, X.defaultValue), It(a, P, Ys(X.defaultValue))), X.keepTouched || Rs(r.touchedFields, P), X.keepDirty || (Rs(r.dirtyFields, P), r.isDirty = X.defaultValue ? $(P, Ys(Ae(a, P))) : $()), X.keepError || (Rs(r.errors, P), u.isValid && v()), p.state.next({
                ...r
            }))
        },
        dt = (P, X={}) => {
            const ie = P ? Ys(P) : a,
                we = Ys(ie),
                be = vr(P),
                se = be ? a : we;
            if (X.keepDefaultValues || (a = ie), !X.keepValues) {
                if (X.keepDirtyValues) {
                    const je = new Set([...l.mount, ...Object.keys(Cd(a, i))]);
                    for (const Ge of Array.from(je))
                        Ae(r.dirtyFields, Ge) ? It(se, Ge, Ae(i, Ge)) : I(Ge, Ae(se, Ge))
                } else {
                    if ($0 && hs(P))
                        for (const je of l.mount) {
                            const Ge = Ae(n, je);
                            if (Ge && Ge._f) {
                                const Pt = Array.isArray(Ge._f.refs) ? Ge._f.refs[0] : Ge._f.ref;
                                if (Fp(Pt)) {
                                    const $t = Pt.closest("form");
                                    if ($t) {
                                        $t.reset();
                                        break
                                    }
                                }
                            }
                        }
                    for (const je of l.mount)
                        I(je, Ae(se, je))
                }
                i = Ys(se),
                p.array.next({
                    values: {
                        ...se
                    }
                }),
                p.state.next({
                    values: {
                        ...se
                    }
                })
            }
            l = {
                mount: X.keepDirtyValues ? l.mount : new Set,
                unMount: new Set,
                array: new Set,
                disabled: new Set,
                watch: new Set,
                watchAll: !1,
                focus: ""
            },
            o.mount = !u.isValid || !!X.keepIsValid || !!X.keepDirtyValues,
            o.watch = !!s.shouldUnregister,
            p.state.next({
                submitCount: X.keepSubmitCount ? r.submitCount : 0,
                isDirty: be ? !1 : X.keepDirty ? r.isDirty : !!(X.keepDefaultValues && !Li(P, a)),
                isSubmitted: X.keepIsSubmitted ? r.isSubmitted : !1,
                dirtyFields: be ? {} : X.keepDirtyValues ? X.keepDefaultValues && i ? Cd(a, i) : r.dirtyFields : X.keepDefaultValues && P ? Cd(a, P) : X.keepDirty ? r.dirtyFields : {},
                touchedFields: X.keepTouched ? r.touchedFields : {},
                errors: X.keepErrors ? r.errors : {},
                isSubmitSuccessful: X.keepIsSubmitSuccessful ? r.isSubmitSuccessful : !1,
                isSubmitting: !1
            })
        },
        B = (P, X) => dt(qn(P) ? P(i) : P, X),
        De = (P, X={}) => {
            const ie = Ae(n, P),
                we = ie && ie._f;
            if (we) {
                const be = we.refs ? we.refs[0] : we.ref;
                be.focus && (be.focus(), X.shouldSelect && qn(be.select) && be.select())
            }
        },
        vt = P => {
            r = {
                ...r,
                ...P
            }
        },
        Mt = {
            control: {
                register: ce,
                unregister: L,
                getFieldState: re,
                handleSubmit: pe,
                setError: Y,
                _subscribe: D,
                _runSchema: R,
                _getWatch: G,
                _getDirty: $,
                _setValid: v,
                _setFieldArray: b,
                _setDisabledField: ee,
                _setErrors: w,
                _getFieldArray: F,
                _reset: dt,
                _resetDefaultValues: () => qn(s.defaultValues) && s.defaultValues().then(P => {
                    B(P, s.resetOptions),
                    p.state.next({
                        isLoading: !1
                    })
                }),
                _removeUnmounted: A,
                _disableForm: Se,
                _subjects: p,
                _proxyFormState: u,
                get _fields() {
                    return n
                },
                get _formValues() {
                    return i
                },
                get _state() {
                    return o
                },
                set _state(P) {
                    o = P
                },
                get _defaultValues() {
                    return a
                },
                get _names() {
                    return l
                },
                set _names(P) {
                    l = P
                },
                get _formState() {
                    return r
                },
                get _options() {
                    return s
                },
                set _options(P) {
                    s = {
                        ...s,
                        ...P
                    }
                }
            },
            subscribe: K,
            trigger: O,
            register: ce,
            handleSubmit: pe,
            watch: he,
            setValue: I,
            getValues: M,
            reset: B,
            resetField: _e,
            clearErrors: ue,
            unregister: L,
            setError: Y,
            setFocus: De,
            getFieldState: re
        };
    return {
        ...Mt,
        formControl: Mt
    }
}
function mn(t={}) {
    const s = ke.useRef(void 0),
        r = ke.useRef(void 0),
        [n, a] = ke.useState({
            isDirty: !1,
            isValidating: !1,
            isLoading: qn(t.defaultValues),
            isSubmitted: !1,
            isSubmitting: !1,
            isSubmitSuccessful: !1,
            isValid: !1,
            submitCount: 0,
            dirtyFields: {},
            touchedFields: {},
            validatingFields: {},
            errors: t.errors || {},
            disabled: t.disabled || !1,
            defaultValues: qn(t.defaultValues) ? void 0 : t.defaultValues
        });
    s.current || (s.current = {
        ...t.formControl ? t.formControl : D9(t),
        formState: n
    }, t.formControl && t.defaultValues && !qn(t.defaultValues) && t.formControl.reset(t.defaultValues, t.resetOptions));
    const i = s.current.control;
    return i._options = t, ke.useLayoutEffect(() => i._subscribe({
        formState: i._proxyFormState,
        callback: () => a({
            ...i._formState
        }),
        reRenderRoot: !0
    }), [i]), ke.useEffect(() => i._disableForm(t.disabled), [i, t.disabled]), ke.useEffect(() => {
        if (i._proxyFormState.isDirty) {
            const o = i._getDirty();
            o !== n.isDirty && i._subjects.state.next({
                isDirty: o
            })
        }
    }, [i, n.isDirty]), ke.useEffect(() => {
        t.values && !Li(t.values, r.current) ? (i._reset(t.values, i._options.resetOptions), r.current = t.values, a(o => ({
            ...o
        }))) : i._resetDefaultValues()
    }, [t.values, i]), ke.useEffect(() => {
        t.errors && !vr(t.errors) && i._setErrors(t.errors)
    }, [t.errors, i]), ke.useEffect(() => {
        i._state.mount || (i._setValid(), i._state.mount = !0),
        i._state.watch && (i._state.watch = !1, i._subjects.state.next({
            ...i._formState
        })),
        i._removeUnmounted()
    }), ke.useEffect(() => {
        t.shouldUnregister && i._subjects.state.next({
            values: i._getWatch()
        })
    }, [t.shouldUnregister, i]), s.current.formState = TT(n, i), s.current
}
const v1 = (t, s, r) => {
        if (t && "reportValidity" in t) {
            const n = Ae(r, s);
            t.setCustomValidity(n && n.message || ""),
            t.reportValidity()
        }
    },
    zT = (t, s) => {
        for (const r in s.fields) {
            const n = s.fields[r];
            n && n.ref && "reportValidity" in n.ref ? v1(n.ref, r, t) : n.refs && n.refs.forEach(a => v1(a, r, t))
        }
    },
    O9 = (t, s) => {
        s.shouldUseNativeValidation && zT(t, s);
        const r = {};
        for (const n in t) {
            const a = Ae(s.fields, n),
                i = Object.assign(t[n] || {}, {
                    ref: a && a.ref
                });
            if (L9(s.names || Object.keys(t), n)) {
                const o = Object.assign({}, Ae(r, n));
                It(o, "root", i),
                It(r, n, o)
            } else
                It(r, n, i)
        }
        return r
    },
    L9 = (t, s) => t.some(r => r.startsWith(s + "."));
var F9 = function(t, s) {
        for (var r = {}; t.length;) {
            var n = t[0],
                a = n.code,
                i = n.message,
                o = n.path.join(".");
            if (!r[o])
                if ("unionErrors" in n) {
                    var l = n.unionErrors[0].errors[0];
                    r[o] = {
                        message: l.message,
                        type: l.code
                    }
                } else
                    r[o] = {
                        message: i,
                        type: a
                    };
            if ("unionErrors" in n && n.unionErrors.forEach(function(u) {
                return u.errors.forEach(function(m) {
                    return t.push(m)
                })
            }), s) {
                var c = r[o].types,
                    d = c && c[n.code];
                r[o] = MT(o, s, r, a, d ? [].concat(d, n.message) : n.message)
            }
            t.shift()
        }
        return r
    },
    Sn = function(t, s, r) {
        return r === void 0 && (r = {}), function(n, a, i) {
            try {
                return Promise.resolve(function(o, l) {
                    try {
                        var c = Promise.resolve(t[r.mode === "sync" ? "parse" : "parseAsync"](n, s)).then(function(d) {
                            return i.shouldUseNativeValidation && zT({}, i), {
                                errors: {},
                                values: r.raw ? n : d
                            }
                        })
                    } catch (d) {
                        return l(d)
                    }
                    return c && c.then ? c.then(void 0, l) : c
                }(0, function(o) {
                    if (function(l) {
                        return Array.isArray(l == null ? void 0 : l.errors)
                    }(o))
                        return {
                            values: {},
                            errors: O9(F9(o.errors, !i.shouldUseNativeValidation && i.criteriaMode === "all"), i)
                        };
                    throw o
                }))
            } catch (o) {
                return Promise.reject(o)
            }
        }
    },
    kt;
(function(t) {
    t.assertEqual = a => a;
    function s(a) {}
    t.assertIs = s;
    function r(a) {
        throw new Error
    }
    t.assertNever = r,
    t.arrayToEnum = a => {
        const i = {};
        for (const o of a)
            i[o] = o;
        return i
    },
    t.getValidEnumValues = a => {
        const i = t.objectKeys(a).filter(l => typeof a[a[l]] != "number"),
            o = {};
        for (const l of i)
            o[l] = a[l];
        return t.objectValues(o)
    },
    t.objectValues = a => t.objectKeys(a).map(function(i) {
        return a[i]
    }),
    t.objectKeys = typeof Object.keys == "function" ? a => Object.keys(a) : a => {
        const i = [];
        for (const o in a)
            Object.prototype.hasOwnProperty.call(a, o) && i.push(o);
        return i
    },
    t.find = (a, i) => {
        for (const o of a)
            if (i(o))
                return o
    },
    t.isInteger = typeof Number.isInteger == "function" ? a => Number.isInteger(a) : a => typeof a == "number" && isFinite(a) && Math.floor(a) === a;
    function n(a, i=" | ") {
        return a.map(o => typeof o == "string" ? `'${o}'` : o).join(i)
    }
    t.joinValues = n,
    t.jsonStringifyReplacer = (a, i) => typeof i == "bigint" ? i.toString() : i
})(kt || (kt = {}));
var py;
(function(t) {
    t.mergeShapes = (s, r) => ({
        ...s,
        ...r
    })
})(py || (py = {}));
const Fe = kt.arrayToEnum(["string", "nan", "number", "integer", "float", "boolean", "date", "bigint", "symbol", "function", "undefined", "null", "array", "object", "unknown", "promise", "void", "never", "map", "set"]),
    Ka = t => {
        switch (typeof t) {
        case "undefined":
            return Fe.undefined;
        case "string":
            return Fe.string;
        case "number":
            return isNaN(t) ? Fe.nan : Fe.number;
        case "boolean":
            return Fe.boolean;
        case "function":
            return Fe.function;
        case "bigint":
            return Fe.bigint;
        case "symbol":
            return Fe.symbol;
        case "object":
            return Array.isArray(t) ? Fe.array : t === null ? Fe.null : t.then && typeof t.then == "function" && t.catch && typeof t.catch == "function" ? Fe.promise : typeof Map < "u" && t instanceof Map ? Fe.map : typeof Set < "u" && t instanceof Set ? Fe.set : typeof Date < "u" && t instanceof Date ? Fe.date : Fe.object;
        default:
            return Fe.unknown
        }
    },
    Ce = kt.arrayToEnum(["invalid_type", "invalid_literal", "custom", "invalid_union", "invalid_union_discriminator", "invalid_enum_value", "unrecognized_keys", "invalid_arguments", "invalid_return_type", "invalid_date", "invalid_string", "too_small", "too_big", "invalid_intersection_types", "not_multiple_of", "not_finite"]),
    z9 = t => JSON.stringify(t, null, 2).replace(/"([^"]+)":/g, "$1:");
class hn extends Error {
    get errors()
    {
        return this.issues
    }
    constructor(s)
    {
        super(),
        this.issues = [],
        this.addIssue = n => {
            this.issues = [...this.issues, n]
        },
        this.addIssues = (n=[]) => {
            this.issues = [...this.issues, ...n]
        };
        const r = new.target.prototype;
        Object.setPrototypeOf ? Object.setPrototypeOf(this, r) : this.__proto__ = r,
        this.name = "ZodError",
        this.issues = s
    }
    format(s)
    {
        const r = s || function(i) {
                return i.message
            },
            n = {
                _errors: []
            },
            a = i => {
                for (const o of i.issues)
                    if (o.code === "invalid_union")
                        o.unionErrors.map(a);
                    else if (o.code === "invalid_return_type")
                        a(o.returnTypeError);
                    else if (o.code === "invalid_arguments")
                        a(o.argumentsError);
                    else if (o.path.length === 0)
                        n._errors.push(r(o));
                    else {
                        let l = n,
                            c = 0;
                        for (; c < o.path.length;) {
                            const d = o.path[c];
                            c === o.path.length - 1 ? (l[d] = l[d] || {
                                _errors: []
                            }, l[d]._errors.push(r(o))) : l[d] = l[d] || {
                                _errors: []
                            },
                            l = l[d],
                            c++
                        }
                    }
            };
        return a(this), n
    }
    static assert(s)
    {
        if (!(s instanceof hn))
            throw new Error(`Not a ZodError: ${s}`)
    }
    toString()
    {
        return this.message
    }
    get message()
    {
        return JSON.stringify(this.issues, kt.jsonStringifyReplacer, 2)
    }
    get isEmpty()
    {
        return this.issues.length === 0
    }
    flatten(s=r => r.message)
    {
        const r = {},
            n = [];
        for (const a of this.issues)
            a.path.length > 0 ? (r[a.path[0]] = r[a.path[0]] || [], r[a.path[0]].push(s(a))) : n.push(s(a));
        return {
            formErrors: n,
            fieldErrors: r
        }
    }
    get formErrors()
    {
        return this.flatten()
    }
}
hn.create = t => new hn(t);
const Fc = (t, s) => {
    let r;
    switch (t.code) {
    case Ce.invalid_type:
        t.received === Fe.undefined ? r = "Required" : r = `Expected ${t.expected}, received ${t.received}`;
        break;
    case Ce.invalid_literal:
        r = `Invalid literal value, expected ${JSON.stringify(t.expected, kt.jsonStringifyReplacer)}`;
        break;
    case Ce.unrecognized_keys:
        r = `Unrecognized key(s) in object: ${kt.joinValues(t.keys, ", ")}`;
        break;
    case Ce.invalid_union:
        r = "Invalid input";
        break;
    case Ce.invalid_union_discriminator:
        r = `Invalid discriminator value. Expected ${kt.joinValues(t.options)}`;
        break;
    case Ce.invalid_enum_value:
        r = `Invalid enum value. Expected ${kt.joinValues(t.options)}, received '${t.received}'`;
        break;
    case Ce.invalid_arguments:
        r = "Invalid function arguments";
        break;
    case Ce.invalid_return_type:
        r = "Invalid function return type";
        break;
    case Ce.invalid_date:
        r = "Invalid date";
        break;
    case Ce.invalid_string:
        typeof t.validation == "object" ? "includes" in t.validation ? (r = `Invalid input: must include "${t.validation.includes}"`, typeof t.validation.position == "number" && (r = `${r} at one or more positions greater than or equal to ${t.validation.position}`)) : "startsWith" in t.validation ? r = `Invalid input: must start with "${t.validation.startsWith}"` : "endsWith" in t.validation ? r = `Invalid input: must end with "${t.validation.endsWith}"` : kt.assertNever(t.validation) : t.validation !== "regex" ? r = `Invalid ${t.validation}` : r = "Invalid";
        break;
    case Ce.too_small:
        t.type === "array" ? r = `Array must contain ${t.exact ? "exactly" : t.inclusive ? "at least" : "more than"} ${t.minimum} element(s)` : t.type === "string" ? r = `String must contain ${t.exact ? "exactly" : t.inclusive ? "at least" : "over"} ${t.minimum} character(s)` : t.type === "number" ? r = `Number must be ${t.exact ? "exactly equal to " : t.inclusive ? "greater than or equal to " : "greater than "}${t.minimum}` : t.type === "date" ? r = `Date must be ${t.exact ? "exactly equal to " : t.inclusive ? "greater than or equal to " : "greater than "}${new Date(Number(t.minimum))}` : r = "Invalid input";
        break;
    case Ce.too_big:
        t.type === "array" ? r = `Array must contain ${t.exact ? "exactly" : t.inclusive ? "at most" : "less than"} ${t.maximum} element(s)` : t.type === "string" ? r = `String must contain ${t.exact ? "exactly" : t.inclusive ? "at most" : "under"} ${t.maximum} character(s)` : t.type === "number" ? r = `Number must be ${t.exact ? "exactly" : t.inclusive ? "less than or equal to" : "less than"} ${t.maximum}` : t.type === "bigint" ? r = `BigInt must be ${t.exact ? "exactly" : t.inclusive ? "less than or equal to" : "less than"} ${t.maximum}` : t.type === "date" ? r = `Date must be ${t.exact ? "exactly" : t.inclusive ? "smaller than or equal to" : "smaller than"} ${new Date(Number(t.maximum))}` : r = "Invalid input";
        break;
    case Ce.custom:
        r = "Invalid input";
        break;
    case Ce.invalid_intersection_types:
        r = "Intersection results could not be merged";
        break;
    case Ce.not_multiple_of:
        r = `Number must be a multiple of ${t.multipleOf}`;
        break;
    case Ce.not_finite:
        r = "Number must be finite";
        break;
    default:
        r = s.defaultError,
        kt.assertNever(t)
    }
    return {
        message: r
    }
};
let $T = Fc;
function $9(t) {
    $T = t
}
function Vp() {
    return $T
}
const Up = t => {
        const {data: s, path: r, errorMaps: n, issueData: a} = t,
            i = [...r, ...a.path || []],
            o = {
                ...a,
                path: i
            };
        if (a.message !== void 0)
            return {
                ...a,
                path: i,
                message: a.message
            };
        let l = "";
        const c = n.filter(d => !!d).slice().reverse();
        for (const d of c)
            l = d(o, {
                data: s,
                defaultError: l
            }).message;
        return {
            ...a,
            path: i,
            message: l
        }
    },
    V9 = [];
function Ie(t, s) {
    const r = Vp(),
        n = Up({
            issueData: s,
            data: t.data,
            path: t.path,
            errorMaps: [t.common.contextualErrorMap, t.schemaErrorMap, r, r === Fc ? void 0 : Fc].filter(a => !!a)
        });
    t.common.issues.push(n)
}
class hr {
    constructor()
    {
        this.value = "valid"
    }
    dirty()
    {
        this.value === "valid" && (this.value = "dirty")
    }
    abort()
    {
        this.value !== "aborted" && (this.value = "aborted")
    }
    static mergeArray(s, r)
    {
        const n = [];
        for (const a of r) {
            if (a.status === "aborted")
                return ot;
            a.status === "dirty" && s.dirty(),
            n.push(a.value)
        }
        return {
            status: s.value,
            value: n
        }
    }
    static async mergeObjectAsync(s, r)
    {
        const n = [];
        for (const a of r) {
            const i = await a.key,
                o = await a.value;
            n.push({
                key: i,
                value: o
            })
        }
        return hr.mergeObjectSync(s, n)
    }
    static mergeObjectSync(s, r)
    {
        const n = {};
        for (const a of r) {
            const {key: i, value: o} = a;
            if (i.status === "aborted" || o.status === "aborted")
                return ot;
            i.status === "dirty" && s.dirty(),
            o.status === "dirty" && s.dirty(),
            i.value !== "__proto__" && (typeof o.value < "u" || a.alwaysSet) && (n[i.value] = o.value)
        }
        return {
            status: s.value,
            value: n
        }
    }
}
const ot = Object.freeze({
        status: "aborted"
    }),
    Gl = t => ({
        status: "dirty",
        value: t
    }),
    Pr = t => ({
        status: "valid",
        value: t
    }),
    fy = t => t.status === "aborted",
    xy = t => t.status === "dirty",
    ml = t => t.status === "valid",
    Ou = t => typeof Promise < "u" && t instanceof Promise;
function qp(t, s, r, n) {
    if (typeof s == "function" ? t !== s || !n : !s.has(t))
        throw new TypeError("Cannot read private member from an object whose class did not declare it");
    return s.get(t)
}
function VT(t, s, r, n, a) {
    if (typeof s == "function" ? t !== s || !a : !s.has(t))
        throw new TypeError("Cannot write private member to an object whose class did not declare it");
    return s.set(t, r), r
}
var Ye;
(function(t) {
    t.errToObj = s => typeof s == "string" ? {
        message: s
    } : s || {},
    t.toString = s => typeof s == "string" ? s : s == null ? void 0 : s.message
})(Ye || (Ye = {}));
var Fd,
    zd;
class Ta {
    constructor(s, r, n, a)
    {
        this._cachedPath = [],
        this.parent = s,
        this.data = r,
        this._path = n,
        this._key = a
    }
    get path()
    {
        return this._cachedPath.length || (this._key instanceof Array ? this._cachedPath.push(...this._path, ...this._key) : this._cachedPath.push(...this._path, this._key)), this._cachedPath
    }
}
const y1 = (t, s) => {
    if (ml(s))
        return {
            success: !0,
            data: s.value
        };
    if (!t.common.issues.length)
        throw new Error("Validation failed but no issues detected.");
    return {
        success: !1,
        get error() {
            if (this._error)
                return this._error;
            const r = new hn(t.common.issues);
            return this._error = r, this._error
        }
    }
};
function pt(t) {
    if (!t)
        return {};
    const {errorMap: s, invalid_type_error: r, required_error: n, description: a} = t;
    if (s && (r || n))
        throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);
    return s ? {
        errorMap: s,
        description: a
    } : {
        errorMap: (o, l) => {
            var c,
                d;
            const {message: u} = t;
            return o.code === "invalid_enum_value" ? {
                message: u ?? l.defaultError
            } : typeof l.data > "u" ? {
                message: (c = u ?? n) !== null && c !== void 0 ? c : l.defaultError
            } : o.code !== "invalid_type" ? {
                message: l.defaultError
            } : {
                message: (d = u ?? r) !== null && d !== void 0 ? d : l.defaultError
            }
        },
        description: a
    }
}
class bt {
    get description()
    {
        return this._def.description
    }
    _getType(s)
    {
        return Ka(s.data)
    }
    _getOrReturnCtx(s, r)
    {
        return r || {
                common: s.parent.common,
                data: s.data,
                parsedType: Ka(s.data),
                schemaErrorMap: this._def.errorMap,
                path: s.path,
                parent: s.parent
            }
    }
    _processInputParams(s)
    {
        return {
            status: new hr,
            ctx: {
                common: s.parent.common,
                data: s.data,
                parsedType: Ka(s.data),
                schemaErrorMap: this._def.errorMap,
                path: s.path,
                parent: s.parent
            }
        }
    }
    _parseSync(s)
    {
        const r = this._parse(s);
        if (Ou(r))
            throw new Error("Synchronous parse encountered promise.");
        return r
    }
    _parseAsync(s)
    {
        const r = this._parse(s);
        return Promise.resolve(r)
    }
    parse(s, r)
    {
        const n = this.safeParse(s, r);
        if (n.success)
            return n.data;
        throw n.error
    }
    safeParse(s, r)
    {
        var n;
        const a = {
                common: {
                    issues: [],
                    async: (n = r == null ? void 0 : r.async) !== null && n !== void 0 ? n : !1,
                    contextualErrorMap: r == null ? void 0 : r.errorMap
                },
                path: (r == null ? void 0 : r.path) || [],
                schemaErrorMap: this._def.errorMap,
                parent: null,
                data: s,
                parsedType: Ka(s)
            },
            i = this._parseSync({
                data: s,
                path: a.path,
                parent: a
            });
        return y1(a, i)
    }
    "~validate"(s)
    {
        var r,
            n;
        const a = {
            common: {
                issues: [],
                async: !!this["~standard"].async
            },
            path: [],
            schemaErrorMap: this._def.errorMap,
            parent: null,
            data: s,
            parsedType: Ka(s)
        };
        if (!this["~standard"].async)
            try {
                const i = this._parseSync({
                    data: s,
                    path: [],
                    parent: a
                });
                return ml(i) ? {
                    value: i.value
                } : {
                    issues: a.common.issues
                }
            } catch (i) {
                !((n = (r = i == null ? void 0 : i.message) === null || r === void 0 ? void 0 : r.toLowerCase()) === null || n === void 0) && n.includes("encountered") && (this["~standard"].async = !0),
                a.common = {
                    issues: [],
                    async: !0
                }
            }
        return this._parseAsync({
            data: s,
            path: [],
            parent: a
        }).then(i => ml(i) ? {
            value: i.value
        } : {
            issues: a.common.issues
        })
    }
    async parseAsync(s, r)
    {
        const n = await this.safeParseAsync(s, r);
        if (n.success)
            return n.data;
        throw n.error
    }
    async safeParseAsync(s, r)
    {
        const n = {
                common: {
                    issues: [],
                    contextualErrorMap: r == null ? void 0 : r.errorMap,
                    async: !0
                },
                path: (r == null ? void 0 : r.path) || [],
                schemaErrorMap: this._def.errorMap,
                parent: null,
                data: s,
                parsedType: Ka(s)
            },
            a = this._parse({
                data: s,
                path: n.path,
                parent: n
            }),
            i = await (Ou(a) ? a : Promise.resolve(a));
        return y1(n, i)
    }
    refine(s, r)
    {
        const n = a => typeof r == "string" || typeof r > "u" ? {
            message: r
        } : typeof r == "function" ? r(a) : r;
        return this._refinement((a, i) => {
            const o = s(a),
                l = () => i.addIssue({
                    code: Ce.custom,
                    ...n(a)
                });
            return typeof Promise < "u" && o instanceof Promise ? o.then(c => c ? !0 : (l(), !1)) : o ? !0 : (l(), !1)
        })
    }
    refinement(s, r)
    {
        return this._refinement((n, a) => s(n) ? !0 : (a.addIssue(typeof r == "function" ? r(n, a) : r), !1))
    }
    _refinement(s)
    {
        return new ta({
            schema: this,
            typeName: at.ZodEffects,
            effect: {
                type: "refinement",
                refinement: s
            }
        })
    }
    superRefine(s)
    {
        return this._refinement(s)
    }
    constructor(s)
    {
        this.spa = this.safeParseAsync,
        this._def = s,
        this.parse = this.parse.bind(this),
        this.safeParse = this.safeParse.bind(this),
        this.parseAsync = this.parseAsync.bind(this),
        this.safeParseAsync = this.safeParseAsync.bind(this),
        this.spa = this.spa.bind(this),
        this.refine = this.refine.bind(this),
        this.refinement = this.refinement.bind(this),
        this.superRefine = this.superRefine.bind(this),
        this.optional = this.optional.bind(this),
        this.nullable = this.nullable.bind(this),
        this.nullish = this.nullish.bind(this),
        this.array = this.array.bind(this),
        this.promise = this.promise.bind(this),
        this.or = this.or.bind(this),
        this.and = this.and.bind(this),
        this.transform = this.transform.bind(this),
        this.brand = this.brand.bind(this),
        this.default = this.default.bind(this),
        this.catch = this.catch.bind(this),
        this.describe = this.describe.bind(this),
        this.pipe = this.pipe.bind(this),
        this.readonly = this.readonly.bind(this),
        this.isNullable = this.isNullable.bind(this),
        this.isOptional = this.isOptional.bind(this),
        this["~standard"] = {
            version: 1,
            vendor: "zod",
            validate: r => this["~validate"](r)
        }
    }
    optional()
    {
        return Sa.create(this, this._def)
    }
    nullable()
    {
        return vo.create(this, this._def)
    }
    nullish()
    {
        return this.nullable().optional()
    }
    array()
    {
        return Qn.create(this)
    }
    promise()
    {
        return $c.create(this, this._def)
    }
    or(s)
    {
        return $u.create([this, s], this._def)
    }
    and(s)
    {
        return Vu.create(this, s, this._def)
    }
    transform(s)
    {
        return new ta({
            ...pt(this._def),
            schema: this,
            typeName: at.ZodEffects,
            effect: {
                type: "transform",
                transform: s
            }
        })
    }
    default(s)
    {
        const r = typeof s == "function" ? s : () => s;
        return new Wu({
            ...pt(this._def),
            innerType: this,
            defaultValue: r,
            typeName: at.ZodDefault
        })
    }
    brand()
    {
        return new B0({
            typeName: at.ZodBranded,
            type: this,
            ...pt(this._def)
        })
    }
    catch(s)
    {
        const r = typeof s == "function" ? s : () => s;
        return new Gu({
            ...pt(this._def),
            innerType: this,
            catchValue: r,
            typeName: at.ZodCatch
        })
    }
    describe(s)
    {
        const r = this.constructor;
        return new r({
            ...this._def,
            description: s
        })
    }
    pipe(s)
    {
        return Pm.create(this, s)
    }
    readonly()
    {
        return Ku.create(this)
    }
    isOptional()
    {
        return this.safeParse(void 0).success
    }
    isNullable()
    {
        return this.safeParse(null).success
    }
}
const U9 = /^c[^\s-]{8,}$/i,
    q9 = /^[0-9a-z]+$/,
    B9 = /^[0-9A-HJKMNP-TV-Z]{26}$/i,
    H9 = /^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,
    W9 = /^[a-z0-9_-]{21}$/i,
    G9 = /^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,
    K9 = /^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,
    Y9 = /^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,
    Q9 = "^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";
let gg;
const Z9 = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,
    X9 = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,
    J9 = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,
    e7 = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,
    t7 = /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,
    s7 = /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,
    UT = "((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",
    r7 = new RegExp(`^${UT}$`);
function qT(t) {
    let s = "([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";
    return t.precision ? s = `${s}\\.\\d{${t.precision}}` : t.precision == null && (s = `${s}(\\.\\d+)?`), s
}
function n7(t) {
    return new RegExp(`^${qT(t)}$`)
}
function BT(t) {
    let s = `${UT}T${qT(t)}`;
    const r = [];
    return r.push(t.local ? "Z?" : "Z"), t.offset && r.push("([+-]\\d{2}:?\\d{2})"), s = `${s}(${r.join("|")})`, new RegExp(`^${s}$`)
}
function a7(t, s) {
    return !!((s === "v4" || !s) && Z9.test(t) || (s === "v6" || !s) && J9.test(t))
}
function i7(t, s) {
    if (!G9.test(t))
        return !1;
    try {
        const [r] = t.split("."),
            n = r.replace(/-/g, "+").replace(/_/g, "/").padEnd(r.length + (4 - r.length % 4) % 4, "="),
            a = JSON.parse(atob(n));
        return !(typeof a != "object" || a === null || !a.typ || !a.alg || s && a.alg !== s)
    } catch {
        return !1
    }
}
function o7(t, s) {
    return !!((s === "v4" || !s) && X9.test(t) || (s === "v6" || !s) && e7.test(t))
}
class Bn extends bt {
    _parse(s)
    {
        if (this._def.coerce && (s.data = String(s.data)), this._getType(s) !== Fe.string) {
            const i = this._getOrReturnCtx(s);
            return Ie(i, {
                code: Ce.invalid_type,
                expected: Fe.string,
                received: i.parsedType
            }), ot
        }
        const n = new hr;
        let a;
        for (const i of this._def.checks)
            if (i.kind === "min")
                s.data.length < i.value && (a = this._getOrReturnCtx(s, a), Ie(a, {
                    code: Ce.too_small,
                    minimum: i.value,
                    type: "string",
                    inclusive: !0,
                    exact: !1,
                    message: i.message
                }), n.dirty());
            else if (i.kind === "max")
                s.data.length > i.value && (a = this._getOrReturnCtx(s, a), Ie(a, {
                    code: Ce.too_big,
                    maximum: i.value,
                    type: "string",
                    inclusive: !0,
                    exact: !1,
                    message: i.message
                }), n.dirty());
            else if (i.kind === "length") {
                const o = s.data.length > i.value,
                    l = s.data.length < i.value;
                (o || l) && (a = this._getOrReturnCtx(s, a), o ? Ie(a, {
                    code: Ce.too_big,
                    maximum: i.value,
                    type: "string",
                    inclusive: !0,
                    exact: !0,
                    message: i.message
                }) : l && Ie(a, {
                    code: Ce.too_small,
                    minimum: i.value,
                    type: "string",
                    inclusive: !0,
                    exact: !0,
                    message: i.message
                }), n.dirty())
            } else if (i.kind === "email")
                Y9.test(s.data) || (a = this._getOrReturnCtx(s, a), Ie(a, {
                    validation: "email",
                    code: Ce.invalid_string,
                    message: i.message
                }), n.dirty());
            else if (i.kind === "emoji")
                gg || (gg = new RegExp(Q9, "u")),
                gg.test(s.data) || (a = this._getOrReturnCtx(s, a), Ie(a, {
                    validation: "emoji",
                    code: Ce.invalid_string,
                    message: i.message
                }), n.dirty());
            else if (i.kind === "uuid")
                H9.test(s.data) || (a = this._getOrReturnCtx(s, a), Ie(a, {
                    validation: "uuid",
                    code: Ce.invalid_string,
                    message: i.message
                }), n.dirty());
            else if (i.kind === "nanoid")
                W9.test(s.data) || (a = this._getOrReturnCtx(s, a), Ie(a, {
                    validation: "nanoid",
                    code: Ce.invalid_string,
                    message: i.message
                }), n.dirty());
            else if (i.kind === "cuid")
                U9.test(s.data) || (a = this._getOrReturnCtx(s, a), Ie(a, {
                    validation: "cuid",
                    code: Ce.invalid_string,
                    message: i.message
                }), n.dirty());
            else if (i.kind === "cuid2")
                q9.test(s.data) || (a = this._getOrReturnCtx(s, a), Ie(a, {
                    validation: "cuid2",
                    code: Ce.invalid_string,
                    message: i.message
                }), n.dirty());
            else if (i.kind === "ulid")
                B9.test(s.data) || (a = this._getOrReturnCtx(s, a), Ie(a, {
                    validation: "ulid",
                    code: Ce.invalid_string,
                    message: i.message
                }), n.dirty());
            else if (i.kind === "url")
                try {
                    new URL(s.data)
                } catch {
                    a = this._getOrReturnCtx(s, a),
                    Ie(a, {
                        validation: "url",
                        code: Ce.invalid_string,
                        message: i.message
                    }),
                    n.dirty()
                }
            else
                i.kind === "regex" ? (i.regex.lastIndex = 0, i.regex.test(s.data) || (a = this._getOrReturnCtx(s, a), Ie(a, {
                    validation: "regex",
                    code: Ce.invalid_string,
                    message: i.message
                }), n.dirty())) : i.kind === "trim" ? s.data = s.data.trim() : i.kind === "includes" ? s.data.includes(i.value, i.position) || (a = this._getOrReturnCtx(s, a), Ie(a, {
                    code: Ce.invalid_string,
                    validation: {
                        includes: i.value,
                        position: i.position
                    },
                    message: i.message
                }), n.dirty()) : i.kind === "toLowerCase" ? s.data = s.data.toLowerCase() : i.kind === "toUpperCase" ? s.data = s.data.toUpperCase() : i.kind === "startsWith" ? s.data.startsWith(i.value) || (a = this._getOrReturnCtx(s, a), Ie(a, {
                    code: Ce.invalid_string,
                    validation: {
                        startsWith: i.value
                    },
                    message: i.message
                }), n.dirty()) : i.kind === "endsWith" ? s.data.endsWith(i.value) || (a = this._getOrReturnCtx(s, a), Ie(a, {
                    code: Ce.invalid_string,
                    validation: {
                        endsWith: i.value
                    },
                    message: i.message
                }), n.dirty()) : i.kind === "datetime" ? BT(i).test(s.data) || (a = this._getOrReturnCtx(s, a), Ie(a, {
                    code: Ce.invalid_string,
                    validation: "datetime",
                    message: i.message
                }), n.dirty()) : i.kind === "date" ? r7.test(s.data) || (a = this._getOrReturnCtx(s, a), Ie(a, {
                    code: Ce.invalid_string,
                    validation: "date",
                    message: i.message
                }), n.dirty()) : i.kind === "time" ? n7(i).test(s.data) || (a = this._getOrReturnCtx(s, a), Ie(a, {
                    code: Ce.invalid_string,
                    validation: "time",
                    message: i.message
                }), n.dirty()) : i.kind === "duration" ? K9.test(s.data) || (a = this._getOrReturnCtx(s, a), Ie(a, {
                    validation: "duration",
                    code: Ce.invalid_string,
                    message: i.message
                }), n.dirty()) : i.kind === "ip" ? a7(s.data, i.version) || (a = this._getOrReturnCtx(s, a), Ie(a, {
                    validation: "ip",
                    code: Ce.invalid_string,
                    message: i.message
                }), n.dirty()) : i.kind === "jwt" ? i7(s.data, i.alg) || (a = this._getOrReturnCtx(s, a), Ie(a, {
                    validation: "jwt",
                    code: Ce.invalid_string,
                    message: i.message
                }), n.dirty()) : i.kind === "cidr" ? o7(s.data, i.version) || (a = this._getOrReturnCtx(s, a), Ie(a, {
                    validation: "cidr",
                    code: Ce.invalid_string,
                    message: i.message
                }), n.dirty()) : i.kind === "base64" ? t7.test(s.data) || (a = this._getOrReturnCtx(s, a), Ie(a, {
                    validation: "base64",
                    code: Ce.invalid_string,
                    message: i.message
                }), n.dirty()) : i.kind === "base64url" ? s7.test(s.data) || (a = this._getOrReturnCtx(s, a), Ie(a, {
                    validation: "base64url",
                    code: Ce.invalid_string,
                    message: i.message
                }), n.dirty()) : kt.assertNever(i);
        return {
            status: n.value,
            value: s.data
        }
    }
    _regex(s, r, n)
    {
        return this.refinement(a => s.test(a), {
            validation: r,
            code: Ce.invalid_string,
            ...Ye.errToObj(n)
        })
    }
    _addCheck(s)
    {
        return new Bn({
            ...this._def,
            checks: [...this._def.checks, s]
        })
    }
    email(s)
    {
        return this._addCheck({
            kind: "email",
            ...Ye.errToObj(s)
        })
    }
    url(s)
    {
        return this._addCheck({
            kind: "url",
            ...Ye.errToObj(s)
        })
    }
    emoji(s)
    {
        return this._addCheck({
            kind: "emoji",
            ...Ye.errToObj(s)
        })
    }
    uuid(s)
    {
        return this._addCheck({
            kind: "uuid",
            ...Ye.errToObj(s)
        })
    }
    nanoid(s)
    {
        return this._addCheck({
            kind: "nanoid",
            ...Ye.errToObj(s)
        })
    }
    cuid(s)
    {
        return this._addCheck({
            kind: "cuid",
            ...Ye.errToObj(s)
        })
    }
    cuid2(s)
    {
        return this._addCheck({
            kind: "cuid2",
            ...Ye.errToObj(s)
        })
    }
    ulid(s)
    {
        return this._addCheck({
            kind: "ulid",
            ...Ye.errToObj(s)
        })
    }
    base64(s)
    {
        return this._addCheck({
            kind: "base64",
            ...Ye.errToObj(s)
        })
    }
    base64url(s)
    {
        return this._addCheck({
            kind: "base64url",
            ...Ye.errToObj(s)
        })
    }
    jwt(s)
    {
        return this._addCheck({
            kind: "jwt",
            ...Ye.errToObj(s)
        })
    }
    ip(s)
    {
        return this._addCheck({
            kind: "ip",
            ...Ye.errToObj(s)
        })
    }
    cidr(s)
    {
        return this._addCheck({
            kind: "cidr",
            ...Ye.errToObj(s)
        })
    }
    datetime(s)
    {
        var r,
            n;
        return typeof s == "string" ? this._addCheck({
            kind: "datetime",
            precision: null,
            offset: !1,
            local: !1,
            message: s
        }) : this._addCheck({
            kind: "datetime",
            precision: typeof (s == null ? void 0 : s.precision) > "u" ? null : s == null ? void 0 : s.precision,
            offset: (r = s == null ? void 0 : s.offset) !== null && r !== void 0 ? r : !1,
            local: (n = s == null ? void 0 : s.local) !== null && n !== void 0 ? n : !1,
            ...Ye.errToObj(s == null ? void 0 : s.message)
        })
    }
    date(s)
    {
        return this._addCheck({
            kind: "date",
            message: s
        })
    }
    time(s)
    {
        return typeof s == "string" ? this._addCheck({
            kind: "time",
            precision: null,
            message: s
        }) : this._addCheck({
            kind: "time",
            precision: typeof (s == null ? void 0 : s.precision) > "u" ? null : s == null ? void 0 : s.precision,
            ...Ye.errToObj(s == null ? void 0 : s.message)
        })
    }
    duration(s)
    {
        return this._addCheck({
            kind: "duration",
            ...Ye.errToObj(s)
        })
    }
    regex(s, r)
    {
        return this._addCheck({
            kind: "regex",
            regex: s,
            ...Ye.errToObj(r)
        })
    }
    includes(s, r)
    {
        return this._addCheck({
            kind: "includes",
            value: s,
            position: r == null ? void 0 : r.position,
            ...Ye.errToObj(r == null ? void 0 : r.message)
        })
    }
    startsWith(s, r)
    {
        return this._addCheck({
            kind: "startsWith",
            value: s,
            ...Ye.errToObj(r)
        })
    }
    endsWith(s, r)
    {
        return this._addCheck({
            kind: "endsWith",
            value: s,
            ...Ye.errToObj(r)
        })
    }
    min(s, r)
    {
        return this._addCheck({
            kind: "min",
            value: s,
            ...Ye.errToObj(r)
        })
    }
    max(s, r)
    {
        return this._addCheck({
            kind: "max",
            value: s,
            ...Ye.errToObj(r)
        })
    }
    length(s, r)
    {
        return this._addCheck({
            kind: "length",
            value: s,
            ...Ye.errToObj(r)
        })
    }
    nonempty(s)
    {
        return this.min(1, Ye.errToObj(s))
    }
    trim()
    {
        return new Bn({
            ...this._def,
            checks: [...this._def.checks, {
                kind: "trim"
            }]
        })
    }
    toLowerCase()
    {
        return new Bn({
            ...this._def,
            checks: [...this._def.checks, {
                kind: "toLowerCase"
            }]
        })
    }
    toUpperCase()
    {
        return new Bn({
            ...this._def,
            checks: [...this._def.checks, {
                kind: "toUpperCase"
            }]
        })
    }
    get isDatetime()
    {
        return !!this._def.checks.find(s => s.kind === "datetime")
    }
    get isDate()
    {
        return !!this._def.checks.find(s => s.kind === "date")
    }
    get isTime()
    {
        return !!this._def.checks.find(s => s.kind === "time")
    }
    get isDuration()
    {
        return !!this._def.checks.find(s => s.kind === "duration")
    }
    get isEmail()
    {
        return !!this._def.checks.find(s => s.kind === "email")
    }
    get isURL()
    {
        return !!this._def.checks.find(s => s.kind === "url")
    }
    get isEmoji()
    {
        return !!this._def.checks.find(s => s.kind === "emoji")
    }
    get isUUID()
    {
        return !!this._def.checks.find(s => s.kind === "uuid")
    }
    get isNANOID()
    {
        return !!this._def.checks.find(s => s.kind === "nanoid")
    }
    get isCUID()
    {
        return !!this._def.checks.find(s => s.kind === "cuid")
    }
    get isCUID2()
    {
        return !!this._def.checks.find(s => s.kind === "cuid2")
    }
    get isULID()
    {
        return !!this._def.checks.find(s => s.kind === "ulid")
    }
    get isIP()
    {
        return !!this._def.checks.find(s => s.kind === "ip")
    }
    get isCIDR()
    {
        return !!this._def.checks.find(s => s.kind === "cidr")
    }
    get isBase64()
    {
        return !!this._def.checks.find(s => s.kind === "base64")
    }
    get isBase64url()
    {
        return !!this._def.checks.find(s => s.kind === "base64url")
    }
    get minLength()
    {
        let s = null;
        for (const r of this._def.checks)
            r.kind === "min" && (s === null || r.value > s) && (s = r.value);
        return s
    }
    get maxLength()
    {
        let s = null;
        for (const r of this._def.checks)
            r.kind === "max" && (s === null || r.value < s) && (s = r.value);
        return s
    }
}
Bn.create = t => {
    var s;
    return new Bn({
        checks: [],
        typeName: at.ZodString,
        coerce: (s = t == null ? void 0 : t.coerce) !== null && s !== void 0 ? s : !1,
        ...pt(t)
    })
};
function l7(t, s) {
    const r = (t.toString().split(".")[1] || "").length,
        n = (s.toString().split(".")[1] || "").length,
        a = r > n ? r : n,
        i = parseInt(t.toFixed(a).replace(".", "")),
        o = parseInt(s.toFixed(a).replace(".", ""));
    return i % o / Math.pow(10, a)
}
class fo extends bt {
    constructor()
    {
        super(...arguments),
        this.min = this.gte,
        this.max = this.lte,
        this.step = this.multipleOf
    }
    _parse(s)
    {
        if (this._def.coerce && (s.data = Number(s.data)), this._getType(s) !== Fe.number) {
            const i = this._getOrReturnCtx(s);
            return Ie(i, {
                code: Ce.invalid_type,
                expected: Fe.number,
                received: i.parsedType
            }), ot
        }
        let n;
        const a = new hr;
        for (const i of this._def.checks)
            i.kind === "int" ? kt.isInteger(s.data) || (n = this._getOrReturnCtx(s, n), Ie(n, {
                code: Ce.invalid_type,
                expected: "integer",
                received: "float",
                message: i.message
            }), a.dirty()) : i.kind === "min" ? (i.inclusive ? s.data < i.value : s.data <= i.value) && (n = this._getOrReturnCtx(s, n), Ie(n, {
                code: Ce.too_small,
                minimum: i.value,
                type: "number",
                inclusive: i.inclusive,
                exact: !1,
                message: i.message
            }), a.dirty()) : i.kind === "max" ? (i.inclusive ? s.data > i.value : s.data >= i.value) && (n = this._getOrReturnCtx(s, n), Ie(n, {
                code: Ce.too_big,
                maximum: i.value,
                type: "number",
                inclusive: i.inclusive,
                exact: !1,
                message: i.message
            }), a.dirty()) : i.kind === "multipleOf" ? l7(s.data, i.value) !== 0 && (n = this._getOrReturnCtx(s, n), Ie(n, {
                code: Ce.not_multiple_of,
                multipleOf: i.value,
                message: i.message
            }), a.dirty()) : i.kind === "finite" ? Number.isFinite(s.data) || (n = this._getOrReturnCtx(s, n), Ie(n, {
                code: Ce.not_finite,
                message: i.message
            }), a.dirty()) : kt.assertNever(i);
        return {
            status: a.value,
            value: s.data
        }
    }
    gte(s, r)
    {
        return this.setLimit("min", s, !0, Ye.toString(r))
    }
    gt(s, r)
    {
        return this.setLimit("min", s, !1, Ye.toString(r))
    }
    lte(s, r)
    {
        return this.setLimit("max", s, !0, Ye.toString(r))
    }
    lt(s, r)
    {
        return this.setLimit("max", s, !1, Ye.toString(r))
    }
    setLimit(s, r, n, a)
    {
        return new fo({
            ...this._def,
            checks: [...this._def.checks, {
                kind: s,
                value: r,
                inclusive: n,
                message: Ye.toString(a)
            }]
        })
    }
    _addCheck(s)
    {
        return new fo({
            ...this._def,
            checks: [...this._def.checks, s]
        })
    }
    int(s)
    {
        return this._addCheck({
            kind: "int",
            message: Ye.toString(s)
        })
    }
    positive(s)
    {
        return this._addCheck({
            kind: "min",
            value: 0,
            inclusive: !1,
            message: Ye.toString(s)
        })
    }
    negative(s)
    {
        return this._addCheck({
            kind: "max",
            value: 0,
            inclusive: !1,
            message: Ye.toString(s)
        })
    }
    nonpositive(s)
    {
        return this._addCheck({
            kind: "max",
            value: 0,
            inclusive: !0,
            message: Ye.toString(s)
        })
    }
    nonnegative(s)
    {
        return this._addCheck({
            kind: "min",
            value: 0,
            inclusive: !0,
            message: Ye.toString(s)
        })
    }
    multipleOf(s, r)
    {
        return this._addCheck({
            kind: "multipleOf",
            value: s,
            message: Ye.toString(r)
        })
    }
    finite(s)
    {
        return this._addCheck({
            kind: "finite",
            message: Ye.toString(s)
        })
    }
    safe(s)
    {
        return this._addCheck({
            kind: "min",
            inclusive: !0,
            value: Number.MIN_SAFE_INTEGER,
            message: Ye.toString(s)
        })._addCheck({
            kind: "max",
            inclusive: !0,
            value: Number.MAX_SAFE_INTEGER,
            message: Ye.toString(s)
        })
    }
    get minValue()
    {
        let s = null;
        for (const r of this._def.checks)
            r.kind === "min" && (s === null || r.value > s) && (s = r.value);
        return s
    }
    get maxValue()
    {
        let s = null;
        for (const r of this._def.checks)
            r.kind === "max" && (s === null || r.value < s) && (s = r.value);
        return s
    }
    get isInt()
    {
        return !!this._def.checks.find(s => s.kind === "int" || s.kind === "multipleOf" && kt.isInteger(s.value))
    }
    get isFinite()
    {
        let s = null,
            r = null;
        for (const n of this._def.checks) {
            if (n.kind === "finite" || n.kind === "int" || n.kind === "multipleOf")
                return !0;
            n.kind === "min" ? (r === null || n.value > r) && (r = n.value) : n.kind === "max" && (s === null || n.value < s) && (s = n.value)
        }
        return Number.isFinite(r) && Number.isFinite(s)
    }
}
fo.create = t => new fo({
    checks: [],
    typeName: at.ZodNumber,
    coerce: (t == null ? void 0 : t.coerce) || !1,
    ...pt(t)
});
class xo extends bt {
    constructor()
    {
        super(...arguments),
        this.min = this.gte,
        this.max = this.lte
    }
    _parse(s)
    {
        if (this._def.coerce)
            try {
                s.data = BigInt(s.data)
            } catch {
                return this._getInvalidInput(s)
            }
        if (this._getType(s) !== Fe.bigint)
            return this._getInvalidInput(s);
        let n;
        const a = new hr;
        for (const i of this._def.checks)
            i.kind === "min" ? (i.inclusive ? s.data < i.value : s.data <= i.value) && (n = this._getOrReturnCtx(s, n), Ie(n, {
                code: Ce.too_small,
                type: "bigint",
                minimum: i.value,
                inclusive: i.inclusive,
                message: i.message
            }), a.dirty()) : i.kind === "max" ? (i.inclusive ? s.data > i.value : s.data >= i.value) && (n = this._getOrReturnCtx(s, n), Ie(n, {
                code: Ce.too_big,
                type: "bigint",
                maximum: i.value,
                inclusive: i.inclusive,
                message: i.message
            }), a.dirty()) : i.kind === "multipleOf" ? s.data % i.value !== BigInt(0) && (n = this._getOrReturnCtx(s, n), Ie(n, {
                code: Ce.not_multiple_of,
                multipleOf: i.value,
                message: i.message
            }), a.dirty()) : kt.assertNever(i);
        return {
            status: a.value,
            value: s.data
        }
    }
    _getInvalidInput(s)
    {
        const r = this._getOrReturnCtx(s);
        return Ie(r, {
            code: Ce.invalid_type,
            expected: Fe.bigint,
            received: r.parsedType
        }), ot
    }
    gte(s, r)
    {
        return this.setLimit("min", s, !0, Ye.toString(r))
    }
    gt(s, r)
    {
        return this.setLimit("min", s, !1, Ye.toString(r))
    }
    lte(s, r)
    {
        return this.setLimit("max", s, !0, Ye.toString(r))
    }
    lt(s, r)
    {
        return this.setLimit("max", s, !1, Ye.toString(r))
    }
    setLimit(s, r, n, a)
    {
        return new xo({
            ...this._def,
            checks: [...this._def.checks, {
                kind: s,
                value: r,
                inclusive: n,
                message: Ye.toString(a)
            }]
        })
    }
    _addCheck(s)
    {
        return new xo({
            ...this._def,
            checks: [...this._def.checks, s]
        })
    }
    positive(s)
    {
        return this._addCheck({
            kind: "min",
            value: BigInt(0),
            inclusive: !1,
            message: Ye.toString(s)
        })
    }
    negative(s)
    {
        return this._addCheck({
            kind: "max",
            value: BigInt(0),
            inclusive: !1,
            message: Ye.toString(s)
        })
    }
    nonpositive(s)
    {
        return this._addCheck({
            kind: "max",
            value: BigInt(0),
            inclusive: !0,
            message: Ye.toString(s)
        })
    }
    nonnegative(s)
    {
        return this._addCheck({
            kind: "min",
            value: BigInt(0),
            inclusive: !0,
            message: Ye.toString(s)
        })
    }
    multipleOf(s, r)
    {
        return this._addCheck({
            kind: "multipleOf",
            value: s,
            message: Ye.toString(r)
        })
    }
    get minValue()
    {
        let s = null;
        for (const r of this._def.checks)
            r.kind === "min" && (s === null || r.value > s) && (s = r.value);
        return s
    }
    get maxValue()
    {
        let s = null;
        for (const r of this._def.checks)
            r.kind === "max" && (s === null || r.value < s) && (s = r.value);
        return s
    }
}
xo.create = t => {
    var s;
    return new xo({
        checks: [],
        typeName: at.ZodBigInt,
        coerce: (s = t == null ? void 0 : t.coerce) !== null && s !== void 0 ? s : !1,
        ...pt(t)
    })
};
class Lu extends bt {
    _parse(s)
    {
        if (this._def.coerce && (s.data = !!s.data), this._getType(s) !== Fe.boolean) {
            const n = this._getOrReturnCtx(s);
            return Ie(n, {
                code: Ce.invalid_type,
                expected: Fe.boolean,
                received: n.parsedType
            }), ot
        }
        return Pr(s.data)
    }
}
Lu.create = t => new Lu({
    typeName: at.ZodBoolean,
    coerce: (t == null ? void 0 : t.coerce) || !1,
    ...pt(t)
});
class hl extends bt {
    _parse(s)
    {
        if (this._def.coerce && (s.data = new Date(s.data)), this._getType(s) !== Fe.date) {
            const i = this._getOrReturnCtx(s);
            return Ie(i, {
                code: Ce.invalid_type,
                expected: Fe.date,
                received: i.parsedType
            }), ot
        }
        if (isNaN(s.data.getTime())) {
            const i = this._getOrReturnCtx(s);
            return Ie(i, {
                code: Ce.invalid_date
            }), ot
        }
        const n = new hr;
        let a;
        for (const i of this._def.checks)
            i.kind === "min" ? s.data.getTime() < i.value && (a = this._getOrReturnCtx(s, a), Ie(a, {
                code: Ce.too_small,
                message: i.message,
                inclusive: !0,
                exact: !1,
                minimum: i.value,
                type: "date"
            }), n.dirty()) : i.kind === "max" ? s.data.getTime() > i.value && (a = this._getOrReturnCtx(s, a), Ie(a, {
                code: Ce.too_big,
                message: i.message,
                inclusive: !0,
                exact: !1,
                maximum: i.value,
                type: "date"
            }), n.dirty()) : kt.assertNever(i);
        return {
            status: n.value,
            value: new Date(s.data.getTime())
        }
    }
    _addCheck(s)
    {
        return new hl({
            ...this._def,
            checks: [...this._def.checks, s]
        })
    }
    min(s, r)
    {
        return this._addCheck({
            kind: "min",
            value: s.getTime(),
            message: Ye.toString(r)
        })
    }
    max(s, r)
    {
        return this._addCheck({
            kind: "max",
            value: s.getTime(),
            message: Ye.toString(r)
        })
    }
    get minDate()
    {
        let s = null;
        for (const r of this._def.checks)
            r.kind === "min" && (s === null || r.value > s) && (s = r.value);
        return s != null ? new Date(s) : null
    }
    get maxDate()
    {
        let s = null;
        for (const r of this._def.checks)
            r.kind === "max" && (s === null || r.value < s) && (s = r.value);
        return s != null ? new Date(s) : null
    }
}
hl.create = t => new hl({
    checks: [],
    coerce: (t == null ? void 0 : t.coerce) || !1,
    typeName: at.ZodDate,
    ...pt(t)
});
class Bp extends bt {
    _parse(s)
    {
        if (this._getType(s) !== Fe.symbol) {
            const n = this._getOrReturnCtx(s);
            return Ie(n, {
                code: Ce.invalid_type,
                expected: Fe.symbol,
                received: n.parsedType
            }), ot
        }
        return Pr(s.data)
    }
}
Bp.create = t => new Bp({
    typeName: at.ZodSymbol,
    ...pt(t)
});
class Fu extends bt {
    _parse(s)
    {
        if (this._getType(s) !== Fe.undefined) {
            const n = this._getOrReturnCtx(s);
            return Ie(n, {
                code: Ce.invalid_type,
                expected: Fe.undefined,
                received: n.parsedType
            }), ot
        }
        return Pr(s.data)
    }
}
Fu.create = t => new Fu({
    typeName: at.ZodUndefined,
    ...pt(t)
});
class zu extends bt {
    _parse(s)
    {
        if (this._getType(s) !== Fe.null) {
            const n = this._getOrReturnCtx(s);
            return Ie(n, {
                code: Ce.invalid_type,
                expected: Fe.null,
                received: n.parsedType
            }), ot
        }
        return Pr(s.data)
    }
}
zu.create = t => new zu({
    typeName: at.ZodNull,
    ...pt(t)
});
class zc extends bt {
    constructor()
    {
        super(...arguments),
        this._any = !0
    }
    _parse(s)
    {
        return Pr(s.data)
    }
}
zc.create = t => new zc({
    typeName: at.ZodAny,
    ...pt(t)
});
class Qo extends bt {
    constructor()
    {
        super(...arguments),
        this._unknown = !0
    }
    _parse(s)
    {
        return Pr(s.data)
    }
}
Qo.create = t => new Qo({
    typeName: at.ZodUnknown,
    ...pt(t)
});
class ji extends bt {
    _parse(s)
    {
        const r = this._getOrReturnCtx(s);
        return Ie(r, {
            code: Ce.invalid_type,
            expected: Fe.never,
            received: r.parsedType
        }), ot
    }
}
ji.create = t => new ji({
    typeName: at.ZodNever,
    ...pt(t)
});
class Hp extends bt {
    _parse(s)
    {
        if (this._getType(s) !== Fe.undefined) {
            const n = this._getOrReturnCtx(s);
            return Ie(n, {
                code: Ce.invalid_type,
                expected: Fe.void,
                received: n.parsedType
            }), ot
        }
        return Pr(s.data)
    }
}
Hp.create = t => new Hp({
    typeName: at.ZodVoid,
    ...pt(t)
});
class Qn extends bt {
    _parse(s)
    {
        const {ctx: r, status: n} = this._processInputParams(s),
            a = this._def;
        if (r.parsedType !== Fe.array)
            return Ie(r, {
                code: Ce.invalid_type,
                expected: Fe.array,
                received: r.parsedType
            }), ot;
        if (a.exactLength !== null) {
            const o = r.data.length > a.exactLength.value,
                l = r.data.length < a.exactLength.value;
            (o || l) && (Ie(r, {
                code: o ? Ce.too_big : Ce.too_small,
                minimum: l ? a.exactLength.value : void 0,
                maximum: o ? a.exactLength.value : void 0,
                type: "array",
                inclusive: !0,
                exact: !0,
                message: a.exactLength.message
            }), n.dirty())
        }
        if (a.minLength !== null && r.data.length < a.minLength.value && (Ie(r, {
            code: Ce.too_small,
            minimum: a.minLength.value,
            type: "array",
            inclusive: !0,
            exact: !1,
            message: a.minLength.message
        }), n.dirty()), a.maxLength !== null && r.data.length > a.maxLength.value && (Ie(r, {
            code: Ce.too_big,
            maximum: a.maxLength.value,
            type: "array",
            inclusive: !0,
            exact: !1,
            message: a.maxLength.message
        }), n.dirty()), r.common.async)
            return Promise.all([...r.data].map((o, l) => a.type._parseAsync(new Ta(r, o, r.path, l)))).then(o => hr.mergeArray(n, o));
        const i = [...r.data].map((o, l) => a.type._parseSync(new Ta(r, o, r.path, l)));
        return hr.mergeArray(n, i)
    }
    get element()
    {
        return this._def.type
    }
    min(s, r)
    {
        return new Qn({
            ...this._def,
            minLength: {
                value: s,
                message: Ye.toString(r)
            }
        })
    }
    max(s, r)
    {
        return new Qn({
            ...this._def,
            maxLength: {
                value: s,
                message: Ye.toString(r)
            }
        })
    }
    length(s, r)
    {
        return new Qn({
            ...this._def,
            exactLength: {
                value: s,
                message: Ye.toString(r)
            }
        })
    }
    nonempty(s)
    {
        return this.min(1, s)
    }
}
Qn.create = (t, s) => new Qn({
    type: t,
    minLength: null,
    maxLength: null,
    exactLength: null,
    typeName: at.ZodArray,
    ...pt(s)
});
function Rl(t) {
    if (t instanceof rs) {
        const s = {};
        for (const r in t.shape) {
            const n = t.shape[r];
            s[r] = Sa.create(Rl(n))
        }
        return new rs({
            ...t._def,
            shape: () => s
        })
    } else
        return t instanceof Qn ? new Qn({
            ...t._def,
            type: Rl(t.element)
        }) : t instanceof Sa ? Sa.create(Rl(t.unwrap())) : t instanceof vo ? vo.create(Rl(t.unwrap())) : t instanceof Aa ? Aa.create(t.items.map(s => Rl(s))) : t
}
class rs extends bt {
    constructor()
    {
        super(...arguments),
        this._cached = null,
        this.nonstrict = this.passthrough,
        this.augment = this.extend
    }
    _getCached()
    {
        if (this._cached !== null)
            return this._cached;
        const s = this._def.shape(),
            r = kt.objectKeys(s);
        return this._cached = {
            shape: s,
            keys: r
        }
    }
    _parse(s)
    {
        if (this._getType(s) !== Fe.object) {
            const d = this._getOrReturnCtx(s);
            return Ie(d, {
                code: Ce.invalid_type,
                expected: Fe.object,
                received: d.parsedType
            }), ot
        }
        const {status: n, ctx: a} = this._processInputParams(s),
            {shape: i, keys: o} = this._getCached(),
            l = [];
        if (!(this._def.catchall instanceof ji && this._def.unknownKeys === "strip"))
            for (const d in a.data)
                o.includes(d) || l.push(d);
        const c = [];
        for (const d of o) {
            const u = i[d],
                m = a.data[d];
            c.push({
                key: {
                    status: "valid",
                    value: d
                },
                value: u._parse(new Ta(a, m, a.path, d)),
                alwaysSet: d in a.data
            })
        }
        if (this._def.catchall instanceof ji) {
            const d = this._def.unknownKeys;
            if (d === "passthrough")
                for (const u of l)
                    c.push({
                        key: {
                            status: "valid",
                            value: u
                        },
                        value: {
                            status: "valid",
                            value: a.data[u]
                        }
                    });
            else if (d === "strict")
                l.length > 0 && (Ie(a, {
                    code: Ce.unrecognized_keys,
                    keys: l
                }), n.dirty());
            else if (d !== "strip")
                throw new Error("Internal ZodObject error: invalid unknownKeys value.")
        } else {
            const d = this._def.catchall;
            for (const u of l) {
                const m = a.data[u];
                c.push({
                    key: {
                        status: "valid",
                        value: u
                    },
                    value: d._parse(new Ta(a, m, a.path, u)),
                    alwaysSet: u in a.data
                })
            }
        }
        return a.common.async ? Promise.resolve().then(async () => {
            const d = [];
            for (const u of c) {
                const m = await u.key,
                    p = await u.value;
                d.push({
                    key: m,
                    value: p,
                    alwaysSet: u.alwaysSet
                })
            }
            return d
        }).then(d => hr.mergeObjectSync(n, d)) : hr.mergeObjectSync(n, c)
    }
    get shape()
    {
        return this._def.shape()
    }
    strict(s)
    {
        return Ye.errToObj, new rs({
            ...this._def,
            unknownKeys: "strict",
            ...s !== void 0 ? {
                errorMap: (r, n) => {
                    var a,
                        i,
                        o,
                        l;
                    const c = (o = (i = (a = this._def).errorMap) === null || i === void 0 ? void 0 : i.call(a, r, n).message) !== null && o !== void 0 ? o : n.defaultError;
                    return r.code === "unrecognized_keys" ? {
                        message: (l = Ye.errToObj(s).message) !== null && l !== void 0 ? l : c
                    } : {
                        message: c
                    }
                }
            } : {}
        })
    }
    strip()
    {
        return new rs({
            ...this._def,
            unknownKeys: "strip"
        })
    }
    passthrough()
    {
        return new rs({
            ...this._def,
            unknownKeys: "passthrough"
        })
    }
    extend(s)
    {
        return new rs({
            ...this._def,
            shape: () => ({
                ...this._def.shape(),
                ...s
            })
        })
    }
    merge(s)
    {
        return new rs({
            unknownKeys: s._def.unknownKeys,
            catchall: s._def.catchall,
            shape: () => ({
                ...this._def.shape(),
                ...s._def.shape()
            }),
            typeName: at.ZodObject
        })
    }
    setKey(s, r)
    {
        return this.augment({
            [s]: r
        })
    }
    catchall(s)
    {
        return new rs({
            ...this._def,
            catchall: s
        })
    }
    pick(s)
    {
        const r = {};
        return kt.objectKeys(s).forEach(n => {
            s[n] && this.shape[n] && (r[n] = this.shape[n])
        }), new rs({
            ...this._def,
            shape: () => r
        })
    }
    omit(s)
    {
        const r = {};
        return kt.objectKeys(this.shape).forEach(n => {
            s[n] || (r[n] = this.shape[n])
        }), new rs({
            ...this._def,
            shape: () => r
        })
    }
    deepPartial()
    {
        return Rl(this)
    }
    partial(s)
    {
        const r = {};
        return kt.objectKeys(this.shape).forEach(n => {
            const a = this.shape[n];
            s && !s[n] ? r[n] = a : r[n] = a.optional()
        }), new rs({
            ...this._def,
            shape: () => r
        })
    }
    required(s)
    {
        const r = {};
        return kt.objectKeys(this.shape).forEach(n => {
            if (s && !s[n])
                r[n] = this.shape[n];
            else {
                let i = this.shape[n];
                for (; i instanceof Sa;)
                    i = i._def.innerType;
                r[n] = i
            }
        }), new rs({
            ...this._def,
            shape: () => r
        })
    }
    keyof()
    {
        return HT(kt.objectKeys(this.shape))
    }
}
rs.create = (t, s) => new rs({
    shape: () => t,
    unknownKeys: "strip",
    catchall: ji.create(),
    typeName: at.ZodObject,
    ...pt(s)
});
rs.strictCreate = (t, s) => new rs({
    shape: () => t,
    unknownKeys: "strict",
    catchall: ji.create(),
    typeName: at.ZodObject,
    ...pt(s)
});
rs.lazycreate = (t, s) => new rs({
    shape: t,
    unknownKeys: "strip",
    catchall: ji.create(),
    typeName: at.ZodObject,
    ...pt(s)
});
class $u extends bt {
    _parse(s)
    {
        const {ctx: r} = this._processInputParams(s),
            n = this._def.options;
        function a(i) {
            for (const l of i)
                if (l.result.status === "valid")
                    return l.result;
            for (const l of i)
                if (l.result.status === "dirty")
                    return r.common.issues.push(...l.ctx.common.issues), l.result;
            const o = i.map(l => new hn(l.ctx.common.issues));
            return Ie(r, {
                code: Ce.invalid_union,
                unionErrors: o
            }), ot
        }
        if (r.common.async)
            return Promise.all(n.map(async i => {
                const o = {
                    ...r,
                    common: {
                        ...r.common,
                        issues: []
                    },
                    parent: null
                };
                return {
                    result: await i._parseAsync({
                        data: r.data,
                        path: r.path,
                        parent: o
                    }),
                    ctx: o
                }
            })).then(a);
        {
            let i;
            const o = [];
            for (const c of n) {
                const d = {
                        ...r,
                        common: {
                            ...r.common,
                            issues: []
                        },
                        parent: null
                    },
                    u = c._parseSync({
                        data: r.data,
                        path: r.path,
                        parent: d
                    });
                if (u.status === "valid")
                    return u;
                u.status === "dirty" && !i && (i = {
                    result: u,
                    ctx: d
                }),
                d.common.issues.length && o.push(d.common.issues)
            }
            if (i)
                return r.common.issues.push(...i.ctx.common.issues), i.result;
            const l = o.map(c => new hn(c));
            return Ie(r, {
                code: Ce.invalid_union,
                unionErrors: l
            }), ot
        }
    }
    get options()
    {
        return this._def.options
    }
}
$u.create = (t, s) => new $u({
    options: t,
    typeName: at.ZodUnion,
    ...pt(s)
});
const Ba = t => t instanceof qu ? Ba(t.schema) : t instanceof ta ? Ba(t.innerType()) : t instanceof Bu ? [t.value] : t instanceof go ? t.options : t instanceof Hu ? kt.objectValues(t.enum) : t instanceof Wu ? Ba(t._def.innerType) : t instanceof Fu ? [void 0] : t instanceof zu ? [null] : t instanceof Sa ? [void 0, ...Ba(t.unwrap())] : t instanceof vo ? [null, ...Ba(t.unwrap())] : t instanceof B0 || t instanceof Ku ? Ba(t.unwrap()) : t instanceof Gu ? Ba(t._def.innerType) : [];
class sx extends bt {
    _parse(s)
    {
        const {ctx: r} = this._processInputParams(s);
        if (r.parsedType !== Fe.object)
            return Ie(r, {
                code: Ce.invalid_type,
                expected: Fe.object,
                received: r.parsedType
            }), ot;
        const n = this.discriminator,
            a = r.data[n],
            i = this.optionsMap.get(a);
        return i ? r.common.async ? i._parseAsync({
            data: r.data,
            path: r.path,
            parent: r
        }) : i._parseSync({
            data: r.data,
            path: r.path,
            parent: r
        }) : (Ie(r, {
            code: Ce.invalid_union_discriminator,
            options: Array.from(this.optionsMap.keys()),
            path: [n]
        }), ot)
    }
    get discriminator()
    {
        return this._def.discriminator
    }
    get options()
    {
        return this._def.options
    }
    get optionsMap()
    {
        return this._def.optionsMap
    }
    static create(s, r, n)
    {
        const a = new Map;
        for (const i of r) {
            const o = Ba(i.shape[s]);
            if (!o.length)
                throw new Error(`A discriminator value for key \`${s}\` could not be extracted from all schema options`);
            for (const l of o) {
                if (a.has(l))
                    throw new Error(`Discriminator property ${String(s)} has duplicate value ${String(l)}`);
                a.set(l, i)
            }
        }
        return new sx({
            typeName: at.ZodDiscriminatedUnion,
            discriminator: s,
            options: r,
            optionsMap: a,
            ...pt(n)
        })
    }
}
function gy(t, s) {
    const r = Ka(t),
        n = Ka(s);
    if (t === s)
        return {
            valid: !0,
            data: t
        };
    if (r === Fe.object && n === Fe.object) {
        const a = kt.objectKeys(s),
            i = kt.objectKeys(t).filter(l => a.indexOf(l) !== -1),
            o = {
                ...t,
                ...s
            };
        for (const l of i) {
            const c = gy(t[l], s[l]);
            if (!c.valid)
                return {
                    valid: !1
                };
            o[l] = c.data
        }
        return {
            valid: !0,
            data: o
        }
    } else if (r === Fe.array && n === Fe.array) {
        if (t.length !== s.length)
            return {
                valid: !1
            };
        const a = [];
        for (let i = 0; i < t.length; i++) {
            const o = t[i],
                l = s[i],
                c = gy(o, l);
            if (!c.valid)
                return {
                    valid: !1
                };
            a.push(c.data)
        }
        return {
            valid: !0,
            data: a
        }
    } else
        return r === Fe.date && n === Fe.date && +t == +s ? {
            valid: !0,
            data: t
        } : {
            valid: !1
        }
}
class Vu extends bt {
    _parse(s)
    {
        const {status: r, ctx: n} = this._processInputParams(s),
            a = (i, o) => {
                if (fy(i) || fy(o))
                    return ot;
                const l = gy(i.value, o.value);
                return l.valid ? ((xy(i) || xy(o)) && r.dirty(), {
                    status: r.value,
                    value: l.data
                }) : (Ie(n, {
                    code: Ce.invalid_intersection_types
                }), ot)
            };
        return n.common.async ? Promise.all([this._def.left._parseAsync({
            data: n.data,
            path: n.path,
            parent: n
        }), this._def.right._parseAsync({
            data: n.data,
            path: n.path,
            parent: n
        })]).then(([i, o]) => a(i, o)) : a(this._def.left._parseSync({
            data: n.data,
            path: n.path,
            parent: n
        }), this._def.right._parseSync({
            data: n.data,
            path: n.path,
            parent: n
        }))
    }
}
Vu.create = (t, s, r) => new Vu({
    left: t,
    right: s,
    typeName: at.ZodIntersection,
    ...pt(r)
});
class Aa extends bt {
    _parse(s)
    {
        const {status: r, ctx: n} = this._processInputParams(s);
        if (n.parsedType !== Fe.array)
            return Ie(n, {
                code: Ce.invalid_type,
                expected: Fe.array,
                received: n.parsedType
            }), ot;
        if (n.data.length < this._def.items.length)
            return Ie(n, {
                code: Ce.too_small,
                minimum: this._def.items.length,
                inclusive: !0,
                exact: !1,
                type: "array"
            }), ot;
        !this._def.rest && n.data.length > this._def.items.length && (Ie(n, {
            code: Ce.too_big,
            maximum: this._def.items.length,
            inclusive: !0,
            exact: !1,
            type: "array"
        }), r.dirty());
        const i = [...n.data].map((o, l) => {
            const c = this._def.items[l] || this._def.rest;
            return c ? c._parse(new Ta(n, o, n.path, l)) : null
        }).filter(o => !!o);
        return n.common.async ? Promise.all(i).then(o => hr.mergeArray(r, o)) : hr.mergeArray(r, i)
    }
    get items()
    {
        return this._def.items
    }
    rest(s)
    {
        return new Aa({
            ...this._def,
            rest: s
        })
    }
}
Aa.create = (t, s) => {
    if (!Array.isArray(t))
        throw new Error("You must pass an array of schemas to z.tuple([ ... ])");
    return new Aa({
        items: t,
        typeName: at.ZodTuple,
        rest: null,
        ...pt(s)
    })
};
class Uu extends bt {
    get keySchema()
    {
        return this._def.keyType
    }
    get valueSchema()
    {
        return this._def.valueType
    }
    _parse(s)
    {
        const {status: r, ctx: n} = this._processInputParams(s);
        if (n.parsedType !== Fe.object)
            return Ie(n, {
                code: Ce.invalid_type,
                expected: Fe.object,
                received: n.parsedType
            }), ot;
        const a = [],
            i = this._def.keyType,
            o = this._def.valueType;
        for (const l in n.data)
            a.push({
                key: i._parse(new Ta(n, l, n.path, l)),
                value: o._parse(new Ta(n, n.data[l], n.path, l)),
                alwaysSet: l in n.data
            });
        return n.common.async ? hr.mergeObjectAsync(r, a) : hr.mergeObjectSync(r, a)
    }
    get element()
    {
        return this._def.valueType
    }
    static create(s, r, n)
    {
        return r instanceof bt ? new Uu({
            keyType: s,
            valueType: r,
            typeName: at.ZodRecord,
            ...pt(n)
        }) : new Uu({
            keyType: Bn.create(),
            valueType: s,
            typeName: at.ZodRecord,
            ...pt(r)
        })
    }
}
class Wp extends bt {
    get keySchema()
    {
        return this._def.keyType
    }
    get valueSchema()
    {
        return this._def.valueType
    }
    _parse(s)
    {
        const {status: r, ctx: n} = this._processInputParams(s);
        if (n.parsedType !== Fe.map)
            return Ie(n, {
                code: Ce.invalid_type,
                expected: Fe.map,
                received: n.parsedType
            }), ot;
        const a = this._def.keyType,
            i = this._def.valueType,
            o = [...n.data.entries()].map(([l, c], d) => ({
                key: a._parse(new Ta(n, l, n.path, [d, "key"])),
                value: i._parse(new Ta(n, c, n.path, [d, "value"]))
            }));
        if (n.common.async) {
            const l = new Map;
            return Promise.resolve().then(async () => {
                for (const c of o) {
                    const d = await c.key,
                        u = await c.value;
                    if (d.status === "aborted" || u.status === "aborted")
                        return ot;
                    (d.status === "dirty" || u.status === "dirty") && r.dirty(),
                    l.set(d.value, u.value)
                }
                return {
                    status: r.value,
                    value: l
                }
            })
        } else {
            const l = new Map;
            for (const c of o) {
                const d = c.key,
                    u = c.value;
                if (d.status === "aborted" || u.status === "aborted")
                    return ot;
                (d.status === "dirty" || u.status === "dirty") && r.dirty(),
                l.set(d.value, u.value)
            }
            return {
                status: r.value,
                value: l
            }
        }
    }
}
Wp.create = (t, s, r) => new Wp({
    valueType: s,
    keyType: t,
    typeName: at.ZodMap,
    ...pt(r)
});
class pl extends bt {
    _parse(s)
    {
        const {status: r, ctx: n} = this._processInputParams(s);
        if (n.parsedType !== Fe.set)
            return Ie(n, {
                code: Ce.invalid_type,
                expected: Fe.set,
                received: n.parsedType
            }), ot;
        const a = this._def;
        a.minSize !== null && n.data.size < a.minSize.value && (Ie(n, {
            code: Ce.too_small,
            minimum: a.minSize.value,
            type: "set",
            inclusive: !0,
            exact: !1,
            message: a.minSize.message
        }), r.dirty()),
        a.maxSize !== null && n.data.size > a.maxSize.value && (Ie(n, {
            code: Ce.too_big,
            maximum: a.maxSize.value,
            type: "set",
            inclusive: !0,
            exact: !1,
            message: a.maxSize.message
        }), r.dirty());
        const i = this._def.valueType;
        function o(c) {
            const d = new Set;
            for (const u of c) {
                if (u.status === "aborted")
                    return ot;
                u.status === "dirty" && r.dirty(),
                d.add(u.value)
            }
            return {
                status: r.value,
                value: d
            }
        }
        const l = [...n.data.values()].map((c, d) => i._parse(new Ta(n, c, n.path, d)));
        return n.common.async ? Promise.all(l).then(c => o(c)) : o(l)
    }
    min(s, r)
    {
        return new pl({
            ...this._def,
            minSize: {
                value: s,
                message: Ye.toString(r)
            }
        })
    }
    max(s, r)
    {
        return new pl({
            ...this._def,
            maxSize: {
                value: s,
                message: Ye.toString(r)
            }
        })
    }
    size(s, r)
    {
        return this.min(s, r).max(s, r)
    }
    nonempty(s)
    {
        return this.min(1, s)
    }
}
pl.create = (t, s) => new pl({
    valueType: t,
    minSize: null,
    maxSize: null,
    typeName: at.ZodSet,
    ...pt(s)
});
class ic extends bt {
    constructor()
    {
        super(...arguments),
        this.validate = this.implement
    }
    _parse(s)
    {
        const {ctx: r} = this._processInputParams(s);
        if (r.parsedType !== Fe.function)
            return Ie(r, {
                code: Ce.invalid_type,
                expected: Fe.function,
                received: r.parsedType
            }), ot;
        function n(l, c) {
            return Up({
                data: l,
                path: r.path,
                errorMaps: [r.common.contextualErrorMap, r.schemaErrorMap, Vp(), Fc].filter(d => !!d),
                issueData: {
                    code: Ce.invalid_arguments,
                    argumentsError: c
                }
            })
        }
        function a(l, c) {
            return Up({
                data: l,
                path: r.path,
                errorMaps: [r.common.contextualErrorMap, r.schemaErrorMap, Vp(), Fc].filter(d => !!d),
                issueData: {
                    code: Ce.invalid_return_type,
                    returnTypeError: c
                }
            })
        }
        const i = {
                errorMap: r.common.contextualErrorMap
            },
            o = r.data;
        if (this._def.returns instanceof $c) {
            const l = this;
            return Pr(async function(...c) {
                const d = new hn([]),
                    u = await l._def.args.parseAsync(c, i).catch(j => {
                        throw d.addIssue(n(c, j)), d
                    }),
                    m = await Reflect.apply(o, this, u);
                return await l._def.returns._def.type.parseAsync(m, i).catch(j => {
                    throw d.addIssue(a(m, j)), d
                })
            })
        } else {
            const l = this;
            return Pr(function(...c) {
                const d = l._def.args.safeParse(c, i);
                if (!d.success)
                    throw new hn([n(c, d.error)]);
                const u = Reflect.apply(o, this, d.data),
                    m = l._def.returns.safeParse(u, i);
                if (!m.success)
                    throw new hn([a(u, m.error)]);
                return m.data
            })
        }
    }
    parameters()
    {
        return this._def.args
    }
    returnType()
    {
        return this._def.returns
    }
    args(...s)
    {
        return new ic({
            ...this._def,
            args: Aa.create(s).rest(Qo.create())
        })
    }
    returns(s)
    {
        return new ic({
            ...this._def,
            returns: s
        })
    }
    implement(s)
    {
        return this.parse(s)
    }
    strictImplement(s)
    {
        return this.parse(s)
    }
    static create(s, r, n)
    {
        return new ic({
            args: s || Aa.create([]).rest(Qo.create()),
            returns: r || Qo.create(),
            typeName: at.ZodFunction,
            ...pt(n)
        })
    }
}
class qu extends bt {
    get schema()
    {
        return this._def.getter()
    }
    _parse(s)
    {
        const {ctx: r} = this._processInputParams(s);
        return this._def.getter()._parse({
            data: r.data,
            path: r.path,
            parent: r
        })
    }
}
qu.create = (t, s) => new qu({
    getter: t,
    typeName: at.ZodLazy,
    ...pt(s)
});
class Bu extends bt {
    _parse(s)
    {
        if (s.data !== this._def.value) {
            const r = this._getOrReturnCtx(s);
            return Ie(r, {
                received: r.data,
                code: Ce.invalid_literal,
                expected: this._def.value
            }), ot
        }
        return {
            status: "valid",
            value: s.data
        }
    }
    get value()
    {
        return this._def.value
    }
}
Bu.create = (t, s) => new Bu({
    value: t,
    typeName: at.ZodLiteral,
    ...pt(s)
});
function HT(t, s) {
    return new go({
        values: t,
        typeName: at.ZodEnum,
        ...pt(s)
    })
}
class go extends bt {
    constructor()
    {
        super(...arguments),
        Fd.set(this, void 0)
    }
    _parse(s)
    {
        if (typeof s.data != "string") {
            const r = this._getOrReturnCtx(s),
                n = this._def.values;
            return Ie(r, {
                expected: kt.joinValues(n),
                received: r.parsedType,
                code: Ce.invalid_type
            }), ot
        }
        if (qp(this, Fd) || VT(this, Fd, new Set(this._def.values)), !qp(this, Fd).has(s.data)) {
            const r = this._getOrReturnCtx(s),
                n = this._def.values;
            return Ie(r, {
                received: r.data,
                code: Ce.invalid_enum_value,
                options: n
            }), ot
        }
        return Pr(s.data)
    }
    get options()
    {
        return this._def.values
    }
    get enum()
    {
        const s = {};
        for (const r of this._def.values)
            s[r] = r;
        return s
    }
    get Values()
    {
        const s = {};
        for (const r of this._def.values)
            s[r] = r;
        return s
    }
    get Enum()
    {
        const s = {};
        for (const r of this._def.values)
            s[r] = r;
        return s
    }
    extract(s, r=this._def)
    {
        return go.create(s, {
            ...this._def,
            ...r
        })
    }
    exclude(s, r=this._def)
    {
        return go.create(this.options.filter(n => !s.includes(n)), {
            ...this._def,
            ...r
        })
    }
}
Fd = new WeakMap;
go.create = HT;
class Hu extends bt {
    constructor()
    {
        super(...arguments),
        zd.set(this, void 0)
    }
    _parse(s)
    {
        const r = kt.getValidEnumValues(this._def.values),
            n = this._getOrReturnCtx(s);
        if (n.parsedType !== Fe.string && n.parsedType !== Fe.number) {
            const a = kt.objectValues(r);
            return Ie(n, {
                expected: kt.joinValues(a),
                received: n.parsedType,
                code: Ce.invalid_type
            }), ot
        }
        if (qp(this, zd) || VT(this, zd, new Set(kt.getValidEnumValues(this._def.values))), !qp(this, zd).has(s.data)) {
            const a = kt.objectValues(r);
            return Ie(n, {
                received: n.data,
                code: Ce.invalid_enum_value,
                options: a
            }), ot
        }
        return Pr(s.data)
    }
    get enum()
    {
        return this._def.values
    }
}
zd = new WeakMap;
Hu.create = (t, s) => new Hu({
    values: t,
    typeName: at.ZodNativeEnum,
    ...pt(s)
});
class $c extends bt {
    unwrap()
    {
        return this._def.type
    }
    _parse(s)
    {
        const {ctx: r} = this._processInputParams(s);
        if (r.parsedType !== Fe.promise && r.common.async === !1)
            return Ie(r, {
                code: Ce.invalid_type,
                expected: Fe.promise,
                received: r.parsedType
            }), ot;
        const n = r.parsedType === Fe.promise ? r.data : Promise.resolve(r.data);
        return Pr(n.then(a => this._def.type.parseAsync(a, {
            path: r.path,
            errorMap: r.common.contextualErrorMap
        })))
    }
}
$c.create = (t, s) => new $c({
    type: t,
    typeName: at.ZodPromise,
    ...pt(s)
});
class ta extends bt {
    innerType()
    {
        return this._def.schema
    }
    sourceType()
    {
        return this._def.schema._def.typeName === at.ZodEffects ? this._def.schema.sourceType() : this._def.schema
    }
    _parse(s)
    {
        const {status: r, ctx: n} = this._processInputParams(s),
            a = this._def.effect || null,
            i = {
                addIssue: o => {
                    Ie(n, o),
                    o.fatal ? r.abort() : r.dirty()
                },
                get path() {
                    return n.path
                }
            };
        if (i.addIssue = i.addIssue.bind(i), a.type === "preprocess") {
            const o = a.transform(n.data, i);
            if (n.common.async)
                return Promise.resolve(o).then(async l => {
                    if (r.value === "aborted")
                        return ot;
                    const c = await this._def.schema._parseAsync({
                        data: l,
                        path: n.path,
                        parent: n
                    });
                    return c.status === "aborted" ? ot : c.status === "dirty" || r.value === "dirty" ? Gl(c.value) : c
                });
            {
                if (r.value === "aborted")
                    return ot;
                const l = this._def.schema._parseSync({
                    data: o,
                    path: n.path,
                    parent: n
                });
                return l.status === "aborted" ? ot : l.status === "dirty" || r.value === "dirty" ? Gl(l.value) : l
            }
        }
        if (a.type === "refinement") {
            const o = l => {
                const c = a.refinement(l, i);
                if (n.common.async)
                    return Promise.resolve(c);
                if (c instanceof Promise)
                    throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");
                return l
            };
            if (n.common.async === !1) {
                const l = this._def.schema._parseSync({
                    data: n.data,
                    path: n.path,
                    parent: n
                });
                return l.status === "aborted" ? ot : (l.status === "dirty" && r.dirty(), o(l.value), {
                    status: r.value,
                    value: l.value
                })
            } else
                return this._def.schema._parseAsync({
                    data: n.data,
                    path: n.path,
                    parent: n
                }).then(l => l.status === "aborted" ? ot : (l.status === "dirty" && r.dirty(), o(l.value).then(() => ({
                    status: r.value,
                    value: l.value
                }))))
        }
        if (a.type === "transform")
            if (n.common.async === !1) {
                const o = this._def.schema._parseSync({
                    data: n.data,
                    path: n.path,
                    parent: n
                });
                if (!ml(o))
                    return o;
                const l = a.transform(o.value, i);
                if (l instanceof Promise)
                    throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");
                return {
                    status: r.value,
                    value: l
                }
            } else
                return this._def.schema._parseAsync({
                    data: n.data,
                    path: n.path,
                    parent: n
                }).then(o => ml(o) ? Promise.resolve(a.transform(o.value, i)).then(l => ({
                    status: r.value,
                    value: l
                })) : o);
        kt.assertNever(a)
    }
}
ta.create = (t, s, r) => new ta({
    schema: t,
    typeName: at.ZodEffects,
    effect: s,
    ...pt(r)
});
ta.createWithPreprocess = (t, s, r) => new ta({
    schema: s,
    effect: {
        type: "preprocess",
        transform: t
    },
    typeName: at.ZodEffects,
    ...pt(r)
});
class Sa extends bt {
    _parse(s)
    {
        return this._getType(s) === Fe.undefined ? Pr(void 0) : this._def.innerType._parse(s)
    }
    unwrap()
    {
        return this._def.innerType
    }
}
Sa.create = (t, s) => new Sa({
    innerType: t,
    typeName: at.ZodOptional,
    ...pt(s)
});
class vo extends bt {
    _parse(s)
    {
        return this._getType(s) === Fe.null ? Pr(null) : this._def.innerType._parse(s)
    }
    unwrap()
    {
        return this._def.innerType
    }
}
vo.create = (t, s) => new vo({
    innerType: t,
    typeName: at.ZodNullable,
    ...pt(s)
});
class Wu extends bt {
    _parse(s)
    {
        const {ctx: r} = this._processInputParams(s);
        let n = r.data;
        return r.parsedType === Fe.undefined && (n = this._def.defaultValue()), this._def.innerType._parse({
            data: n,
            path: r.path,
            parent: r
        })
    }
    removeDefault()
    {
        return this._def.innerType
    }
}
Wu.create = (t, s) => new Wu({
    innerType: t,
    typeName: at.ZodDefault,
    defaultValue: typeof s.default == "function" ? s.default : () => s.default,
    ...pt(s)
});
class Gu extends bt {
    _parse(s)
    {
        const {ctx: r} = this._processInputParams(s),
            n = {
                ...r,
                common: {
                    ...r.common,
                    issues: []
                }
            },
            a = this._def.innerType._parse({
                data: n.data,
                path: n.path,
                parent: {
                    ...n
                }
            });
        return Ou(a) ? a.then(i => ({
            status: "valid",
            value: i.status === "valid" ? i.value : this._def.catchValue({
                get error() {
                    return new hn(n.common.issues)
                },
                input: n.data
            })
        })) : {
            status: "valid",
            value: a.status === "valid" ? a.value : this._def.catchValue({
                get error() {
                    return new hn(n.common.issues)
                },
                input: n.data
            })
        }
    }
    removeCatch()
    {
        return this._def.innerType
    }
}
Gu.create = (t, s) => new Gu({
    innerType: t,
    typeName: at.ZodCatch,
    catchValue: typeof s.catch == "function" ? s.catch : () => s.catch,
    ...pt(s)
});
class Gp extends bt {
    _parse(s)
    {
        if (this._getType(s) !== Fe.nan) {
            const n = this._getOrReturnCtx(s);
            return Ie(n, {
                code: Ce.invalid_type,
                expected: Fe.nan,
                received: n.parsedType
            }), ot
        }
        return {
            status: "valid",
            value: s.data
        }
    }
}
Gp.create = t => new Gp({
    typeName: at.ZodNaN,
    ...pt(t)
});
const c7 = Symbol("zod_brand");
class B0 extends bt {
    _parse(s)
    {
        const {ctx: r} = this._processInputParams(s),
            n = r.data;
        return this._def.type._parse({
            data: n,
            path: r.path,
            parent: r
        })
    }
    unwrap()
    {
        return this._def.type
    }
}
class Pm extends bt {
    _parse(s)
    {
        const {status: r, ctx: n} = this._processInputParams(s);
        if (n.common.async)
            return (async () => {
                const i = await this._def.in._parseAsync({
                    data: n.data,
                    path: n.path,
                    parent: n
                });
                return i.status === "aborted" ? ot : i.status === "dirty" ? (r.dirty(), Gl(i.value)) : this._def.out._parseAsync({
                    data: i.value,
                    path: n.path,
                    parent: n
                })
            })();
        {
            const a = this._def.in._parseSync({
                data: n.data,
                path: n.path,
                parent: n
            });
            return a.status === "aborted" ? ot : a.status === "dirty" ? (r.dirty(), {
                status: "dirty",
                value: a.value
            }) : this._def.out._parseSync({
                data: a.value,
                path: n.path,
                parent: n
            })
        }
    }
    static create(s, r)
    {
        return new Pm({
            in: s,
            out: r,
            typeName: at.ZodPipeline
        })
    }
}
class Ku extends bt {
    _parse(s)
    {
        const r = this._def.innerType._parse(s),
            n = a => (ml(a) && (a.value = Object.freeze(a.value)), a);
        return Ou(r) ? r.then(a => n(a)) : n(r)
    }
    unwrap()
    {
        return this._def.innerType
    }
}
Ku.create = (t, s) => new Ku({
    innerType: t,
    typeName: at.ZodReadonly,
    ...pt(s)
});
function j1(t, s) {
    const r = typeof t == "function" ? t(s) : typeof t == "string" ? {
        message: t
    } : t;
    return typeof r == "string" ? {
        message: r
    } : r
}
function WT(t, s={}, r) {
    return t ? zc.create().superRefine((n, a) => {
        var i,
            o;
        const l = t(n);
        if (l instanceof Promise)
            return l.then(c => {
                var d,
                    u;
                if (!c) {
                    const m = j1(s, n),
                        p = (u = (d = m.fatal) !== null && d !== void 0 ? d : r) !== null && u !== void 0 ? u : !0;
                    a.addIssue({
                        code: "custom",
                        ...m,
                        fatal: p
                    })
                }
            });
        if (!l) {
            const c = j1(s, n),
                d = (o = (i = c.fatal) !== null && i !== void 0 ? i : r) !== null && o !== void 0 ? o : !0;
            a.addIssue({
                code: "custom",
                ...c,
                fatal: d
            })
        }
    }) : zc.create()
}
const d7 = {
    object: rs.lazycreate
};
var at;
(function(t) {
    t.ZodString = "ZodString",
    t.ZodNumber = "ZodNumber",
    t.ZodNaN = "ZodNaN",
    t.ZodBigInt = "ZodBigInt",
    t.ZodBoolean = "ZodBoolean",
    t.ZodDate = "ZodDate",
    t.ZodSymbol = "ZodSymbol",
    t.ZodUndefined = "ZodUndefined",
    t.ZodNull = "ZodNull",
    t.ZodAny = "ZodAny",
    t.ZodUnknown = "ZodUnknown",
    t.ZodNever = "ZodNever",
    t.ZodVoid = "ZodVoid",
    t.ZodArray = "ZodArray",
    t.ZodObject = "ZodObject",
    t.ZodUnion = "ZodUnion",
    t.ZodDiscriminatedUnion = "ZodDiscriminatedUnion",
    t.ZodIntersection = "ZodIntersection",
    t.ZodTuple = "ZodTuple",
    t.ZodRecord = "ZodRecord",
    t.ZodMap = "ZodMap",
    t.ZodSet = "ZodSet",
    t.ZodFunction = "ZodFunction",
    t.ZodLazy = "ZodLazy",
    t.ZodLiteral = "ZodLiteral",
    t.ZodEnum = "ZodEnum",
    t.ZodEffects = "ZodEffects",
    t.ZodNativeEnum = "ZodNativeEnum",
    t.ZodOptional = "ZodOptional",
    t.ZodNullable = "ZodNullable",
    t.ZodDefault = "ZodDefault",
    t.ZodCatch = "ZodCatch",
    t.ZodPromise = "ZodPromise",
    t.ZodBranded = "ZodBranded",
    t.ZodPipeline = "ZodPipeline",
    t.ZodReadonly = "ZodReadonly"
})(at || (at = {}));
const u7 = (t, s={
        message: `Input not instance of ${t.name}`
    }) => WT(r => r instanceof t, s),
    GT = Bn.create,
    KT = fo.create,
    m7 = Gp.create,
    h7 = xo.create,
    YT = Lu.create,
    p7 = hl.create,
    f7 = Bp.create,
    x7 = Fu.create,
    g7 = zu.create,
    v7 = zc.create,
    y7 = Qo.create,
    j7 = ji.create,
    b7 = Hp.create,
    N7 = Qn.create,
    w7 = rs.create,
    C7 = rs.strictCreate,
    S7 = $u.create,
    E7 = sx.create,
    k7 = Vu.create,
    P7 = Aa.create,
    _7 = Uu.create,
    T7 = Wp.create,
    A7 = pl.create,
    M7 = ic.create,
    I7 = qu.create,
    R7 = Bu.create,
    D7 = go.create,
    O7 = Hu.create,
    L7 = $c.create,
    b1 = ta.create,
    F7 = Sa.create,
    z7 = vo.create,
    $7 = ta.createWithPreprocess,
    V7 = Pm.create,
    U7 = () => GT().optional(),
    q7 = () => KT().optional(),
    B7 = () => YT().optional(),
    H7 = {
        string: t => Bn.create({
            ...t,
            coerce: !0
        }),
        number: t => fo.create({
            ...t,
            coerce: !0
        }),
        boolean: t => Lu.create({
            ...t,
            coerce: !0
        }),
        bigint: t => xo.create({
            ...t,
            coerce: !0
        }),
        date: t => hl.create({
            ...t,
            coerce: !0
        })
    },
    W7 = ot;
var Me = Object.freeze({
    __proto__: null,
    defaultErrorMap: Fc,
    setErrorMap: $9,
    getErrorMap: Vp,
    makeIssue: Up,
    EMPTY_PATH: V9,
    addIssueToContext: Ie,
    ParseStatus: hr,
    INVALID: ot,
    DIRTY: Gl,
    OK: Pr,
    isAborted: fy,
    isDirty: xy,
    isValid: ml,
    isAsync: Ou,
    get util() {
        return kt
    },
    get objectUtil() {
        return py
    },
    ZodParsedType: Fe,
    getParsedType: Ka,
    ZodType: bt,
    datetimeRegex: BT,
    ZodString: Bn,
    ZodNumber: fo,
    ZodBigInt: xo,
    ZodBoolean: Lu,
    ZodDate: hl,
    ZodSymbol: Bp,
    ZodUndefined: Fu,
    ZodNull: zu,
    ZodAny: zc,
    ZodUnknown: Qo,
    ZodNever: ji,
    ZodVoid: Hp,
    ZodArray: Qn,
    ZodObject: rs,
    ZodUnion: $u,
    ZodDiscriminatedUnion: sx,
    ZodIntersection: Vu,
    ZodTuple: Aa,
    ZodRecord: Uu,
    ZodMap: Wp,
    ZodSet: pl,
    ZodFunction: ic,
    ZodLazy: qu,
    ZodLiteral: Bu,
    ZodEnum: go,
    ZodNativeEnum: Hu,
    ZodPromise: $c,
    ZodEffects: ta,
    ZodTransformer: ta,
    ZodOptional: Sa,
    ZodNullable: vo,
    ZodDefault: Wu,
    ZodCatch: Gu,
    ZodNaN: Gp,
    BRAND: c7,
    ZodBranded: B0,
    ZodPipeline: Pm,
    ZodReadonly: Ku,
    custom: WT,
    Schema: bt,
    ZodSchema: bt,
    late: d7,
    get ZodFirstPartyTypeKind() {
        return at
    },
    coerce: H7,
    any: v7,
    array: N7,
    bigint: h7,
    boolean: YT,
    date: p7,
    discriminatedUnion: E7,
    effect: b1,
    enum: D7,
    function: M7,
    instanceof: u7,
    intersection: k7,
    lazy: I7,
    literal: R7,
    map: T7,
    nan: m7,
    nativeEnum: O7,
    never: j7,
    null: g7,
    nullable: z7,
    number: KT,
    object: w7,
    oboolean: B7,
    onumber: q7,
    optional: F7,
    ostring: U7,
    pipeline: V7,
    preprocess: $7,
    promise: L7,
    record: _7,
    set: A7,
    strictObject: C7,
    string: GT,
    symbol: f7,
    transformer: b1,
    tuple: P7,
    undefined: x7,
    union: S7,
    unknown: y7,
    void: b7,
    NEVER: W7,
    ZodIssueCode: Ce,
    quotelessJson: z9,
    ZodError: hn
});
const _n = v9,
    QT = h.createContext({}),
    et = ({...t}) => e.jsx(QT.Provider, {
        value: {
            name: t.name
        },
        children: e.jsx(N9, {
            ...t
        })
    }),
    rx = () => {
        const t = h.useContext(QT),
            s = h.useContext(ZT),
            {getFieldState: r, formState: n} = tx(),
            a = r(t.name, n);
        if (!t)
            throw new Error("useFormField should be used within <FormField>");
        const {id: i} = s;
        return {
            id: i,
            name: t.name,
            formItemId: `${i}-form-item`,
            formDescriptionId: `${i}-form-item-description`,
            formMessageId: `${i}-form-item-message`,
            ...a
        }
    },
    ZT = h.createContext({}),
    Ze = h.forwardRef(({className: t, ...s}, r) => {
        const n = h.useId();
        return e.jsx(ZT.Provider, {
            value: {
                id: n
            },
            children: e.jsx("div", {
                ref: r,
                className: me("space-y-2", t),
                ...s
            })
        })
    });
Ze.displayName = "FormItem";
const tt = h.forwardRef(({className: t, ...s}, r) => {
    const {error: n, formItemId: a} = rx();
    return e.jsx(V, {
        ref: r,
        className: me(n && "text-destructive", t),
        htmlFor: a,
        ...s
    })
});
tt.displayName = "FormLabel";
const Xe = h.forwardRef(({...t}, s) => {
    const {error: r, formItemId: n, formDescriptionId: a, formMessageId: i} = rx();
    return e.jsx(lE, {
        ref: s,
        id: n,
        "aria-describedby": r ? `${a} ${i}` : `${a}`,
        "aria-invalid": !!r,
        ...t
    })
});
Xe.displayName = "FormControl";
const XT = h.forwardRef(({className: t, ...s}, r) => {
    const {formDescriptionId: n} = rx();
    return e.jsx("p", {
        ref: r,
        id: n,
        className: me("text-sm text-muted-foreground", t),
        ...s
    })
});
XT.displayName = "FormDescription";
const rt = h.forwardRef(({className: t, children: s, ...r}, n) => {
    const {error: a, formMessageId: i} = rx(),
        o = a ? String((a == null ? void 0 : a.message) ?? "") : s;
    return o ? e.jsx("p", {
        ref: n,
        id: i,
        className: me("text-sm font-medium text-destructive", t),
        ...r,
        children: o
    }) : null
});
rt.displayName = "FormMessage";
const Ut = h.forwardRef(({className: t, ...s}, r) => e.jsx("textarea", {
    className: me("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm", t),
    ref: r,
    ...s
}));
Ut.displayName = "Textarea";
function G7({value: t=[], onChange: s, maxImages: r=5, maxSizeBytes: n=5 * 1024 * 1024, acceptedTypes: a=["image/jpeg", "image/jpg", "image/png", "image/webp"], className: i, disabled: o=!1}) {
    const [l, c] = h.useState(!1),
        [d, u] = h.useState(t),
        m = h.useRef(null),
        p = async x => {
            const y = Array.from(x.target.files || []);
            if (y.length !== 0) {
                if (d.length + y.length > r) {
                    alert(`Solo se pueden subir un máximo de ${r} imágenes`);
                    return
                }
                c(!0);
                try {
                    const v = [],
                        f = [];
                    for (const w of y) {
                        if (!a.includes(w.type)) {
                            alert(`Tipo de archivo no válido: ${w.type}. Solo se permiten: ${a.join(", ")}`);
                            continue
                        }
                        if (w.size > n) {
                            alert(`El archivo ${w.name} es demasiado grande. Máximo: ${n / (1024 * 1024)}MB`);
                            continue
                        }
                        const C = URL.createObjectURL(w);
                        f.push(C);
                        const E = new FormData;
                        E.append("image", w);
                        const k = await fetch("/api/upload-image", {
                            method: "POST",
                            body: E
                        });
                        if (k.ok) {
                            const R = await k.json();
                            v.push(R.imageUrl)
                        } else
                            console.error("Error uploading image:", w.name),
                            URL.revokeObjectURL(C)
                    }
                    const b = [...t, ...v],
                        N = [...d, ...f];
                    s(b),
                    u(N)
                } catch (v) {
                    console.error("Error uploading images:", v)
                } finally {
                    c(!1),
                    m.current && (m.current.value = "")
                }
            }
        },
        j = x => {
            const y = t.filter((b, N) => N !== x),
                v = d.filter((b, N) => N !== x),
                f = d[x];
            f && f.startsWith("blob:") && URL.revokeObjectURL(f),
            s(y),
            u(v)
        },
        g = () => {
            var x;
            (x = m.current) == null || x.click()
        };
    return e.jsxs("div", {
        className: me("space-y-4", i),
        children: [e.jsx(U, {
            className: "border-dashed",
            children: e.jsx(q, {
                className: "p-6",
                children: e.jsxs("div", {
                    className: "text-center",
                    children: [e.jsx(qs, {
                        className: "mx-auto h-12 w-12 text-muted-foreground/50 mb-4"
                    }), e.jsxs("p", {
                        className: "text-sm text-muted-foreground mb-4",
                        children: ["Subir imágenes del vehículo (", d.length, "/", r, ")"]
                    }), e.jsx("input", {
                        ref: m,
                        type: "file",
                        multiple: !0,
                        accept: a.join(","),
                        onChange: p,
                        className: "hidden",
                        disabled: o || l || d.length >= r
                    }), e.jsxs(T, {
                        type: "button",
                        variant: "outline",
                        onClick: g,
                        disabled: o || l || d.length >= r,
                        className: "w-full",
                        children: [e.jsx(li, {
                            className: "h-4 w-4 mr-2"
                        }), l ? "Subiendo..." : "Seleccionar imágenes"]
                    }), e.jsxs("p", {
                        className: "text-xs text-muted-foreground mt-2",
                        children: ["Máximo ", r, " imágenes, ", n / (1024 * 1024), "MB por imagen"]
                    })]
                })
            })
        }), d.length > 0 && e.jsx("div", {
            className: "grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",
            children: d.map((x, y) => e.jsx("div", {
                className: "relative group",
                children: e.jsx(U, {
                    children: e.jsx(q, {
                        className: "p-2",
                        children: e.jsxs("div", {
                            className: "relative aspect-square",
                            children: [e.jsx("img", {
                                src: x,
                                alt: `Imagen ${y + 1}`,
                                className: "w-full h-full object-cover rounded"
                            }), e.jsx(T, {
                                type: "button",
                                variant: "destructive",
                                size: "sm",
                                className: "absolute top-1 right-1 h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",
                                onClick: () => j(y),
                                disabled: o || l,
                                children: e.jsx(tr, {
                                    className: "h-3 w-3"
                                })
                            })]
                        })
                    })
                })
            }, y))
        })]
    })
}
const K7 = Me.object({
        name: Me.string().min(2, {
            message: "El nombre debe tener al menos 2 caracteres"
        }),
        email: Me.string().email({
            message: "Ingrese un correo electrónico válido"
        }),
        phone: Me.string().min(9, {
            message: "Ingrese un número de teléfono válido"
        }),
        make: Me.string().min(1, {
            message: "Seleccione la marca de su vehículo"
        }),
        model: Me.string().min(1, {
            message: "Introduzca el modelo de su vehículo"
        }),
        year: Me.string().min(4, {
            message: "Introduzca el año de su vehículo"
        }),
        kilometer: Me.string().min(1, {
            message: "Introduzca los kilómetros de su vehículo"
        }),
        fuel: Me.string().min(1, {
            message: "Seleccione el tipo de combustible"
        }),
        condition: Me.string().min(1, {
            message: "Describa el estado del vehículo"
        }),
        additional: Me.string().optional(),
        images: Me.array(Me.string()).default([]).optional()
    }),
    Y7 = () => {
        h.useEffect(() => {
            x$()
        }, []);
        const {toast: t} = st(),
            s = mn({
                resolver: Sn(K7),
                defaultValues: {
                    name: "",
                    email: "",
                    phone: "",
                    make: "",
                    model: "",
                    year: "",
                    kilometer: "",
                    fuel: "",
                    condition: "",
                    additional: "",
                    images: []
                }
            }),
            r = async n => {
                try {
                    console.log("🚗 [Vehicle Form] Enviando datos del formulario:", n);
                    const a = {
                        ...n,
                        images: n.images || [],
                        timestamp: new Date().toISOString()
                    };
                    console.log("🚗 [Vehicle Form] Datos preparados para envío:", a);
                    const i = await fetch("/api/vehicle-valuation", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json"
                        },
                        body: JSON.stringify(a)
                    });
                    if (console.log("🚗 [Vehicle Form] Respuesta del servidor:", i.status, i.statusText), !i.ok) {
                        const l = await i.json().catch(() => ({}));
                        throw console.error("❌ [Vehicle Form] Error del servidor:", l), new Error(l.error || "Error al enviar la solicitud")
                    }
                    const o = await i.json();
                    console.log("✅ [Vehicle Form] Respuesta exitosa:", o),
                    t({
                        title: "Solicitud enviada",
                        description: `Hemos recibido su solicitud de tasación para ${n.make} ${n.model} ${n.year}${n.images && n.images.length > 0 ? ` con ${n.images.length} imágenes` : ""}. Nos pondremos en contacto con usted lo antes posible.`
                    }),
                    s.reset()
                } catch (a) {
                    console.error("❌ [Vehicle Form] Error completo:", a),
                    t({
                        title: "Error al enviar",
                        description: a instanceof Error ? a.message : "Ha ocurrido un error al enviar su solicitud. Por favor, inténtelo de nuevo.",
                        variant: "destructive"
                    })
                }
            };
        return e.jsx("div", {
            className: "max-w-[1400px] mx-auto px-6 py-8",
            children: e.jsxs("div", {
                className: "grid grid-cols-1 lg:grid-cols-3 gap-8",
                children: [e.jsx("div", {
                    className: "lg:col-span-2",
                    children: e.jsx(U, {
                        children: e.jsxs(q, {
                            className: "p-6",
                            children: [e.jsxs("div", {
                                className: "mb-6 text-center",
                                children: [e.jsx("h1", {
                                    className: "text-2xl font-montserrat font-semibold text-gray-800 mb-2",
                                    children: "Tasamos tu Vehículo"
                                }), e.jsx("p", {
                                    className: "text-sm text-gray-600 mb-4",
                                    children: "Obtenga una valoración gratuita de su vehículo"
                                })]
                            }), e.jsx("h2", {
                                className: "text-xl font-montserrat font-semibold mb-6",
                                children: "Formulario de tasación"
                            }), e.jsx(_n, {
                                ...s,
                                children: e.jsxs("form", {
                                    onSubmit: s.handleSubmit(r),
                                    className: "space-y-6",
                                    children: [e.jsxs("div", {
                                        children: [e.jsx("h3", {
                                            className: "text-lg font-semibold mb-4",
                                            children: "Datos de contacto"
                                        }), e.jsxs("div", {
                                            className: "grid grid-cols-1 md:grid-cols-2 gap-6",
                                            children: [e.jsx(et, {
                                                control: s.control,
                                                name: "name",
                                                render: ({field: n}) => e.jsxs(Ze, {
                                                    children: [e.jsx(tt, {
                                                        children: "Nombre completo"
                                                    }), e.jsx(Xe, {
                                                        children: e.jsx(te, {
                                                            placeholder: "Su nombre",
                                                            ...n
                                                        })
                                                    }), e.jsx(rt, {})]
                                                })
                                            }), e.jsx(et, {
                                                control: s.control,
                                                name: "email",
                                                render: ({field: n}) => e.jsxs(Ze, {
                                                    children: [e.jsx(tt, {
                                                        children: "Correo electrónico"
                                                    }), e.jsx(Xe, {
                                                        children: e.jsx(te, {
                                                            placeholder: "ejemplo@correo.com",
                                                            ...n
                                                        })
                                                    }), e.jsx(rt, {})]
                                                })
                                            }), e.jsx(et, {
                                                control: s.control,
                                                name: "phone",
                                                render: ({field: n}) => e.jsxs(Ze, {
                                                    children: [e.jsx(tt, {
                                                        children: "Teléfono"
                                                    }), e.jsx(Xe, {
                                                        children: e.jsx(te, {
                                                            placeholder: "600 123 456",
                                                            ...n
                                                        })
                                                    }), e.jsx(rt, {})]
                                                })
                                            })]
                                        })]
                                    }), e.jsxs("div", {
                                        children: [e.jsx("h3", {
                                            className: "text-lg font-semibold mb-4",
                                            children: "Datos del vehículo"
                                        }), e.jsxs("div", {
                                            className: "grid grid-cols-1 md:grid-cols-2 gap-6",
                                            children: [e.jsx(et, {
                                                control: s.control,
                                                name: "make",
                                                render: ({field: n}) => e.jsxs(Ze, {
                                                    children: [e.jsx(tt, {
                                                        children: "Marca"
                                                    }), e.jsxs(He, {
                                                        onValueChange: n.onChange,
                                                        defaultValue: n.value,
                                                        children: [e.jsx(Xe, {
                                                            children: e.jsx(qe, {
                                                                children: e.jsx(We, {
                                                                    placeholder: "Seleccione una marca"
                                                                })
                                                            })
                                                        }), e.jsxs(Be, {
                                                            children: [e.jsx(Q, {
                                                                value: "Audi",
                                                                children: "Audi"
                                                            }), e.jsx(Q, {
                                                                value: "BMW",
                                                                children: "BMW"
                                                            }), e.jsx(Q, {
                                                                value: "Citroën",
                                                                children: "Citroën"
                                                            }), e.jsx(Q, {
                                                                value: "Fiat",
                                                                children: "Fiat"
                                                            }), e.jsx(Q, {
                                                                value: "Ford",
                                                                children: "Ford"
                                                            }), e.jsx(Q, {
                                                                value: "Honda",
                                                                children: "Honda"
                                                            }), e.jsx(Q, {
                                                                value: "Hyundai",
                                                                children: "Hyundai"
                                                            }), e.jsx(Q, {
                                                                value: "Kia",
                                                                children: "Kia"
                                                            }), e.jsx(Q, {
                                                                value: "Mercedes",
                                                                children: "Mercedes"
                                                            }), e.jsx(Q, {
                                                                value: "Nissan",
                                                                children: "Nissan"
                                                            }), e.jsx(Q, {
                                                                value: "Opel",
                                                                children: "Opel"
                                                            }), e.jsx(Q, {
                                                                value: "Peugeot",
                                                                children: "Peugeot"
                                                            }), e.jsx(Q, {
                                                                value: "Renault",
                                                                children: "Renault"
                                                            }), e.jsx(Q, {
                                                                value: "Seat",
                                                                children: "Seat"
                                                            }), e.jsx(Q, {
                                                                value: "Toyota",
                                                                children: "Toyota"
                                                            }), e.jsx(Q, {
                                                                value: "Volkswagen",
                                                                children: "Volkswagen"
                                                            }), e.jsx(Q, {
                                                                value: "Volvo",
                                                                children: "Volvo"
                                                            }), e.jsx(Q, {
                                                                value: "otros",
                                                                children: "Otros"
                                                            })]
                                                        })]
                                                    }), e.jsx(rt, {})]
                                                })
                                            }), e.jsx(et, {
                                                control: s.control,
                                                name: "model",
                                                render: ({field: n}) => e.jsxs(Ze, {
                                                    children: [e.jsx(tt, {
                                                        children: "Modelo"
                                                    }), e.jsx(Xe, {
                                                        children: e.jsx(te, {
                                                            placeholder: "Ej. Golf, León, Megane...",
                                                            ...n
                                                        })
                                                    }), e.jsx(rt, {})]
                                                })
                                            }), e.jsx(et, {
                                                control: s.control,
                                                name: "year",
                                                render: ({field: n}) => e.jsxs(Ze, {
                                                    children: [e.jsx(tt, {
                                                        children: "Año de matriculación"
                                                    }), e.jsx(Xe, {
                                                        children: e.jsx(te, {
                                                            placeholder: "Ej. 2015",
                                                            ...n
                                                        })
                                                    }), e.jsx(rt, {})]
                                                })
                                            }), e.jsx(et, {
                                                control: s.control,
                                                name: "kilometer",
                                                render: ({field: n}) => e.jsxs(Ze, {
                                                    children: [e.jsx(tt, {
                                                        children: "Kilómetros"
                                                    }), e.jsx(Xe, {
                                                        children: e.jsx(te, {
                                                            placeholder: "Ej. 120000",
                                                            ...n
                                                        })
                                                    }), e.jsx(rt, {})]
                                                })
                                            }), e.jsx(et, {
                                                control: s.control,
                                                name: "fuel",
                                                render: ({field: n}) => e.jsxs(Ze, {
                                                    children: [e.jsx(tt, {
                                                        children: "Combustible"
                                                    }), e.jsxs(He, {
                                                        onValueChange: n.onChange,
                                                        defaultValue: n.value,
                                                        children: [e.jsx(Xe, {
                                                            children: e.jsx(qe, {
                                                                children: e.jsx(We, {
                                                                    placeholder: "Seleccione tipo de combustible"
                                                                })
                                                            })
                                                        }), e.jsxs(Be, {
                                                            children: [e.jsx(Q, {
                                                                value: "Gasolina",
                                                                children: "Gasolina"
                                                            }), e.jsx(Q, {
                                                                value: "Diesel",
                                                                children: "Diesel"
                                                            }), e.jsx(Q, {
                                                                value: "Híbrido",
                                                                children: "Híbrido"
                                                            }), e.jsx(Q, {
                                                                value: "Eléctrico",
                                                                children: "Eléctrico"
                                                            }), e.jsx(Q, {
                                                                value: "GLP/GNC",
                                                                children: "GLP/GNC"
                                                            })]
                                                        })]
                                                    }), e.jsx(rt, {})]
                                                })
                                            }), e.jsx(et, {
                                                control: s.control,
                                                name: "condition",
                                                render: ({field: n}) => e.jsxs(Ze, {
                                                    children: [e.jsx(tt, {
                                                        children: "Estado general"
                                                    }), e.jsxs(He, {
                                                        onValueChange: n.onChange,
                                                        defaultValue: n.value,
                                                        children: [e.jsx(Xe, {
                                                            children: e.jsx(qe, {
                                                                children: e.jsx(We, {
                                                                    placeholder: "Seleccione estado"
                                                                })
                                                            })
                                                        }), e.jsxs(Be, {
                                                            children: [e.jsx(Q, {
                                                                value: "Excelente",
                                                                children: "Excelente"
                                                            }), e.jsx(Q, {
                                                                value: "Bueno",
                                                                children: "Bueno"
                                                            }), e.jsx(Q, {
                                                                value: "Normal",
                                                                children: "Normal"
                                                            }), e.jsx(Q, {
                                                                value: "Necesita reparaciones",
                                                                children: "Necesita reparaciones"
                                                            }), e.jsx(Q, {
                                                                value: "Averiado/Siniestro",
                                                                children: "Averiado/Siniestro"
                                                            })]
                                                        })]
                                                    }), e.jsx(rt, {})]
                                                })
                                            })]
                                        })]
                                    }), e.jsx(et, {
                                        control: s.control,
                                        name: "additional",
                                        render: ({field: n}) => e.jsxs(Ze, {
                                            children: [e.jsx(tt, {
                                                children: "Información adicional"
                                            }), e.jsx(Xe, {
                                                children: e.jsx(Ut, {
                                                    placeholder: "Describa cualquier característica adicional, extras, reparaciones necesarias, etc.",
                                                    className: "min-h-[100px]",
                                                    ...n
                                                })
                                            }), e.jsx(rt, {})]
                                        })
                                    }), e.jsxs("div", {
                                        children: [e.jsxs("h3", {
                                            className: "text-lg font-semibold mb-4 flex items-center",
                                            children: [e.jsx(wO, {
                                                className: "mr-2 text-primary"
                                            }), "Imágenes del vehículo"]
                                        }), e.jsx("p", {
                                            className: "text-sm text-muted-foreground mb-4",
                                            children: "Sube fotos de tu vehículo para obtener una tasación más precisa. Se recomiendan imágenes del exterior, interior y cualquier daño visible."
                                        }), e.jsx(et, {
                                            control: s.control,
                                            name: "images",
                                            render: ({field: n}) => e.jsxs(Ze, {
                                                children: [e.jsx(Xe, {
                                                    children: e.jsx(G7, {
                                                        value: n.value || [],
                                                        onChange: n.onChange,
                                                        maxImages: 8,
                                                        disabled: s.formState.isSubmitting
                                                    })
                                                }), e.jsx(rt, {})]
                                            })
                                        })]
                                    }), e.jsx(T, {
                                        type: "submit",
                                        className: "w-full bg-primary hover:bg-primary/90",
                                        disabled: s.formState.isSubmitting,
                                        children: s.formState.isSubmitting ? "Enviando..." : "Solicitar tasación"
                                    })]
                                })
                            })]
                        })
                    })
                }), e.jsx("div", {
                    children: e.jsx(U, {
                        children: e.jsxs(q, {
                            className: "p-6",
                            children: [e.jsxs("h2", {
                                className: "text-xl font-montserrat font-semibold mb-6 flex items-center",
                                children: [e.jsx(Ss, {
                                    className: "mr-2 text-primary"
                                }), "¿Por qué elegirnos?"]
                            }), e.jsxs("div", {
                                className: "space-y-4",
                                children: [e.jsxs("div", {
                                    className: "flex items-start",
                                    children: [e.jsx(Rt, {
                                        className: "h-5 w-5 text-green-600 mr-2 mt-1 flex-shrink-0"
                                    }), e.jsx("p", {
                                        children: "Tasación gratuita y sin compromiso"
                                    })]
                                }), e.jsxs("div", {
                                    className: "flex items-start",
                                    children: [e.jsx(Rt, {
                                        className: "h-5 w-5 text-green-600 mr-2 mt-1 flex-shrink-0"
                                    }), e.jsx("p", {
                                        children: "Respuesta rápida (24-48h)"
                                    })]
                                }), e.jsxs("div", {
                                    className: "flex items-start",
                                    children: [e.jsx(Rt, {
                                        className: "h-5 w-5 text-green-600 mr-2 mt-1 flex-shrink-0"
                                    }), e.jsx("p", {
                                        children: "Mejor precio garantizado"
                                    })]
                                }), e.jsxs("div", {
                                    className: "flex items-start",
                                    children: [e.jsx(Rt, {
                                        className: "h-5 w-5 text-green-600 mr-2 mt-1 flex-shrink-0"
                                    }), e.jsx("p", {
                                        children: "Gestionamos toda la documentación"
                                    })]
                                }), e.jsxs("div", {
                                    className: "flex items-start",
                                    children: [e.jsx(Rt, {
                                        className: "h-5 w-5 text-green-600 mr-2 mt-1 flex-shrink-0"
                                    }), e.jsx("p", {
                                        children: "Recogida gratuita del vehículo"
                                    })]
                                }), e.jsxs("div", {
                                    className: "flex items-start",
                                    children: [e.jsx(Rt, {
                                        className: "h-5 w-5 text-green-600 mr-2 mt-1 flex-shrink-0"
                                    }), e.jsx("p", {
                                        children: "Pago inmediato"
                                    })]
                                })]
                            }), e.jsxs("div", {
                                className: "mt-8 pt-6 border-t",
                                children: [e.jsx("h3", {
                                    className: "font-montserrat font-semibold mb-4",
                                    children: "¿Cómo funciona?"
                                }), e.jsxs("ol", {
                                    className: "space-y-4",
                                    children: [e.jsxs("li", {
                                        className: "flex",
                                        children: [e.jsx("span", {
                                            className: "bg-primary text-white rounded-full w-6 h-6 flex items-center justify-center mr-3 flex-shrink-0",
                                            children: "1"
                                        }), e.jsx("p", {
                                            children: "Complete y envíe el formulario con los datos de su vehículo"
                                        })]
                                    }), e.jsxs("li", {
                                        className: "flex",
                                        children: [e.jsx("span", {
                                            className: "bg-primary text-white rounded-full w-6 h-6 flex items-center justify-center mr-3 flex-shrink-0",
                                            children: "2"
                                        }), e.jsx("p", {
                                            children: "Nuestros especialistas evaluarán su vehículo y se pondrán en contacto con usted"
                                        })]
                                    }), e.jsxs("li", {
                                        className: "flex",
                                        children: [e.jsx("span", {
                                            className: "bg-primary text-white rounded-full w-6 h-6 flex items-center justify-center mr-3 flex-shrink-0",
                                            children: "3"
                                        }), e.jsx("p", {
                                            children: "Si acepta nuestra oferta, acordaremos la recogida del vehículo"
                                        })]
                                    }), e.jsxs("li", {
                                        className: "flex",
                                        children: [e.jsx("span", {
                                            className: "bg-primary text-white rounded-full w-6 h-6 flex items-center justify-center mr-3 flex-shrink-0",
                                            children: "4"
                                        }), e.jsx("p", {
                                            children: "Realizamos el pago en el momento de la recogida"
                                        })]
                                    })]
                                })]
                            }), e.jsxs("div", {
                                className: "mt-8 bg-gray-50 p-4 rounded-lg",
                                children: [e.jsx("h3", {
                                    className: "font-semibold mb-2",
                                    children: "¿Necesita más información?"
                                }), e.jsx("p", {
                                    className: "text-sm mb-4",
                                    children: "Contáctenos directamente y resolveremos todas sus dudas."
                                }), e.jsxs("div", {
                                    className: "flex space-x-2",
                                    children: [e.jsx(T, {
                                        variant: "outline",
                                        className: "flex-1",
                                        asChild: !0,
                                        children: e.jsx("a", {
                                            href: "tel:958790858",
                                            children: "Llamar"
                                        })
                                    }), e.jsx(T, {
                                        variant: "outline",
                                        className: "flex-1",
                                        asChild: !0,
                                        children: e.jsx("a", {
                                            href: "mailto:info@desguacemurcia.com",
                                            children: "Email"
                                        })
                                    })]
                                })]
                            })]
                        })
                    })
                })]
            })
        })
    },
    Q7 = Me.object({
        name: Me.string().min(2, {
            message: "El nombre debe tener al menos 2 caracteres"
        }),
        email: Me.string().email({
            message: "Ingrese un correo electrónico válido"
        }),
        phone: Me.string().min(9, {
            message: "Ingrese un número de teléfono válido"
        }),
        subject: Me.string().min(3, {
            message: "El asunto debe tener al menos 3 caracteres"
        }),
        message: Me.string().min(10, {
            message: "El mensaje debe tener al menos 10 caracteres"
        })
    }),
    Z7 = () => {
        h.useEffect(() => {
            f$()
        }, []);
        const {toast: t} = st(),
            {data: s, isLoading: r} = Te({
                queryKey: ["/api/cms/pages/contacto"],
                queryFn: async () => {
                    const i = await fetch("/api/cms/pages/contacto");
                    if (!i.ok)
                        throw new Error("Error al cargar página de contacto");
                    return i.json()
                }
            }),
            n = mn({
                resolver: Sn(Q7),
                defaultValues: {
                    name: "",
                    email: "",
                    phone: "",
                    subject: "",
                    message: ""
                }
            }),
            a = async i => {
                try {
                    console.log("📤 [Contact Form] Enviando datos:", i);
                    const o = await fetch("/api/contact", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json"
                        },
                        body: JSON.stringify(i)
                    });
                    if (console.log("📤 [Contact Form] Respuesta del servidor:", o.status, o.statusText), o.ok) {
                        const l = await o.json();
                        console.log("✅ [Contact Form] Respuesta exitosa:", l),
                        t({
                            title: "Mensaje enviado",
                            description: "Hemos recibido su mensaje. Nos pondremos en contacto con usted lo antes posible.",
                            variant: "default"
                        }),
                        n.reset()
                    } else {
                        const l = await o.json().catch(() => ({}));
                        throw console.error("❌ [Contact Form] Error del servidor:", l), new Error(l.error || "Error al enviar mensaje")
                    }
                } catch (o) {
                    console.error("❌ [Contact Form] Error completo:", o),
                    t({
                        title: "Error",
                        description: o instanceof Error ? o.message : "No se pudo enviar el mensaje. Inténtelo de nuevo.",
                        variant: "destructive"
                    })
                }
            };
        return r ? e.jsx("div", {
            className: "max-w-[1400px] mx-auto px-6 py-8",
            children: e.jsxs("div", {
                className: "animate-pulse space-y-4",
                children: [e.jsx("div", {
                    className: "h-8 bg-gray-200 rounded w-1/3"
                }), e.jsx("div", {
                    className: "h-4 bg-gray-200 rounded w-2/3"
                }), e.jsxs("div", {
                    className: "space-y-3",
                    children: [e.jsx("div", {
                        className: "h-4 bg-gray-200 rounded"
                    }), e.jsx("div", {
                        className: "h-4 bg-gray-200 rounded"
                    }), e.jsx("div", {
                        className: "h-4 bg-gray-200 rounded w-5/6"
                    })]
                })]
            })
        }) : e.jsx("div", {
            className: "max-w-[1400px] mx-auto px-6 py-8",
            children: e.jsxs("div", {
                className: "grid grid-cols-1 lg:grid-cols-3 gap-8",
                children: [e.jsx("div", {
                    className: "lg:col-span-2",
                    children: e.jsx(U, {
                        children: e.jsxs(q, {
                            className: "p-6",
                            children: [e.jsxs("div", {
                                className: "mb-6 text-center",
                                children: [e.jsx("h1", {
                                    className: "text-2xl font-montserrat font-semibold text-gray-800 mb-2",
                                    children: (s == null ? void 0 : s.title) || "Contacto"
                                }), e.jsx("p", {
                                    className: "text-sm text-gray-600 mb-4",
                                    children: (s == null ? void 0 : s.metaDescription) || "¿Tiene alguna pregunta? ¡Estamos aquí para ayudarle!"
                                })]
                            }), e.jsx("h2", {
                                className: "text-xl font-montserrat font-semibold mb-6",
                                children: "Envíenos un mensaje"
                            }), e.jsx(_n, {
                                ...n,
                                children: e.jsxs("form", {
                                    onSubmit: n.handleSubmit(a),
                                    className: "space-y-6",
                                    children: [e.jsxs("div", {
                                        className: "grid grid-cols-1 md:grid-cols-2 gap-6",
                                        children: [e.jsx(et, {
                                            control: n.control,
                                            name: "name",
                                            render: ({field: i}) => e.jsxs(Ze, {
                                                children: [e.jsx(tt, {
                                                    children: "Nombre completo"
                                                }), e.jsx(Xe, {
                                                    children: e.jsx(te, {
                                                        placeholder: "Su nombre",
                                                        ...i
                                                    })
                                                }), e.jsx(rt, {})]
                                            })
                                        }), e.jsx(et, {
                                            control: n.control,
                                            name: "email",
                                            render: ({field: i}) => e.jsxs(Ze, {
                                                children: [e.jsx(tt, {
                                                    children: "Correo electrónico"
                                                }), e.jsx(Xe, {
                                                    children: e.jsx(te, {
                                                        placeholder: "ejemplo@correo.com",
                                                        ...i
                                                    })
                                                }), e.jsx(rt, {})]
                                            })
                                        }), e.jsx(et, {
                                            control: n.control,
                                            name: "phone",
                                            render: ({field: i}) => e.jsxs(Ze, {
                                                children: [e.jsx(tt, {
                                                    children: "Teléfono"
                                                }), e.jsx(Xe, {
                                                    children: e.jsx(te, {
                                                        placeholder: "600 123 456",
                                                        ...i
                                                    })
                                                }), e.jsx(rt, {})]
                                            })
                                        }), e.jsx(et, {
                                            control: n.control,
                                            name: "subject",
                                            render: ({field: i}) => e.jsxs(Ze, {
                                                children: [e.jsx(tt, {
                                                    children: "Asunto"
                                                }), e.jsx(Xe, {
                                                    children: e.jsx(te, {
                                                        placeholder: "Asunto de su mensaje",
                                                        ...i
                                                    })
                                                }), e.jsx(rt, {})]
                                            })
                                        })]
                                    }), e.jsx(et, {
                                        control: n.control,
                                        name: "message",
                                        render: ({field: i}) => e.jsxs(Ze, {
                                            children: [e.jsx(tt, {
                                                children: "Mensaje"
                                            }), e.jsx(Xe, {
                                                children: e.jsx(Ut, {
                                                    placeholder: "Escriba su mensaje aquí...",
                                                    className: "min-h-[150px]",
                                                    ...i
                                                })
                                            }), e.jsx(rt, {})]
                                        })
                                    }), e.jsx(T, {
                                        type: "submit",
                                        className: "w-full bg-primary hover:bg-primary/90",
                                        disabled: n.formState.isSubmitting,
                                        children: n.formState.isSubmitting ? "Enviando..." : "Enviar mensaje"
                                    })]
                                })
                            })]
                        })
                    })
                }), e.jsxs("div", {
                    className: "space-y-6",
                    children: [e.jsx(U, {
                        children: e.jsxs(q, {
                            className: "p-6",
                            children: [e.jsx("h2", {
                                className: "text-xl font-montserrat font-semibold mb-6",
                                children: "Información de contacto"
                            }), e.jsxs("div", {
                                className: "space-y-6",
                                children: [e.jsxs("div", {
                                    className: "flex",
                                    children: [e.jsx("div", {
                                        className: "flex-shrink-0 w-12 h-12 rounded-full bg-primary flex items-center justify-center text-white",
                                        children: "📍"
                                    }), e.jsxs("div", {
                                        className: "ml-4",
                                        children: [e.jsx("h3", {
                                            className: "font-montserrat font-semibold mb-1",
                                            children: "Dirección"
                                        }), e.jsxs("p", {
                                            className: "text-gray-600",
                                            children: ["Carretera Almuñecar, Km 1.5", e.jsx("br", {}), "18640 Granada"]
                                        })]
                                    })]
                                }), e.jsxs("div", {
                                    className: "flex",
                                    children: [e.jsx("div", {
                                        className: "flex-shrink-0 w-12 h-12 rounded-full bg-primary flex items-center justify-center text-white",
                                        children: "📞"
                                    }), e.jsxs("div", {
                                        className: "ml-4",
                                        children: [e.jsx("h3", {
                                            className: "font-montserrat font-semibold mb-1",
                                            children: "Teléfono"
                                        }), e.jsx("p", {
                                            className: "text-gray-600",
                                            children: e.jsx("a", {
                                                href: "tel:958790858",
                                                className: "hover:text-primary",
                                                children: "958 790 858"
                                            })
                                        })]
                                    })]
                                }), e.jsxs("div", {
                                    className: "flex",
                                    children: [e.jsx("div", {
                                        className: "flex-shrink-0 w-12 h-12 rounded-full bg-primary flex items-center justify-center text-white",
                                        children: "✉️"
                                    }), e.jsxs("div", {
                                        className: "ml-4",
                                        children: [e.jsx("h3", {
                                            className: "font-montserrat font-semibold mb-1",
                                            children: "Email"
                                        }), e.jsx("p", {
                                            className: "text-gray-600",
                                            children: e.jsx("a", {
                                                href: "mailto:info@desguacemurcia.com",
                                                className: "hover:text-primary",
                                                children: "info@desguacemurcia.com"
                                            })
                                        })]
                                    })]
                                }), e.jsxs("div", {
                                    className: "flex",
                                    children: [e.jsx("div", {
                                        className: "flex-shrink-0 w-12 h-12 rounded-full bg-primary flex items-center justify-center text-white",
                                        children: "🕒"
                                    }), e.jsxs("div", {
                                        className: "ml-4",
                                        children: [e.jsx("h3", {
                                            className: "font-montserrat font-semibold mb-1",
                                            children: "Horario Verano"
                                        }), e.jsx("p", {
                                            className: "text-gray-600",
                                            children: "De lunes a viernes de 7:00 a 14:30"
                                        })]
                                    })]
                                })]
                            })]
                        })
                    }), e.jsx(U, {
                        children: e.jsxs(q, {
                            className: "p-6",
                            children: [e.jsx("h3", {
                                className: "text-lg font-montserrat font-semibold mb-4",
                                children: "Ubicación"
                            }), e.jsx("div", {
                                className: "w-full h-64 bg-gray-200 rounded-lg overflow-hidden",
                                children: e.jsx("iframe", {
                                    src: "https://maps.google.com/maps?q=Carretera%20Almu%C3%B1ecar%20Km%201.5%2018640%20Granada%20Spain&t=&z=15&ie=UTF8&iwloc=&output=embed",
                                    className: "w-full h-full",
                                    style: {
                                        border: 0
                                    },
                                    allowFullScreen: !0,
                                    loading: "lazy",
                                    title: "Mapa de ubicación - Granada",
                                    referrerPolicy: "no-referrer-when-downgrade"
                                })
                            })]
                        })
                    })]
                })]
            })
        })
    },
    X7 = Me.object({
        identifier: Me.string().min(1, "El nombre de usuario es obligatorio"),
        password: Me.string().min(1, "La contraseña es obligatoria")
    }),
    J7 = () => {
        const [, t] = ut(),
            {toast: s} = st(),
            {login: r, user: n, isAuthenticated: a} = Ts();
        h.useEffect(() => {
            a && (n != null && n.isAdmin) && t("/admin/dashboard")
        }, [a, n, t]);
        const i = mn({
                resolver: Sn(X7),
                defaultValues: {
                    identifier: "",
                    password: ""
                }
            }),
            o = i.formState.isSubmitting,
            l = async c => {
                try {
                    await r(c.identifier, c.password),
                    s({
                        title: "Iniciando sesión",
                        description: "Verificando credenciales..."
                    })
                } catch (d) {
                    console.error("Error de autenticación:", d),
                    s({
                        title: "Error de autenticación",
                        description: "Usuario o contraseña incorrectos",
                        variant: "destructive"
                    })
                }
            };
        return e.jsxs(U, {
            className: "w-full max-w-md mx-auto",
            children: [e.jsxs(ne, {
                children: [e.jsx(ae, {
                    className: "text-2xl font-montserrat",
                    children: "Iniciar sesión"
                }), e.jsx(qt, {
                    children: "Accede al panel de administración para gestionar la tienda"
                })]
            }), e.jsx(q, {
                children: e.jsx(_n, {
                    ...i,
                    children: e.jsxs("form", {
                        onSubmit: i.handleSubmit(l),
                        className: "space-y-4",
                        children: [e.jsx(et, {
                            control: i.control,
                            name: "identifier",
                            render: ({field: c}) => e.jsxs(Ze, {
                                children: [e.jsx(tt, {
                                    children: "Nombre de usuario"
                                }), e.jsx(Xe, {
                                    children: e.jsx(te, {
                                        placeholder: "admin",
                                        ...c
                                    })
                                }), e.jsx(rt, {})]
                            })
                        }), e.jsx(et, {
                            control: i.control,
                            name: "password",
                            render: ({field: c}) => e.jsxs(Ze, {
                                children: [e.jsx(tt, {
                                    children: "Contraseña"
                                }), e.jsx(Xe, {
                                    children: e.jsx(te, {
                                        type: "password",
                                        placeholder: "••••••••",
                                        ...c
                                    })
                                }), e.jsx(rt, {})]
                            })
                        }), e.jsx(T, {
                            type: "submit",
                            className: "w-full bg-primary hover:bg-primary/90",
                            disabled: o,
                            children: o ? "Iniciando sesión..." : "Acceder"
                        })]
                    })
                })
            }), e.jsx(_a, {
                className: "text-sm text-center text-muted-foreground",
                children: e.jsx("p", {
                    className: "w-full",
                    children: "Acceso sólo para administradores autorizados"
                })
            })]
        })
    },
    eU = () => {
        const [, t] = ut(),
            {user: s, isLoading: r} = Ts();
        return h.useEffect(() => {
            !r && s && s.isAdmin && t("/admin/dashboard")
        }, [s, r, t]), e.jsxs("div", {
            className: "container mx-auto px-4 py-12",
            children: [e.jsxs("div", {
                className: "max-w-md mx-auto mb-8 text-center",
                children: [e.jsx("h1", {
                    className: "text-3xl font-montserrat font-bold mb-2",
                    children: "Panel de Administración"
                }), e.jsx("p", {
                    className: "text-muted-foreground",
                    children: "Acceda para gestionar la tienda y las importaciones de API"
                })]
            }), e.jsx(J7, {})]
        })
    },
    Kl = t => (t == null ? void 0 : t.isAdmin) || (t == null ? void 0 : t.role) === "admin",
    tU = t => (t == null ? void 0 : t.role) === "manager" || Kl(t),
    $s = ({activeTab: t, setActiveTab: s}) => {
        const [r] = ut(),
            [n, a] = h.useState(!1),
            {user: i} = Ts(),
            o = [{
                id: "dashboard",
                label: "Panel principal",
                icon: DO,
                href: "/admin/dashboard"
            }],
            l = [{
                id: "admin_vehicles",
                label: "Gestión Vehículos",
                icon: Ss,
                href: "/admin/vehicles"
            }, {
                id: "admin_parts",
                label: "Gestión Piezas",
                icon: Ot,
                href: "/admin/parts"
            }, {
                id: "imports",
                label: "Importación",
                icon: Gn,
                href: "/admin/import-optimized"
            }],
            c = [{
                id: "admin_users",
                label: "Usuarios",
                icon: ci,
                href: "/admin/users"
            }, {
                id: "admin_clients",
                label: "Clientes",
                icon: ao,
                href: "/admin/clients"
            }],
            d = [{
                id: "admin_orders",
                label: "Pedidos",
                icon: ln,
                href: "/admin/orders"
            }],
            u = [{
                id: "admin_payment_methods",
                label: "Métodos de Pago",
                icon: us,
                href: "/admin/payment-methods"
            }, {
                id: "admin_shipping",
                label: "Transportes",
                icon: er,
                href: "/admin/shipping"
            }],
            m = [{
                id: "admin_messages",
                label: "Mensajes Recibidos",
                icon: Ls,
                href: "/admin/messages"
            }],
            p = [{
                id: "admin_cms",
                label: "Gestión de Contenido",
                icon: Kn,
                href: "/admin/cms"
            }, {
                id: "admin_popups",
                label: "Pop-ups",
                icon: Pv,
                href: "/admin/popups"
            }, {
                id: "admin_email_config",
                label: "Configuración de Correos",
                icon: Hs,
                href: "/admin/email-config"
            }, {
                id: "admin_cookie_settings",
                label: "Configuración de Cookies",
                icon: FE,
                href: "/admin/cookie-settings"
            }, {
                id: "settings",
                label: "Configuración General",
                icon: Hs,
                href: "/admin/settings"
            }],
            j = () => {
                a(!n)
            },
            g = () => {
                a(!1)
            },
            x = v => {
                v && g(),
                window.scrollTo({
                    top: 0,
                    behavior: "smooth"
                })
            },
            y = ({isMobile: v=!1}) => {
                const f = i && Kl(i),
                    b = i && tU(i);
                return e.jsx(e.Fragment, {
                    children: e.jsxs("div", {
                        className: "p-4",
                        children: [!v && e.jsx("div", {
                            className: "flex items-center justify-center py-6",
                            children: e.jsx("div", {
                                className: "text-2xl font-montserrat font-bold text-center",
                                children: f ? "Administración" : "Panel de Gestión"
                            })
                        }), v && e.jsx("div", {
                            className: "flex items-center justify-center py-2",
                            children: e.jsx("div", {
                                className: "text-xl font-montserrat font-bold text-center",
                                children: f ? "Administración" : "Panel de Gestión"
                            })
                        }), i && e.jsxs("div", {
                            className: `space-y-1 ${v ? "mt-4" : "mt-8"}`,
                            children: [e.jsx("p", {
                                className: "px-4 py-2 text-xs uppercase text-gray-300 font-semibold",
                                children: "Principal"
                            }), o.map(N => e.jsx(ze, {
                                href: N.href,
                                children: e.jsxs("a", {
                                    className: me("flex items-center w-full px-4 py-3 rounded-lg text-left transition-colors", r === N.href || r.startsWith(N.href + "/") ? "bg-primary-foreground text-primary font-medium" : "text-gray-200 hover:bg-primary-foreground/10"),
                                    onClick: () => x(v),
                                    children: [e.jsx(N.icon, {
                                        className: "h-5 w-5 mr-3"
                                    }), N.label]
                                })
                            }, N.id))]
                        }), f && e.jsxs("div", {
                            className: "space-y-1 mt-6",
                            children: [e.jsx("p", {
                                className: "px-4 py-2 text-xs uppercase text-gray-300 font-semibold",
                                children: "Inventario"
                            }), l.map(N => e.jsx(ze, {
                                href: N.href,
                                children: e.jsxs("a", {
                                    className: me("flex items-center w-full px-4 py-3 rounded-lg text-gray-200 hover:bg-primary-foreground/10 transition-colors", r === N.href || r.startsWith(N.href + "/") || t === N.id ? "bg-primary-foreground text-primary font-medium" : "text-gray-200 hover:bg-primary-foreground/10"),
                                    onClick: () => x(v),
                                    children: [e.jsx(N.icon, {
                                        className: "h-5 w-5 mr-3"
                                    }), N.label]
                                })
                            }, N.id))]
                        }), f && e.jsxs("div", {
                            className: "space-y-1 mt-6",
                            children: [e.jsx("p", {
                                className: "px-4 py-2 text-xs uppercase text-gray-300 font-semibold",
                                children: "Usuarios"
                            }), c.map(N => e.jsx(ze, {
                                href: N.href,
                                children: e.jsxs("a", {
                                    className: me("flex items-center w-full px-4 py-3 rounded-lg text-gray-200 hover:bg-primary-foreground/10 transition-colors", r === N.href || r.startsWith(N.href + "/") || t === N.id ? "bg-primary-foreground text-primary font-medium" : "text-gray-200 hover:bg-primary-foreground/10"),
                                    onClick: () => x(v),
                                    children: [e.jsx(N.icon, {
                                        className: "h-5 w-5 mr-3"
                                    }), N.label]
                                })
                            }, N.id))]
                        }), b && e.jsxs("div", {
                            className: "space-y-1 mt-6",
                            children: [e.jsx("p", {
                                className: "px-4 py-2 text-xs uppercase text-gray-300 font-semibold",
                                children: "Ventas"
                            }), d.map(N => e.jsx(ze, {
                                href: N.href,
                                children: e.jsxs("a", {
                                    className: me("flex items-center w-full px-4 py-3 rounded-lg text-gray-200 hover:bg-primary-foreground/10 transition-colors", r === N.href || r.startsWith(N.href + "/") || t === N.id ? "bg-primary-foreground text-primary font-medium" : "text-gray-200 hover:bg-primary-foreground/10"),
                                    onClick: () => x(v),
                                    children: [e.jsx(N.icon, {
                                        className: "h-5 w-5 mr-3"
                                    }), N.label]
                                })
                            }, N.id)), f && u.map(N => e.jsx(ze, {
                                href: N.href,
                                children: e.jsxs("a", {
                                    className: me("flex items-center w-full px-4 py-3 rounded-lg text-gray-200 hover:bg-primary-foreground/10 transition-colors", r === N.href || r.startsWith(N.href + "/") || t === N.id ? "bg-primary-foreground text-primary font-medium" : "text-gray-200 hover:bg-primary-foreground/10"),
                                    onClick: () => x(v),
                                    children: [e.jsx(N.icon, {
                                        className: "h-5 w-5 mr-3"
                                    }), N.label]
                                })
                            }, N.id))]
                        }), b && e.jsxs("div", {
                            className: "space-y-1 mt-6",
                            children: [e.jsx("p", {
                                className: "px-4 py-2 text-xs uppercase text-gray-300 font-semibold",
                                children: "Comunicación"
                            }), m.map(N => e.jsx(ze, {
                                href: N.href,
                                children: e.jsxs("a", {
                                    className: me("flex items-center w-full px-4 py-3 rounded-lg text-gray-200 hover:bg-primary-foreground/10 transition-colors", r === N.href || r.startsWith(N.href + "/") || t === N.id ? "bg-primary-foreground text-primary font-medium" : "text-gray-200 hover:bg-primary-foreground/10"),
                                    onClick: () => x(v),
                                    children: [e.jsx(N.icon, {
                                        className: "h-5 w-5 mr-3"
                                    }), N.label]
                                })
                            }, N.id))]
                        }), b && e.jsxs("div", {
                            className: "space-y-1 mt-6",
                            children: [e.jsx("p", {
                                className: "px-4 py-2 text-xs uppercase text-gray-300 font-semibold",
                                children: "Clientes"
                            }), e.jsx(ze, {
                                href: "/admin/clients",
                                children: e.jsxs("a", {
                                    className: me("flex items-center w-full px-4 py-3 rounded-lg text-gray-200 hover:bg-primary-foreground/10 transition-colors", r === "/admin/clients" || r.startsWith("/admin/clients/") ? "bg-primary-foreground text-primary font-medium" : "text-gray-200 hover:bg-primary-foreground/10"),
                                    onClick: () => x(v),
                                    children: [e.jsx(ao, {
                                        className: "h-5 w-5 mr-3"
                                    }), "Gestión de Clientes"]
                                })
                            })]
                        }), f && e.jsxs("div", {
                            className: "space-y-1 mt-6",
                            children: [e.jsx("p", {
                                className: "px-4 py-2 text-xs uppercase text-gray-300 font-semibold",
                                children: "Configuración"
                            }), p.map(N => e.jsx(ze, {
                                href: N.href,
                                children: e.jsxs("a", {
                                    className: me("flex items-center w-full px-4 py-3 rounded-lg text-gray-200 hover:bg-primary-foreground/10 transition-colors", r === N.href || r.startsWith(N.href + "/") || t === N.id ? "bg-primary-foreground text-primary font-medium" : "text-gray-200 hover:bg-primary-foreground/10"),
                                    onClick: () => x(v),
                                    children: [e.jsx(N.icon, {
                                        className: "h-5 w-5 mr-3"
                                    }), N.label]
                                })
                            }, N.id))]
                        })]
                    })
                })
            };
        return e.jsxs(e.Fragment, {
            children: [!n && e.jsx("div", {
                className: "md:hidden fixed top-24 left-4 z-50",
                children: e.jsx("button", {
                    onClick: j,
                    className: "bg-primary text-white p-3 rounded-md shadow-lg",
                    children: e.jsx(BE, {
                        className: "h-6 w-6"
                    })
                })
            }), n && e.jsxs("div", {
                className: "fixed inset-0 z-40 md:hidden",
                children: [e.jsx("div", {
                    className: "fixed inset-0 bg-black bg-opacity-50",
                    onClick: g
                }), e.jsxs("div", {
                    className: "relative flex flex-col w-64 bg-primary text-white min-h-screen",
                    children: [e.jsx("div", {
                        className: "flex justify-end p-4",
                        children: e.jsx("button", {
                            onClick: g,
                            className: "text-white hover:text-gray-300 transition-colors",
                            children: e.jsx(tr, {
                                className: "h-6 w-6"
                            })
                        })
                    }), e.jsx(y, {
                        isMobile: !0
                    })]
                })]
            }), e.jsx("div", {
                className: "hidden md:flex flex-col w-64 bg-primary text-white min-h-screen",
                children: e.jsx(y, {
                    isMobile: !1
                })
            })]
        })
    },
    H0 = () => {
        var m,
            p,
            j,
            g,
            x,
            y,
            v,
            f,
            b,
            N,
            w,
            C,
            E,
            k;
        const [t, s] = h.useState(!1),
            {data: r, isLoading: n} = Te({
                queryKey: ["/api/dashboard/stats-quick"],
                queryFn: async () => {
                    const R = await fetch("/api/dashboard/stats-quick");
                    if (!R.ok)
                        throw new Error("Error cargando estadísticas básicas");
                    return R.json()
                },
                retry: 1,
                staleTime: 3e4
            }),
            {data: a, isLoading: i, error: o, refetch: l} = Te({
                queryKey: ["/api/dashboard/stats-local"],
                queryFn: async () => {
                    const R = await fetch("/api/dashboard/stats-local");
                    if (!R.ok)
                        throw new Error("Error cargando estadísticas completas");
                    return R.json()
                },
                enabled: !!r,
                refetchInterval: !1,
                retry: 2
            }),
            c = a || r,
            d = n,
            u = async () => {
                s(!0);
                try {
                    console.log("Actualizando estadísticas completas...");
                    const R = await fetch("/api/dashboard/stats");
                    if (!R.ok)
                        throw new Error(`Error al cargar estadísticas completas: ${R.status}`);
                    const H = await R.json();
                    console.log("Complete stats data received:", H),
                    (await Pu(async () => {
                        const {queryClient: A} = await Promise.resolve().then(() => VL);
                        return {
                            queryClient: A
                        }
                    }, void 0)).queryClient.setQueryData(["/api/dashboard/stats-local"], H),
                    await l(),
                    console.log("Estadísticas actualizadas exitosamente")
                } catch (R) {
                    console.error("Error actualizando estadísticas:", R)
                } finally {
                    s(!1)
                }
            };
        return d && !t ? e.jsx(U, {
            children: e.jsxs(q, {
                className: "p-6 flex flex-col items-center justify-center h-60",
                children: [e.jsx(Xt, {
                    className: "h-8 w-8 animate-spin text-primary mb-2"
                }), e.jsx("p", {
                    className: "text-muted-foreground",
                    children: "Cargando estadísticas..."
                })]
            })
        }) : o ? e.jsx(U, {
            children: e.jsxs(q, {
                className: "p-6",
                children: [e.jsx("h3", {
                    className: "text-xl font-montserrat font-semibold mb-4",
                    children: "Estadísticas de datos"
                }), e.jsx("div", {
                    className: "p-4 bg-red-50 text-red-500 rounded-md",
                    children: "Error al cargar estadísticas. Intente nuevamente más tarde."
                })]
            })
        }) : e.jsxs(U, {
            children: [e.jsx(ne, {
                className: "pb-3",
                children: e.jsxs("div", {
                    className: "flex items-center justify-between",
                    children: [e.jsxs("div", {
                        children: [e.jsx(ae, {
                            className: "text-xl font-montserrat font-semibold",
                            children: "Estadísticas de datos"
                        }), e.jsx("p", {
                            className: "text-sm text-muted-foreground",
                            children: ((m = c == null ? void 0 : c.api) == null ? void 0 : m.vehiclesCount) > 0 || ((p = c == null ? void 0 : c.api) == null ? void 0 : p.partsCount) > 0 ? e.jsxs("span", {
                                className: "text-green-600",
                                children: ["✓ Datos de API disponibles", c != null && c.lastApiUpdate ? ` - Última actualización: ${Vn(c.lastApiUpdate)}` : c != null && c.timestamp ? ` - ${Vn(c.timestamp)}` : ""]
                            }) : c != null && c.isLocal ? e.jsx("span", {
                                className: "text-orange-600",
                                children: '⚠️ Sin datos de API - Presiona "Actualizar" para consultar API externa'
                            }) : e.jsxs("span", {
                                className: "text-gray-600",
                                children: ["Datos locales - ", c != null && c.timestamp ? Vn(c.timestamp) : "ahora"]
                            })
                        }), (c == null ? void 0 : c.lastApiUpdate) && e.jsx("p", {
                            className: "text-xs text-muted-foreground mt-1",
                            children: "Nota: Los datos locales pueden incluir importaciones posteriores a la última consulta de API."
                        })]
                    }), e.jsxs(T, {
                        variant: "outline",
                        size: "sm",
                        onClick: u,
                        disabled: t || d,
                        className: "flex items-center gap-2",
                        children: [e.jsx(xt, {
                            className: `h-4 w-4 ${t ? "animate-spin" : ""}`
                        }), t ? "Actualizando..." : "Actualizar"]
                    })]
                })
            }), e.jsxs(q, {
                className: "pt-0",
                children: [e.jsxs("div", {
                    className: "grid grid-cols-1 md:grid-cols-2 gap-6",
                    children: [e.jsxs("div", {
                        className: `p-4 rounded-lg ${d ? "bg-gray-50" : "bg-blue-50"}`,
                        children: [e.jsxs("div", {
                            className: "flex items-center mb-2",
                            children: [e.jsx(EO, {
                                className: `h-5 w-5 mr-2 ${d ? "text-gray-400" : "text-blue-600"}`
                            }), e.jsx("h4", {
                                className: `font-semibold ${d ? "text-gray-400" : "text-blue-600"}`,
                                children: "API Metasync"
                            })]
                        }), e.jsxs("div", {
                            className: "space-y-2",
                            children: [e.jsxs("div", {
                                className: "flex justify-between",
                                children: [e.jsx("span", {
                                    className: "text-sm text-gray-600",
                                    children: "Vehículos:"
                                }), e.jsx("span", {
                                    className: "font-semibold",
                                    children: d ? e.jsx("span", {
                                        className: "animate-pulse",
                                        children: "..."
                                    }) : ((j = c == null ? void 0 : c.api) == null ? void 0 : j.vehiclesCount) > 0 ? c.api.vehiclesCount : e.jsx("span", {
                                        className: "text-orange-500",
                                        children: "No disponible"
                                    })
                                })]
                            }), e.jsxs("div", {
                                className: "flex justify-between",
                                children: [e.jsx("span", {
                                    className: "text-sm text-gray-600",
                                    children: "Piezas:"
                                }), e.jsx("span", {
                                    className: "font-semibold",
                                    children: d ? e.jsx("span", {
                                        className: "animate-pulse",
                                        children: "..."
                                    }) : ((g = c == null ? void 0 : c.api) == null ? void 0 : g.partsCount) > 0 ? c.api.partsCount : e.jsx("span", {
                                        className: "text-orange-500",
                                        children: "No disponible"
                                    })
                                })]
                            })]
                        })]
                    }), e.jsxs("div", {
                        className: `p-4 rounded-lg ${d ? "bg-gray-50" : "bg-green-50"}`,
                        children: [e.jsxs("div", {
                            className: "flex items-center mb-2",
                            children: [e.jsx(Gn, {
                                className: `h-5 w-5 mr-2 ${d ? "text-gray-400" : "text-green-600"}`
                            }), e.jsx("h4", {
                                className: `font-semibold ${d ? "text-gray-400" : "text-green-600"}`,
                                children: "Base de datos local"
                            })]
                        }), e.jsxs("div", {
                            className: "space-y-2",
                            children: [e.jsxs("div", {
                                className: "flex justify-between",
                                children: [e.jsx("span", {
                                    className: "text-sm text-gray-600",
                                    children: "Vehículos:"
                                }), e.jsxs("div", {
                                    className: "flex items-center",
                                    children: [e.jsx("span", {
                                        className: "font-semibold mr-2",
                                        children: d ? e.jsx("span", {
                                            className: "animate-pulse",
                                            children: "..."
                                        }) : ((x = c == null ? void 0 : c.database) == null ? void 0 : x.vehiclesCount) || 0
                                    }), !d && ((y = c == null ? void 0 : c.api) == null ? void 0 : y.vehiclesCount) > 0 && ((v = c == null ? void 0 : c.database) == null ? void 0 : v.vehiclesImportPercentage) !== void 0 ? e.jsxs("span", {
                                        className: `text-xs px-1.5 py-0.5 rounded ${c.database.vehiclesImportPercentage >= 90 ? "bg-green-100 text-green-800" : c.database.vehiclesImportPercentage >= 50 ? "bg-yellow-100 text-yellow-800" : "bg-red-100 text-red-800"}`,
                                        children: [c.database.vehiclesImportPercentage, "%"]
                                    }) : !d && ((f = c == null ? void 0 : c.api) == null ? void 0 : f.vehiclesCount) === 0 ? e.jsx("span", {
                                        className: "text-xs px-1.5 py-0.5 rounded bg-gray-100 text-gray-600",
                                        children: "Sin API"
                                    }) : null]
                                })]
                            }), e.jsxs("div", {
                                className: "flex justify-between",
                                children: [e.jsx("span", {
                                    className: "text-sm text-gray-600",
                                    children: "Piezas:"
                                }), e.jsxs("div", {
                                    className: "flex items-center",
                                    children: [e.jsx("span", {
                                        className: "font-semibold mr-2",
                                        children: d ? e.jsx("span", {
                                            className: "animate-pulse",
                                            children: "..."
                                        }) : ((b = c == null ? void 0 : c.database) == null ? void 0 : b.partsCount) || 0
                                    }), !d && ((N = c == null ? void 0 : c.api) == null ? void 0 : N.partsCount) > 0 && ((w = c == null ? void 0 : c.database) == null ? void 0 : w.partsImportPercentage) !== void 0 ? e.jsxs("span", {
                                        className: `text-xs px-1.5 py-0.5 rounded ${c.database.partsImportPercentage >= 90 ? "bg-green-100 text-green-800" : c.database.partsImportPercentage >= 50 ? "bg-yellow-100 text-yellow-800" : "bg-red-100 text-red-800"}`,
                                        children: [c.database.partsImportPercentage, "%"]
                                    }) : !d && ((C = c == null ? void 0 : c.api) == null ? void 0 : C.partsCount) === 0 ? e.jsx("span", {
                                        className: "text-xs px-1.5 py-0.5 rounded bg-gray-100 text-gray-600",
                                        children: "Sin API"
                                    }) : null]
                                })]
                            })]
                        })]
                    })]
                }), c && e.jsxs("div", {
                    className: "mt-4",
                    children: [e.jsxs("div", {
                        className: "text-xs text-muted-foreground mb-2",
                        children: [e.jsx("span", {
                            className: "font-semibold",
                            children: "Nota:"
                        }), ' Los porcentajes se calculan respecto al total disponible en la API externa. Si no hay datos de API, se muestra "Sin API".', (c == null ? void 0 : c.lastApiUpdate) && e.jsx("div", {
                            className: "mt-1 text-orange-600",
                            children: "⚠️ Los datos locales pueden incluir importaciones posteriores a la última consulta de API."
                        })]
                    }), !d && c && e.jsx("div", {
                        className: "mt-4 pt-4 border-t",
                        children: e.jsxs("div", {
                            className: "space-y-1",
                            children: [e.jsxs("p", {
                                className: "text-xs text-gray-500",
                                children: ["Última actualización: ", Vn(c.timestamp)]
                            }), ((E = c.imports) == null ? void 0 : E.recent) > 0 && e.jsxs("p", {
                                className: "text-xs text-green-600",
                                children: [c.imports.recent, " importaciones recientes"]
                            }), ((k = c.sync) == null ? void 0 : k.lastSync) && e.jsxs("p", {
                                className: "text-xs text-blue-600",
                                children: ["Última sincronización: ", Vn(c.sync.lastSync)]
                            })]
                        })
                    })]
                })]
            })]
        })
    };
var W0 = "Progress",
    G0 = 100,
    [sU, eZ] = ws(W0),
    [rU, nU] = sU(W0),
    JT = h.forwardRef((t, s) => {
        const {__scopeProgress: r, value: n=null, max: a, getValueLabel: i=aU, ...o} = t;
        (a || a === 0) && !N1(a) && console.error(iU(`${a}`, "Progress"));
        const l = N1(a) ? a : G0;
        n !== null && !w1(n, l) && console.error(oU(`${n}`, "Progress"));
        const c = w1(n, l) ? n : null,
            d = Kp(c) ? i(c, l) : void 0;
        return e.jsx(rU, {
            scope: r,
            value: c,
            max: l,
            children: e.jsx(Oe.div, {
                "aria-valuemax": l,
                "aria-valuemin": 0,
                "aria-valuenow": Kp(c) ? c : void 0,
                "aria-valuetext": d,
                role: "progressbar",
                "data-state": sA(c, l),
                "data-value": c ?? void 0,
                "data-max": l,
                ...o,
                ref: s
            })
        })
    });
JT.displayName = W0;
var eA = "ProgressIndicator",
    tA = h.forwardRef((t, s) => {
        const {__scopeProgress: r, ...n} = t,
            a = nU(eA, r);
        return e.jsx(Oe.div, {
            "data-state": sA(a.value, a.max),
            "data-value": a.value ?? void 0,
            "data-max": a.max,
            ...n,
            ref: s
        })
    });
tA.displayName = eA;
function aU(t, s) {
    return `${Math.round(t / s * 100)}%`
}
function sA(t, s) {
    return t == null ? "indeterminate" : t === s ? "complete" : "loading"
}
function Kp(t) {
    return typeof t == "number"
}
function N1(t) {
    return Kp(t) && !isNaN(t) && t > 0
}
function w1(t, s) {
    return Kp(t) && !isNaN(t) && t <= s && t >= 0
}
function iU(t, s) {
    return `Invalid prop \`max\` of value \`${t}\` supplied to \`${s}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${G0}\`.`
}
function oU(t, s) {
    return `Invalid prop \`value\` of value \`${t}\` supplied to \`${s}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${
    G0} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`


}
var rA = JT,
    lU = tA;
const Yp = h.forwardRef(({className: t, value: s, ...r}, n) => e.jsx(rA, {
    ref: n,
    className: me("relative h-4 w-full overflow-hidden rounded-full bg-secondary", t),
    ...r,
    children: e.jsx(lU, {
        className: "h-full w-full flex-1 bg-primary transition-all",
        style: {
            transform: `translateX(-${100 - (s || 0)}%)`
        }
    })
}));
Yp.displayName = rA.displayName;
const K0 = ({refreshInterval: t=3e4, autoRefresh: s=!1}) => {
    const [r, n] = h.useState(!0),
        [a, i] = h.useState(null),
        [o, l] = h.useState(null),
        [c, d] = h.useState({
            vehicles: 0,
            parts: 0
        }),
        [u, m] = h.useState(new Date),
        [p, j] = h.useState(null),
        [g, x] = h.useState(new Date),
        y = h.useCallback(async () => {
            try {
                n(!0),
                i(null),
                console.log("🔄 Cargando estado de sincronización...");
                const N = await ss.getSyncStatus();
                if (console.log("📊 Respuesta del sync-status:", N), N && typeof N == "object") {
                    const w = {};
                    N.vehicles && (w.vehicles = N.vehicles),
                    N.parts && (w.parts = N.parts),
                    !N.vehicles && !N.parts && console.warn("⚠️ No se encontraron datos de sincronización en la respuesta"),
                    l(w),
                    d(N.dbCounts || {
                        vehicles: 0,
                        parts: 0
                    }),
                    m(new Date),
                    j(new Date),
                    console.log("✅ Estado de sincronización cargado:", {
                        vehiclesSync: !!w.vehicles,
                        partsSync: !!w.parts,
                        dbCounts: N.dbCounts
                    })
                } else
                    console.error("❌ Respuesta inválida del servidor:", N),
                    i("Respuesta inválida del servidor")
            } catch (N) {
                console.error("Error al cargar estado de sincronización:", N),
                i("Error al cargar el estado de sincronización")
            } finally {
                n(!1),
                x(new Date)
            }
        }, []);
    h.useEffect(() => {
        y();
        const N = s ? setInterval(y, t) : null;
        return () => {
            N && clearInterval(N)
        }
    }, [t, s, y]);
    const v = N => {
            const C = new Date().getTime() - N.getTime(),
                E = Math.floor(C / 6e4),
                k = Math.floor(E / 60),
                R = Math.floor(k / 24);
            return R > 0 ? `hace ${R} día${R !== 1 ? "s" : ""}` : k > 0 ? `hace ${k} hora${k !== 1 ? "s" : ""}` : E > 0 ? `hace ${E} minuto${E !== 1 ? "s" : ""}` : "hace unos segundos"
        },
        f = N => {
            try {
                const w = new Date(N);
                return Vn(w)
            } catch {
                return "Fecha inválida"
            }
        },
        b = () => {
            y()
        };
    return r && !o ? e.jsx(U, {
        className: "w-full",
        children: e.jsx(q, {
            className: "p-4",
            children: e.jsx("div", {
                className: "flex items-center justify-center h-32",
                children: e.jsx(xt, {
                    className: "animate-spin h-8 w-8 text-muted-foreground"
                })
            })
        })
    }) : a && !o ? e.jsx(U, {
        className: "w-full",
        children: e.jsx(q, {
            className: "p-4",
            children: e.jsx("div", {
                className: "text-red-500 p-4 text-center",
                children: a
            })
        })
    }) : e.jsx(U, {
        className: "w-full",
        children: e.jsxs(q, {
            className: "p-4",
            children: [e.jsxs("div", {
                className: "flex items-center justify-between mb-4",
                children: [e.jsxs("h3", {
                    className: "text-lg font-semibold flex items-center",
                    children: [e.jsx(Ga, {
                        className: "h-5 w-5 mr-2 text-green-500"
                    }), "Estado de sincronización"]
                }), e.jsxs("div", {
                    className: "flex items-center gap-3",
                    children: [e.jsxs("div", {
                        className: "text-xs text-muted-foreground flex items-center",
                        children: [e.jsx(Bs, {
                            className: "h-3 w-3 mr-1"
                        }), p ? `Datos actualizados ${v(p)}` : g ? `Consultado ${v(g)}` : "Sin datos"]
                    }), e.jsxs(T, {
                        variant: "outline",
                        size: "sm",
                        onClick: b,
                        disabled: r,
                        children: [e.jsx(xt, {
                            className: `mr-2 h-4 w-4 ${r ? "animate-spin" : ""}`
                        }), r ? "Actualizando..." : "Actualizar"]
                    })]
                })]
            }), e.jsxs("div", {
                className: "space-y-4",
                children: [e.jsxs("div", {
                    className: "space-y-2",
                    children: [e.jsx("h4", {
                        className: "text-sm font-medium",
                        children: "Vehículos"
                    }), e.jsxs("div", {
                        className: "bg-slate-50 p-3 rounded-md",
                        children: [e.jsxs("div", {
                            className: "flex justify-between items-start mb-2",
                            children: [e.jsxs("span", {
                                className: "flex items-center font-medium",
                                children: [e.jsx(Gn, {
                                    className: "h-4 w-4 mr-1 text-slate-500"
                                }), c.vehicles.toLocaleString(), " vehículos"]
                            }), (o == null ? void 0 : o.vehicles) && o.vehicles.recordsProcessed && e.jsxs("div", {
                                className: "text-right",
                                children: [e.jsxs("div", {
                                    className: "text-xs text-muted-foreground flex items-center",
                                    children: [e.jsx(ur, {
                                        className: "h-3 w-3 mr-1"
                                    }), "Última sync: ", f(o.vehicles.lastSyncDate)]
                                }), e.jsxs("div", {
                                    className: "text-xs text-muted-foreground mt-1",
                                    children: ["Procesados: ", o.vehicles.recordsProcessed.toLocaleString()]
                                })]
                            })]
                        }), e.jsx(Yp, {
                            value: c.vehicles > 0 ? 100 : 0,
                            className: "h-2"
                        })]
                    })]
                }), e.jsxs("div", {
                    className: "space-y-2",
                    children: [e.jsx("h4", {
                        className: "text-sm font-medium",
                        children: "Piezas"
                    }), e.jsxs("div", {
                        className: "bg-slate-50 p-3 rounded-md",
                        children: [e.jsxs("div", {
                            className: "flex justify-between items-start mb-2",
                            children: [e.jsxs("span", {
                                className: "flex items-center font-medium",
                                children: [e.jsx(Gn, {
                                    className: "h-4 w-4 mr-1 text-slate-500"
                                }), c.parts.toLocaleString(), " piezas"]
                            }), (o == null ? void 0 : o.parts) && o.parts.recordsProcessed && e.jsxs("div", {
                                className: "text-right",
                                children: [e.jsxs("div", {
                                    className: "text-xs text-muted-foreground flex items-center",
                                    children: [e.jsx(ur, {
                                        className: "h-3 w-3 mr-1"
                                    }), "Última sync: ", f(o.parts.lastSyncDate)]
                                }), e.jsxs("div", {
                                    className: "text-xs text-muted-foreground mt-1",
                                    children: ["Procesados: ", o.parts.recordsProcessed.toLocaleString()]
                                })]
                            })]
                        }), e.jsx(Yp, {
                            value: c.parts > 0 ? 100 : 0,
                            className: "h-2"
                        })]
                    })]
                }), s && e.jsxs("div", {
                    className: "text-xs text-muted-foreground text-center p-2 bg-blue-50 rounded-md",
                    children: ["🔄 Actualización automática activa cada ", Math.round(t / 1e3), " segundos"]
                })]
            })]
        })
    })
};
function ct(t) {
    const s = Object.prototype.toString.call(t);
    return t instanceof Date || typeof t == "object" && s === "[object Date]" ? new t.constructor(+t) : typeof t == "number" || s === "[object Number]" || typeof t == "string" || s === "[object String]" ? new Date(t) : new Date(NaN)
}
function Qr(t, s) {
    return t instanceof Date ? new t.constructor(s) : new Date(s)
}
function br(t, s) {
    const r = ct(t);
    return isNaN(s) ? Qr(t, NaN) : (s && r.setDate(r.getDate() + s), r)
}
function sa(t, s) {
    const r = ct(t);
    if (isNaN(s))
        return Qr(t, NaN);
    if (!s)
        return r;
    const n = r.getDate(),
        a = Qr(t, r.getTime());
    a.setMonth(r.getMonth() + s + 1, 0);
    const i = a.getDate();
    return n >= i ? a : (r.setFullYear(a.getFullYear(), a.getMonth(), n), r)
}
const Y0 = 6048e5,
    cU = 864e5,
    hh = 43200,
    C1 = 1440;
let dU = {};
function ad() {
    return dU
}
function Ma(t, s) {
    var l,
        c,
        d,
        u;
    const r = ad(),
        n = (s == null ? void 0 : s.weekStartsOn) ?? ((c = (l = s == null ? void 0 : s.locale) == null ? void 0 : l.options) == null ? void 0 : c.weekStartsOn) ?? r.weekStartsOn ?? ((u = (d = r.locale) == null ? void 0 : d.options) == null ? void 0 : u.weekStartsOn) ?? 0,
        a = ct(t),
        i = a.getDay(),
        o = (i < n ? 7 : 0) + i - n;
    return a.setDate(a.getDate() - o), a.setHours(0, 0, 0, 0), a
}
function fl(t) {
    return Ma(t, {
        weekStartsOn: 1
    })
}
function nA(t) {
    const s = ct(t),
        r = s.getFullYear(),
        n = Qr(t, 0);
    n.setFullYear(r + 1, 0, 4),
    n.setHours(0, 0, 0, 0);
    const a = fl(n),
        i = Qr(t, 0);
    i.setFullYear(r, 0, 4),
    i.setHours(0, 0, 0, 0);
    const o = fl(i);
    return s.getTime() >= a.getTime() ? r + 1 : s.getTime() >= o.getTime() ? r : r - 1
}
function Vc(t) {
    const s = ct(t);
    return s.setHours(0, 0, 0, 0), s
}
function Uc(t) {
    const s = ct(t),
        r = new Date(Date.UTC(s.getFullYear(), s.getMonth(), s.getDate(), s.getHours(), s.getMinutes(), s.getSeconds(), s.getMilliseconds()));
    return r.setUTCFullYear(s.getFullYear()), +t - +r
}
function ya(t, s) {
    const r = Vc(t),
        n = Vc(s),
        a = +r - Uc(r),
        i = +n - Uc(n);
    return Math.round((a - i) / cU)
}
function uU(t) {
    const s = nA(t),
        r = Qr(t, 0);
    return r.setFullYear(s, 0, 4), r.setHours(0, 0, 0, 0), fl(r)
}
function vy(t, s) {
    const r = s * 7;
    return br(t, r)
}
function mU(t, s) {
    return sa(t, s * 12)
}
function hU(t) {
    let s;
    return t.forEach(function(r) {
        const n = ct(r);
        (s === void 0 || s < n || isNaN(Number(n))) && (s = n)
    }), s || new Date(NaN)
}
function pU(t) {
    let s;
    return t.forEach(r => {
        const n = ct(r);
        (!s || s > n || isNaN(+n)) && (s = n)
    }), s || new Date(NaN)
}
function zh(t, s) {
    const r = ct(t),
        n = ct(s),
        a = r.getTime() - n.getTime();
    return a < 0 ? -1 : a > 0 ? 1 : a
}
function fU(t) {
    return Qr(t, Date.now())
}
function $r(t, s) {
    const r = Vc(t),
        n = Vc(s);
    return +r == +n
}
function Q0(t) {
    return t instanceof Date || typeof t == "object" && Object.prototype.toString.call(t) === "[object Date]"
}
function xU(t) {
    if (!Q0(t) && typeof t != "number")
        return !1;
    const s = ct(t);
    return !isNaN(Number(s))
}
function qc(t, s) {
    const r = ct(t),
        n = ct(s),
        a = r.getFullYear() - n.getFullYear(),
        i = r.getMonth() - n.getMonth();
    return a * 12 + i
}
function gU(t, s, r) {
    const n = Ma(t, r),
        a = Ma(s, r),
        i = +n - Uc(n),
        o = +a - Uc(a);
    return Math.round((i - o) / Y0)
}
function vU(t) {
    return s => {
        const n = (t ? Math[t] : Math.trunc)(s);
        return n === 0 ? 0 : n
    }
}
function yU(t, s) {
    return +ct(t) - +ct(s)
}
function jU(t) {
    const s = ct(t);
    return s.setHours(23, 59, 59, 999), s
}
function nx(t) {
    const s = ct(t),
        r = s.getMonth();
    return s.setFullYear(s.getFullYear(), r + 1, 0), s.setHours(23, 59, 59, 999), s
}
function bU(t) {
    const s = ct(t);
    return +jU(s) == +nx(s)
}
function NU(t, s) {
    const r = ct(t),
        n = ct(s),
        a = zh(r, n),
        i = Math.abs(qc(r, n));
    let o;
    if (i < 1)
        o = 0;
    else {
        r.getMonth() === 1 && r.getDate() > 27 && r.setDate(30),
        r.setMonth(r.getMonth() - a * i);
        let l = zh(r, n) === -a;
        bU(ct(t)) && i === 1 && zh(t, n) === 1 && (l = !1),
        o = a * (i - Number(l))
    }
    return o === 0 ? 0 : o
}
function wU(t, s, r) {
    const n = yU(t, s) / 1e3;
    return vU(r == null ? void 0 : r.roundingMethod)(n)
}
function Wr(t) {
    const s = ct(t);
    return s.setDate(1), s.setHours(0, 0, 0, 0), s
}
function aA(t) {
    const s = ct(t),
        r = Qr(t, 0);
    return r.setFullYear(s.getFullYear(), 0, 1), r.setHours(0, 0, 0, 0), r
}
function Z0(t, s) {
    var l,
        c,
        d,
        u;
    const r = ad(),
        n = (s == null ? void 0 : s.weekStartsOn) ?? ((c = (l = s == null ? void 0 : s.locale) == null ? void 0 : l.options) == null ? void 0 : c.weekStartsOn) ?? r.weekStartsOn ?? ((u = (d = r.locale) == null ? void 0 : d.options) == null ? void 0 : u.weekStartsOn) ?? 0,
        a = ct(t),
        i = a.getDay(),
        o = (i < n ? -7 : 0) + 6 - (i - n);
    return a.setDate(a.getDate() + o), a.setHours(23, 59, 59, 999), a
}
function iA(t) {
    return Z0(t, {
        weekStartsOn: 1
    })
}
const CU = {
        lessThanXSeconds: {
            one: "less than a second",
            other: "less than {{count}} seconds"
        },
        xSeconds: {
            one: "1 second",
            other: "{{count}} seconds"
        },
        halfAMinute: "half a minute",
        lessThanXMinutes: {
            one: "less than a minute",
            other: "less than {{count}} minutes"
        },
        xMinutes: {
            one: "1 minute",
            other: "{{count}} minutes"
        },
        aboutXHours: {
            one: "about 1 hour",
            other: "about {{count}} hours"
        },
        xHours: {
            one: "1 hour",
            other: "{{count}} hours"
        },
        xDays: {
            one: "1 day",
            other: "{{count}} days"
        },
        aboutXWeeks: {
            one: "about 1 week",
            other: "about {{count}} weeks"
        },
        xWeeks: {
            one: "1 week",
            other: "{{count}} weeks"
        },
        aboutXMonths: {
            one: "about 1 month",
            other: "about {{count}} months"
        },
        xMonths: {
            one: "1 month",
            other: "{{count}} months"
        },
        aboutXYears: {
            one: "about 1 year",
            other: "about {{count}} years"
        },
        xYears: {
            one: "1 year",
            other: "{{count}} years"
        },
        overXYears: {
            one: "over 1 year",
            other: "over {{count}} years"
        },
        almostXYears: {
            one: "almost 1 year",
            other: "almost {{count}} years"
        }
    },
    SU = (t, s, r) => {
        let n;
        const a = CU[t];
        return typeof a == "string" ? n = a : s === 1 ? n = a.one : n = a.other.replace("{{count}}", s.toString()), r != null && r.addSuffix ? r.comparison && r.comparison > 0 ? "in " + n : n + " ago" : n
    };
function oc(t) {
    return (s={}) => {
        const r = s.width ? String(s.width) : t.defaultWidth;
        return t.formats[r] || t.formats[t.defaultWidth]
    }
}
const EU = {
        full: "EEEE, MMMM do, y",
        long: "MMMM do, y",
        medium: "MMM d, y",
        short: "MM/dd/yyyy"
    },
    kU = {
        full: "h:mm:ss a zzzz",
        long: "h:mm:ss a z",
        medium: "h:mm:ss a",
        short: "h:mm a"
    },
    PU = {
        full: "{{date}} 'at' {{time}}",
        long: "{{date}} 'at' {{time}}",
        medium: "{{date}}, {{time}}",
        short: "{{date}}, {{time}}"
    },
    _U = {
        date: oc({
            formats: EU,
            defaultWidth: "full"
        }),
        time: oc({
            formats: kU,
            defaultWidth: "full"
        }),
        dateTime: oc({
            formats: PU,
            defaultWidth: "full"
        })
    },
    TU = {
        lastWeek: "'last' eeee 'at' p",
        yesterday: "'yesterday at' p",
        today: "'today at' p",
        tomorrow: "'tomorrow at' p",
        nextWeek: "eeee 'at' p",
        other: "P"
    },
    AU = (t, s, r, n) => TU[t];
function xa(t) {
    return (s, r) => {
        const n = r != null && r.context ? String(r.context) : "standalone";
        let a;
        if (n === "formatting" && t.formattingValues) {
            const o = t.defaultFormattingWidth || t.defaultWidth,
                l = r != null && r.width ? String(r.width) : o;
            a = t.formattingValues[l] || t.formattingValues[o]
        } else {
            const o = t.defaultWidth,
                l = r != null && r.width ? String(r.width) : t.defaultWidth;
            a = t.values[l] || t.values[o]
        }
        const i = t.argumentCallback ? t.argumentCallback(s) : s;
        return a[i]
    }
}
const MU = {
        narrow: ["B", "A"],
        abbreviated: ["BC", "AD"],
        wide: ["Before Christ", "Anno Domini"]
    },
    IU = {
        narrow: ["1", "2", "3", "4"],
        abbreviated: ["Q1", "Q2", "Q3", "Q4"],
        wide: ["1st quarter", "2nd quarter", "3rd quarter", "4th quarter"]
    },
    RU = {
        narrow: ["J", "F", "M", "A", "M", "J", "J", "A", "S", "O", "N", "D"],
        abbreviated: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
        wide: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"]
    },
    DU = {
        narrow: ["S", "M", "T", "W", "T", "F", "S"],
        short: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
        abbreviated: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
        wide: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"]
    },
    OU = {
        narrow: {
            am: "a",
            pm: "p",
            midnight: "mi",
            noon: "n",
            morning: "morning",
            afternoon: "afternoon",
            evening: "evening",
            night: "night"
        },
        abbreviated: {
            am: "AM",
            pm: "PM",
            midnight: "midnight",
            noon: "noon",
            morning: "morning",
            afternoon: "afternoon",
            evening: "evening",
            night: "night"
        },
        wide: {
            am: "a.m.",
            pm: "p.m.",
            midnight: "midnight",
            noon: "noon",
            morning: "morning",
            afternoon: "afternoon",
            evening: "evening",
            night: "night"
        }
    },
    LU = {
        narrow: {
            am: "a",
            pm: "p",
            midnight: "mi",
            noon: "n",
            morning: "in the morning",
            afternoon: "in the afternoon",
            evening: "in the evening",
            night: "at night"
        },
        abbreviated: {
            am: "AM",
            pm: "PM",
            midnight: "midnight",
            noon: "noon",
            morning: "in the morning",
            afternoon: "in the afternoon",
            evening: "in the evening",
            night: "at night"
        },
        wide: {
            am: "a.m.",
            pm: "p.m.",
            midnight: "midnight",
            noon: "noon",
            morning: "in the morning",
            afternoon: "in the afternoon",
            evening: "in the evening",
            night: "at night"
        }
    },
    FU = (t, s) => {
        const r = Number(t),
            n = r % 100;
        if (n > 20 || n < 10)
            switch (n % 10) {
            case 1:
                return r + "st";
            case 2:
                return r + "nd";
            case 3:
                return r + "rd"
            }
        return r + "th"
    },
    zU = {
        ordinalNumber: FU,
        era: xa({
            values: MU,
            defaultWidth: "wide"
        }),
        quarter: xa({
            values: IU,
            defaultWidth: "wide",
            argumentCallback: t => t - 1
        }),
        month: xa({
            values: RU,
            defaultWidth: "wide"
        }),
        day: xa({
            values: DU,
            defaultWidth: "wide"
        }),
        dayPeriod: xa({
            values: OU,
            defaultWidth: "wide",
            formattingValues: LU,
            defaultFormattingWidth: "wide"
        })
    };
function ga(t) {
    return (s, r={}) => {
        const n = r.width,
            a = n && t.matchPatterns[n] || t.matchPatterns[t.defaultMatchWidth],
            i = s.match(a);
        if (!i)
            return null;
        const o = i[0],
            l = n && t.parsePatterns[n] || t.parsePatterns[t.defaultParseWidth],
            c = Array.isArray(l) ? VU(l, m => m.test(o)) : $U(l, m => m.test(o));
        let d;
        d = t.valueCallback ? t.valueCallback(c) : c,
        d = r.valueCallback ? r.valueCallback(d) : d;
        const u = s.slice(o.length);
        return {
            value: d,
            rest: u
        }
    }
}
function $U(t, s) {
    for (const r in t)
        if (Object.prototype.hasOwnProperty.call(t, r) && s(t[r]))
            return r
}
function VU(t, s) {
    for (let r = 0; r < t.length; r++)
        if (s(t[r]))
            return r
}
function oA(t) {
    return (s, r={}) => {
        const n = s.match(t.matchPattern);
        if (!n)
            return null;
        const a = n[0],
            i = s.match(t.parsePattern);
        if (!i)
            return null;
        let o = t.valueCallback ? t.valueCallback(i[0]) : i[0];
        o = r.valueCallback ? r.valueCallback(o) : o;
        const l = s.slice(a.length);
        return {
            value: o,
            rest: l
        }
    }
}
const UU = /^(\d+)(th|st|nd|rd)?/i,
    qU = /\d+/i,
    BU = {
        narrow: /^(b|a)/i,
        abbreviated: /^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,
        wide: /^(before christ|before common era|anno domini|common era)/i
    },
    HU = {
        any: [/^b/i, /^(a|c)/i]
    },
    WU = {
        narrow: /^[1234]/i,
        abbreviated: /^q[1234]/i,
        wide: /^[1234](th|st|nd|rd)? quarter/i
    },
    GU = {
        any: [/1/i, /2/i, /3/i, /4/i]
    },
    KU = {
        narrow: /^[jfmasond]/i,
        abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,
        wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i
    },
    YU = {
        narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],
        any: [/^ja/i, /^f/i, /^mar/i, /^ap/i, /^may/i, /^jun/i, /^jul/i, /^au/i, /^s/i, /^o/i, /^n/i, /^d/i]
    },
    QU = {
        narrow: /^[smtwf]/i,
        short: /^(su|mo|tu|we|th|fr|sa)/i,
        abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,
        wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i
    },
    ZU = {
        narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],
        any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]
    },
    XU = {
        narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,
        any: /^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i
    },
    JU = {
        any: {
            am: /^a/i,
            pm: /^p/i,
            midnight: /^mi/i,
            noon: /^no/i,
            morning: /morning/i,
            afternoon: /afternoon/i,
            evening: /evening/i,
            night: /night/i
        }
    },
    eq = {
        ordinalNumber: oA({
            matchPattern: UU,
            parsePattern: qU,
            valueCallback: t => parseInt(t, 10)
        }),
        era: ga({
            matchPatterns: BU,
            defaultMatchWidth: "wide",
            parsePatterns: HU,
            defaultParseWidth: "any"
        }),
        quarter: ga({
            matchPatterns: WU,
            defaultMatchWidth: "wide",
            parsePatterns: GU,
            defaultParseWidth: "any",
            valueCallback: t => t + 1
        }),
        month: ga({
            matchPatterns: KU,
            defaultMatchWidth: "wide",
            parsePatterns: YU,
            defaultParseWidth: "any"
        }),
        day: ga({
            matchPatterns: QU,
            defaultMatchWidth: "wide",
            parsePatterns: ZU,
            defaultParseWidth: "any"
        }),
        dayPeriod: ga({
            matchPatterns: XU,
            defaultMatchWidth: "any",
            parsePatterns: JU,
            defaultParseWidth: "any"
        })
    },
    X0 = {
        code: "en-US",
        formatDistance: SU,
        formatLong: _U,
        formatRelative: AU,
        localize: zU,
        match: eq,
        options: {
            weekStartsOn: 0,
            firstWeekContainsDate: 1
        }
    };
function tq(t) {
    const s = ct(t);
    return ya(s, aA(s)) + 1
}
function lA(t) {
    const s = ct(t),
        r = +fl(s) - +uU(s);
    return Math.round(r / Y0) + 1
}
function cA(t, s) {
    var u,
        m,
        p,
        j;
    const r = ct(t),
        n = r.getFullYear(),
        a = ad(),
        i = (s == null ? void 0 : s.firstWeekContainsDate) ?? ((m = (u = s == null ? void 0 : s.locale) == null ? void 0 : u.options) == null ? void 0 : m.firstWeekContainsDate) ?? a.firstWeekContainsDate ?? ((j = (p = a.locale) == null ? void 0 : p.options) == null ? void 0 : j.firstWeekContainsDate) ?? 1,
        o = Qr(t, 0);
    o.setFullYear(n + 1, 0, i),
    o.setHours(0, 0, 0, 0);
    const l = Ma(o, s),
        c = Qr(t, 0);
    c.setFullYear(n, 0, i),
    c.setHours(0, 0, 0, 0);
    const d = Ma(c, s);
    return r.getTime() >= l.getTime() ? n + 1 : r.getTime() >= d.getTime() ? n : n - 1
}
function sq(t, s) {
    var l,
        c,
        d,
        u;
    const r = ad(),
        n = (s == null ? void 0 : s.firstWeekContainsDate) ?? ((c = (l = s == null ? void 0 : s.locale) == null ? void 0 : l.options) == null ? void 0 : c.firstWeekContainsDate) ?? r.firstWeekContainsDate ?? ((u = (d = r.locale) == null ? void 0 : d.options) == null ? void 0 : u.firstWeekContainsDate) ?? 1,
        a = cA(t, s),
        i = Qr(t, 0);
    return i.setFullYear(a, 0, n), i.setHours(0, 0, 0, 0), Ma(i, s)
}
function dA(t, s) {
    const r = ct(t),
        n = +Ma(r, s) - +sq(r, s);
    return Math.round(n / Y0) + 1
}
function Ft(t, s) {
    const r = t < 0 ? "-" : "",
        n = Math.abs(t).toString().padStart(s, "0");
    return r + n
}
const Ti = {
        y(t, s) {
            const r = t.getFullYear(),
                n = r > 0 ? r : 1 - r;
            return Ft(s === "yy" ? n % 100 : n, s.length)
        },
        M(t, s) {
            const r = t.getMonth();
            return s === "M" ? String(r + 1) : Ft(r + 1, 2)
        },
        d(t, s) {
            return Ft(t.getDate(), s.length)
        },
        a(t, s) {
            const r = t.getHours() / 12 >= 1 ? "pm" : "am";
            switch (s) {
            case "a":
            case "aa":
                return r.toUpperCase();
            case "aaa":
                return r;
            case "aaaaa":
                return r[0];
            case "aaaa":
            default:
                return r === "am" ? "a.m." : "p.m."
            }
        },
        h(t, s) {
            return Ft(t.getHours() % 12 || 12, s.length)
        },
        H(t, s) {
            return Ft(t.getHours(), s.length)
        },
        m(t, s) {
            return Ft(t.getMinutes(), s.length)
        },
        s(t, s) {
            return Ft(t.getSeconds(), s.length)
        },
        S(t, s) {
            const r = s.length,
                n = t.getMilliseconds(),
                a = Math.trunc(n * Math.pow(10, r - 3));
            return Ft(a, s.length)
        }
    },
    Il = {
        am: "am",
        pm: "pm",
        midnight: "midnight",
        noon: "noon",
        morning: "morning",
        afternoon: "afternoon",
        evening: "evening",
        night: "night"
    },
    S1 = {
        G: function(t, s, r) {
            const n = t.getFullYear() > 0 ? 1 : 0;
            switch (s) {
            case "G":
            case "GG":
            case "GGG":
                return r.era(n, {
                    width: "abbreviated"
                });
            case "GGGGG":
                return r.era(n, {
                    width: "narrow"
                });
            case "GGGG":
            default:
                return r.era(n, {
                    width: "wide"
                })
            }
        },
        y: function(t, s, r) {
            if (s === "yo") {
                const n = t.getFullYear(),
                    a = n > 0 ? n : 1 - n;
                return r.ordinalNumber(a, {
                    unit: "year"
                })
            }
            return Ti.y(t, s)
        },
        Y: function(t, s, r, n) {
            const a = cA(t, n),
                i = a > 0 ? a : 1 - a;
            if (s === "YY") {
                const o = i % 100;
                return Ft(o, 2)
            }
            return s === "Yo" ? r.ordinalNumber(i, {
                unit: "year"
            }) : Ft(i, s.length)
        },
        R: function(t, s) {
            const r = nA(t);
            return Ft(r, s.length)
        },
        u: function(t, s) {
            const r = t.getFullYear();
            return Ft(r, s.length)
        },
        Q: function(t, s, r) {
            const n = Math.ceil((t.getMonth() + 1) / 3);
            switch (s) {
            case "Q":
                return String(n);
            case "QQ":
                return Ft(n, 2);
            case "Qo":
                return r.ordinalNumber(n, {
                    unit: "quarter"
                });
            case "QQQ":
                return r.quarter(n, {
                    width: "abbreviated",
                    context: "formatting"
                });
            case "QQQQQ":
                return r.quarter(n, {
                    width: "narrow",
                    context: "formatting"
                });
            case "QQQQ":
            default:
                return r.quarter(n, {
                    width: "wide",
                    context: "formatting"
                })
            }
        },
        q: function(t, s, r) {
            const n = Math.ceil((t.getMonth() + 1) / 3);
            switch (s) {
            case "q":
                return String(n);
            case "qq":
                return Ft(n, 2);
            case "qo":
                return r.ordinalNumber(n, {
                    unit: "quarter"
                });
            case "qqq":
                return r.quarter(n, {
                    width: "abbreviated",
                    context: "standalone"
                });
            case "qqqqq":
                return r.quarter(n, {
                    width: "narrow",
                    context: "standalone"
                });
            case "qqqq":
            default:
                return r.quarter(n, {
                    width: "wide",
                    context: "standalone"
                })
            }
        },
        M: function(t, s, r) {
            const n = t.getMonth();
            switch (s) {
            case "M":
            case "MM":
                return Ti.M(t, s);
            case "Mo":
                return r.ordinalNumber(n + 1, {
                    unit: "month"
                });
            case "MMM":
                return r.month(n, {
                    width: "abbreviated",
                    context: "formatting"
                });
            case "MMMMM":
                return r.month(n, {
                    width: "narrow",
                    context: "formatting"
                });
            case "MMMM":
            default:
                return r.month(n, {
                    width: "wide",
                    context: "formatting"
                })
            }
        },
        L: function(t, s, r) {
            const n = t.getMonth();
            switch (s) {
            case "L":
                return String(n + 1);
            case "LL":
                return Ft(n + 1, 2);
            case "Lo":
                return r.ordinalNumber(n + 1, {
                    unit: "month"
                });
            case "LLL":
                return r.month(n, {
                    width: "abbreviated",
                    context: "standalone"
                });
            case "LLLLL":
                return r.month(n, {
                    width: "narrow",
                    context: "standalone"
                });
            case "LLLL":
            default:
                return r.month(n, {
                    width: "wide",
                    context: "standalone"
                })
            }
        },
        w: function(t, s, r, n) {
            const a = dA(t, n);
            return s === "wo" ? r.ordinalNumber(a, {
                unit: "week"
            }) : Ft(a, s.length)
        },
        I: function(t, s, r) {
            const n = lA(t);
            return s === "Io" ? r.ordinalNumber(n, {
                unit: "week"
            }) : Ft(n, s.length)
        },
        d: function(t, s, r) {
            return s === "do" ? r.ordinalNumber(t.getDate(), {
                unit: "date"
            }) : Ti.d(t, s)
        },
        D: function(t, s, r) {
            const n = tq(t);
            return s === "Do" ? r.ordinalNumber(n, {
                unit: "dayOfYear"
            }) : Ft(n, s.length)
        },
        E: function(t, s, r) {
            const n = t.getDay();
            switch (s) {
            case "E":
            case "EE":
            case "EEE":
                return r.day(n, {
                    width: "abbreviated",
                    context: "formatting"
                });
            case "EEEEE":
                return r.day(n, {
                    width: "narrow",
                    context: "formatting"
                });
            case "EEEEEE":
                return r.day(n, {
                    width: "short",
                    context: "formatting"
                });
            case "EEEE":
            default:
                return r.day(n, {
                    width: "wide",
                    context: "formatting"
                })
            }
        },
        e: function(t, s, r, n) {
            const a = t.getDay(),
                i = (a - n.weekStartsOn + 8) % 7 || 7;
            switch (s) {
            case "e":
                return String(i);
            case "ee":
                return Ft(i, 2);
            case "eo":
                return r.ordinalNumber(i, {
                    unit: "day"
                });
            case "eee":
                return r.day(a, {
                    width: "abbreviated",
                    context: "formatting"
                });
            case "eeeee":
                return r.day(a, {
                    width: "narrow",
                    context: "formatting"
                });
            case "eeeeee":
                return r.day(a, {
                    width: "short",
                    context: "formatting"
                });
            case "eeee":
            default:
                return r.day(a, {
                    width: "wide",
                    context: "formatting"
                })
            }
        },
        c: function(t, s, r, n) {
            const a = t.getDay(),
                i = (a - n.weekStartsOn + 8) % 7 || 7;
            switch (s) {
            case "c":
                return String(i);
            case "cc":
                return Ft(i, s.length);
            case "co":
                return r.ordinalNumber(i, {
                    unit: "day"
                });
            case "ccc":
                return r.day(a, {
                    width: "abbreviated",
                    context: "standalone"
                });
            case "ccccc":
                return r.day(a, {
                    width: "narrow",
                    context: "standalone"
                });
            case "cccccc":
                return r.day(a, {
                    width: "short",
                    context: "standalone"
                });
            case "cccc":
            default:
                return r.day(a, {
                    width: "wide",
                    context: "standalone"
                })
            }
        },
        i: function(t, s, r) {
            const n = t.getDay(),
                a = n === 0 ? 7 : n;
            switch (s) {
            case "i":
                return String(a);
            case "ii":
                return Ft(a, s.length);
            case "io":
                return r.ordinalNumber(a, {
                    unit: "day"
                });
            case "iii":
                return r.day(n, {
                    width: "abbreviated",
                    context: "formatting"
                });
            case "iiiii":
                return r.day(n, {
                    width: "narrow",
                    context: "formatting"
                });
            case "iiiiii":
                return r.day(n, {
                    width: "short",
                    context: "formatting"
                });
            case "iiii":
            default:
                return r.day(n, {
                    width: "wide",
                    context: "formatting"
                })
            }
        },
        a: function(t, s, r) {
            const a = t.getHours() / 12 >= 1 ? "pm" : "am";
            switch (s) {
            case "a":
            case "aa":
                return r.dayPeriod(a, {
                    width: "abbreviated",
                    context: "formatting"
                });
            case "aaa":
                return r.dayPeriod(a, {
                    width: "abbreviated",
                    context: "formatting"
                }).toLowerCase();
            case "aaaaa":
                return r.dayPeriod(a, {
                    width: "narrow",
                    context: "formatting"
                });
            case "aaaa":
            default:
                return r.dayPeriod(a, {
                    width: "wide",
                    context: "formatting"
                })
            }
        },
        b: function(t, s, r) {
            const n = t.getHours();
            let a;
            switch (n === 12 ? a = Il.noon : n === 0 ? a = Il.midnight : a = n / 12 >= 1 ? "pm" : "am", s) {
            case "b":
            case "bb":
                return r.dayPeriod(a, {
                    width: "abbreviated",
                    context: "formatting"
                });
            case "bbb":
                return r.dayPeriod(a, {
                    width: "abbreviated",
                    context: "formatting"
                }).toLowerCase();
            case "bbbbb":
                return r.dayPeriod(a, {
                    width: "narrow",
                    context: "formatting"
                });
            case "bbbb":
            default:
                return r.dayPeriod(a, {
                    width: "wide",
                    context: "formatting"
                })
            }
        },
        B: function(t, s, r) {
            const n = t.getHours();
            let a;
            switch (n >= 17 ? a = Il.evening : n >= 12 ? a = Il.afternoon : n >= 4 ? a = Il.morning : a = Il.night, s) {
            case "B":
            case "BB":
            case "BBB":
                return r.dayPeriod(a, {
                    width: "abbreviated",
                    context: "formatting"
                });
            case "BBBBB":
                return r.dayPeriod(a, {
                    width: "narrow",
                    context: "formatting"
                });
            case "BBBB":
            default:
                return r.dayPeriod(a, {
                    width: "wide",
                    context: "formatting"
                })
            }
        },
        h: function(t, s, r) {
            if (s === "ho") {
                let n = t.getHours() % 12;
                return n === 0 && (n = 12), r.ordinalNumber(n, {
                    unit: "hour"
                })
            }
            return Ti.h(t, s)
        },
        H: function(t, s, r) {
            return s === "Ho" ? r.ordinalNumber(t.getHours(), {
                unit: "hour"
            }) : Ti.H(t, s)
        },
        K: function(t, s, r) {
            const n = t.getHours() % 12;
            return s === "Ko" ? r.ordinalNumber(n, {
                unit: "hour"
            }) : Ft(n, s.length)
        },
        k: function(t, s, r) {
            let n = t.getHours();
            return n === 0 && (n = 24), s === "ko" ? r.ordinalNumber(n, {
                unit: "hour"
            }) : Ft(n, s.length)
        },
        m: function(t, s, r) {
            return s === "mo" ? r.ordinalNumber(t.getMinutes(), {
                unit: "minute"
            }) : Ti.m(t, s)
        },
        s: function(t, s, r) {
            return s === "so" ? r.ordinalNumber(t.getSeconds(), {
                unit: "second"
            }) : Ti.s(t, s)
        },
        S: function(t, s) {
            return Ti.S(t, s)
        },
        X: function(t, s, r) {
            const n = t.getTimezoneOffset();
            if (n === 0)
                return "Z";
            switch (s) {
            case "X":
                return k1(n);
            case "XXXX":
            case "XX":
                return Ao(n);
            case "XXXXX":
            case "XXX":
            default:
                return Ao(n, ":")
            }
        },
        x: function(t, s, r) {
            const n = t.getTimezoneOffset();
            switch (s) {
            case "x":
                return k1(n);
            case "xxxx":
            case "xx":
                return Ao(n);
            case "xxxxx":
            case "xxx":
            default:
                return Ao(n, ":")
            }
        },
        O: function(t, s, r) {
            const n = t.getTimezoneOffset();
            switch (s) {
            case "O":
            case "OO":
            case "OOO":
                return "GMT" + E1(n, ":");
            case "OOOO":
            default:
                return "GMT" + Ao(n, ":")
            }
        },
        z: function(t, s, r) {
            const n = t.getTimezoneOffset();
            switch (s) {
            case "z":
            case "zz":
            case "zzz":
                return "GMT" + E1(n, ":");
            case "zzzz":
            default:
                return "GMT" + Ao(n, ":")
            }
        },
        t: function(t, s, r) {
            const n = Math.trunc(t.getTime() / 1e3);
            return Ft(n, s.length)
        },
        T: function(t, s, r) {
            const n = t.getTime();
            return Ft(n, s.length)
        }
    };
function E1(t, s="") {
    const r = t > 0 ? "-" : "+",
        n = Math.abs(t),
        a = Math.trunc(n / 60),
        i = n % 60;
    return i === 0 ? r + String(a) : r + String(a) + s + Ft(i, 2)
}
function k1(t, s) {
    return t % 60 === 0 ? (t > 0 ? "-" : "+") + Ft(Math.abs(t) / 60, 2) : Ao(t, s)
}
function Ao(t, s="") {
    const r = t > 0 ? "-" : "+",
        n = Math.abs(t),
        a = Ft(Math.trunc(n / 60), 2),
        i = Ft(n % 60, 2);
    return r + a + s + i
}
const P1 = (t, s) => {
        switch (t) {
        case "P":
            return s.date({
                width: "short"
            });
        case "PP":
            return s.date({
                width: "medium"
            });
        case "PPP":
            return s.date({
                width: "long"
            });
        case "PPPP":
        default:
            return s.date({
                width: "full"
            })
        }
    },
    uA = (t, s) => {
        switch (t) {
        case "p":
            return s.time({
                width: "short"
            });
        case "pp":
            return s.time({
                width: "medium"
            });
        case "ppp":
            return s.time({
                width: "long"
            });
        case "pppp":
        default:
            return s.time({
                width: "full"
            })
        }
    },
    rq = (t, s) => {
        const r = t.match(/(P+)(p+)?/) || [],
            n = r[1],
            a = r[2];
        if (!a)
            return P1(t, s);
        let i;
        switch (n) {
        case "P":
            i = s.dateTime({
                width: "short"
            });
            break;
        case "PP":
            i = s.dateTime({
                width: "medium"
            });
            break;
        case "PPP":
            i = s.dateTime({
                width: "long"
            });
            break;
        case "PPPP":
        default:
            i = s.dateTime({
                width: "full"
            });
            break
        }
        return i.replace("{{date}}", P1(n, s)).replace("{{time}}", uA(a, s))
    },
    nq = {
        p: uA,
        P: rq
    },
    aq = /^D+$/,
    iq = /^Y+$/,
    oq = ["D", "DD", "YY", "YYYY"];
function lq(t) {
    return aq.test(t)
}
function cq(t) {
    return iq.test(t)
}
function dq(t, s, r) {
    const n = uq(t, s, r);
    if (console.warn(n), oq.includes(t))
        throw new RangeError(n)
}
function uq(t, s, r) {
    const n = t[0] === "Y" ? "years" : "days of the month";
    return `Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${s}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`
}
const mq = /[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,
    hq = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,
    pq = /^'([^]*?)'?$/,
    fq = /''/g,
    xq = /[a-zA-Z]/;
function Bt(t, s, r) {
    var u,
        m,
        p,
        j,
        g,
        x,
        y,
        v;
    const n = ad(),
        a = (r == null ? void 0 : r.locale) ?? n.locale ?? X0,
        i = (r == null ? void 0 : r.firstWeekContainsDate) ?? ((m = (u = r == null ? void 0 : r.locale) == null ? void 0 : u.options) == null ? void 0 : m.firstWeekContainsDate) ?? n.firstWeekContainsDate ?? ((j = (p = n.locale) == null ? void 0 : p.options) == null ? void 0 : j.firstWeekContainsDate) ?? 1,
        o = (r == null ? void 0 : r.weekStartsOn) ?? ((x = (g = r == null ? void 0 : r.locale) == null ? void 0 : g.options) == null ? void 0 : x.weekStartsOn) ?? n.weekStartsOn ?? ((v = (y = n.locale) == null ? void 0 : y.options) == null ? void 0 : v.weekStartsOn) ?? 0,
        l = ct(t);
    if (!xU(l))
        throw new RangeError("Invalid time value");
    let c = s.match(hq).map(f => {
        const b = f[0];
        if (b === "p" || b === "P") {
            const N = nq[b];
            return N(f, a.formatLong)
        }
        return f
    }).join("").match(mq).map(f => {
        if (f === "''")
            return {
                isToken: !1,
                value: "'"
            };
        const b = f[0];
        if (b === "'")
            return {
                isToken: !1,
                value: gq(f)
            };
        if (S1[b])
            return {
                isToken: !0,
                value: f
            };
        if (b.match(xq))
            throw new RangeError("Format string contains an unescaped latin alphabet character `" + b + "`");
        return {
            isToken: !1,
            value: f
        }
    });
    a.localize.preprocessor && (c = a.localize.preprocessor(l, c));
    const d = {
        firstWeekContainsDate: i,
        weekStartsOn: o,
        locale: a
    };
    return c.map(f => {
        if (!f.isToken)
            return f.value;
        const b = f.value;
        (!(r != null && r.useAdditionalWeekYearTokens) && cq(b) || !(r != null && r.useAdditionalDayOfYearTokens) && lq(b)) && dq(b, s, String(t));
        const N = S1[b[0]];
        return N(l, b, a.localize, d)
    }).join("")
}
function gq(t) {
    const s = t.match(pq);
    return s ? s[1].replace(fq, "'") : t
}
function vq(t, s, r) {
    const n = ad(),
        a = (r == null ? void 0 : r.locale) ?? n.locale ?? X0,
        i = 2520,
        o = zh(t, s);
    if (isNaN(o))
        throw new RangeError("Invalid time value");
    const l = Object.assign({}, r, {
        addSuffix: r == null ? void 0 : r.addSuffix,
        comparison: o
    });
    let c,
        d;
    o > 0 ? (c = ct(s), d = ct(t)) : (c = ct(t), d = ct(s));
    const u = wU(d, c),
        m = (Uc(d) - Uc(c)) / 1e3,
        p = Math.round((u - m) / 60);
    let j;
    if (p < 2)
        return r != null && r.includeSeconds ? u < 5 ? a.formatDistance("lessThanXSeconds", 5, l) : u < 10 ? a.formatDistance("lessThanXSeconds", 10, l) : u < 20 ? a.formatDistance("lessThanXSeconds", 20, l) : u < 40 ? a.formatDistance("halfAMinute", 0, l) : u < 60 ? a.formatDistance("lessThanXMinutes", 1, l) : a.formatDistance("xMinutes", 1, l) : p === 0 ? a.formatDistance("lessThanXMinutes", 1, l) : a.formatDistance("xMinutes", p, l);
    if (p < 45)
        return a.formatDistance("xMinutes", p, l);
    if (p < 90)
        return a.formatDistance("aboutXHours", 1, l);
    if (p < C1) {
        const g = Math.round(p / 60);
        return a.formatDistance("aboutXHours", g, l)
    } else {
        if (p < i)
            return a.formatDistance("xDays", 1, l);
        if (p < hh) {
            const g = Math.round(p / C1);
            return a.formatDistance("xDays", g, l)
        } else if (p < hh * 2)
            return j = Math.round(p / hh), a.formatDistance("aboutXMonths", j, l)
    }
    if (j = NU(d, c), j < 12) {
        const g = Math.round(p / hh);
        return a.formatDistance("xMonths", g, l)
    } else {
        const g = j % 12,
            x = Math.trunc(j / 12);
        return g < 3 ? a.formatDistance("aboutXYears", x, l) : g < 9 ? a.formatDistance("overXYears", x, l) : a.formatDistance("almostXYears", x + 1, l)
    }
}
function yq(t, s) {
    return vq(t, fU(t), s)
}
function jq(t) {
    const s = ct(t),
        r = s.getFullYear(),
        n = s.getMonth(),
        a = Qr(t, 0);
    return a.setFullYear(r, n + 1, 0), a.setHours(0, 0, 0, 0), a.getDate()
}
function bq(t) {
    return Math.trunc(+ct(t) / 1e3)
}
function Nq(t) {
    const s = ct(t),
        r = s.getMonth();
    return s.setFullYear(s.getFullYear(), r + 1, 0), s.setHours(0, 0, 0, 0), s
}
function wq(t, s) {
    return gU(Nq(t), Wr(t), s) + 1
}
function yy(t, s) {
    const r = ct(t),
        n = ct(s);
    return r.getTime() > n.getTime()
}
function mA(t, s) {
    const r = ct(t),
        n = ct(s);
    return +r < +n
}
function J0(t, s) {
    const r = ct(t),
        n = ct(s);
    return r.getFullYear() === n.getFullYear() && r.getMonth() === n.getMonth()
}
function Cq(t, s) {
    const r = ct(t),
        n = ct(s);
    return r.getFullYear() === n.getFullYear()
}
function vg(t, s) {
    return br(t, -s)
}
function yg(t, s) {
    const r = ct(t),
        n = r.getFullYear(),
        a = r.getDate(),
        i = Qr(t, 0);
    i.setFullYear(n, s, 15),
    i.setHours(0, 0, 0, 0);
    const o = jq(i);
    return r.setMonth(s, Math.min(a, o)), r
}
function _1(t, s) {
    const r = ct(t);
    return isNaN(+r) ? Qr(t, NaN) : (r.setFullYear(s), r)
}
const Sq = {
        lessThanXSeconds: {
            one: "menos de un segundo",
            other: "menos de {{count}} segundos"
        },
        xSeconds: {
            one: "1 segundo",
            other: "{{count}} segundos"
        },
        halfAMinute: "medio minuto",
        lessThanXMinutes: {
            one: "menos de un minuto",
            other: "menos de {{count}} minutos"
        },
        xMinutes: {
            one: "1 minuto",
            other: "{{count}} minutos"
        },
        aboutXHours: {
            one: "alrededor de 1 hora",
            other: "alrededor de {{count}} horas"
        },
        xHours: {
            one: "1 hora",
            other: "{{count}} horas"
        },
        xDays: {
            one: "1 día",
            other: "{{count}} días"
        },
        aboutXWeeks: {
            one: "alrededor de 1 semana",
            other: "alrededor de {{count}} semanas"
        },
        xWeeks: {
            one: "1 semana",
            other: "{{count}} semanas"
        },
        aboutXMonths: {
            one: "alrededor de 1 mes",
            other: "alrededor de {{count}} meses"
        },
        xMonths: {
            one: "1 mes",
            other: "{{count}} meses"
        },
        aboutXYears: {
            one: "alrededor de 1 año",
            other: "alrededor de {{count}} años"
        },
        xYears: {
            one: "1 año",
            other: "{{count}} años"
        },
        overXYears: {
            one: "más de 1 año",
            other: "más de {{count}} años"
        },
        almostXYears: {
            one: "casi 1 año",
            other: "casi {{count}} años"
        }
    },
    Eq = (t, s, r) => {
        let n;
        const a = Sq[t];
        return typeof a == "string" ? n = a : s === 1 ? n = a.one : n = a.other.replace("{{count}}", s.toString()), r != null && r.addSuffix ? r.comparison && r.comparison > 0 ? "en " + n : "hace " + n : n
    },
    kq = {
        full: "EEEE, d 'de' MMMM 'de' y",
        long: "d 'de' MMMM 'de' y",
        medium: "d MMM y",
        short: "dd/MM/y"
    },
    Pq = {
        full: "HH:mm:ss zzzz",
        long: "HH:mm:ss z",
        medium: "HH:mm:ss",
        short: "HH:mm"
    },
    _q = {
        full: "{{date}} 'a las' {{time}}",
        long: "{{date}} 'a las' {{time}}",
        medium: "{{date}}, {{time}}",
        short: "{{date}}, {{time}}"
    },
    Tq = {
        date: oc({
            formats: kq,
            defaultWidth: "full"
        }),
        time: oc({
            formats: Pq,
            defaultWidth: "full"
        }),
        dateTime: oc({
            formats: _q,
            defaultWidth: "full"
        })
    },
    Aq = {
        lastWeek: "'el' eeee 'pasado a la' p",
        yesterday: "'ayer a la' p",
        today: "'hoy a la' p",
        tomorrow: "'mañana a la' p",
        nextWeek: "eeee 'a la' p",
        other: "P"
    },
    Mq = {
        lastWeek: "'el' eeee 'pasado a las' p",
        yesterday: "'ayer a las' p",
        today: "'hoy a las' p",
        tomorrow: "'mañana a las' p",
        nextWeek: "eeee 'a las' p",
        other: "P"
    },
    Iq = (t, s, r, n) => s.getHours() !== 1 ? Mq[t] : Aq[t],
    Rq = {
        narrow: ["AC", "DC"],
        abbreviated: ["AC", "DC"],
        wide: ["antes de cristo", "después de cristo"]
    },
    Dq = {
        narrow: ["1", "2", "3", "4"],
        abbreviated: ["T1", "T2", "T3", "T4"],
        wide: ["1º trimestre", "2º trimestre", "3º trimestre", "4º trimestre"]
    },
    Oq = {
        narrow: ["e", "f", "m", "a", "m", "j", "j", "a", "s", "o", "n", "d"],
        abbreviated: ["ene", "feb", "mar", "abr", "may", "jun", "jul", "ago", "sep", "oct", "nov", "dic"],
        wide: ["enero", "febrero", "marzo", "abril", "mayo", "junio", "julio", "agosto", "septiembre", "octubre", "noviembre", "diciembre"]
    },
    Lq = {
        narrow: ["d", "l", "m", "m", "j", "v", "s"],
        short: ["do", "lu", "ma", "mi", "ju", "vi", "sá"],
        abbreviated: ["dom", "lun", "mar", "mié", "jue", "vie", "sáb"],
        wide: ["domingo", "lunes", "martes", "miércoles", "jueves", "viernes", "sábado"]
    },
    Fq = {
        narrow: {
            am: "a",
            pm: "p",
            midnight: "mn",
            noon: "md",
            morning: "mañana",
            afternoon: "tarde",
            evening: "tarde",
            night: "noche"
        },
        abbreviated: {
            am: "AM",
            pm: "PM",
            midnight: "medianoche",
            noon: "mediodia",
            morning: "mañana",
            afternoon: "tarde",
            evening: "tarde",
            night: "noche"
        },
        wide: {
            am: "a.m.",
            pm: "p.m.",
            midnight: "medianoche",
            noon: "mediodia",
            morning: "mañana",
            afternoon: "tarde",
            evening: "tarde",
            night: "noche"
        }
    },
    zq = {
        narrow: {
            am: "a",
            pm: "p",
            midnight: "mn",
            noon: "md",
            morning: "de la mañana",
            afternoon: "de la tarde",
            evening: "de la tarde",
            night: "de la noche"
        },
        abbreviated: {
            am: "AM",
            pm: "PM",
            midnight: "medianoche",
            noon: "mediodia",
            morning: "de la mañana",
            afternoon: "de la tarde",
            evening: "de la tarde",
            night: "de la noche"
        },
        wide: {
            am: "a.m.",
            pm: "p.m.",
            midnight: "medianoche",
            noon: "mediodia",
            morning: "de la mañana",
            afternoon: "de la tarde",
            evening: "de la tarde",
            night: "de la noche"
        }
    },
    $q = (t, s) => Number(t) + "º",
    Vq = {
        ordinalNumber: $q,
        era: xa({
            values: Rq,
            defaultWidth: "wide"
        }),
        quarter: xa({
            values: Dq,
            defaultWidth: "wide",
            argumentCallback: t => Number(t) - 1
        }),
        month: xa({
            values: Oq,
            defaultWidth: "wide"
        }),
        day: xa({
            values: Lq,
            defaultWidth: "wide"
        }),
        dayPeriod: xa({
            values: Fq,
            defaultWidth: "wide",
            formattingValues: zq,
            defaultFormattingWidth: "wide"
        })
    },
    Uq = /^(\d+)(º)?/i,
    qq = /\d+/i,
    Bq = {
        narrow: /^(ac|dc|a|d)/i,
        abbreviated: /^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,
        wide: /^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i
    },
    Hq = {
        any: [/^ac/i, /^dc/i],
        wide: [/^(antes de cristo|antes de la era com[uú]n)/i, /^(despu[eé]s de cristo|era com[uú]n)/i]
    },
    Wq = {
        narrow: /^[1234]/i,
        abbreviated: /^T[1234]/i,
        wide: /^[1234](º)? trimestre/i
    },
    Gq = {
        any: [/1/i, /2/i, /3/i, /4/i]
    },
    Kq = {
        narrow: /^[efmajsond]/i,
        abbreviated: /^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,
        wide: /^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i
    },
    Yq = {
        narrow: [/^e/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],
        any: [/^en/i, /^feb/i, /^mar/i, /^abr/i, /^may/i, /^jun/i, /^jul/i, /^ago/i, /^sep/i, /^oct/i, /^nov/i, /^dic/i]
    },
    Qq = {
        narrow: /^[dlmjvs]/i,
        short: /^(do|lu|ma|mi|ju|vi|s[áa])/i,
        abbreviated: /^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,
        wide: /^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i
    },
    Zq = {
        narrow: [/^d/i, /^l/i, /^m/i, /^m/i, /^j/i, /^v/i, /^s/i],
        any: [/^do/i, /^lu/i, /^ma/i, /^mi/i, /^ju/i, /^vi/i, /^sa/i]
    },
    Xq = {
        narrow: /^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,
        any: /^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i
    },
    Jq = {
        any: {
            am: /^a/i,
            pm: /^p/i,
            midnight: /^mn/i,
            noon: /^md/i,
            morning: /mañana/i,
            afternoon: /tarde/i,
            evening: /tarde/i,
            night: /noche/i
        }
    },
    eB = {
        ordinalNumber: oA({
            matchPattern: Uq,
            parsePattern: qq,
            valueCallback: function(t) {
                return parseInt(t, 10)
            }
        }),
        era: ga({
            matchPatterns: Bq,
            defaultMatchWidth: "wide",
            parsePatterns: Hq,
            defaultParseWidth: "any"
        }),
        quarter: ga({
            matchPatterns: Wq,
            defaultMatchWidth: "wide",
            parsePatterns: Gq,
            defaultParseWidth: "any",
            valueCallback: t => t + 1
        }),
        month: ga({
            matchPatterns: Kq,
            defaultMatchWidth: "wide",
            parsePatterns: Yq,
            defaultParseWidth: "any"
        }),
        day: ga({
            matchPatterns: Qq,
            defaultMatchWidth: "wide",
            parsePatterns: Zq,
            defaultParseWidth: "any"
        }),
        dayPeriod: ga({
            matchPatterns: Xq,
            defaultMatchWidth: "any",
            parsePatterns: Jq,
            defaultParseWidth: "any"
        })
    },
    ks = {
        code: "es",
        formatDistance: Eq,
        formatLong: Tq,
        formatRelative: Iq,
        localize: Vq,
        match: eB,
        options: {
            weekStartsOn: 1,
            firstWeekContainsDate: 1
        }
    },
    tB = () => {
        const [, t] = ut(),
            {data: s, isLoading: r} = Te({
                queryKey: ["/api/admin/orders"],
                queryFn: async () => {
                    const l = await fetch("/api/admin/orders?limit=10");
                    if (!l.ok)
                        throw new Error("Error al cargar pedidos");
                    return l.json()
                },
                refetchInterval: 6e4
            }),
            n = l => {
                switch (l) {
                case "pending":
                    return e.jsx(Bs, {
                        className: "h-4 w-4 text-yellow-500"
                    });
                case "processing":
                    return e.jsx(zr, {
                        className: "h-4 w-4 text-blue-500"
                    });
                case "shipped":
                    return e.jsx(Ot, {
                        className: "h-4 w-4 text-purple-500"
                    });
                case "delivered":
                    return e.jsx(kv, {
                        className: "h-4 w-4 text-green-500"
                    });
                case "cancelled":
                    return e.jsx(zr, {
                        className: "h-4 w-4 text-red-500"
                    });
                default:
                    return e.jsx(Bs, {
                        className: "h-4 w-4 text-gray-500"
                    })
                }
            },
            a = l => {
                switch (l) {
                case "pending":
                    return "secondary";
                case "processing":
                    return "default";
                case "shipped":
                    return "secondary";
                case "delivered":
                    return "default";
                case "cancelled":
                    return "destructive";
                default:
                    return "secondary"
                }
            },
            i = l => {
                switch (l) {
                case "pending":
                    return "Pendiente";
                case "processing":
                    return "Procesando";
                case "shipped":
                    return "Enviado";
                case "delivered":
                    return "Entregado";
                case "cancelled":
                    return "Cancelado";
                default:
                    return l
                }
            },
            o = (s == null ? void 0 : s.slice(0, 5)) || [];
        return e.jsxs(U, {
            children: [e.jsx(ne, {
                children: e.jsxs("div", {
                    className: "flex items-center justify-between",
                    children: [e.jsxs("div", {
                        children: [e.jsxs(ae, {
                            className: "flex items-center gap-2",
                            children: [e.jsx(ln, {
                                className: "h-5 w-5"
                            }), "Últimos Pedidos"]
                        }), e.jsx("p", {
                            className: "text-sm text-muted-foreground",
                            children: "Pedidos más recientes del sistema"
                        })]
                    }), e.jsx("div", {
                        className: "flex gap-2",
                        children: e.jsx(T, {
                            variant: "outline",
                            size: "sm",
                            onClick: () => t("/admin/orders"),
                            children: "Ver todos"
                        })
                    })]
                })
            }), e.jsx(q, {
                children: r ? e.jsx("div", {
                    className: "flex items-center justify-center py-8",
                    children: e.jsx("div", {
                        className: "animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"
                    })
                }) : o.length === 0 ? e.jsxs("div", {
                    className: "text-center py-8",
                    children: [e.jsx(Ot, {
                        className: "h-12 w-12 text-gray-400 mx-auto mb-4"
                    }), e.jsx("p", {
                        className: "text-muted-foreground",
                        children: "No hay pedidos recientes"
                    })]
                }) : e.jsx("div", {
                    className: "space-y-4",
                    children: o.map(l => e.jsxs("div", {
                        className: "flex items-center justify-between p-3 border rounded-lg",
                        children: [e.jsxs("div", {
                            className: "flex items-center gap-3",
                            children: [n(l.status), e.jsxs("div", {
                                children: [e.jsxs("p", {
                                    className: "font-medium",
                                    children: ["Pedido #", l.orderNumber]
                                }), e.jsx("p", {
                                    className: "text-sm text-muted-foreground",
                                    children: l.customerName
                                }), e.jsx("p", {
                                    className: "text-xs text-muted-foreground",
                                    children: l.customerEmail
                                })]
                            })]
                        }), e.jsx("div", {
                            className: "flex items-center gap-3",
                            children: e.jsxs("div", {
                                className: "text-right",
                                children: [e.jsx("p", {
                                    className: "font-medium",
                                    children: jt(l.total, !1)
                                }), e.jsx(ye, {
                                    variant: a(l.orderStatus || l.status),
                                    children: i(l.orderStatus || l.status)
                                })]
                            })
                        })]
                    }, l.id))
                })
            })]
        })
    },
    sB = () => {
        const [, t] = ut(),
            {data: s, isLoading: r} = Te({
                queryKey: ["/api/clients/recent"],
                queryFn: async () => {
                    const a = await fetch("/api/clients/recent");
                    if (!a.ok)
                        throw new Error("Error al cargar clientes");
                    return a.json()
                },
                refetchInterval: 12e4
            }),
            n = (s == null ? void 0 : s.slice(0, 5)) || [];
        return e.jsxs(U, {
            children: [e.jsx(ne, {
                children: e.jsxs("div", {
                    className: "flex items-center justify-between",
                    children: [e.jsxs("div", {
                        children: [e.jsxs(ae, {
                            className: "flex items-center gap-2",
                            children: [e.jsx(ci, {
                                className: "h-5 w-5"
                            }), "Últimos Clientes"]
                        }), e.jsx("p", {
                            className: "text-sm text-muted-foreground",
                            children: "Clientes registrados recientemente"
                        })]
                    }), e.jsx(T, {
                        variant: "outline",
                        size: "sm",
                        onClick: () => t("/admin/clients"),
                        children: "Ver todos"
                    })]
                })
            }), e.jsx(q, {
                children: r ? e.jsx("div", {
                    className: "flex items-center justify-center py-8",
                    children: e.jsx("div", {
                        className: "animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"
                    })
                }) : n.length === 0 ? e.jsxs("div", {
                    className: "text-center py-8",
                    children: [e.jsx(ci, {
                        className: "h-12 w-12 text-gray-400 mx-auto mb-4"
                    }), e.jsx("p", {
                        className: "text-muted-foreground",
                        children: "No hay clientes recientes"
                    })]
                }) : e.jsx("div", {
                    className: "space-y-4",
                    children: n.map(a => e.jsxs("div", {
                        className: "flex items-center justify-between p-3 border rounded-lg",
                        children: [e.jsxs("div", {
                            className: "flex items-center gap-3",
                            children: [e.jsx("div", {
                                className: "w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",
                                children: e.jsx(ci, {
                                    className: "h-5 w-5 text-primary"
                                })
                            }), e.jsxs("div", {
                                children: [e.jsxs("p", {
                                    className: "font-medium",
                                    children: [a.firstName, " ", a.lastName]
                                }), e.jsx("p", {
                                    className: "text-sm text-muted-foreground",
                                    children: a.email
                                })]
                            })]
                        }), e.jsxs("div", {
                            className: "text-right",
                            children: [e.jsx(ye, {
                                variant: "secondary",
                                className: "capitalize",
                                children: a.role
                            }), e.jsx("p", {
                                className: "text-xs text-muted-foreground mt-1",
                                children: new Date(a.createdAt).toLocaleDateString()
                            })]
                        })]
                    }, a.id))
                })
            })]
        })
    },
    T1 = () => {
        const [, t] = ut();
        st();
        const {user: s, logout: r} = Ts(),
            {data: n, isLoading: a, refetch: i} = Te({
                queryKey: ["/api/config"],
                queryFn: () => Lc.getConfig(),
                enabled: Kl(s)
            }),
            o = async () => {
                try {
                    await r(),
                    t("/admin")
                } catch (l) {
                    console.error("Error al cerrar sesión:", l)
                }
            };
        return a && Kl(s) ? e.jsx("div", {
            className: "flex items-center justify-center min-h-screen",
            children: e.jsx("div", {
                className: "animate-spin h-12 w-12 border-4 border-primary border-t-transparent rounded-full"
            })
        }) : e.jsxs("div", {
            className: "flex min-h-screen bg-gray-100",
            children: [e.jsx($s, {}), e.jsxs("div", {
                className: "flex-1 p-8",
                children: [e.jsxs("div", {
                    className: "flex justify-between items-center mb-8",
                    children: [e.jsxs("div", {
                        children: [e.jsx("h1", {
                            className: "text-3xl font-montserrat font-bold",
                            children: "Panel Principal"
                        }), e.jsx("p", {
                            className: "text-muted-foreground",
                            children: "Resumen de datos y estadísticas"
                        })]
                    }), e.jsxs(T, {
                        variant: "outline",
                        onClick: o,
                        children: [e.jsx(ka, {
                            className: "mr-2 h-4 w-4"
                        }), "Cerrar sesión"]
                    })]
                }), Kl(s) && e.jsxs("div", {
                    className: "grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",
                    children: [e.jsx("div", {
                        className: "w-full",
                        children: e.jsx(H0, {})
                    }), e.jsx("div", {
                        className: "w-full",
                        children: e.jsx(K0, {
                            refreshInterval: 2e4
                        })
                    })]
                }), e.jsxs("div", {
                    className: "grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",
                    children: [e.jsx(tB, {}), e.jsx(sB, {})]
                }), Kl(s) && e.jsx("div", {
                    className: "grid grid-cols-1 gap-8 mb-8",
                    children: e.jsx(U, {
                        children: e.jsxs(q, {
                            className: "p-6",
                            children: [e.jsxs("div", {
                                className: "flex items-center justify-between mb-4",
                                children: [e.jsxs("div", {
                                    children: [e.jsx("h3", {
                                        className: "text-lg font-semibold",
                                        children: "Importaciones Automáticas"
                                    }), e.jsx("p", {
                                        className: "text-muted-foreground",
                                        children: "Configurar horarios de sincronización"
                                    })]
                                }), e.jsxs(T, {
                                    variant: "outline",
                                    onClick: () => t("/admin/import-optimized"),
                                    children: [e.jsx(OE, {
                                        className: "mr-2 h-4 w-4"
                                    }), "Configurar"]
                                })]
                            }), e.jsx("div", {
                                className: "text-sm text-muted-foreground",
                                children: "Desde aquí puedes acceder a la configuración completa de importaciones programadas, historial de sincronizaciones y herramientas de mantenimiento."
                            })]
                        })
                    })
                })]
            })]
        })
    },
    A1 = t => {
        switch (t.toLowerCase()) {
        case "completed":
            return "bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100";
        case "failed":
            return "bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100";
        case "partial":
            return "bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100";
        case "processing":
            return "bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100";
        default:
            return "bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"
        }
    },
    M1 = t => {
        switch (t) {
        case "vehicles":
            return "Vehículos";
        case "parts":
            return "Piezas";
        case "all":
            return "Vehículos y Piezas";
        default:
            return t
        }
    },
    I1 = t => {
        switch (t.toLowerCase()) {
        case "completed":
            return "Completado";
        case "failed":
            return "Fallido";
        case "partial":
            return "Parcial";
        case "processing":
        case "in_progress":
            return "En progreso";
        case "paused":
            return "Pausado";
        case "cancelled":
            return "Cancelado";
        default:
            return t
        }
    },
    rB = t => (t.status === "failed" || t.status === "partial" || t.status === "paused") && t.details && (t.details.lastId || t.details.vehicles && t.details.vehicles.lastId || t.details.parts && t.details.parts.lastId),
    nB = t => t.status === "processing" || t.status === "in_progress",
    aB = t => t.status === "processing" || t.status === "in_progress" || t.status === "paused",
    iB = ({history: t, isLoading: s, onDelete: r, onResume: n, onPause: a, onCancel: i, pageSize: o=10, onDeleteAll: l, onPauseAll: c}) => {
        const [d, u] = h.useState(!1),
            [m, p] = h.useState(null),
            [j, g] = h.useState([]),
            [x, y] = h.useState(!1),
            [v, f] = h.useState(null),
            {toast: b} = st(),
            N = pr(),
            [w, C] = h.useState(1),
            E = (w - 1) * o,
            k = E + o,
            R = t.slice(E, k),
            H = Math.ceil(t.length / o),
            z = async () => {
                if (v !== "delete-all") {
                    f("delete-all");
                    try {
                        const O = t.filter(ue => ue.status === "in_progress" || ue.status === "processing");
                        for (const ue of O)
                            try {
                                await ss.cancelImport(ue.id)
                            } catch (Y) {
                                console.error(`Error al cancelar importación ${ue.id}:`, Y)
                            }
                        const M = await fetch("/api/import/history", {
                            method: "DELETE",
                            headers: {
                                "Content-Type": "application/json"
                            },
                            credentials: "include"
                        });
                        if (!M.ok)
                            throw new Error("Error al eliminar historial");
                        const re = await M.json();
                        b({
                            title: "Eliminado correctamente",
                            description: re.message
                        }),
                        l && l()
                    } catch (O) {
                        console.error("Error al eliminar todas las importaciones:", O),
                        b({
                            title: "Error",
                            description: "No se pudo eliminar el historial de importaciones",
                            variant: "destructive"
                        })
                    }
                    f(null)
                }
            },
            A = async () => {
                if (v !== "pause-all") {
                    f("pause-all");
                    try {
                        const O = await fetch("/api/import/history/pause-all", {
                            method: "POST",
                            headers: {
                                "Content-Type": "application/json"
                            }
                        });
                        if (!O.ok)
                            throw new Error("Error al pausar importaciones");
                        const M = await O.json();
                        b({
                            title: "Pausado correctamente",
                            description: M.message
                        }),
                        c && c()
                    } catch (O) {
                        console.error("Error al pausar todas las importaciones:", O),
                        b({
                            title: "Error",
                            description: "No se pudieron pausar las importaciones",
                            variant: "destructive"
                        })
                    }
                    f(null)
                }
            },
            $ = O => {
                g(M => M.includes(O) ? M.filter(re => re !== O) : [...M, O])
            },
            G = () => {
                j.length === t.length ? g([]) : g(t.map(O => O.id))
            },
            F = async () => {
                f("bulk-delete");
                let O = 0,
                    M = 0;
                for (const re of j)
                    try {
                        await ss.deleteHistoryItem(re),
                        r && r(re),
                        O++
                    } catch (ue) {
                        console.error(`Error al eliminar registro ${re}:`, ue),
                        M++
                    }
                b({
                    title: "Eliminación masiva completada",
                    description: `${O} registros eliminados. ${M} errores.`,
                    variant: M > 0 ? "destructive" : "default"
                }),
                g([]),
                y(!1),
                f(null)
            },
            _ = O => {
                p(O),
                u(!0)
            },
            S = async () => {
                if (m !== null) {
                    try {
                        await ss.deleteHistoryItem(m),
                        r && r(m),
                        b({
                            title: "Eliminado correctamente",
                            description: "El registro ha sido eliminado del historial"
                        })
                    } catch (O) {
                        console.error("Error al eliminar registro:", O),
                        b({
                            title: "Error al eliminar",
                            description: "No se pudo eliminar el registro. Intente nuevamente.",
                            variant: "destructive"
                        })
                    }
                    u(!1),
                    p(null)
                }
            },
            I = async O => {
                f(`resume-${O}`);
                try {
                    const M = await fetch(`/api/import/history/${O}/resume`, {
                            method: "POST",
                            headers: {
                                "Content-Type": "application/json"
                            }
                        }),
                        re = await M.json();
                    if (M.ok && re.success)
                        b({
                            title: "Importación reanudada",
                            description: re.message || "La importación se ha reanudado correctamente"
                        }),
                        await N.invalidateQueries({
                            queryKey: ["/api/import/history"]
                        });
                    else
                        throw new Error(re.message || "Error al reanudar la importación")
                } catch (M) {
                    console.error("Error reanudando importación:", M),
                    b({
                        title: "Error",
                        description: M instanceof Error ? M.message : "No se pudo reanudar la importación",
                        variant: "destructive"
                    })
                } finally {
                    f(null)
                }
            },
            W = async O => {
                f(`pause-${O}`);
                try {
                    const M = await fetch(`/api/import/history/${O}/pause`, {
                            method: "POST",
                            headers: {
                                "Content-Type": "application/json"
                            }
                        }),
                        re = await M.json();
                    if (M.ok && re.success)
                        b({
                            title: "Importación pausada",
                            description: re.message || "La importación se ha pausado correctamente"
                        }),
                        await N.invalidateQueries({
                            queryKey: ["/api/import/history"]
                        });
                    else
                        throw new Error(re.message || "Error al pausar la importación")
                } catch (M) {
                    console.error("Error pausando importación:", M),
                    b({
                        title: "Error",
                        description: M instanceof Error ? M.message : "No se pudo pausar la importación",
                        variant: "destructive"
                    })
                } finally {
                    f(null)
                }
            },
            oe = async O => {
                if (v !== `cancel-${O}`) {
                    f(`cancel-${O}`);
                    try {
                        await ss.cancelImport(O),
                        b({
                            title: "Importación cancelada",
                            description: "La importación se ha cancelado correctamente"
                        }),
                        i && i(O)
                    } catch (M) {
                        console.error("Error al cancelar importación:", M),
                        b({
                            title: "Error al cancelar",
                            description: "No se pudo cancelar la importación. Intente nuevamente.",
                            variant: "destructive"
                        })
                    }
                    f(null)
                }
            };
        return s ? e.jsxs("div", {
            className: "text-center py-8",
            children: [e.jsx("div", {
                className: "animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"
            }), e.jsx("p", {
                children: "Cargando historial de importaciones..."
            })]
        }) : t.length === 0 ? e.jsx("div", {
            className: "text-center py-8 border rounded-md",
            children: e.jsx("p", {
                className: "text-muted-foreground",
                children: "No hay registros de importación todavía"
            })
        }) : e.jsxs("div", {
            className: "relative",
            children: [e.jsxs("div", {
                className: "mb-4 flex justify-between items-center",
                children: [e.jsxs("div", {
                    className: "flex gap-2",
                    children: [e.jsx(T, {
                        variant: "destructive",
                        onClick: z,
                        disabled: v === "delete-all" || t.length === 0,
                        className: "flex items-center",
                        children: v === "delete-all" ? e.jsxs(e.Fragment, {
                            children: [e.jsx("span", {
                                className: "animate-spin h-4 w-4 mr-2 border-2 border-t-transparent border-white rounded-full"
                            }), "Eliminando..."]
                        }) : e.jsxs(e.Fragment, {
                            children: [e.jsx(Jt, {
                                className: "h-4 w-4 mr-2"
                            }), "Eliminar todas"]
                        })
                    }), e.jsx(T, {
                        variant: "secondary",
                        onClick: A,
                        disabled: v === "pause-all" || !t.some(O => O.status === "in_progress" || O.status === "processing"),
                        className: "flex items-center",
                        children: v === "pause-all" ? e.jsxs(e.Fragment, {
                            children: [e.jsx("span", {
                                className: "animate-spin h-4 w-4 mr-2 border-2 border-t-transparent border-secondary rounded-full"
                            }), "Pausando..."]
                        }) : e.jsxs(e.Fragment, {
                            children: [e.jsx(ew, {
                                className: "h-4 w-4 mr-2"
                            }), "Pausar todas"]
                        })
                    })]
                }), j.length > 0 && e.jsx(T, {
                    variant: "destructive",
                    size: "sm",
                    onClick: () => y(!0),
                    disabled: v === "bulk-delete",
                    children: v === "bulk-delete" ? e.jsxs(e.Fragment, {
                        children: [e.jsx("span", {
                            className: "animate-spin h-4 w-4 mr-2 border-2 border-t-transparent border-white rounded-full"
                        }), "Eliminando..."]
                    }) : e.jsxs(e.Fragment, {
                        children: [e.jsx(Jt, {
                            className: "h-4 w-4 mr-1"
                        }), "Eliminar seleccionados (", j.length, ")"]
                    })
                })]
            }), e.jsx("div", {
                className: "overflow-x-auto",
                children: e.jsxs(Ws, {
                    children: [e.jsx(Gs, {
                        children: e.jsxs(gt, {
                            children: [e.jsx(ge, {
                                className: "w-12",
                                children: e.jsx(yi, {
                                    checked: j.length === t.length,
                                    onCheckedChange: G
                                })
                            }), e.jsx(ge, {
                                className: "whitespace-nowrap",
                                children: "Fecha"
                            }), e.jsx(ge, {
                                className: "whitespace-nowrap",
                                children: "Tipo"
                            }), e.jsx(ge, {
                                className: "whitespace-nowrap",
                                children: "Elementos"
                            }), e.jsx(ge, {
                                className: "whitespace-nowrap",
                                children: "Estado"
                            }), e.jsx(ge, {
                                className: "whitespace-nowrap",
                                children: "Acciones"
                            })]
                        })
                    }), e.jsx(Ks, {
                        children: R.map(O => e.jsxs(gt, {
                            children: [e.jsx(xe, {
                                children: e.jsx(yi, {
                                    checked: j.includes(O.id),
                                    onCheckedChange: () => $(O.id)
                                })
                            }), e.jsx(xe, {
                                className: "whitespace-nowrap",
                                children: Vn(O.startTime)
                            }), e.jsx(xe, {
                                children: e.jsxs("div", {
                                    className: "flex flex-col",
                                    children: [e.jsx("span", {
                                        children: M1(O.type)
                                    }), e.jsx(ye, {
                                        variant: "outline",
                                        className: "w-fit mt-1",
                                        children: O.isFullImport ? "Completa" : "Incremental"
                                    })]
                                })
                            }), e.jsxs(xe, {
                                children: [O.newItems + O.updatedItems, " elementos (", O.newItems, " nuevos, ", O.updatedItems, " actualizados)"]
                            }), e.jsx(xe, {
                                children: e.jsx(ye, {
                                    className: A1(O.status),
                                    children: I1(O.status)
                                })
                            }), e.jsx(xe, {
                                children: e.jsxs("div", {
                                    className: "flex space-x-2",
                                    children: [e.jsxs(Ps, {
                                        children: [e.jsx(_p, {
                                            asChild: !0,
                                            children: e.jsxs(T, {
                                                variant: "ghost",
                                                size: "sm",
                                                children: [e.jsx(bs, {
                                                    className: "h-4 w-4 mr-1"
                                                }), " Ver detalles"]
                                            })
                                        }), e.jsxs(xs, {
                                            className: "max-w-2xl",
                                            children: [e.jsx(gs, {
                                                children: e.jsx(vs, {
                                                    children: "Detalles de Importación"
                                                })
                                            }), e.jsxs("div", {
                                                className: "mt-4",
                                                children: [e.jsxs("div", {
                                                    className: "grid grid-cols-2 gap-4 mb-4",
                                                    children: [e.jsxs("div", {
                                                        children: [e.jsx("h4", {
                                                            className: "text-sm font-medium text-muted-foreground",
                                                            children: "Tipo"
                                                        }), e.jsx("p", {
                                                            children: M1(O.type)
                                                        })]
                                                    }), e.jsxs("div", {
                                                        children: [e.jsx("h4", {
                                                            className: "text-sm font-medium text-muted-foreground",
                                                            children: "Estado"
                                                        }), e.jsx(ye, {
                                                            className: A1(O.status),
                                                            children: I1(O.status)
                                                        })]
                                                    }), e.jsxs("div", {
                                                        children: [e.jsx("h4", {
                                                            className: "text-sm font-medium text-muted-foreground",
                                                            children: "Iniciado"
                                                        }), e.jsx("p", {
                                                            children: Vn(O.startTime)
                                                        })]
                                                    }), e.jsxs("div", {
                                                        children: [e.jsx("h4", {
                                                            className: "text-sm font-medium text-muted-foreground",
                                                            children: "Finalizado"
                                                        }), e.jsx("p", {
                                                            children: O.endTime ? Vn(O.endTime) : "En proceso"
                                                        })]
                                                    }), e.jsxs("div", {
                                                        children: [e.jsx("h4", {
                                                            className: "text-sm font-medium text-muted-foreground",
                                                            children: "Total Elementos"
                                                        }), e.jsx("p", {
                                                            children: O.totalItems
                                                        })]
                                                    }), e.jsxs("div", {
                                                        children: [e.jsx("h4", {
                                                            className: "text-sm font-medium text-muted-foreground",
                                                            children: "Nuevos / Actualizados"
                                                        }), e.jsxs("p", {
                                                            children: [O.newItems, " / ", O.updatedItems]
                                                        })]
                                                    })]
                                                }), O.errors && e.jsxs("div", {
                                                    className: "mb-4",
                                                    children: [e.jsx("h4", {
                                                        className: "text-sm font-medium text-muted-foreground mb-2",
                                                        children: "Errores"
                                                    }), e.jsx("div", {
                                                        className: "bg-red-50 border border-red-200 rounded p-3 text-sm text-red-900",
                                                        children: O.errors
                                                    })]
                                                }), O.details && Object.keys(O.details).length > 0 && e.jsx(z0, {
                                                    type: "single",
                                                    collapsible: !0,
                                                    children: e.jsxs(Iu, {
                                                        value: "details",
                                                        children: [e.jsx(Ru, {
                                                            children: "Detalles adicionales"
                                                        }), e.jsx(Du, {
                                                            children: e.jsx("pre", {
                                                                className: "bg-gray-50 p-3 rounded text-xs overflow-auto max-h-60",
                                                                children: JSON.stringify(O.details, null, 2)
                                                            })
                                                        })]
                                                    })
                                                })]
                                            })]
                                        })]
                                    }), rB(O) && e.jsx(T, {
                                        variant: "ghost",
                                        size: "sm",
                                        className: "text-green-600 hover:text-green-800 hover:bg-green-50",
                                        onClick: () => I(O.id),
                                        disabled: v === `resume-${O.id}`,
                                        children: v === `resume-${O.id}` ? e.jsxs("span", {
                                            className: "flex items-center",
                                            children: [e.jsx("span", {
                                                className: "animate-spin h-4 w-4 mr-1 border-2 border-t-transparent border-green-600 rounded-full"
                                            }), "Reanudando..."]
                                        }) : e.jsxs("span", {
                                            className: "flex items-center",
                                            children: [e.jsx(CO, {
                                                className: "h-4 w-4 mr-1"
                                            }), " Continuar"]
                                        })
                                    }), nB(O) && e.jsx(T, {
                                        variant: "ghost",
                                        size: "sm",
                                        className: "text-amber-600 hover:text-amber-800 hover:bg-amber-50",
                                        onClick: () => W(O.id),
                                        disabled: v === `pause-${O.id}`,
                                        children: v === `pause-${O.id}` ? e.jsxs("span", {
                                            className: "flex items-center",
                                            children: [e.jsx("span", {
                                                className: "animate-spin h-4 w-4 mr-1 border-2 border-t-transparent border-amber-600 rounded-full"
                                            }), "Pausando..."]
                                        }) : e.jsxs("span", {
                                            className: "flex items-center",
                                            children: [e.jsx(ew, {
                                                className: "h-4 w-4 mr-1"
                                            }), " Pausar"]
                                        })
                                    }), aB(O) && e.jsx(T, {
                                        variant: "ghost",
                                        size: "sm",
                                        className: "text-orange-600 hover:text-orange-800 hover:bg-orange-50",
                                        onClick: () => oe(O.id),
                                        disabled: v === `cancel-${O.id}`,
                                        children: v === `cancel-${O.id}` ? e.jsxs("span", {
                                            className: "flex items-center",
                                            children: [e.jsx("span", {
                                                className: "animate-spin h-4 w-4 mr-1 border-2 border-t-transparent border-orange-600 rounded-full"
                                            }), "Cancelando..."]
                                        }) : e.jsxs("span", {
                                            className: "flex items-center",
                                            children: [e.jsx(Ea, {
                                                className: "h-4 w-4 mr-1"
                                            }), " Cancelar"]
                                        })
                                    }), e.jsxs(T, {
                                        variant: "ghost",
                                        size: "sm",
                                        className: "text-red-500 hover:text-red-700 hover:bg-red-50",
                                        onClick: () => _(O.id),
                                        children: [e.jsx(Jt, {
                                            className: "h-4 w-4 mr-1"
                                        }), " Eliminar"]
                                    })]
                                })
                            })]
                        }, O.id))
                    })]
                })
            }), t.length > o && e.jsxs("div", {
                className: "flex justify-between items-center mt-4",
                children: [e.jsxs("div", {
                    className: "text-sm text-muted-foreground",
                    children: ["Mostrando ", E + 1, "-", Math.min(k, t.length), " de ", t.length, " registros"]
                }), e.jsxs("nav", {
                    "aria-label": "Paginación",
                    className: "flex items-center space-x-2",
                    children: [e.jsx(T, {
                        variant: "outline",
                        size: "sm",
                        onClick: () => C(1),
                        disabled: w === 1,
                        className: "hidden sm:block",
                        children: "Primera"
                    }), e.jsx(T, {
                        variant: "outline",
                        size: "sm",
                        onClick: () => C(Math.max(1, w - 1)),
                        disabled: w === 1,
                        children: e.jsx(xi, {
                            className: "h-4 w-4"
                        })
                    }), e.jsx("div", {
                        className: "flex items-center gap-1",
                        children: Array.from({
                            length: Math.min(5, H)
                        }).map((O, M) => {
                            let re;
                            return H <= 5 || w <= 3 ? re = M + 1 : w >= H - 2 ? re = H - 4 + M : re = w - 2 + M, e.jsx(T, {
                                variant: w === re ? "default" : "outline",
                                size: "sm",
                                onClick: () => C(re),
                                className: "w-8 h-8 p-0",
                                children: re
                            }, re)
                        })
                    }), e.jsx(T, {
                        variant: "outline",
                        size: "sm",
                        onClick: () => C(Math.min(H, w + 1)),
                        disabled: w === H,
                        children: e.jsx(Ni, {
                            className: "h-4 w-4"
                        })
                    }), e.jsx(T, {
                        variant: "outline",
                        size: "sm",
                        onClick: () => C(H),
                        disabled: w === H,
                        className: "hidden sm:block",
                        children: "Última"
                    })]
                })]
            }), e.jsx(Ps, {
                open: d,
                onOpenChange: u,
                children: e.jsxs(xs, {
                    children: [e.jsxs(gs, {
                        children: [e.jsx(vs, {
                            children: "Confirmar eliminación"
                        }), e.jsx(Sr, {
                            children: "¿Está seguro que desea eliminar este registro del historial de importaciones? Esta acción no se puede deshacer."
                        })]
                    }), e.jsxs(Hr, {
                        className: "flex space-x-2 justify-end",
                        children: [e.jsx(T, {
                            variant: "outline",
                            onClick: () => u(!1),
                            children: "Cancelar"
                        }), e.jsxs(T, {
                            variant: "destructive",
                            onClick: S,
                            children: [e.jsx(zs, {
                                className: "h-4 w-4 mr-1"
                            }), "Eliminar"]
                        })]
                    })]
                })
            }), e.jsx(Ps, {
                open: x,
                onOpenChange: y,
                children: e.jsxs(xs, {
                    children: [e.jsxs(gs, {
                        children: [e.jsx(vs, {
                            children: "Confirmar eliminación masiva"
                        }), e.jsxs(Sr, {
                            children: ["¿Está seguro que desea eliminar ", j.length, " registros del historial de importaciones? Esta acción no se puede deshacer."]
                        })]
                    }), e.jsxs(Hr, {
                        className: "flex space-x-2 justify-end",
                        children: [e.jsx(T, {
                            variant: "outline",
                            onClick: () => y(!1),
                            children: "Cancelar"
                        }), e.jsx(T, {
                            variant: "destructive",
                            onClick: F,
                            disabled: v === "bulk-delete",
                            children: v === "bulk-delete" ? e.jsxs(e.Fragment, {
                                children: [e.jsx("span", {
                                    className: "animate-spin h-4 w-4 mr-2 border-2 border-t-transparent border-white rounded-full"
                                }), "Eliminando..."]
                            }) : e.jsxs(e.Fragment, {
                                children: [e.jsx(zs, {
                                    className: "h-4 w-4 mr-1"
                                }), "Eliminar ", j.length, " registros"]
                            })
                        })]
                    })]
                })
            })]
        })
    };
var hA = "AlertDialog",
    [oB, tZ] = ws(hA, [u4]),
    Ci = u4(),
    pA = t => {
        const {__scopeAlertDialog: s, ...r} = t,
            n = Ci(s);
        return e.jsx(a0, {
            ...n,
            ...r,
            modal: !0
        })
    };
pA.displayName = hA;
var lB = "AlertDialogTrigger",
    fA = h.forwardRef((t, s) => {
        const {__scopeAlertDialog: r, ...n} = t,
            a = Ci(r);
        return e.jsx(i0, {
            ...a,
            ...n,
            ref: s
        })
    });
fA.displayName = lB;
var cB = "AlertDialogPortal",
    xA = t => {
        const {__scopeAlertDialog: s, ...r} = t,
            n = Ci(s);
        return e.jsx(o0, {
            ...n,
            ...r
        })
    };
xA.displayName = cB;
var dB = "AlertDialogOverlay",
    gA = h.forwardRef((t, s) => {
        const {__scopeAlertDialog: r, ...n} = t,
            a = Ci(r);
        return e.jsx(hm, {
            ...a,
            ...n,
            ref: s
        })
    });
gA.displayName = dB;
var lc = "AlertDialogContent",
    [uB, mB] = oB(lc),
    hB = dE("AlertDialogContent"),
    vA = h.forwardRef((t, s) => {
        const {__scopeAlertDialog: r, children: n, ...a} = t,
            i = Ci(r),
            o = h.useRef(null),
            l = lt(s, o),
            c = h.useRef(null);
        return e.jsx(BF, {
            contentName: lc,
            titleName: yA,
            docsSlug: "alert-dialog",
            children: e.jsx(uB, {
                scope: r,
                cancelRef: c,
                children: e.jsxs(pm, {
                    role: "alertdialog",
                    ...i,
                    ...a,
                    ref: l,
                    onOpenAutoFocus: Ne(a.onOpenAutoFocus, d => {
                        var u;
                        d.preventDefault(),
                        (u = c.current) == null || u.focus({
                            preventScroll: !0
                        })
                    }),
                    onPointerDownOutside: d => d.preventDefault(),
                    onInteractOutside: d => d.preventDefault(),
                    children: [e.jsx(hB, {
                        children: n
                    }), e.jsx(fB, {
                        contentRef: o
                    })]
                })
            })
        })
    });
vA.displayName = lc;
var yA = "AlertDialogTitle",
    jA = h.forwardRef((t, s) => {
        const {__scopeAlertDialog: r, ...n} = t,
            a = Ci(r);
        return e.jsx(fm, {
            ...a,
            ...n,
            ref: s
        })
    });
jA.displayName = yA;
var bA = "AlertDialogDescription",
    NA = h.forwardRef((t, s) => {
        const {__scopeAlertDialog: r, ...n} = t,
            a = Ci(r);
        return e.jsx(xm, {
            ...a,
            ...n,
            ref: s
        })
    });
NA.displayName = bA;
var pB = "AlertDialogAction",
    wA = h.forwardRef((t, s) => {
        const {__scopeAlertDialog: r, ...n} = t,
            a = Ci(r);
        return e.jsx(Ff, {
            ...a,
            ...n,
            ref: s
        })
    });
wA.displayName = pB;
var CA = "AlertDialogCancel",
    SA = h.forwardRef((t, s) => {
        const {__scopeAlertDialog: r, ...n} = t,
            {cancelRef: a} = mB(CA, r),
            i = Ci(r),
            o = lt(s, a);
        return e.jsx(Ff, {
            ...i,
            ...n,
            ref: o
        })
    });
SA.displayName = CA;
var fB = ({contentRef: t}) => {
        const s = `\`${lc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${
        lc}\` by passing a \`${bA}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${
        lc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`

        ;
        return h.useEffect(() => {
            var n;
            document.getElementById((n = t.current) == null ? void 0 : n.getAttribute("aria-describedby")) || console.warn(s)
        }, [s, t]), null
    },
    xB = pA,
    gB = fA,
    vB = xA,
    EA = gA,
    kA = vA,
    PA = wA,
    _A = SA,
    TA = jA,
    AA = NA;
const Fi = xB,
    Mo = gB,
    yB = vB,
    MA = h.forwardRef(({className: t, ...s}, r) => e.jsx(EA, {
        className: me("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0", t),
        ...s,
        ref: r
    }));
MA.displayName = EA.displayName;
const Qa = h.forwardRef(({className: t, ...s}, r) => e.jsxs(yB, {
    children: [e.jsx(MA, {}), e.jsx(kA, {
        ref: r,
        className: me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg", t),
        ...s
    })]
}));
Qa.displayName = kA.displayName;
const Za = ({className: t, ...s}) => e.jsx("div", {
    className: me("flex flex-col space-y-2 text-center sm:text-left", t),
    ...s
});
Za.displayName = "AlertDialogHeader";
const Xa = ({className: t, ...s}) => e.jsx("div", {
    className: me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2", t),
    ...s
});
Xa.displayName = "AlertDialogFooter";
const Ja = h.forwardRef(({className: t, ...s}, r) => e.jsx(TA, {
    ref: r,
    className: me("text-lg font-semibold", t),
    ...s
}));
Ja.displayName = TA.displayName;
const ei = h.forwardRef(({className: t, ...s}, r) => e.jsx(AA, {
    ref: r,
    className: me("text-sm text-muted-foreground", t),
    ...s
}));
ei.displayName = AA.displayName;
const ti = h.forwardRef(({className: t, ...s}, r) => e.jsx(PA, {
    ref: r,
    className: me(Mc(), t),
    ...s
}));
ti.displayName = PA.displayName;
const si = h.forwardRef(({className: t, ...s}, r) => e.jsx(_A, {
    ref: r,
    className: me(Mc({
        variant: "outline"
    }), "mt-2 sm:mt-0", t),
    ...s
}));
si.displayName = _A.displayName;
var it = function() {
    return it = Object.assign || function(s) {
        for (var r, n = 1, a = arguments.length; n < a; n++) {
            r = arguments[n];
            for (var i in r)
                Object.prototype.hasOwnProperty.call(r, i) && (s[i] = r[i])
        }
        return s
    }, it.apply(this, arguments)
};
function jB(t, s) {
    var r = {};
    for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && s.indexOf(n) < 0 && (r[n] = t[n]);
    if (t != null && typeof Object.getOwnPropertySymbols == "function")
        for (var a = 0, n = Object.getOwnPropertySymbols(t); a < n.length; a++)
            s.indexOf(n[a]) < 0 && Object.prototype.propertyIsEnumerable.call(t, n[a]) && (r[n[a]] = t[n[a]]);
    return r
}
function IA(t, s, r) {
    for (var n = 0, a = s.length, i; n < a; n++)
        (i || !(n in s)) && (i || (i = Array.prototype.slice.call(s, 0, n)), i[n] = s[n]);
    return t.concat(i || Array.prototype.slice.call(s))
}
function _m(t) {
    return t.mode === "multiple"
}
function Tm(t) {
    return t.mode === "range"
}
function ax(t) {
    return t.mode === "single"
}
var bB = {
    root: "rdp",
    multiple_months: "rdp-multiple_months",
    with_weeknumber: "rdp-with_weeknumber",
    vhidden: "rdp-vhidden",
    button_reset: "rdp-button_reset",
    button: "rdp-button",
    caption: "rdp-caption",
    caption_start: "rdp-caption_start",
    caption_end: "rdp-caption_end",
    caption_between: "rdp-caption_between",
    caption_label: "rdp-caption_label",
    caption_dropdowns: "rdp-caption_dropdowns",
    dropdown: "rdp-dropdown",
    dropdown_month: "rdp-dropdown_month",
    dropdown_year: "rdp-dropdown_year",
    dropdown_icon: "rdp-dropdown_icon",
    months: "rdp-months",
    month: "rdp-month",
    table: "rdp-table",
    tbody: "rdp-tbody",
    tfoot: "rdp-tfoot",
    head: "rdp-head",
    head_row: "rdp-head_row",
    head_cell: "rdp-head_cell",
    nav: "rdp-nav",
    nav_button: "rdp-nav_button",
    nav_button_previous: "rdp-nav_button_previous",
    nav_button_next: "rdp-nav_button_next",
    nav_icon: "rdp-nav_icon",
    row: "rdp-row",
    weeknumber: "rdp-weeknumber",
    cell: "rdp-cell",
    day: "rdp-day",
    day_today: "rdp-day_today",
    day_outside: "rdp-day_outside",
    day_selected: "rdp-day_selected",
    day_disabled: "rdp-day_disabled",
    day_hidden: "rdp-day_hidden",
    day_range_start: "rdp-day_range_start",
    day_range_end: "rdp-day_range_end",
    day_range_middle: "rdp-day_range_middle"
};
function NB(t, s) {
    return Bt(t, "LLLL y", s)
}
function wB(t, s) {
    return Bt(t, "d", s)
}
function CB(t, s) {
    return Bt(t, "LLLL", s)
}
function SB(t) {
    return "".concat(t)
}
function EB(t, s) {
    return Bt(t, "cccccc", s)
}
function kB(t, s) {
    return Bt(t, "yyyy", s)
}
var PB = Object.freeze({
        __proto__: null,
        formatCaption: NB,
        formatDay: wB,
        formatMonthCaption: CB,
        formatWeekNumber: SB,
        formatWeekdayName: EB,
        formatYearCaption: kB
    }),
    _B = function(t, s, r) {
        return Bt(t, "do MMMM (EEEE)", r)
    },
    TB = function() {
        return "Month: "
    },
    AB = function() {
        return "Go to next month"
    },
    MB = function() {
        return "Go to previous month"
    },
    IB = function(t, s) {
        return Bt(t, "cccc", s)
    },
    RB = function(t) {
        return "Week n. ".concat(t)
    },
    DB = function() {
        return "Year: "
    },
    OB = Object.freeze({
        __proto__: null,
        labelDay: _B,
        labelMonthDropdown: TB,
        labelNext: AB,
        labelPrevious: MB,
        labelWeekNumber: RB,
        labelWeekday: IB,
        labelYearDropdown: DB
    });
function LB() {
    var t = "buttons",
        s = bB,
        r = X0,
        n = {},
        a = {},
        i = 1,
        o = {},
        l = new Date;
    return {
        captionLayout: t,
        classNames: s,
        formatters: PB,
        labels: OB,
        locale: r,
        modifiersClassNames: n,
        modifiers: a,
        numberOfMonths: i,
        styles: o,
        today: l,
        mode: "default"
    }
}
function FB(t) {
    var s = t.fromYear,
        r = t.toYear,
        n = t.fromMonth,
        a = t.toMonth,
        i = t.fromDate,
        o = t.toDate;
    return n ? i = Wr(n) : s && (i = new Date(s, 0, 1)), a ? o = nx(a) : r && (o = new Date(r, 11, 31)), {
        fromDate: i ? Vc(i) : void 0,
        toDate: o ? Vc(o) : void 0
    }
}
var RA = h.createContext(void 0);
function zB(t) {
    var s,
        r = t.initialProps,
        n = LB(),
        a = FB(r),
        i = a.fromDate,
        o = a.toDate,
        l = (s = r.captionLayout) !== null && s !== void 0 ? s : n.captionLayout;
    l !== "buttons" && (!i || !o) && (l = "buttons");
    var c;
    (ax(r) || _m(r) || Tm(r)) && (c = r.onSelect);
    var d = it(it(it({}, n), r), {
        captionLayout: l,
        classNames: it(it({}, n.classNames), r.classNames),
        components: it({}, r.components),
        formatters: it(it({}, n.formatters), r.formatters),
        fromDate: i,
        labels: it(it({}, n.labels), r.labels),
        mode: r.mode || n.mode,
        modifiers: it(it({}, n.modifiers), r.modifiers),
        modifiersClassNames: it(it({}, n.modifiersClassNames), r.modifiersClassNames),
        onSelect: c,
        styles: it(it({}, n.styles), r.styles),
        toDate: o
    });
    return e.jsx(RA.Provider, {
        value: d,
        children: t.children
    })
}
function Ht() {
    var t = h.useContext(RA);
    if (!t)
        throw new Error("useDayPicker must be used within a DayPickerProvider.");
    return t
}
function DA(t) {
    var s = Ht(),
        r = s.locale,
        n = s.classNames,
        a = s.styles,
        i = s.formatters.formatCaption;
    return e.jsx("div", {
        className: n.caption_label,
        style: a.caption_label,
        "aria-live": "polite",
        role: "presentation",
        id: t.id,
        children: i(t.displayMonth, {
            locale: r
        })
    })
}
function $B(t) {
    return e.jsx("svg", it({
        width: "8px",
        height: "8px",
        viewBox: "0 0 120 120",
        "data-testid": "iconDropdown"
    }, t, {
        children: e.jsx("path", {
            d: "M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",
            fill: "currentColor",
            fillRule: "nonzero"
        })
    }))
}
function OA(t) {
    var s,
        r,
        n = t.onChange,
        a = t.value,
        i = t.children,
        o = t.caption,
        l = t.className,
        c = t.style,
        d = Ht(),
        u = (r = (s = d.components) === null || s === void 0 ? void 0 : s.IconDropdown) !== null && r !== void 0 ? r : $B;
    return e.jsxs("div", {
        className: l,
        style: c,
        children: [e.jsx("span", {
            className: d.classNames.vhidden,
            children: t["aria-label"]
        }), e.jsx("select", {
            name: t.name,
            "aria-label": t["aria-label"],
            className: d.classNames.dropdown,
            style: d.styles.dropdown,
            value: a,
            onChange: n,
            children: i
        }), e.jsxs("div", {
            className: d.classNames.caption_label,
            style: d.styles.caption_label,
            "aria-hidden": "true",
            children: [o, e.jsx(u, {
                className: d.classNames.dropdown_icon,
                style: d.styles.dropdown_icon
            })]
        })]
    })
}
function VB(t) {
    var s,
        r = Ht(),
        n = r.fromDate,
        a = r.toDate,
        i = r.styles,
        o = r.locale,
        l = r.formatters.formatMonthCaption,
        c = r.classNames,
        d = r.components,
        u = r.labels.labelMonthDropdown;
    if (!n)
        return e.jsx(e.Fragment, {});
    if (!a)
        return e.jsx(e.Fragment, {});
    var m = [];
    if (Cq(n, a))
        for (var p = Wr(n), j = n.getMonth(); j <= a.getMonth(); j++)
            m.push(yg(p, j));
    else
        for (var p = Wr(new Date), j = 0; j <= 11; j++)
            m.push(yg(p, j));
    var g = function(y) {
            var v = Number(y.target.value),
                f = yg(Wr(t.displayMonth), v);
            t.onChange(f)
        },
        x = (s = d == null ? void 0 : d.Dropdown) !== null && s !== void 0 ? s : OA;
    return e.jsx(x, {
        name: "months",
        "aria-label": u(),
        className: c.dropdown_month,
        style: i.dropdown_month,
        onChange: g,
        value: t.displayMonth.getMonth(),
        caption: l(t.displayMonth, {
            locale: o
        }),
        children: m.map(function(y) {
            return e.jsx("option", {
                value: y.getMonth(),
                children: l(y, {
                    locale: o
                })
            }, y.getMonth())
        })
    })
}
function UB(t) {
    var s,
        r = t.displayMonth,
        n = Ht(),
        a = n.fromDate,
        i = n.toDate,
        o = n.locale,
        l = n.styles,
        c = n.classNames,
        d = n.components,
        u = n.formatters.formatYearCaption,
        m = n.labels.labelYearDropdown,
        p = [];
    if (!a)
        return e.jsx(e.Fragment, {});
    if (!i)
        return e.jsx(e.Fragment, {});
    for (var j = a.getFullYear(), g = i.getFullYear(), x = j; x <= g; x++)
        p.push(_1(aA(new Date), x));
    var y = function(f) {
            var b = _1(Wr(r), Number(f.target.value));
            t.onChange(b)
        },
        v = (s = d == null ? void 0 : d.Dropdown) !== null && s !== void 0 ? s : OA;
    return e.jsx(v, {
        name: "years",
        "aria-label": m(),
        className: c.dropdown_year,
        style: l.dropdown_year,
        onChange: y,
        value: r.getFullYear(),
        caption: u(r, {
            locale: o
        }),
        children: p.map(function(f) {
            return e.jsx("option", {
                value: f.getFullYear(),
                children: u(f, {
                    locale: o
                })
            }, f.getFullYear())
        })
    })
}
function qB(t, s) {
    var r = h.useState(t),
        n = r[0],
        a = r[1],
        i = s === void 0 ? n : s;
    return [i, a]
}
function BB(t) {
    var s = t.month,
        r = t.defaultMonth,
        n = t.today,
        a = s || r || n || new Date,
        i = t.toDate,
        o = t.fromDate,
        l = t.numberOfMonths,
        c = l === void 0 ? 1 : l;
    if (i && qc(i, a) < 0) {
        var d = -1 * (c - 1);
        a = sa(i, d)
    }
    return o && qc(a, o) < 0 && (a = o), Wr(a)
}
function HB() {
    var t = Ht(),
        s = BB(t),
        r = qB(s, t.month),
        n = r[0],
        a = r[1],
        i = function(o) {
            var l;
            if (!t.disableNavigation) {
                var c = Wr(o);
                a(c),
                (l = t.onMonthChange) === null || l === void 0 || l.call(t, c)
            }
        };
    return [n, i]
}
function WB(t, s) {
    for (var r = s.reverseMonths, n = s.numberOfMonths, a = Wr(t), i = Wr(sa(a, n)), o = qc(i, a), l = [], c = 0; c < o; c++) {
        var d = sa(a, c);
        l.push(d)
    }
    return r && (l = l.reverse()), l
}
function GB(t, s) {
    if (!s.disableNavigation) {
        var r = s.toDate,
            n = s.pagedNavigation,
            a = s.numberOfMonths,
            i = a === void 0 ? 1 : a,
            o = n ? i : 1,
            l = Wr(t);
        if (!r)
            return sa(l, o);
        var c = qc(r, t);
        if (!(c < i))
            return sa(l, o)
    }
}
function KB(t, s) {
    if (!s.disableNavigation) {
        var r = s.fromDate,
            n = s.pagedNavigation,
            a = s.numberOfMonths,
            i = a === void 0 ? 1 : a,
            o = n ? i : 1,
            l = Wr(t);
        if (!r)
            return sa(l, -o);
        var c = qc(l, r);
        if (!(c <= 0))
            return sa(l, -o)
    }
}
var LA = h.createContext(void 0);
function YB(t) {
    var s = Ht(),
        r = HB(),
        n = r[0],
        a = r[1],
        i = WB(n, s),
        o = GB(n, s),
        l = KB(n, s),
        c = function(m) {
            return i.some(function(p) {
                return J0(m, p)
            })
        },
        d = function(m, p) {
            c(m) || (p && mA(m, p) ? a(sa(m, 1 + s.numberOfMonths * -1)) : a(m))
        },
        u = {
            currentMonth: n,
            displayMonths: i,
            goToMonth: a,
            goToDate: d,
            previousMonth: l,
            nextMonth: o,
            isDateDisplayed: c
        };
    return e.jsx(LA.Provider, {
        value: u,
        children: t.children
    })
}
function Am() {
    var t = h.useContext(LA);
    if (!t)
        throw new Error("useNavigation must be used within a NavigationProvider");
    return t
}
function R1(t) {
    var s,
        r = Ht(),
        n = r.classNames,
        a = r.styles,
        i = r.components,
        o = Am().goToMonth,
        l = function(u) {
            o(sa(u, t.displayIndex ? -t.displayIndex : 0))
        },
        c = (s = i == null ? void 0 : i.CaptionLabel) !== null && s !== void 0 ? s : DA,
        d = e.jsx(c, {
            id: t.id,
            displayMonth: t.displayMonth
        });
    return e.jsxs("div", {
        className: n.caption_dropdowns,
        style: a.caption_dropdowns,
        children: [e.jsx("div", {
            className: n.vhidden,
            children: d
        }), e.jsx(VB, {
            onChange: l,
            displayMonth: t.displayMonth
        }), e.jsx(UB, {
            onChange: l,
            displayMonth: t.displayMonth
        })]
    })
}
function QB(t) {
    return e.jsx("svg", it({
        width: "16px",
        height: "16px",
        viewBox: "0 0 120 120"
    }, t, {
        children: e.jsx("path", {
            d: "M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",
            fill: "currentColor",
            fillRule: "nonzero"
        })
    }))
}
function ZB(t) {
    return e.jsx("svg", it({
        width: "16px",
        height: "16px",
        viewBox: "0 0 120 120"
    }, t, {
        children: e.jsx("path", {
            d: "M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",
            fill: "currentColor"
        })
    }))
}
var Qp = h.forwardRef(function(t, s) {
    var r = Ht(),
        n = r.classNames,
        a = r.styles,
        i = [n.button_reset, n.button];
    t.className && i.push(t.className);
    var o = i.join(" "),
        l = it(it({}, a.button_reset), a.button);
    return t.style && Object.assign(l, t.style), e.jsx("button", it({}, t, {
        ref: s,
        type: "button",
        className: o,
        style: l
    }))
});
function XB(t) {
    var s,
        r,
        n = Ht(),
        a = n.dir,
        i = n.locale,
        o = n.classNames,
        l = n.styles,
        c = n.labels,
        d = c.labelPrevious,
        u = c.labelNext,
        m = n.components;
    if (!t.nextMonth && !t.previousMonth)
        return e.jsx(e.Fragment, {});
    var p = d(t.previousMonth, {
            locale: i
        }),
        j = [o.nav_button, o.nav_button_previous].join(" "),
        g = u(t.nextMonth, {
            locale: i
        }),
        x = [o.nav_button, o.nav_button_next].join(" "),
        y = (s = m == null ? void 0 : m.IconRight) !== null && s !== void 0 ? s : ZB,
        v = (r = m == null ? void 0 : m.IconLeft) !== null && r !== void 0 ? r : QB;
    return e.jsxs("div", {
        className: o.nav,
        style: l.nav,
        children: [!t.hidePrevious && e.jsx(Qp, {
            name: "previous-month",
            "aria-label": p,
            className: j,
            style: l.nav_button_previous,
            disabled: !t.previousMonth,
            onClick: t.onPreviousClick,
            children: a === "rtl" ? e.jsx(y, {
                className: o.nav_icon,
                style: l.nav_icon
            }) : e.jsx(v, {
                className: o.nav_icon,
                style: l.nav_icon
            })
        }), !t.hideNext && e.jsx(Qp, {
            name: "next-month",
            "aria-label": g,
            className: x,
            style: l.nav_button_next,
            disabled: !t.nextMonth,
            onClick: t.onNextClick,
            children: a === "rtl" ? e.jsx(v, {
                className: o.nav_icon,
                style: l.nav_icon
            }) : e.jsx(y, {
                className: o.nav_icon,
                style: l.nav_icon
            })
        })]
    })
}
function D1(t) {
    var s = Ht().numberOfMonths,
        r = Am(),
        n = r.previousMonth,
        a = r.nextMonth,
        i = r.goToMonth,
        o = r.displayMonths,
        l = o.findIndex(function(g) {
            return J0(t.displayMonth, g)
        }),
        c = l === 0,
        d = l === o.length - 1,
        u = s > 1 && (c || !d),
        m = s > 1 && (d || !c),
        p = function() {
            n && i(n)
        },
        j = function() {
            a && i(a)
        };
    return e.jsx(XB, {
        displayMonth: t.displayMonth,
        hideNext: u,
        hidePrevious: m,
        nextMonth: a,
        previousMonth: n,
        onPreviousClick: p,
        onNextClick: j
    })
}
function JB(t) {
    var s,
        r = Ht(),
        n = r.classNames,
        a = r.disableNavigation,
        i = r.styles,
        o = r.captionLayout,
        l = r.components,
        c = (s = l == null ? void 0 : l.CaptionLabel) !== null && s !== void 0 ? s : DA,
        d;
    return a ? d = e.jsx(c, {
        id: t.id,
        displayMonth: t.displayMonth
    }) : o === "dropdown" ? d = e.jsx(R1, {
        displayMonth: t.displayMonth,
        id: t.id
    }) : o === "dropdown-buttons" ? d = e.jsxs(e.Fragment, {
        children: [e.jsx(R1, {
            displayMonth: t.displayMonth,
            displayIndex: t.displayIndex,
            id: t.id
        }), e.jsx(D1, {
            displayMonth: t.displayMonth,
            displayIndex: t.displayIndex,
            id: t.id
        })]
    }) : d = e.jsxs(e.Fragment, {
        children: [e.jsx(c, {
            id: t.id,
            displayMonth: t.displayMonth,
            displayIndex: t.displayIndex
        }), e.jsx(D1, {
            displayMonth: t.displayMonth,
            id: t.id
        })]
    }), e.jsx("div", {
        className: n.caption,
        style: i.caption,
        children: d
    })
}
function eH(t) {
    var s = Ht(),
        r = s.footer,
        n = s.styles,
        a = s.classNames.tfoot;
    return r ? e.jsx("tfoot", {
        className: a,
        style: n.tfoot,
        children: e.jsx("tr", {
            children: e.jsx("td", {
                colSpan: 8,
                children: r
            })
        })
    }) : e.jsx(e.Fragment, {})
}
function tH(t, s, r) {
    for (var n = r ? fl(new Date) : Ma(new Date, {
            locale: t,
            weekStartsOn: s
        }), a = [], i = 0; i < 7; i++) {
        var o = br(n, i);
        a.push(o)
    }
    return a
}
function sH() {
    var t = Ht(),
        s = t.classNames,
        r = t.styles,
        n = t.showWeekNumber,
        a = t.locale,
        i = t.weekStartsOn,
        o = t.ISOWeek,
        l = t.formatters.formatWeekdayName,
        c = t.labels.labelWeekday,
        d = tH(a, i, o);
    return e.jsxs("tr", {
        style: r.head_row,
        className: s.head_row,
        children: [n && e.jsx("td", {
            style: r.head_cell,
            className: s.head_cell
        }), d.map(function(u, m) {
            return e.jsx("th", {
                scope: "col",
                className: s.head_cell,
                style: r.head_cell,
                "aria-label": c(u, {
                    locale: a
                }),
                children: l(u, {
                    locale: a
                })
            }, m)
        })]
    })
}
function rH() {
    var t,
        s = Ht(),
        r = s.classNames,
        n = s.styles,
        a = s.components,
        i = (t = a == null ? void 0 : a.HeadRow) !== null && t !== void 0 ? t : sH;
    return e.jsx("thead", {
        style: n.head,
        className: r.head,
        children: e.jsx(i, {})
    })
}
function nH(t) {
    var s = Ht(),
        r = s.locale,
        n = s.formatters.formatDay;
    return e.jsx(e.Fragment, {
        children: n(t.date, {
            locale: r
        })
    })
}
var eb = h.createContext(void 0);
function aH(t) {
    if (!_m(t.initialProps)) {
        var s = {
            selected: void 0,
            modifiers: {
                disabled: []
            }
        };
        return e.jsx(eb.Provider, {
            value: s,
            children: t.children
        })
    }
    return e.jsx(iH, {
        initialProps: t.initialProps,
        children: t.children
    })
}
function iH(t) {
    var s = t.initialProps,
        r = t.children,
        n = s.selected,
        a = s.min,
        i = s.max,
        o = function(d, u, m) {
            var p,
                j;
            (p = s.onDayClick) === null || p === void 0 || p.call(s, d, u, m);
            var g = !!(u.selected && a && (n == null ? void 0 : n.length) === a);
            if (!g) {
                var x = !!(!u.selected && i && (n == null ? void 0 : n.length) === i);
                if (!x) {
                    var y = n ? IA([], n) : [];
                    if (u.selected) {
                        var v = y.findIndex(function(f) {
                            return $r(d, f)
                        });
                        y.splice(v, 1)
                    } else
                        y.push(d);
                    (j = s.onSelect) === null || j === void 0 || j.call(s, y, d, u, m)
                }
            }
        },
        l = {
            disabled: []
        };
    n && l.disabled.push(function(d) {
        var u = i && n.length > i - 1,
            m = n.some(function(p) {
                return $r(p, d)
            });
        return !!(u && !m)
    });
    var c = {
        selected: n,
        onDayClick: o,
        modifiers: l
    };
    return e.jsx(eb.Provider, {
        value: c,
        children: r
    })
}
function tb() {
    var t = h.useContext(eb);
    if (!t)
        throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");
    return t
}
function oH(t, s) {
    var r = s || {},
        n = r.from,
        a = r.to;
    return n && a ? $r(a, t) && $r(n, t) ? void 0 : $r(a, t) ? {
        from: a,
        to: void 0
    } : $r(n, t) ? void 0 : yy(n, t) ? {
        from: t,
        to: a
    } : {
        from: n,
        to: t
    } : a ? yy(t, a) ? {
        from: a,
        to: t
    } : {
        from: t,
        to: a
    } : n ? mA(t, n) ? {
        from: t,
        to: n
    } : {
        from: n,
        to: t
    } : {
        from: t,
        to: void 0
    }
}
var sb = h.createContext(void 0);
function lH(t) {
    if (!Tm(t.initialProps)) {
        var s = {
            selected: void 0,
            modifiers: {
                range_start: [],
                range_end: [],
                range_middle: [],
                disabled: []
            }
        };
        return e.jsx(sb.Provider, {
            value: s,
            children: t.children
        })
    }
    return e.jsx(cH, {
        initialProps: t.initialProps,
        children: t.children
    })
}
function cH(t) {
    var s = t.initialProps,
        r = t.children,
        n = s.selected,
        a = n || {},
        i = a.from,
        o = a.to,
        l = s.min,
        c = s.max,
        d = function(j, g, x) {
            var y,
                v;
            (y = s.onDayClick) === null || y === void 0 || y.call(s, j, g, x);
            var f = oH(j, n);
            (v = s.onSelect) === null || v === void 0 || v.call(s, f, j, g, x)
        },
        u = {
            range_start: [],
            range_end: [],
            range_middle: [],
            disabled: []
        };
    if (i ? (u.range_start = [i], o ? (u.range_end = [o], $r(i, o) || (u.range_middle = [{
        after: i,
        before: o
    }])) : u.range_end = [i]) : o && (u.range_start = [o], u.range_end = [o]), l && (i && !o && u.disabled.push({
        after: vg(i, l - 1),
        before: br(i, l - 1)
    }), i && o && u.disabled.push({
        after: i,
        before: br(i, l - 1)
    }), !i && o && u.disabled.push({
        after: vg(o, l - 1),
        before: br(o, l - 1)
    })), c) {
        if (i && !o && (u.disabled.push({
            before: br(i, -c + 1)
        }), u.disabled.push({
            after: br(i, c - 1)
        })), i && o) {
            var m = ya(o, i) + 1,
                p = c - m;
            u.disabled.push({
                before: vg(i, p)
            }),
            u.disabled.push({
                after: br(o, p)
            })
        }
        !i && o && (u.disabled.push({
            before: br(o, -c + 1)
        }), u.disabled.push({
            after: br(o, c - 1)
        }))
    }
    return e.jsx(sb.Provider, {
        value: {
            selected: n,
            onDayClick: d,
            modifiers: u
        },
        children: r
    })
}
function rb() {
    var t = h.useContext(sb);
    if (!t)
        throw new Error("useSelectRange must be used within a SelectRangeProvider");
    return t
}
function $h(t) {
    return Array.isArray(t) ? IA([], t) : t !== void 0 ? [t] : []
}
function dH(t) {
    var s = {};
    return Object.entries(t).forEach(function(r) {
        var n = r[0],
            a = r[1];
        s[n] = $h(a)
    }), s
}
var ra;
(function(t) {
    t.Outside = "outside",
    t.Disabled = "disabled",
    t.Selected = "selected",
    t.Hidden = "hidden",
    t.Today = "today",
    t.RangeStart = "range_start",
    t.RangeEnd = "range_end",
    t.RangeMiddle = "range_middle"
})(ra || (ra = {}));
var uH = ra.Selected,
    $a = ra.Disabled,
    mH = ra.Hidden,
    hH = ra.Today,
    jg = ra.RangeEnd,
    bg = ra.RangeMiddle,
    Ng = ra.RangeStart,
    pH = ra.Outside;
function fH(t, s, r) {
    var n,
        a = (n = {}, n[uH] = $h(t.selected), n[$a] = $h(t.disabled), n[mH] = $h(t.hidden), n[hH] = [t.today], n[jg] = [], n[bg] = [], n[Ng] = [], n[pH] = [], n);
    return t.fromDate && a[$a].push({
        before: t.fromDate
    }), t.toDate && a[$a].push({
        after: t.toDate
    }), _m(t) ? a[$a] = a[$a].concat(s.modifiers[$a]) : Tm(t) && (a[$a] = a[$a].concat(r.modifiers[$a]), a[Ng] = r.modifiers[Ng], a[bg] = r.modifiers[bg], a[jg] = r.modifiers[jg]), a
}
var FA = h.createContext(void 0);
function xH(t) {
    var s = Ht(),
        r = tb(),
        n = rb(),
        a = fH(s, r, n),
        i = dH(s.modifiers),
        o = it(it({}, a), i);
    return e.jsx(FA.Provider, {
        value: o,
        children: t.children
    })
}
function zA() {
    var t = h.useContext(FA);
    if (!t)
        throw new Error("useModifiers must be used within a ModifiersProvider");
    return t
}
function gH(t) {
    return !!(t && typeof t == "object" && "before" in t && "after" in t)
}
function vH(t) {
    return !!(t && typeof t == "object" && "from" in t)
}
function yH(t) {
    return !!(t && typeof t == "object" && "after" in t)
}
function jH(t) {
    return !!(t && typeof t == "object" && "before" in t)
}
function bH(t) {
    return !!(t && typeof t == "object" && "dayOfWeek" in t)
}
function NH(t, s) {
    var r,
        n = s.from,
        a = s.to;
    if (n && a) {
        var i = ya(a, n) < 0;
        i && (r = [a, n], n = r[0], a = r[1]);
        var o = ya(t, n) >= 0 && ya(a, t) >= 0;
        return o
    }
    return a ? $r(a, t) : n ? $r(n, t) : !1
}
function wH(t) {
    return Q0(t)
}
function CH(t) {
    return Array.isArray(t) && t.every(Q0)
}
function SH(t, s) {
    return s.some(function(r) {
        if (typeof r == "boolean")
            return r;
        if (wH(r))
            return $r(t, r);
        if (CH(r))
            return r.includes(t);
        if (vH(r))
            return NH(t, r);
        if (bH(r))
            return r.dayOfWeek.includes(t.getDay());
        if (gH(r)) {
            var n = ya(r.before, t),
                a = ya(r.after, t),
                i = n > 0,
                o = a < 0,
                l = yy(r.before, r.after);
            return l ? o && i : i || o
        }
        return yH(r) ? ya(t, r.after) > 0 : jH(r) ? ya(r.before, t) > 0 : typeof r == "function" ? r(t) : !1
    })
}
function nb(t, s, r) {
    var n = Object.keys(s).reduce(function(i, o) {
            var l = s[o];
            return SH(t, l) && i.push(o), i
        }, []),
        a = {};
    return n.forEach(function(i) {
        return a[i] = !0
    }), r && !J0(t, r) && (a.outside = !0), a
}
function EH(t, s) {
    for (var r = Wr(t[0]), n = nx(t[t.length - 1]), a, i, o = r; o <= n;) {
        var l = nb(o, s),
            c = !l.disabled && !l.hidden;
        if (!c) {
            o = br(o, 1);
            continue
        }
        if (l.selected)
            return o;
        l.today && !i && (i = o),
        a || (a = o),
        o = br(o, 1)
    }
    return i || a
}
var kH = 365;
function $A(t, s) {
    var r = s.moveBy,
        n = s.direction,
        a = s.context,
        i = s.modifiers,
        o = s.retry,
        l = o === void 0 ? {
            count: 0,
            lastFocused: t
        } : o,
        c = a.weekStartsOn,
        d = a.fromDate,
        u = a.toDate,
        m = a.locale,
        p = {
            day: br,
            week: vy,
            month: sa,
            year: mU,
            startOfWeek: function(y) {
                return a.ISOWeek ? fl(y) : Ma(y, {
                    locale: m,
                    weekStartsOn: c
                })
            },
            endOfWeek: function(y) {
                return a.ISOWeek ? iA(y) : Z0(y, {
                    locale: m,
                    weekStartsOn: c
                })
            }
        },
        j = p[r](t, n === "after" ? 1 : -1);
    n === "before" && d ? j = hU([d, j]) : n === "after" && u && (j = pU([u, j]));
    var g = !0;
    if (i) {
        var x = nb(j, i);
        g = !x.disabled && !x.hidden
    }
    return g ? j : l.count > kH ? l.lastFocused : $A(j, {
        moveBy: r,
        direction: n,
        context: a,
        modifiers: i,
        retry: it(it({}, l), {
            count: l.count + 1
        })
    })
}
var VA = h.createContext(void 0);
function PH(t) {
    var s = Am(),
        r = zA(),
        n = h.useState(),
        a = n[0],
        i = n[1],
        o = h.useState(),
        l = o[0],
        c = o[1],
        d = EH(s.displayMonths, r),
        u = a ?? (l && s.isDateDisplayed(l)) ? l : d,
        m = function() {
            c(a),
            i(void 0)
        },
        p = function(y) {
            i(y)
        },
        j = Ht(),
        g = function(y, v) {
            if (a) {
                var f = $A(a, {
                    moveBy: y,
                    direction: v,
                    context: j,
                    modifiers: r
                });
                $r(a, f) || (s.goToDate(f, a), p(f))
            }
        },
        x = {
            focusedDay: a,
            focusTarget: u,
            blur: m,
            focus: p,
            focusDayAfter: function() {
                return g("day", "after")
            },
            focusDayBefore: function() {
                return g("day", "before")
            },
            focusWeekAfter: function() {
                return g("week", "after")
            },
            focusWeekBefore: function() {
                return g("week", "before")
            },
            focusMonthBefore: function() {
                return g("month", "before")
            },
            focusMonthAfter: function() {
                return g("month", "after")
            },
            focusYearBefore: function() {
                return g("year", "before")
            },
            focusYearAfter: function() {
                return g("year", "after")
            },
            focusStartOfWeek: function() {
                return g("startOfWeek", "before")
            },
            focusEndOfWeek: function() {
                return g("endOfWeek", "after")
            }
        };
    return e.jsx(VA.Provider, {
        value: x,
        children: t.children
    })
}
function ab() {
    var t = h.useContext(VA);
    if (!t)
        throw new Error("useFocusContext must be used within a FocusProvider");
    return t
}
function _H(t, s) {
    var r = zA(),
        n = nb(t, r, s);
    return n
}
var ib = h.createContext(void 0);
function TH(t) {
    if (!ax(t.initialProps)) {
        var s = {
            selected: void 0
        };
        return e.jsx(ib.Provider, {
            value: s,
            children: t.children
        })
    }
    return e.jsx(AH, {
        initialProps: t.initialProps,
        children: t.children
    })
}
function AH(t) {
    var s = t.initialProps,
        r = t.children,
        n = function(i, o, l) {
            var c,
                d,
                u;
            if ((c = s.onDayClick) === null || c === void 0 || c.call(s, i, o, l), o.selected && !s.required) {
                (d = s.onSelect) === null || d === void 0 || d.call(s, void 0, i, o, l);
                return
            }
            (u = s.onSelect) === null || u === void 0 || u.call(s, i, i, o, l)
        },
        a = {
            selected: s.selected,
            onDayClick: n
        };
    return e.jsx(ib.Provider, {
        value: a,
        children: r
    })
}
function UA() {
    var t = h.useContext(ib);
    if (!t)
        throw new Error("useSelectSingle must be used within a SelectSingleProvider");
    return t
}
function MH(t, s) {
    var r = Ht(),
        n = UA(),
        a = tb(),
        i = rb(),
        o = ab(),
        l = o.focusDayAfter,
        c = o.focusDayBefore,
        d = o.focusWeekAfter,
        u = o.focusWeekBefore,
        m = o.blur,
        p = o.focus,
        j = o.focusMonthBefore,
        g = o.focusMonthAfter,
        x = o.focusYearBefore,
        y = o.focusYearAfter,
        v = o.focusStartOfWeek,
        f = o.focusEndOfWeek,
        b = function(S) {
            var I,
                W,
                oe,
                O;
            ax(r) ? (I = n.onDayClick) === null || I === void 0 || I.call(n, t, s, S) : _m(r) ? (W = a.onDayClick) === null || W === void 0 || W.call(a, t, s, S) : Tm(r) ? (oe = i.onDayClick) === null || oe === void 0 || oe.call(i, t, s, S) : (O = r.onDayClick) === null || O === void 0 || O.call(r, t, s, S)
        },
        N = function(S) {
            var I;
            p(t),
            (I = r.onDayFocus) === null || I === void 0 || I.call(r, t, s, S)
        },
        w = function(S) {
            var I;
            m(),
            (I = r.onDayBlur) === null || I === void 0 || I.call(r, t, s, S)
        },
        C = function(S) {
            var I;
            (I = r.onDayMouseEnter) === null || I === void 0 || I.call(r, t, s, S)
        },
        E = function(S) {
            var I;
            (I = r.onDayMouseLeave) === null || I === void 0 || I.call(r, t, s, S)
        },
        k = function(S) {
            var I;
            (I = r.onDayPointerEnter) === null || I === void 0 || I.call(r, t, s, S)
        },
        R = function(S) {
            var I;
            (I = r.onDayPointerLeave) === null || I === void 0 || I.call(r, t, s, S)
        },
        H = function(S) {
            var I;
            (I = r.onDayTouchCancel) === null || I === void 0 || I.call(r, t, s, S)
        },
        z = function(S) {
            var I;
            (I = r.onDayTouchEnd) === null || I === void 0 || I.call(r, t, s, S)
        },
        A = function(S) {
            var I;
            (I = r.onDayTouchMove) === null || I === void 0 || I.call(r, t, s, S)
        },
        $ = function(S) {
            var I;
            (I = r.onDayTouchStart) === null || I === void 0 || I.call(r, t, s, S)
        },
        G = function(S) {
            var I;
            (I = r.onDayKeyUp) === null || I === void 0 || I.call(r, t, s, S)
        },
        F = function(S) {
            var I;
            switch (S.key) {
            case "ArrowLeft":
                S.preventDefault(),
                S.stopPropagation(),
                r.dir === "rtl" ? l() : c();
                break;
            case "ArrowRight":
                S.preventDefault(),
                S.stopPropagation(),
                r.dir === "rtl" ? c() : l();
                break;
            case "ArrowDown":
                S.preventDefault(),
                S.stopPropagation(),
                d();
                break;
            case "ArrowUp":
                S.preventDefault(),
                S.stopPropagation(),
                u();
                break;
            case "PageUp":
                S.preventDefault(),
                S.stopPropagation(),
                S.shiftKey ? x() : j();
                break;
            case "PageDown":
                S.preventDefault(),
                S.stopPropagation(),
                S.shiftKey ? y() : g();
                break;
            case "Home":
                S.preventDefault(),
                S.stopPropagation(),
                v();
                break;
            case "End":
                S.preventDefault(),
                S.stopPropagation(),
                f();
                break
            }
            (I = r.onDayKeyDown) === null || I === void 0 || I.call(r, t, s, S)
        },
        _ = {
            onClick: b,
            onFocus: N,
            onBlur: w,
            onKeyDown: F,
            onKeyUp: G,
            onMouseEnter: C,
            onMouseLeave: E,
            onPointerEnter: k,
            onPointerLeave: R,
            onTouchCancel: H,
            onTouchEnd: z,
            onTouchMove: A,
            onTouchStart: $
        };
    return _
}
function IH() {
    var t = Ht(),
        s = UA(),
        r = tb(),
        n = rb(),
        a = ax(t) ? s.selected : _m(t) ? r.selected : Tm(t) ? n.selected : void 0;
    return a
}
function RH(t) {
    return Object.values(ra).includes(t)
}
function DH(t, s) {
    var r = [t.classNames.day];
    return Object.keys(s).forEach(function(n) {
        var a = t.modifiersClassNames[n];
        if (a)
            r.push(a);
        else if (RH(n)) {
            var i = t.classNames["day_".concat(n)];
            i && r.push(i)
        }
    }), r
}
function OH(t, s) {
    var r = it({}, t.styles.day);
    return Object.keys(s).forEach(function(n) {
        var a;
        r = it(it({}, r), (a = t.modifiersStyles) === null || a === void 0 ? void 0 : a[n])
    }), r
}
function LH(t, s, r) {
    var n,
        a,
        i,
        o = Ht(),
        l = ab(),
        c = _H(t, s),
        d = MH(t, c),
        u = IH(),
        m = !!(o.onDayClick || o.mode !== "default");
    h.useEffect(function() {
        var C;
        c.outside || l.focusedDay && m && $r(l.focusedDay, t) && ((C = r.current) === null || C === void 0 || C.focus())
    }, [l.focusedDay, t, r, m, c.outside]);
    var p = DH(o, c).join(" "),
        j = OH(o, c),
        g = !!(c.outside && !o.showOutsideDays || c.hidden),
        x = (i = (a = o.components) === null || a === void 0 ? void 0 : a.DayContent) !== null && i !== void 0 ? i : nH,
        y = e.jsx(x, {
            date: t,
            displayMonth: s,
            activeModifiers: c
        }),
        v = {
            style: j,
            className: p,
            children: y,
            role: "gridcell"
        },
        f = l.focusTarget && $r(l.focusTarget, t) && !c.outside,
        b = l.focusedDay && $r(l.focusedDay, t),
        N = it(it(it({}, v), (n = {
            disabled: c.disabled,
            role: "gridcell"
        }, n["aria-selected"] = c.selected, n.tabIndex = b || f ? 0 : -1, n)), d),
        w = {
            isButton: m,
            isHidden: g,
            activeModifiers: c,
            selectedDays: u,
            buttonProps: N,
            divProps: v
        };
    return w
}
function FH(t) {
    var s = h.useRef(null),
        r = LH(t.date, t.displayMonth, s);
    return r.isHidden ? e.jsx("div", {
        role: "gridcell"
    }) : r.isButton ? e.jsx(Qp, it({
        name: "day",
        ref: s
    }, r.buttonProps)) : e.jsx("div", it({}, r.divProps))
}
function zH(t) {
    var s = t.number,
        r = t.dates,
        n = Ht(),
        a = n.onWeekNumberClick,
        i = n.styles,
        o = n.classNames,
        l = n.locale,
        c = n.labels.labelWeekNumber,
        d = n.formatters.formatWeekNumber,
        u = d(Number(s), {
            locale: l
        });
    if (!a)
        return e.jsx("span", {
            className: o.weeknumber,
            style: i.weeknumber,
            children: u
        });
    var m = c(Number(s), {
            locale: l
        }),
        p = function(j) {
            a(s, r, j)
        };
    return e.jsx(Qp, {
        name: "week-number",
        "aria-label": m,
        className: o.weeknumber,
        style: i.weeknumber,
        onClick: p,
        children: u
    })
}
function $H(t) {
    var s,
        r,
        n = Ht(),
        a = n.styles,
        i = n.classNames,
        o = n.showWeekNumber,
        l = n.components,
        c = (s = l == null ? void 0 : l.Day) !== null && s !== void 0 ? s : FH,
        d = (r = l == null ? void 0 : l.WeekNumber) !== null && r !== void 0 ? r : zH,
        u;
    return o && (u = e.jsx("td", {
        className: i.cell,
        style: a.cell,
        children: e.jsx(d, {
            number: t.weekNumber,
            dates: t.dates
        })
    })), e.jsxs("tr", {
        className: i.row,
        style: a.row,
        children: [u, t.dates.map(function(m) {
            return e.jsx("td", {
                className: i.cell,
                style: a.cell,
                role: "presentation",
                children: e.jsx(c, {
                    displayMonth: t.displayMonth,
                    date: m
                })
            }, bq(m))
        })]
    })
}
function O1(t, s, r) {
    for (var n = r != null && r.ISOWeek ? iA(s) : Z0(s, r), a = r != null && r.ISOWeek ? fl(t) : Ma(t, r), i = ya(n, a), o = [], l = 0; l <= i; l++)
        o.push(br(a, l));
    var c = o.reduce(function(d, u) {
        var m = r != null && r.ISOWeek ? lA(u) : dA(u, r),
            p = d.find(function(j) {
                return j.weekNumber === m
            });
        return p ? (p.dates.push(u), d) : (d.push({
            weekNumber: m,
            dates: [u]
        }), d)
    }, []);
    return c
}
function VH(t, s) {
    var r = O1(Wr(t), nx(t), s);
    if (s != null && s.useFixedWeeks) {
        var n = wq(t, s);
        if (n < 6) {
            var a = r[r.length - 1],
                i = a.dates[a.dates.length - 1],
                o = vy(i, 6 - n),
                l = O1(vy(i, 1), o, s);
            r.push.apply(r, l)
        }
    }
    return r
}
function UH(t) {
    var s,
        r,
        n,
        a = Ht(),
        i = a.locale,
        o = a.classNames,
        l = a.styles,
        c = a.hideHead,
        d = a.fixedWeeks,
        u = a.components,
        m = a.weekStartsOn,
        p = a.firstWeekContainsDate,
        j = a.ISOWeek,
        g = VH(t.displayMonth, {
            useFixedWeeks: !!d,
            ISOWeek: j,
            locale: i,
            weekStartsOn: m,
            firstWeekContainsDate: p
        }),
        x = (s = u == null ? void 0 : u.Head) !== null && s !== void 0 ? s : rH,
        y = (r = u == null ? void 0 : u.Row) !== null && r !== void 0 ? r : $H,
        v = (n = u == null ? void 0 : u.Footer) !== null && n !== void 0 ? n : eH;
    return e.jsxs("table", {
        id: t.id,
        className: o.table,
        style: l.table,
        role: "grid",
        "aria-labelledby": t["aria-labelledby"],
        children: [!c && e.jsx(x, {}), e.jsx("tbody", {
            className: o.tbody,
            style: l.tbody,
            children: g.map(function(f) {
                return e.jsx(y, {
                    displayMonth: t.displayMonth,
                    dates: f.dates,
                    weekNumber: f.weekNumber
                }, f.weekNumber)
            })
        }), e.jsx(v, {
            displayMonth: t.displayMonth
        })]
    })
}
function qH() {
    return !!(typeof window < "u" && window.document && window.document.createElement)
}
var BH = qH() ? h.useLayoutEffect : h.useEffect,
    wg = !1,
    HH = 0;
function L1() {
    return "react-day-picker-".concat(++HH)
}
function WH(t) {
    var s,
        r = t ?? (wg ? L1() : null),
        n = h.useState(r),
        a = n[0],
        i = n[1];
    return BH(function() {
        a === null && i(L1())
    }, []), h.useEffect(function() {
        wg === !1 && (wg = !0)
    }, []), (s = t ?? a) !== null && s !== void 0 ? s : void 0
}
function GH(t) {
    var s,
        r,
        n = Ht(),
        a = n.dir,
        i = n.classNames,
        o = n.styles,
        l = n.components,
        c = Am().displayMonths,
        d = WH(n.id ? "".concat(n.id, "-").concat(t.displayIndex) : void 0),
        u = n.id ? "".concat(n.id, "-grid-").concat(t.displayIndex) : void 0,
        m = [i.month],
        p = o.month,
        j = t.displayIndex === 0,
        g = t.displayIndex === c.length - 1,
        x = !j && !g;
    a === "rtl" && (s = [j, g], g = s[0], j = s[1]),
    j && (m.push(i.caption_start), p = it(it({}, p), o.caption_start)),
    g && (m.push(i.caption_end), p = it(it({}, p), o.caption_end)),
    x && (m.push(i.caption_between), p = it(it({}, p), o.caption_between));
    var y = (r = l == null ? void 0 : l.Caption) !== null && r !== void 0 ? r : JB;
    return e.jsxs("div", {
        className: m.join(" "),
        style: p,
        children: [e.jsx(y, {
            id: d,
            displayMonth: t.displayMonth,
            displayIndex: t.displayIndex
        }), e.jsx(UH, {
            id: u,
            "aria-labelledby": d,
            displayMonth: t.displayMonth
        })]
    }, t.displayIndex)
}
function KH(t) {
    var s = Ht(),
        r = s.classNames,
        n = s.styles;
    return e.jsx("div", {
        className: r.months,
        style: n.months,
        children: t.children
    })
}
function YH(t) {
    var s,
        r,
        n = t.initialProps,
        a = Ht(),
        i = ab(),
        o = Am(),
        l = h.useState(!1),
        c = l[0],
        d = l[1];
    h.useEffect(function() {
        a.initialFocus && i.focusTarget && (c || (i.focus(i.focusTarget), d(!0)))
    }, [a.initialFocus, c, i.focus, i.focusTarget, i]);
    var u = [a.classNames.root, a.className];
    a.numberOfMonths > 1 && u.push(a.classNames.multiple_months),
    a.showWeekNumber && u.push(a.classNames.with_weeknumber);
    var m = it(it({}, a.styles.root), a.style),
        p = Object.keys(n).filter(function(g) {
            return g.startsWith("data-")
        }).reduce(function(g, x) {
            var y;
            return it(it({}, g), (y = {}, y[x] = n[x], y))
        }, {}),
        j = (r = (s = n.components) === null || s === void 0 ? void 0 : s.Months) !== null && r !== void 0 ? r : KH;
    return e.jsx("div", it({
        className: u.join(" "),
        style: m,
        dir: a.dir,
        id: a.id,
        nonce: n.nonce,
        title: n.title,
        lang: n.lang
    }, p, {
        children: e.jsx(j, {
            children: o.displayMonths.map(function(g, x) {
                return e.jsx(GH, {
                    displayIndex: x,
                    displayMonth: g
                }, x)
            })
        })
    }))
}
function QH(t) {
    var s = t.children,
        r = jB(t, ["children"]);
    return e.jsx(zB, {
        initialProps: r,
        children: e.jsx(YB, {
            children: e.jsx(TH, {
                initialProps: r,
                children: e.jsx(aH, {
                    initialProps: r,
                    children: e.jsx(lH, {
                        initialProps: r,
                        children: e.jsx(xH, {
                            children: e.jsx(PH, {
                                children: s
                            })
                        })
                    })
                })
            })
        })
    })
}
function ZH(t) {
    return e.jsx(QH, it({}, t, {
        children: e.jsx(YH, {
            initialProps: t
        })
    }))
}
function qA({className: t, classNames: s, showOutsideDays: r=!0, ...n}) {
    return e.jsx(ZH, {
        showOutsideDays: r,
        className: me("p-3", t),
        locale: ks,
        classNames: {
            months: "flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",
            month: "space-y-4",
            caption: "flex justify-center pt-1 relative items-center",
            caption_label: "text-sm font-medium",
            nav: "space-x-1 flex items-center",
            nav_button: me(Mc({
                variant: "outline"
            }), "h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),
            nav_button_previous: "absolute left-1",
            nav_button_next: "absolute right-1",
            table: "w-full border-collapse space-y-1",
            head_row: "flex",
            head_cell: "text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",
            row: "flex w-full mt-2",
            cell: "h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",
            day: me(Mc({
                variant: "ghost"
            }), "h-9 w-9 p-0 font-normal aria-selected:opacity-100"),
            day_range_end: "day-range-end",
            day_selected: "bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",
            day_today: "bg-accent text-accent-foreground",
            day_outside: "day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",
            day_disabled: "text-muted-foreground opacity-50",
            day_range_middle: "aria-selected:bg-accent aria-selected:text-accent-foreground",
            day_hidden: "invisible",
            ...s
        },
        components: {
            IconLeft: ({...a}) => e.jsx(xi, {
                className: "h-4 w-4"
            }),
            IconRight: ({...a}) => e.jsx(Ni, {
                className: "h-4 w-4"
            })
        },
        ...n
    })
}
qA.displayName = "Calendar";
var ob = "Popover",
    [BA, sZ] = ws(ob, [No]),
    Mm = No(),
    [XH, So] = BA(ob),
    HA = t => {
        const {__scopePopover: s, children: r, open: n, defaultOpen: a, onOpenChange: i, modal: o=!1} = t,
            l = Mm(s),
            c = h.useRef(null),
            [d, u] = h.useState(!1),
            [m=!1, p] = Yr({
                prop: n,
                defaultProp: a,
                onChange: i
            });
        return e.jsx(Kj, {
            ...l,
            children: e.jsx(XH, {
                scope: s,
                contentId: cn(),
                triggerRef: c,
                open: m,
                onOpenChange: p,
                onOpenToggle: h.useCallback(() => p(j => !j), [p]),
                hasCustomAnchor: d,
                onCustomAnchorAdd: h.useCallback(() => u(!0), []),
                onCustomAnchorRemove: h.useCallback(() => u(!1), []),
                modal: o,
                children: r
            })
        })
    };
HA.displayName = ob;
var WA = "PopoverAnchor",
    JH = h.forwardRef((t, s) => {
        const {__scopePopover: r, ...n} = t,
            a = So(WA, r),
            i = Mm(r),
            {onCustomAnchorAdd: o, onCustomAnchorRemove: l} = a;
        return h.useEffect(() => (o(), () => l()), [o, l]), e.jsx(dm, {
            ...i,
            ...n,
            ref: s
        })
    });
JH.displayName = WA;
var GA = "PopoverTrigger",
    KA = h.forwardRef((t, s) => {
        const {__scopePopover: r, ...n} = t,
            a = So(GA, r),
            i = Mm(r),
            o = lt(s, a.triggerRef),
            l = e.jsx(Oe.button, {
                type: "button",
                "aria-haspopup": "dialog",
                "aria-expanded": a.open,
                "aria-controls": a.contentId,
                "data-state": JA(a.open),
                ...n,
                ref: o,
                onClick: Ne(t.onClick, a.onOpenToggle)
            });
        return a.hasCustomAnchor ? l : e.jsx(dm, {
            asChild: !0,
            ...i,
            children: l
        })
    });
KA.displayName = GA;
var lb = "PopoverPortal",
    [eW, tW] = BA(lb, {
        forceMount: void 0
    }),
    YA = t => {
        const {__scopePopover: s, forceMount: r, children: n, container: a} = t,
            i = So(lb, s);
        return e.jsx(eW, {
            scope: s,
            forceMount: r,
            children: e.jsx(_s, {
                present: r || i.open,
                children: e.jsx(Qc, {
                    asChild: !0,
                    container: a,
                    children: n
                })
            })
        })
    };
YA.displayName = lb;
var Bc = "PopoverContent",
    QA = h.forwardRef((t, s) => {
        const r = tW(Bc, t.__scopePopover),
            {forceMount: n=r.forceMount, ...a} = t,
            i = So(Bc, t.__scopePopover);
        return e.jsx(_s, {
            present: n || i.open,
            children: i.modal ? e.jsx(rW, {
                ...a,
                ref: s
            }) : e.jsx(nW, {
                ...a,
                ref: s
            })
        })
    });
QA.displayName = Bc;
var sW = co("PopoverContent.RemoveScroll"),
    rW = h.forwardRef((t, s) => {
        const r = So(Bc, t.__scopePopover),
            n = h.useRef(null),
            a = lt(s, n),
            i = h.useRef(!1);
        return h.useEffect(() => {
            const o = n.current;
            if (o)
                return Lf(o)
        }, []), e.jsx(mm, {
            as: sW,
            allowPinchZoom: !0,
            children: e.jsx(ZA, {
                ...t,
                ref: a,
                trapFocus: r.open,
                disableOutsidePointerEvents: !0,
                onCloseAutoFocus: Ne(t.onCloseAutoFocus, o => {
                    var l;
                    o.preventDefault(),
                    i.current || (l = r.triggerRef.current) == null || l.focus()
                }),
                onPointerDownOutside: Ne(t.onPointerDownOutside, o => {
                    const l = o.detail.originalEvent,
                        c = l.button === 0 && l.ctrlKey === !0,
                        d = l.button === 2 || c;
                    i.current = d
                }, {
                    checkForDefaultPrevented: !1
                }),
                onFocusOutside: Ne(t.onFocusOutside, o => o.preventDefault(), {
                    checkForDefaultPrevented: !1
                })
            })
        })
    }),
    nW = h.forwardRef((t, s) => {
        const r = So(Bc, t.__scopePopover),
            n = h.useRef(!1),
            a = h.useRef(!1);
        return e.jsx(ZA, {
            ...t,
            ref: s,
            trapFocus: !1,
            disableOutsidePointerEvents: !1,
            onCloseAutoFocus: i => {
                var o,
                    l;
                (o = t.onCloseAutoFocus) == null || o.call(t, i),
                i.defaultPrevented || (n.current || (l = r.triggerRef.current) == null || l.focus(), i.preventDefault()),
                n.current = !1,
                a.current = !1
            },
            onInteractOutside: i => {
                var c,
                    d;
                (c = t.onInteractOutside) == null || c.call(t, i),
                i.defaultPrevented || (n.current = !0, i.detail.originalEvent.type === "pointerdown" && (a.current = !0));
                const o = i.target;
                ((d = r.triggerRef.current) == null ? void 0 : d.contains(o)) && i.preventDefault(),
                i.detail.originalEvent.type === "focusin" && a.current && i.preventDefault()
            }
        })
    }),
    ZA = h.forwardRef((t, s) => {
        const {__scopePopover: r, trapFocus: n, onOpenAutoFocus: a, onCloseAutoFocus: i, disableOutsidePointerEvents: o, onEscapeKeyDown: l, onPointerDownOutside: c, onFocusOutside: d, onInteractOutside: u, ...m} = t,
            p = So(Bc, r),
            j = Mm(r);
        return Df(), e.jsx(um, {
            asChild: !0,
            loop: !0,
            trapped: n,
            onMountAutoFocus: a,
            onUnmountAutoFocus: i,
            children: e.jsx(jl, {
                asChild: !0,
                disableOutsidePointerEvents: o,
                onInteractOutside: u,
                onEscapeKeyDown: l,
                onPointerDownOutside: c,
                onFocusOutside: d,
                onDismiss: () => p.onOpenChange(!1),
                children: e.jsx(Af, {
                    "data-state": JA(p.open),
                    role: "dialog",
                    id: p.contentId,
                    ...j,
                    ...m,
                    ref: s,
                    style: {
                        ...m.style,
                        "--radix-popover-content-transform-origin": "var(--radix-popper-transform-origin)",
                        "--radix-popover-content-available-width": "var(--radix-popper-available-width)",
                        "--radix-popover-content-available-height": "var(--radix-popper-available-height)",
                        "--radix-popover-trigger-width": "var(--radix-popper-anchor-width)",
                        "--radix-popover-trigger-height": "var(--radix-popper-anchor-height)"
                    }
                })
            })
        })
    }),
    XA = "PopoverClose",
    aW = h.forwardRef((t, s) => {
        const {__scopePopover: r, ...n} = t,
            a = So(XA, r);
        return e.jsx(Oe.button, {
            type: "button",
            ...n,
            ref: s,
            onClick: Ne(t.onClick, () => a.onOpenChange(!1))
        })
    });
aW.displayName = XA;
var iW = "PopoverArrow",
    oW = h.forwardRef((t, s) => {
        const {__scopePopover: r, ...n} = t,
            a = Mm(r);
        return e.jsx(Mf, {
            ...a,
            ...n,
            ref: s
        })
    });
oW.displayName = iW;
function JA(t) {
    return t ? "open" : "closed"
}
var lW = HA,
    cW = KA,
    dW = YA,
    eM = QA;
const uW = lW,
    mW = cW,
    tM = h.forwardRef(({className: t, align: s="center", sideOffset: r=4, ...n}, a) => e.jsx(dW, {
        children: e.jsx(eM, {
            ref: a,
            align: s,
            sideOffset: r,
            className: me("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2", t),
            ...n
        })
    }));
tM.displayName = eM.displayName;
function cb({value: t, onChange: s, placeholder: r="Seleccionar fecha", className: n}) {
    return e.jsxs(uW, {
        children: [e.jsx(mW, {
            asChild: !0,
            children: e.jsxs(T, {
                variant: "outline",
                className: me("w-full justify-start text-left font-normal", !t && "text-muted-foreground", n),
                children: [e.jsx(ur, {
                    className: "mr-2 h-4 w-4"
                }), t ? Bt(t, "dd/MM/yyyy", {
                    locale: ks
                }) : e.jsx("span", {
                    children: r
                })]
            })
        }), e.jsx(tM, {
            className: "w-auto p-0",
            children: e.jsx(qA, {
                mode: "single",
                selected: t,
                onSelect: s,
                initialFocus: !0,
                locale: ks
            })
        })]
    })
}
const hW = ({onSuccess: t}) => {
        const {toast: s} = st(),
            [r, n] = h.useState(!1),
            [a, i] = h.useState(!1),
            [o, l] = h.useState(!1),
            [c, d] = h.useState(!1),
            [u, m] = h.useState(!1),
            [p, j] = h.useState(void 0),
            g = async (x, y=!1) => {
                let v;
                x === "vehicles" ? v = y ? d : n : x === "parts" ? v = y ? m : i : v = l;
                try {
                    v(!0);
                    let f,
                        b;
                    if (x === "all" ? b = "/api/metasync-optimized/import/all" : b = `/api/metasync-optimized/import/${x}`, f = await fetch(b, {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json"
                        },
                        body: JSON.stringify({
                            fullImport: y,
                            fromDate: p == null ? void 0 : p.toISOString()
                        })
                    }), !f.ok)
                        throw new Error(`Error en la importación: ${f.statusText}`);
                    const N = x === "vehicles" ? "vehículos" : x === "parts" ? "piezas" : "vehículos y piezas",
                        w = y ? "completa" : p ? `desde ${Bt(p, "dd/MM/yyyy", {locale: ks})}` : "incremental (desde última sincronización)";
                    s({
                        title: "Importación iniciada",
                        description: `La importación ${w} de ${N} ha sido iniciada correctamente.`
                    }),
                    t && t()
                } catch (f) {
                    console.error(`Error al iniciar importación de ${x}:`, f),
                    s({
                        title: "Error al iniciar importación",
                        description: "No se pudo iniciar la importación. Por favor, intente nuevamente.",
                        variant: "destructive"
                    })
                } finally {
                    v(!1)
                }
            };
        return e.jsxs("div", {
            className: "space-y-4",
            children: [e.jsx("p", {
                className: "mb-4 text-muted-foreground",
                children: "Inicie una importación manual de vehículos y/o piezas desde la API de Metasync."
            }), e.jsxs("div", {
                className: "bg-slate-50 p-4 rounded-md space-y-4 mb-4 border border-slate-200",
                children: [e.jsxs("div", {
                    className: "flex items-center justify-between mb-2",
                    children: [e.jsx("h3", {
                        className: "font-medium text-primary",
                        children: "Importación optimizada"
                    }), e.jsxs("div", {
                        className: "flex items-center space-x-2",
                        children: [e.jsx(Ga, {
                            className: "h-5 w-5 text-green-600"
                        }), e.jsx("span", {
                            className: "text-sm text-green-600 font-medium",
                            children: "Sistema de alto rendimiento"
                        })]
                    })]
                }), e.jsx("div", {
                    className: "rounded-md bg-green-50 p-3 border border-green-100",
                    children: e.jsx("div", {
                        className: "flex items-start",
                        children: e.jsxs("div", {
                            children: [e.jsx("h4", {
                                className: "text-sm font-medium text-green-800",
                                children: "Sistema optimizado para grandes volúmenes"
                            }), e.jsx("p", {
                                className: "text-xs text-green-700 mt-1",
                                children: "Esta importación utiliza técnicas avanzadas para procesar eficientemente grandes volúmenes de datos. Ideal para la sincronización de vehículos y piezas."
                            }), e.jsxs("ul", {
                                className: "mt-2 text-xs text-green-700 list-disc pl-4",
                                children: [e.jsx("li", {
                                    children: "Procesamiento por lotes para mayor rendimiento"
                                }), e.jsx("li", {
                                    children: "Manejo automático de relaciones vehículo-pieza"
                                }), e.jsx("li", {
                                    children: "Optimización de memoria para más de 100,000 registros"
                                }), e.jsx("li", {
                                    children: "Reintentos automáticos en caso de fallos de red"
                                })]
                            })]
                        })
                    })
                }), e.jsxs("div", {
                    className: "space-y-2",
                    children: [e.jsx(V, {
                        children: "Fecha desde la que importar (sólo para importaciones incrementales)"
                    }), e.jsx(cb, {
                        value: p,
                        onChange: j,
                        placeholder: "Seleccionar fecha"
                    }), e.jsx("div", {
                        className: "text-xs text-muted-foreground",
                        children: "Si no seleccionas una fecha, se importarán los datos desde la última sincronización registrada."
                    })]
                })]
            }), e.jsxs(ls, {
                defaultValue: "incremental",
                className: "w-full",
                children: [e.jsxs(es, {
                    className: "grid w-full grid-cols-2",
                    children: [e.jsx(Ue, {
                        value: "incremental",
                        children: "Importación Incremental"
                    }), e.jsx(Ue, {
                        value: "completa",
                        children: "Importación Completa"
                    })]
                }), e.jsxs($e, {
                    value: "incremental",
                    className: "mt-4",
                    children: [e.jsxs("div", {
                        className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                        children: [e.jsxs(Fi, {
                            children: [e.jsx(Mo, {
                                asChild: !0,
                                children: e.jsxs(T, {
                                    className: "w-full bg-secondary hover:bg-secondary/90 h-20 flex flex-col items-center justify-center",
                                    disabled: r,
                                    children: [r ? e.jsx(xt, {
                                        className: "h-6 w-6 animate-spin mb-1"
                                    }) : e.jsx(Ss, {
                                        className: "h-6 w-6 mb-1"
                                    }), e.jsx("span", {
                                        children: r ? "Importando..." : "Importar vehículos"
                                    })]
                                })
                            }), e.jsxs(Qa, {
                                children: [e.jsxs(Za, {
                                    children: [e.jsx(Ja, {
                                        children: "Importar vehículos"
                                    }), e.jsxs(ei, {
                                        children: [e.jsx("p", {
                                            children: "¿Está seguro de que desea iniciar una importación manual de vehículos? Este proceso puede tardar varios minutos dependiendo de la cantidad de datos."
                                        }), e.jsxs("div", {
                                            className: "mt-2 p-2 bg-slate-100 rounded text-sm",
                                            children: [e.jsx("span", {
                                                className: "font-medium",
                                                children: "Modo de importación: "
                                            }), p ? `Desde ${Bt(p, "dd/MM/yyyy", {locale: ks})}` : "Incremental desde última sincronización"]
                                        }), e.jsxs("div", {
                                            className: "mt-2 p-2 bg-green-50 border border-green-100 rounded text-sm text-green-800",
                                            children: [e.jsxs("span", {
                                                className: "font-medium flex items-center",
                                                children: [e.jsx(Ga, {
                                                    className: "h-3 w-3 mr-1"
                                                }), " Sistema optimizado: "]
                                            }), "Mayor rendimiento y eficiencia para grandes volúmenes de datos"]
                                        })]
                                    })]
                                }), e.jsxs(Xa, {
                                    children: [e.jsx(si, {
                                        children: "Cancelar"
                                    }), e.jsx(ti, {
                                        onClick: () => g("vehicles", !1),
                                        children: "Iniciar importación"
                                    })]
                                })]
                            })]
                        }), e.jsxs(Fi, {
                            children: [e.jsx(Mo, {
                                asChild: !0,
                                children: e.jsxs(T, {
                                    className: "w-full bg-secondary hover:bg-secondary/90 h-20 flex flex-col items-center justify-center",
                                    disabled: a,
                                    children: [a ? e.jsx(xt, {
                                        className: "h-6 w-6 animate-spin mb-1"
                                    }) : e.jsx(Ot, {
                                        className: "h-6 w-6 mb-1"
                                    }), e.jsx("span", {
                                        children: a ? "Importando..." : "Importar piezas"
                                    })]
                                })
                            }), e.jsxs(Qa, {
                                children: [e.jsxs(Za, {
                                    children: [e.jsx(Ja, {
                                        children: "Importar piezas"
                                    }), e.jsxs(ei, {
                                        children: [e.jsx("p", {
                                            children: "¿Está seguro de que desea iniciar una importación manual de piezas? Este proceso puede tardar varios minutos dependiendo de la cantidad de datos."
                                        }), e.jsxs("div", {
                                            className: "mt-2 p-2 bg-slate-100 rounded text-sm",
                                            children: [e.jsx("span", {
                                                className: "font-medium",
                                                children: "Modo de importación: "
                                            }), p ? `Desde ${Bt(p, "dd/MM/yyyy", {locale: ks})}` : "Incremental desde última sincronización"]
                                        }), e.jsxs("div", {
                                            className: "mt-2 p-2 bg-green-50 border border-green-100 rounded text-sm text-green-800",
                                            children: [e.jsxs("span", {
                                                className: "font-medium flex items-center",
                                                children: [e.jsx(Ga, {
                                                    className: "h-3 w-3 mr-1"
                                                }), " Sistema optimizado: "]
                                            }), "Mayor rendimiento y eficiencia para grandes volúmenes de datos"]
                                        })]
                                    })]
                                }), e.jsxs(Xa, {
                                    children: [e.jsx(si, {
                                        children: "Cancelar"
                                    }), e.jsx(ti, {
                                        onClick: () => g("parts", !1),
                                        children: "Iniciar importación"
                                    })]
                                })]
                            })]
                        })]
                    }), e.jsxs(Fi, {
                        children: [e.jsx(Mo, {
                            asChild: !0,
                            children: e.jsxs(T, {
                                className: "w-full bg-primary hover:bg-primary/90 h-20 flex flex-col items-center justify-center mt-4",
                                disabled: o,
                                children: [o ? e.jsx(xt, {
                                    className: "h-6 w-6 animate-spin mb-1"
                                }) : e.jsx(Gn, {
                                    className: "h-6 w-6 mb-1"
                                }), e.jsx("span", {
                                    children: o ? "Importando..." : "Importar vehículos y piezas"
                                })]
                            })
                        }), e.jsxs(Qa, {
                            children: [e.jsxs(Za, {
                                children: [e.jsx(Ja, {
                                    children: "Importar todo"
                                }), e.jsxs(ei, {
                                    children: [e.jsx("p", {
                                        children: "¿Está seguro de que desea iniciar una importación manual de vehículos y piezas? Este proceso puede tardar varios minutos dependiendo de la cantidad de datos."
                                    }), e.jsxs("div", {
                                        className: "mt-2 p-2 bg-slate-100 rounded text-sm",
                                        children: [e.jsx("span", {
                                            className: "font-medium",
                                            children: "Modo de importación: "
                                        }), p ? `Desde ${Bt(p, "dd/MM/yyyy", {locale: ks})}` : "Incremental desde última sincronización"]
                                    }), e.jsxs("div", {
                                        className: "mt-2 p-2 bg-green-50 border border-green-100 rounded text-sm text-green-800",
                                        children: [e.jsxs("span", {
                                            className: "font-medium flex items-center",
                                            children: [e.jsx(Ga, {
                                                className: "h-3 w-3 mr-1"
                                            }), " Sistema optimizado: "]
                                        }), "Mayor rendimiento y eficiencia para grandes volúmenes de datos"]
                                    }), e.jsxs("div", {
                                        className: "mt-2 p-2 bg-blue-50 border border-blue-100 rounded text-sm text-blue-800",
                                        children: [e.jsx("span", {
                                            className: "font-medium",
                                            children: "Nota: "
                                        }), "Primero se importarán los vehículos y luego las piezas automáticamente. Esta es la opción recomendada para mantener la consistencia de los datos."]
                                    })]
                                })]
                            }), e.jsxs(Xa, {
                                children: [e.jsx(si, {
                                    children: "Cancelar"
                                }), e.jsx(ti, {
                                    onClick: () => g("all", !1),
                                    children: "Iniciar importación"
                                })]
                            })]
                        })]
                    })]
                }), e.jsxs($e, {
                    value: "completa",
                    className: "mt-4",
                    children: [e.jsx("div", {
                        className: "mb-3 rounded-md bg-amber-50 p-3 border border-amber-200",
                        children: e.jsxs("div", {
                            className: "flex",
                            children: [e.jsx("div", {
                                className: "flex-shrink-0",
                                children: e.jsx(SO, {
                                    className: "h-5 w-5 text-amber-500"
                                })
                            }), e.jsxs("div", {
                                className: "ml-3",
                                children: [e.jsx("h3", {
                                    className: "text-sm font-medium text-amber-800",
                                    children: "Importación completa"
                                }), e.jsx("div", {
                                    className: "mt-2 text-sm text-amber-700",
                                    children: e.jsxs("p", {
                                        children: ["La importación completa descargará ", e.jsx("strong", {
                                            children: "todos"
                                        }), " los vehículos o piezas disponibles en la API, sin importar la fecha. Este proceso puede tardar bastante tiempo dependiendo del volumen de datos."]
                                    })
                                })]
                            })]
                        })
                    }), e.jsxs("div", {
                        className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                        children: [e.jsxs(Fi, {
                            children: [e.jsx(Mo, {
                                asChild: !0,
                                children: e.jsxs(T, {
                                    className: "w-full bg-amber-600 hover:bg-amber-700 h-20 flex flex-col items-center justify-center",
                                    disabled: c,
                                    children: [c ? e.jsx(xt, {
                                        className: "h-6 w-6 animate-spin mb-1"
                                    }) : e.jsx(Or, {
                                        className: "h-6 w-6 mb-1"
                                    }), e.jsx("span", {
                                        children: c ? "Importando..." : "Importar TODOS los vehículos"
                                    })]
                                })
                            }), e.jsxs(Qa, {
                                children: [e.jsxs(Za, {
                                    children: [e.jsx(Ja, {
                                        children: "Importar TODOS los vehículos"
                                    }), e.jsxs(ei, {
                                        children: [e.jsx("p", {
                                            children: "¿Está seguro de que desea iniciar una importación COMPLETA de vehículos? Se descargarán todos los vehículos disponibles en la API, sin filtro de fecha."
                                        }), e.jsxs("div", {
                                            className: "mt-2 p-2 bg-amber-50 border border-amber-200 rounded text-sm",
                                            children: [e.jsx("span", {
                                                className: "font-medium",
                                                children: "Advertencia: "
                                            }), "Este proceso podría tardar mucho tiempo dependiendo del volumen de datos. Se descargará la base completa de vehículos."]
                                        }), e.jsxs("div", {
                                            className: "mt-2 p-2 bg-green-50 border border-green-100 rounded text-sm text-green-800",
                                            children: [e.jsxs("span", {
                                                className: "font-medium flex items-center",
                                                children: [e.jsx(Ga, {
                                                    className: "h-3 w-3 mr-1"
                                                }), " Sistema optimizado: "]
                                            }), "Mayor rendimiento y eficiencia para grandes volúmenes de datos"]
                                        })]
                                    })]
                                }), e.jsxs(Xa, {
                                    children: [e.jsx(si, {
                                        children: "Cancelar"
                                    }), e.jsx(ti, {
                                        onClick: () => g("vehicles", !0),
                                        children: "Iniciar importación completa"
                                    })]
                                })]
                            })]
                        }), e.jsxs(Fi, {
                            children: [e.jsx(Mo, {
                                asChild: !0,
                                children: e.jsxs(T, {
                                    className: "w-full bg-amber-600 hover:bg-amber-700 h-20 flex flex-col items-center justify-center",
                                    disabled: u,
                                    children: [u ? e.jsx(xt, {
                                        className: "h-6 w-6 animate-spin mb-1"
                                    }) : e.jsx(Or, {
                                        className: "h-6 w-6 mb-1"
                                    }), e.jsx("span", {
                                        children: u ? "Importando..." : "Importar TODAS las piezas"
                                    })]
                                })
                            }), e.jsxs(Qa, {
                                children: [e.jsxs(Za, {
                                    children: [e.jsx(Ja, {
                                        children: "Importar TODAS las piezas"
                                    }), e.jsxs(ei, {
                                        children: [e.jsx("p", {
                                            children: "¿Está seguro de que desea iniciar una importación COMPLETA de piezas? Se descargarán todas las piezas disponibles en la API, sin filtro de fecha."
                                        }), e.jsxs("div", {
                                            className: "mt-2 p-2 bg-amber-50 border border-amber-200 rounded text-sm",
                                            children: [e.jsx("span", {
                                                className: "font-medium",
                                                children: "Advertencia: "
                                            }), "Este proceso podría tardar mucho tiempo dependiendo del volumen de datos. Se descargará la base completa de piezas."]
                                        }), e.jsxs("div", {
                                            className: "mt-2 p-2 bg-green-50 border border-green-100 rounded text-sm text-green-800",
                                            children: [e.jsxs("span", {
                                                className: "font-medium flex items-center",
                                                children: [e.jsx(Ga, {
                                                    className: "h-3 w-3 mr-1"
                                                }), " Sistema optimizado: "]
                                            }), "Mayor rendimiento y eficiencia para grandes volúmenes de datos"]
                                        })]
                                    })]
                                }), e.jsxs(Xa, {
                                    children: [e.jsx(si, {
                                        children: "Cancelar"
                                    }), e.jsx(ti, {
                                        onClick: () => g("parts", !0),
                                        children: "Iniciar importación completa"
                                    })]
                                })]
                            })]
                        })]
                    })]
                })]
            }), e.jsxs("div", {
                className: "mt-6 p-4 border-t",
                children: [e.jsx("h4", {
                    className: "font-semibold mb-3 text-orange-600",
                    children: "🔧 Mantenimiento de Datos"
                }), e.jsx("p", {
                    className: "text-sm text-gray-600 mb-3",
                    children: "Desactiva automáticamente piezas con precio cero o inválido que no deberían aparecer en el catálogo."
                }), e.jsx(T, {
                    onClick: async () => {
                        try {
                            const y = await (await fetch("/api/admin/cleanup-invalid-parts", {
                                method: "POST",
                                headers: {
                                    "Content-Type": "application/json"
                                }
                            })).json();
                            y.success ? s({
                                title: "Limpieza completada",
                                description: `${y.deactivated} piezas desactivadas`
                            }) : s({
                                title: "Error",
                                description: y.error || "No se pudo limpiar las piezas.",
                                variant: "destructive"
                            })
                        } catch (x) {
                            s({
                                title: "Error",
                                description: x instanceof Error ? x.message : "Error desconocido",
                                variant: "destructive"
                            })
                        }
                    },
                    variant: "outline",
                    size: "sm",
                    className: "bg-orange-50 hover:bg-orange-100 border-orange-300",
                    children: "🔧 Limpiar Piezas con Precio Inválido"
                })]
            })]
        })
    },
    pW = ({schedules: t, onSuccess: s}) => {
        const {toast: r} = st(),
            [n, a] = h.useState(!1),
            o = t.find(g => g.type === "all") || t.find(g => g.type === "vehicles") || t[0],
            [l, c] = h.useState((o == null ? void 0 : o.frequency) || "12h"),
            [d, u] = h.useState((o == null ? void 0 : o.active) || !0),
            [m, p] = h.useState((o == null ? void 0 : o.startTime) || "02:00"),
            j = async () => {
                if (o) {
                    a(!0);
                    try {
                        await ss.updateSchedule(o.id, {
                            frequency: l,
                            active: d,
                            startTime: m
                        }),
                        r({
                            title: "Sincronización automática actualizada",
                            description: "La configuración de sincronización ha sido actualizada correctamente"
                        }),
                        s && s()
                    } catch (g) {
                        console.error("Error al actualizar la sincronización:", g),
                        r({
                            title: "Error al actualizar",
                            description: "No se pudo actualizar la configuración de sincronización",
                            variant: "destructive"
                        })
                    } finally {
                        a(!1)
                    }
                }
            };
        return !o || t.length === 0 ? e.jsx("div", {
            className: "text-center py-4",
            children: e.jsx("p", {
                className: "text-muted-foreground",
                children: "No hay programación de sincronización configurada"
            })
        }) : e.jsx("div", {
            className: "space-y-6",
            children: e.jsx("div", {
                className: "space-y-4",
                children: e.jsxs("div", {
                    className: "bg-slate-50 p-4 rounded-md space-y-4 border border-slate-200",
                    children: [e.jsxs("div", {
                        className: "flex items-center justify-between mb-2",
                        children: [e.jsx("h3", {
                            className: "font-medium text-primary",
                            children: "Sincronización automática"
                        }), e.jsxs("div", {
                            className: "flex items-center space-x-2",
                            children: [e.jsx(Ga, {
                                className: "h-4 w-4 text-green-600"
                            }), e.jsx("span", {
                                className: "text-sm text-green-600 font-medium",
                                children: "Optimizada"
                            })]
                        })]
                    }), e.jsxs("div", {
                        children: [e.jsxs("div", {
                            className: "flex justify-between items-center mb-2",
                            children: [e.jsx(V, {
                                children: "Estado actual"
                            }), e.jsx(ye, {
                                variant: o.active ? "success" : "secondary",
                                children: o.active ? "Activo" : "Inactivo"
                            })]
                        }), o.lastRun && e.jsxs("div", {
                            className: "text-sm text-muted-foreground mb-1",
                            children: ["Última sincronización: ", Vn(o.lastRun)]
                        }), o.nextRun && e.jsxs("div", {
                            className: "text-sm text-muted-foreground flex items-center",
                            children: [e.jsx(Bs, {
                                className: "h-3 w-3 mr-1"
                            }), "Próxima sincronización: ", Vn(o.nextRun)]
                        })]
                    }), e.jsxs("div", {
                        className: "flex flex-col space-y-1.5",
                        children: [e.jsx(V, {
                            htmlFor: "frequency-select",
                            children: "Frecuencia de sincronización"
                        }), e.jsxs(He, {
                            value: l,
                            onValueChange: c,
                            children: [e.jsx(qe, {
                                id: "frequency-select",
                                children: e.jsx(We, {
                                    placeholder: "Seleccione una frecuencia"
                                })
                            }), e.jsxs(Be, {
                                position: "popper",
                                children: [e.jsx(Q, {
                                    value: "1h",
                                    children: "Cada hora"
                                }), e.jsx(Q, {
                                    value: "6h",
                                    children: "Cada 6 horas"
                                }), e.jsx(Q, {
                                    value: "12h",
                                    children: "Cada 12 horas"
                                }), e.jsx(Q, {
                                    value: "24h",
                                    children: "Cada 24 horas"
                                })]
                            })]
                        }), e.jsx("div", {
                            className: "text-xs text-muted-foreground",
                            children: "La sincronización automática importará vehículos y piezas utilizando el sistema optimizado."
                        })]
                    }), e.jsxs("div", {
                        className: "flex flex-col space-y-1.5",
                        children: [e.jsx(V, {
                            htmlFor: "start-time-input",
                            children: "Hora de inicio"
                        }), e.jsx(te, {
                            id: "start-time-input",
                            type: "time",
                            value: m,
                            onChange: g => p(g.target.value),
                            className: "w-full"
                        }), e.jsx("div", {
                            className: "text-xs text-muted-foreground",
                            children: "Hora específica para iniciar las sincronizaciones programadas (formato 24h)."
                        })]
                    }), e.jsxs("div", {
                        className: "flex items-center space-x-2",
                        children: [e.jsx(St, {
                            id: "schedule-active",
                            checked: d,
                            onCheckedChange: g => u(g)
                        }), e.jsx(V, {
                            htmlFor: "schedule-active",
                            children: d ? "Sincronización automática activada" : "Sincronización automática desactivada"
                        })]
                    }), e.jsx(T, {
                        className: "w-full bg-primary hover:bg-primary/90",
                        onClick: j,
                        disabled: n,
                        children: n ? e.jsxs(e.Fragment, {
                            children: [e.jsx(xt, {
                                className: "mr-2 h-4 w-4 animate-spin"
                            }), "Guardando configuración..."]
                        }) : e.jsxs(e.Fragment, {
                            children: [e.jsx(wn, {
                                className: "mr-2 h-4 w-4"
                            }), "Guardar configuración"]
                        })
                    })]
                })
            })
        })
    };
function fW() {
    const {toast: t} = st(),
        s = pr(),
        [r, n] = h.useState(!1),
        {data: a, isLoading: i, error: o} = Te({
            queryKey: ["/api/import/history"],
            select: g => g || []
        }),
        l = nt({
            mutationFn: async () => (n(!0), await Re("/api/import/recovery", {
                method: "GET"
            })),
            onSuccess: g => {
                var x;
                t({
                    title: "Importaciones recuperadas",
                    description: g.message || `Se han corregido ${((x = g.recoveredImports) == null ? void 0 : x.length) || 0} importaciones`
                }),
                s.invalidateQueries({
                    queryKey: ["/api/import/history"]
                }),
                n(!1)
            },
            onError: g => {
                console.error("Error al recuperar importaciones:", g),
                t({
                    title: "Error",
                    description: "No se pudieron recuperar las importaciones",
                    variant: "destructive"
                }),
                n(!1)
            }
        }),
        c = nt({
            mutationFn: async g => await Re(`/api/import/recovery/${g}`, {
                method: "POST"
            }),
            onSuccess: g => {
                t({
                    title: "Importación completada",
                    description: `La importación ${g.importId} ha sido marcada como completada`
                }),
                s.invalidateQueries({
                    queryKey: ["/api/import/history"]
                })
            },
            onError: g => {
                console.error("Error al marcar importación como completada:", g),
                t({
                    title: "Error",
                    description: "No se pudo marcar la importación como completada",
                    variant: "destructive"
                })
            }
        }),
        d = g => g ? new Date(g).toLocaleString("es-ES") : "N/A",
        u = (g, x) => {
            if (!g)
                return "N/A";
            const y = new Date(g),
                f = (x ? new Date(x) : new Date).getTime() - y.getTime(),
                b = Math.floor(f / 6e4),
                N = Math.floor(b / 60);
            return N > 0 ? `${N}h ${b % 60}m` : `${b}m`
        },
        m = (a == null ? void 0 : a.filter(g => g.status === "running" && new Date(g.startTime).getTime() < Date.now() - 30 * 60 * 1e3)) || [],
        p = () => {
            l.mutate()
        },
        j = g => {
            c.mutate(g)
        };
    return i ? e.jsx("div", {
        className: "flex items-center justify-center p-6",
        children: e.jsx(Xt, {
            className: "h-8 w-8 animate-spin text-primary"
        })
    }) : o ? e.jsxs(cr, {
        variant: "destructive",
        children: [e.jsx(zr, {
            className: "h-4 w-4"
        }), e.jsx(Qi, {
            children: "Error"
        }), e.jsx(dr, {
            children: "No se pudo cargar el historial de importaciones"
        })]
    }) : e.jsxs(U, {
        className: "w-full",
        children: [e.jsxs(ne, {
            children: [e.jsx(ae, {
                children: "Recuperación de Importaciones"
            }), e.jsx(qt, {
                children: 'Gestiona las importaciones que se han quedado en estado "en progreso"'
            })]
        }), e.jsx(q, {
            children: m.length === 0 ? e.jsxs(cr, {
                children: [e.jsx(Rt, {
                    className: "h-4 w-4"
                }), e.jsx(Qi, {
                    children: "¡Todo en orden!"
                }), e.jsx(dr, {
                    children: "No hay importaciones bloqueadas en este momento."
                })]
            }) : e.jsxs(e.Fragment, {
                children: [e.jsxs(cr, {
                    variant: "warning",
                    className: "mb-4",
                    children: [e.jsx(zr, {
                        className: "h-4 w-4"
                    }), e.jsx(Qi, {
                        children: "Importaciones bloqueadas"
                    }), e.jsxs(dr, {
                        children: ["Se han detectado ", m.length, ' importaciones que llevan más de 30 minutos en estado "en progreso"']
                    })]
                }), e.jsxs(Ws, {
                    children: [e.jsx(J_, {
                        children: 'Importaciones bloqueadas en estado "en progreso"'
                    }), e.jsx(Gs, {
                        children: e.jsxs(gt, {
                            children: [e.jsx(ge, {
                                children: "ID"
                            }), e.jsx(ge, {
                                children: "Tipo"
                            }), e.jsx(ge, {
                                children: "Inicio"
                            }), e.jsx(ge, {
                                children: "Duración"
                            }), e.jsx(ge, {
                                children: "Estado"
                            }), e.jsx(ge, {
                                children: "Acciones"
                            })]
                        })
                    }), e.jsx(Ks, {
                        children: m.map(g => e.jsxs(gt, {
                            children: [e.jsx(xe, {
                                children: g.id
                            }), e.jsx(xe, {
                                className: "font-medium",
                                children: g.type === "vehicles" ? "Vehículos" : g.type === "parts" ? "Piezas" : g.type === "all" ? "Completa" : g.type
                            }), e.jsx(xe, {
                                children: d(g.startTime)
                            }), e.jsx(xe, {
                                children: u(g.startTime, g.endTime)
                            }), e.jsx(xe, {
                                children: e.jsx(ye, {
                                    variant: "secondary",
                                    className: "bg-yellow-500 hover:bg-yellow-600",
                                    children: "En progreso"
                                })
                            }), e.jsx(xe, {
                                children: e.jsxs(T, {
                                    size: "sm",
                                    onClick: () => j(g.id),
                                    disabled: c.isPending,
                                    children: [c.isPending && c.variables === g.id ? e.jsx(Xt, {
                                        className: "mr-2 h-4 w-4 animate-spin"
                                    }) : null, "Marcar como completada"]
                                })
                            })]
                        }, g.id))
                    })]
                })]
            })
        }), e.jsxs(_a, {
            className: "flex justify-between",
            children: [e.jsx(T, {
                variant: "outline",
                onClick: () => s.invalidateQueries({
                    queryKey: ["/api/import/history"]
                }),
                children: "Actualizar lista"
            }), e.jsxs(T, {
                onClick: p,
                disabled: r || m.length === 0,
                children: [r ? e.jsx(Xt, {
                    className: "mr-2 h-4 w-4 animate-spin"
                }) : null, "Recuperar todas"]
            })]
        })]
    })
}
const xW = ({onSuccess: t}) => {
        const {toast: s} = st(),
            [r, n] = h.useState(!1),
            [a, i] = h.useState({
                type: "all",
                frequency: "12h",
                startTime: "02:00",
                active: !0
            }),
            o = async l => {
                l.preventDefault(),
                n(!0);
                try {
                    await ss.createSchedule(a),
                    s({
                        title: "Programación creada",
                        description: "La nueva programación de importación ha sido creada correctamente"
                    }),
                    i({
                        type: "all",
                        frequency: "12h",
                        startTime: "02:00",
                        active: !0
                    }),
                    t && t()
                } catch (c) {
                    console.error("Error al crear la programación:", c),
                    s({
                        title: "Error al crear programación",
                        description: "No se pudo crear la programación de importación",
                        variant: "destructive"
                    })
                } finally {
                    n(!1)
                }
            };
        return e.jsxs(U, {
            children: [e.jsx(ne, {
                children: e.jsxs(ae, {
                    className: "flex items-center gap-2",
                    children: [e.jsx(on, {
                        className: "h-5 w-5"
                    }), "Nueva Programación de Importación"]
                })
            }), e.jsx(q, {
                children: e.jsxs("form", {
                    onSubmit: o,
                    className: "space-y-4",
                    children: [e.jsxs("div", {
                        className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                        children: [e.jsxs("div", {
                            className: "space-y-2",
                            children: [e.jsx(V, {
                                htmlFor: "type",
                                children: "Tipo de importación"
                            }), e.jsxs(He, {
                                value: a.type,
                                onValueChange: l => i({
                                    ...a,
                                    type: l
                                }),
                                children: [e.jsx(qe, {
                                    id: "type",
                                    children: e.jsx(We, {
                                        placeholder: "Seleccione el tipo"
                                    })
                                }), e.jsxs(Be, {
                                    children: [e.jsx(Q, {
                                        value: "all",
                                        children: "Vehículos y Piezas"
                                    }), e.jsx(Q, {
                                        value: "vehicles",
                                        children: "Solo Vehículos"
                                    }), e.jsx(Q, {
                                        value: "parts",
                                        children: "Solo Piezas"
                                    })]
                                })]
                            })]
                        }), e.jsxs("div", {
                            className: "space-y-2",
                            children: [e.jsx(V, {
                                htmlFor: "frequency",
                                children: "Frecuencia"
                            }), e.jsxs(He, {
                                value: a.frequency,
                                onValueChange: l => i({
                                    ...a,
                                    frequency: l
                                }),
                                children: [e.jsx(qe, {
                                    id: "frequency",
                                    children: e.jsx(We, {
                                        placeholder: "Seleccione la frecuencia"
                                    })
                                }), e.jsxs(Be, {
                                    children: [e.jsx(Q, {
                                        value: "1h",
                                        children: "Cada hora"
                                    }), e.jsx(Q, {
                                        value: "6h",
                                        children: "Cada 6 horas"
                                    }), e.jsx(Q, {
                                        value: "12h",
                                        children: "Cada 12 horas"
                                    }), e.jsx(Q, {
                                        value: "24h",
                                        children: "Cada 24 horas"
                                    })]
                                })]
                            })]
                        })]
                    }), e.jsxs("div", {
                        className: "space-y-2",
                        children: [e.jsxs(V, {
                            htmlFor: "startTime",
                            className: "flex items-center gap-2",
                            children: [e.jsx(Bs, {
                                className: "h-4 w-4"
                            }), "Hora de inicio"]
                        }), e.jsx(te, {
                            id: "startTime",
                            type: "time",
                            value: a.startTime,
                            onChange: l => i({
                                ...a,
                                startTime: l.target.value
                            }),
                            className: "w-full"
                        }), e.jsx("p", {
                            className: "text-xs text-muted-foreground",
                            children: "Hora específica para iniciar las sincronizaciones programadas (formato 24h)"
                        })]
                    }), e.jsx("div", {
                        className: "pt-4 border-t",
                        children: e.jsx(T, {
                            type: "submit",
                            disabled: r,
                            className: "w-full bg-primary hover:bg-primary/90",
                            children: r ? e.jsxs(e.Fragment, {
                                children: [e.jsx(xt, {
                                    className: "mr-2 h-4 w-4 animate-spin"
                                }), "Creando programación..."]
                            }) : e.jsxs(e.Fragment, {
                                children: [e.jsx(ur, {
                                    className: "mr-2 h-4 w-4"
                                }), "Crear programación"]
                            })
                        })
                    })]
                })
            })]
        })
    },
    gW = () => {
        const [, t] = ut(),
            {toast: s} = st(),
            {user: r, logout: n} = Ts(),
            [a, i] = h.useState(!1);
        h.useState(!1);
        const [o, l] = h.useState(new Date),
            {data: c, isLoading: d, refetch: u} = Te({
                queryKey: ["/api/import/history"],
                queryFn: () => ss.getHistory(10),
                refetchInterval: a ? 1e4 : !1
            }),
            {data: m, isLoading: p, refetch: j} = Te({
                queryKey: ["/api/import/schedule"],
                queryFn: () => ss.getSchedules(),
                refetchInterval: a ? 3e4 : !1
            });
        h.useEffect(() => {
            if (!c)
                return;
            const N = c.some(w => w.status === "in_progress" || w.status === "processing" || w.status === "pending" || w.status === "running");
            N !== a && (i(N), console.log(`Actualización automática ${N ? "activada" : "desactivada"} - Importaciones activas: ${N}`)),
            N && l(new Date)
        }, [c, a]);
        const g = async () => {
                try {
                    await n(),
                    t("/admin")
                } catch (N) {
                    console.error("Error al cerrar sesión:", N),
                    s({
                        title: "Error",
                        description: "No se pudo cerrar la sesión",
                        variant: "destructive"
                    })
                }
            },
            x = () => {
                u(),
                j()
            },
            y = () => {
                u(),
                s({
                    title: "Registro eliminado",
                    description: "El registro ha sido eliminado correctamente del historial"
                })
            },
            v = () => {
                u(),
                s({
                    title: "Importación reanudada",
                    description: "La importación se ha reanudado correctamente"
                })
            },
            f = () => {
                u(),
                s({
                    title: "Importación pausada",
                    description: "La importación se ha pausado correctamente"
                })
            },
            b = () => {
                u(),
                s({
                    title: "Importación cancelada",
                    description: "La importación se ha cancelado correctamente"
                })
            };
        return p ? e.jsx("div", {
            className: "flex items-center justify-center min-h-screen",
            children: e.jsx("div", {
                className: "animate-spin h-12 w-12 border-4 border-primary border-t-transparent rounded-full"
            })
        }) : e.jsxs("div", {
            className: "flex min-h-screen bg-gray-100",
            children: [e.jsx($s, {}), e.jsxs("div", {
                className: "flex-1 p-8",
                children: [e.jsxs("div", {
                    className: "flex justify-between items-center mb-8",
                    children: [e.jsxs("div", {
                        children: [e.jsx("h1", {
                            className: "text-3xl font-montserrat font-bold",
                            children: "Gestión de Importaciones"
                        }), e.jsxs("p", {
                            className: "text-muted-foreground",
                            children: ["Configure las importaciones y programe tareas automáticas", a && e.jsxs("span", {
                                className: "ml-2 inline-flex items-center text-green-600 font-medium",
                                children: [e.jsx(xt, {
                                    className: "h-3 w-3 mr-1 animate-spin"
                                }), "Actualización automática activa"]
                            })]
                        })]
                    }), e.jsxs("div", {
                        className: "flex items-center gap-2",
                        children: [a && e.jsxs("div", {
                            className: "flex items-center text-xs text-muted-foreground",
                            children: [e.jsx(xt, {
                                className: "h-3 w-3 mr-1 animate-spin"
                            }), "Última actualización: ", o.toLocaleTimeString()]
                        }), e.jsxs(T, {
                            variant: "outline",
                            onClick: g,
                            children: [e.jsx(ka, {
                                className: "mr-2 h-4 w-4"
                            }), "Cerrar sesión"]
                        })]
                    })]
                }), e.jsxs("div", {
                    className: "mb-8",
                    children: [e.jsxs("div", {
                        className: "grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",
                        children: [e.jsx("div", {
                            className: "w-full",
                            children: e.jsx(K0, {
                                autoRefresh: !1,
                                refreshInterval: 6e4
                            })
                        }), e.jsx("div", {
                            className: "w-full",
                            children: e.jsx(H0, {})
                        })]
                    }), e.jsxs("div", {
                        className: "grid grid-cols-1 lg:grid-cols-2 gap-6",
                        children: [e.jsx(U, {
                            children: e.jsxs(q, {
                                className: "p-6",
                                children: [e.jsx("h3", {
                                    className: "text-xl font-montserrat font-semibold mb-4",
                                    children: "Importación Manual Optimizada"
                                }), e.jsx(hW, {
                                    onSuccess: x
                                })]
                            })
                        }), e.jsx(U, {
                            children: e.jsxs(q, {
                                className: "p-6",
                                children: [e.jsx("h3", {
                                    className: "text-xl font-montserrat font-semibold mb-4",
                                    children: "Sincronización Automática"
                                }), e.jsx(pW, {
                                    schedules: m || [],
                                    onSuccess: j
                                })]
                            })
                        })]
                    }), e.jsxs("div", {
                        className: "mt-6",
                        children: [e.jsx("div", {
                            className: "mb-6",
                            children: e.jsx(xW, {
                                onSuccess: j
                            })
                        }), e.jsx(U, {
                            className: "mb-6",
                            children: e.jsxs(q, {
                                className: "p-6",
                                children: [e.jsx("h3", {
                                    className: "text-xl font-montserrat font-semibold mb-4",
                                    children: "Recuperación de Importaciones Bloqueadas"
                                }), e.jsx(fW, {})]
                            })
                        }), e.jsx(U, {
                            children: e.jsxs(q, {
                                className: "p-6",
                                children: [e.jsx("h3", {
                                    className: "text-xl font-montserrat font-semibold mb-4",
                                    children: "Historial de Importaciones"
                                }), e.jsx(iB, {
                                    history: c || [],
                                    isLoading: d,
                                    onDelete: y,
                                    onResume: v,
                                    onPause: f,
                                    onCancel: b,
                                    pageSize: 10
                                })]
                            })
                        })]
                    })]
                })]
            })]
        })
    },
    vW = Me.object({
        apiKey: Me.string().min(10, {
            message: "La API Key debe tener al menos 10 caracteres"
        }),
        companyId: Me.coerce.number().int().positive({
            message: "El ID de empresa debe ser un número positivo"
        }),
        channel: Me.string().min(1, {
            message: "El canal es obligatorio"
        }),
        active: Me.boolean().default(!0)
    }),
    yW = ({apiConfig: t, onSuccess: s}) => {
        const {toast: r} = st(),
            [n, a] = h.useState(!1),
            i = mn({
                resolver: Sn(vW),
                defaultValues: {
                    apiKey: (t == null ? void 0 : t.apiKey) || "MS-uif4cewpdUUo7JAJWhVy07GUSUSVwJnaZ",
                    companyId: (t == null ? void 0 : t.companyId) || 1236,
                    channel: (t == null ? void 0 : t.channel) || "webcliente MRC",
                    active: (t == null ? void 0 : t.active) !== void 0 ? t.active : !0
                }
            }),
            o = async d => {
                try {
                    const u = {
                        apiKey: d.apiKey,
                        apiId: d.companyId,
                        channel: d.channel,
                        active: d.active
                    };
                    await Lc.updateConfig(u),
                    r({
                        title: "Configuración actualizada",
                        description: "La configuración de la API ha sido actualizada correctamente",
                        variant: "success"
                    }),
                    s && s()
                } catch (u) {
                    console.error("Error al actualizar la configuración:", u),
                    r({
                        title: "Error al actualizar",
                        description: "No se pudo actualizar la configuración de la API",
                        variant: "destructive"
                    })
                }
            },
            l = () => {
                a(!n)
            },
            c = i.formState.isSubmitting;
        return e.jsx(_n, {
            ...i,
            children: e.jsxs("form", {
                onSubmit: i.handleSubmit(o),
                className: "space-y-6",
                children: [e.jsxs("div", {
                    className: "grid grid-cols-1 md:grid-cols-2 gap-6",
                    children: [e.jsx(et, {
                        control: i.control,
                        name: "apiKey",
                        render: ({field: d}) => e.jsxs(Ze, {
                            children: [e.jsx(tt, {
                                children: "API Key"
                            }), e.jsxs("div", {
                                className: "flex",
                                children: [e.jsx(Xe, {
                                    children: e.jsx(te, {
                                        type: n ? "text" : "password",
                                        placeholder: "API Key de Metasync",
                                        className: "rounded-r-none",
                                        ...d
                                    })
                                }), e.jsx(T, {
                                    type: "button",
                                    variant: "outline",
                                    className: "rounded-l-none border-l-0",
                                    onClick: l,
                                    children: n ? e.jsx(UE, {
                                        className: "h-4 w-4"
                                    }) : e.jsx(bs, {
                                        className: "h-4 w-4"
                                    })
                                })]
                            }), e.jsx(rt, {})]
                        })
                    }), e.jsx(et, {
                        control: i.control,
                        name: "companyId",
                        render: ({field: d}) => e.jsxs(Ze, {
                            children: [e.jsx(tt, {
                                children: "ID Empresa"
                            }), e.jsx(Xe, {
                                children: e.jsx(te, {
                                    type: "number",
                                    placeholder: "ID de la empresa",
                                    ...d
                                })
                            }), e.jsx(rt, {})]
                        })
                    }), e.jsx(et, {
                        control: i.control,
                        name: "channel",
                        render: ({field: d}) => e.jsxs(Ze, {
                            children: [e.jsx(tt, {
                                children: "Canal"
                            }), e.jsx(Xe, {
                                children: e.jsx(te, {
                                    placeholder: "Canal de la API",
                                    ...d
                                })
                            }), e.jsx(rt, {})]
                        })
                    }), e.jsx(et, {
                        control: i.control,
                        name: "active",
                        render: ({field: d}) => e.jsxs(Ze, {
                            className: "flex flex-row items-end space-x-2 space-y-0",
                            children: [e.jsx(Xe, {
                                children: e.jsx(St, {
                                    checked: d.value,
                                    onCheckedChange: d.onChange
                                })
                            }), e.jsx(tt, {
                                className: "mt-0",
                                children: "API Activa"
                            }), e.jsx(rt, {})]
                        })
                    })]
                }), e.jsx("div", {
                    className: "flex justify-end",
                    children: e.jsx(T, {
                        type: "submit",
                        className: "bg-primary hover:bg-primary/90",
                        disabled: c,
                        children: c ? e.jsxs(e.Fragment, {
                            children: [e.jsx(xt, {
                                className: "mr-2 h-4 w-4 animate-spin"
                            }), "Guardando..."]
                        }) : e.jsxs(e.Fragment, {
                            children: [e.jsx(wn, {
                                className: "mr-2 h-4 w-4"
                            }), "Guardar configuración"]
                        })
                    })
                })]
            })
        })
    };
function jW() {
    h.useState({});
    const [t, s] = h.useState(null),
        [r, n] = h.useState(!1),
        {data: a, isLoading: i, isError: o, error: l, refetch: c} = Te({
            queryKey: ["/api/diagnostic"],
            queryFn: Jd.runDiagnostic
        }),
        d = () => {
            c()
        },
        u = async () => {
            try {
                n(!0);
                const p = await Jd.checkCounts();
                s(p)
            } catch (p) {
                console.error("Error al verificar conteos:", p)
            } finally {
                n(!1)
            }
        };
    if (i)
        return e.jsxs(U, {
            className: "w-full",
            children: [e.jsx(ne, {
                children: e.jsxs(ae, {
                    className: "flex items-center gap-2",
                    children: [e.jsx(Xx, {
                        className: "h-5 w-5"
                    }), "Diagnóstico de API"]
                })
            }), e.jsx(q, {
                children: e.jsxs("div", {
                    className: "flex flex-col items-center justify-center p-8",
                    children: [e.jsx(ow, {
                        className: "h-8 w-8 animate-spin text-blue-500"
                    }), e.jsx("p", {
                        className: "mt-4 text-sm text-muted-foreground",
                        children: "Ejecutando diagnóstico..."
                    })]
                })
            })]
        });
    if (o)
        return e.jsxs(U, {
            className: "w-full",
            children: [e.jsx(ne, {
                children: e.jsxs(ae, {
                    className: "flex items-center gap-2",
                    children: [e.jsx(Xx, {
                        className: "h-5 w-5"
                    }), "Diagnóstico de API"]
                })
            }), e.jsx(q, {
                children: e.jsxs("div", {
                    className: "flex flex-col items-center justify-center p-8",
                    children: [e.jsx(zs, {
                        className: "h-8 w-8 text-red-500"
                    }), e.jsxs("p", {
                        className: "mt-4 text-sm text-muted-foreground",
                        children: ["Error al ejecutar diagnóstico: ", l instanceof Error ? l.message : "Error desconocido"]
                    })]
                })
            }), e.jsx(_a, {
                children: e.jsxs(T, {
                    variant: "outline",
                    onClick: d,
                    className: "w-full",
                    children: [e.jsx(iw, {
                        className: "mr-2 h-4 w-4"
                    }), "Reintentar"]
                })
            })]
        });
    const m = a != null && a.timestamp ? Bt(new Date(a.timestamp), "dd MMMM yyyy HH:mm:ss", {
        locale: ks
    }) : "";
    return e.jsxs(U, {
        className: "w-full",
        children: [e.jsxs(ne, {
            children: [e.jsxs(ae, {
                className: "flex items-center gap-2",
                children: [e.jsx(Xx, {
                    className: "h-5 w-5"
                }), "Diagnóstico de API"]
            }), e.jsxs(qt, {
                children: ["Fecha: ", m]
            })]
        }), e.jsxs(q, {
            children: [e.jsx("div", {
                className: "mb-3 text-xs text-amber-600 bg-amber-50 p-2 rounded border border-amber-200",
                children: e.jsxs("p", {
                    children: [e.jsx("strong", {
                        children: "Nota:"
                    }), " Los vehículos se obtienen a través del endpoint RecuperarCambiosCanalEmpresa, ya que el endpoint específico RecuperarCambiosVehiculosCanalEmpresa no responde correctamente."]
                })
            }), a && e.jsxs(e.Fragment, {
                children: [e.jsxs("div", {
                    className: "mb-6 flex flex-col space-y-2",
                    children: [e.jsxs("div", {
                        className: "flex justify-between items-center",
                        children: [e.jsx("span", {
                            className: "text-sm font-medium",
                            children: "Estado general:"
                        }), a.success ? e.jsxs(ye, {
                            variant: "outline",
                            className: "bg-green-50 text-green-700 border-green-200",
                            children: [e.jsx(kv, {
                                className: "mr-1 h-3 w-3"
                            }), "Conexión correcta"]
                        }) : e.jsxs(ye, {
                            variant: "outline",
                            className: "bg-red-50 text-red-700 border-red-200",
                            children: [e.jsx(zs, {
                                className: "mr-1 h-3 w-3"
                            }), "Con errores"]
                        })]
                    }), e.jsxs("div", {
                        className: "flex justify-between",
                        children: [e.jsx("span", {
                            className: "text-sm font-medium",
                            children: "Total endpoints:"
                        }), e.jsx("span", {
                            className: "text-sm",
                            children: a.diagnostics.length
                        })]
                    }), e.jsxs("div", {
                        className: "flex justify-between",
                        children: [e.jsx("span", {
                            className: "text-sm font-medium",
                            children: "Endpoints correctos:"
                        }), e.jsx("span", {
                            className: "text-sm text-green-600",
                            children: a.diagnostics.filter(p => p.success).length
                        })]
                    }), e.jsxs("div", {
                        className: "flex justify-between",
                        children: [e.jsx("span", {
                            className: "text-sm font-medium",
                            children: "Endpoints con error:"
                        }), e.jsx("span", {
                            className: "text-sm text-red-600",
                            children: a.diagnostics.filter(p => !p.success).length
                        })]
                    }), e.jsxs("div", {
                        className: "flex justify-between",
                        children: [e.jsx("span", {
                            className: "text-sm font-medium",
                            children: "Estado del sistema:"
                        }), e.jsx("span", {
                            className: "text-sm",
                            children: a.success ? "Funcionando" : "Con problemas"
                        })]
                    }), e.jsxs("div", {
                        className: "flex justify-between",
                        children: [e.jsx("span", {
                            className: "text-sm font-medium",
                            children: "Última actualización:"
                        }), e.jsx("span", {
                            className: "text-sm",
                            children: Bt(new Date(a.timestamp), "HH:mm:ss", {
                                locale: ks
                            })
                        })]
                    })]
                }), e.jsx(z0, {
                    type: "single",
                    collapsible: !0,
                    className: "w-full",
                    children: a.diagnostics.map((p, j) => e.jsxs(Iu, {
                        value: `item-${j}`,
                        children: [e.jsx(Ru, {
                            children: e.jsxs("div", {
                                className: "flex items-center gap-2 w-full justify-between",
                                children: [e.jsxs("div", {
                                    className: "flex items-center gap-2",
                                    children: [p.success ? e.jsx(kv, {
                                        className: "h-4 w-4 text-green-500"
                                    }) : e.jsx(Ea, {
                                        className: "h-4 w-4 text-red-500"
                                    }), e.jsx("span", {
                                        children: p.endpoint
                                    })]
                                }), e.jsxs("div", {
                                    className: "flex items-center gap-2",
                                    children: [p.success && p.responseData && p.responseData.summary && e.jsx(ye, {
                                        variant: "outline",
                                        className: "bg-green-50 text-green-700 border-green-200 whitespace-nowrap",
                                        children: p.responseData.summary
                                    }), !p.success && p.status && e.jsxs(ye, {
                                        variant: "destructive",
                                        className: "ml-2",
                                        children: ["Error ", p.status]
                                    })]
                                })]
                            })
                        }), e.jsx(Du, {
                            children: e.jsxs("div", {
                                className: "space-y-3 p-2 text-sm",
                                children: [e.jsxs("div", {
                                    className: "grid grid-cols-2 gap-1",
                                    children: [e.jsx("span", {
                                        className: "font-medium",
                                        children: "URL:"
                                    }), e.jsx("span", {
                                        className: "font-mono text-xs break-all",
                                        children: p.url
                                    })]
                                }), e.jsxs("div", {
                                    className: "grid grid-cols-2 gap-1",
                                    children: [e.jsx("span", {
                                        className: "font-medium",
                                        children: "Método:"
                                    }), e.jsx("span", {
                                        children: p.method
                                    })]
                                }), e.jsxs("div", {
                                    className: "grid grid-cols-2 gap-1",
                                    children: [e.jsx("span", {
                                        className: "font-medium",
                                        children: "Estado:"
                                    }), e.jsx("span", {
                                        children: p.status || "N/A"
                                    })]
                                }), p.success && p.responseData && p.responseData.summary && e.jsxs("div", {
                                    className: "grid grid-cols-2 gap-1",
                                    children: [e.jsx("span", {
                                        className: "font-medium",
                                        children: "Datos:"
                                    }), e.jsx("span", {
                                        className: "text-xs font-semibold text-green-700",
                                        children: p.responseData.summary
                                    })]
                                }), p.success && p.responseData && p.responseData.itemCount && e.jsxs("div", {
                                    className: "mt-2 p-2 bg-green-50 rounded-md border border-green-200",
                                    children: [e.jsx("p", {
                                        className: "text-sm text-green-700 font-medium mb-1",
                                        children: "Detalle de datos:"
                                    }), e.jsxs("ul", {
                                        className: "list-disc list-inside text-xs text-green-700",
                                        children: [p.responseData.itemCount.piezas > 0 && e.jsxs("li", {
                                            children: ["Piezas: ", p.responseData.itemCount.piezas]
                                        }), p.responseData.itemCount.vehiculos > 0 && e.jsxs("li", {
                                            children: ["Vehículos: ", p.responseData.itemCount.vehiculos]
                                        }), p.responseData.pagination && e.jsxs("li", {
                                            children: ["Último ID: ", p.responseData.pagination.lastId]
                                        })]
                                    })]
                                }), e.jsxs("div", {
                                    className: "grid grid-cols-2 gap-1",
                                    children: [e.jsx("span", {
                                        className: "font-medium",
                                        children: "Mensaje:"
                                    }), e.jsx("span", {
                                        className: "text-xs",
                                        children: p.message
                                    })]
                                }), !p.success && e.jsxs("div", {
                                    className: "mt-3 p-3 bg-red-50 rounded-md border border-red-200",
                                    children: [e.jsx("p", {
                                        className: "text-sm text-red-700 font-medium",
                                        children: "Sugerencia de solución:"
                                    }), e.jsxs("ul", {
                                        className: "list-disc list-inside text-xs text-red-700 mt-1",
                                        children: [p.status === 404 && e.jsxs(e.Fragment, {
                                            children: [e.jsx("li", {
                                                children: "Verificar que la URL del endpoint es correcta"
                                            }), e.jsx("li", {
                                                children: "Comprobar que el API key tiene acceso a este endpoint"
                                            }), e.jsx("li", {
                                                children: "La respuesta 404 indica que el recurso no fue encontrado"
                                            })]
                                        }), p.status === 401 && e.jsxs(e.Fragment, {
                                            children: [e.jsx("li", {
                                                children: "El API key proporcionado no es válido o ha expirado"
                                            }), e.jsx("li", {
                                                children: "Verificar las credenciales en la configuración"
                                            })]
                                        }), p.status === 403 && e.jsxs(e.Fragment, {
                                            children: [e.jsx("li", {
                                                children: "El API key no tiene permisos suficientes"
                                            }), e.jsx("li", {
                                                children: "Contactar con el proveedor de la API"
                                            })]
                                        }), !p.status && e.jsxs(e.Fragment, {
                                            children: [e.jsx("li", {
                                                children: "Verificar la conexión a internet"
                                            }), e.jsx("li", {
                                                children: "El servidor de la API podría estar caído"
                                            }), e.jsx("li", {
                                                children: "Contactar con el proveedor de la API"
                                            })]
                                        })]
                                    })]
                                })]
                            })
                        })]
                    }, j))
                })]
            })]
        }), e.jsx(q, {
            className: "pt-5",
            children: t && e.jsxs("div", {
                className: "bg-blue-50 border border-blue-200 rounded-md p-4 mb-5",
                children: [e.jsxs("h3", {
                    className: "text-sm font-medium flex items-center gap-2 mb-3",
                    children: [e.jsx(Gn, {
                        className: "h-4 w-4 text-blue-500"
                    }), "Validación de conteos y recuperación de datos", e.jsx(ye, {
                        variant: "outline",
                        className: "bg-blue-100 text-blue-700 border-blue-200 ml-2",
                        children: new Date(t.timestamp).toLocaleTimeString()
                    })]
                }), e.jsxs(Ws, {
                    children: [e.jsx(Gs, {
                        children: e.jsxs(gt, {
                            children: [e.jsx(ge, {
                                children: "Métrica"
                            }), e.jsx(ge, {
                                className: "text-right",
                                children: "Conteo API"
                            }), e.jsx(ge, {
                                className: "text-right",
                                children: "Recuperados"
                            })]
                        })
                    }), e.jsxs(Ks, {
                        children: [e.jsxs(gt, {
                            children: [e.jsx(xe, {
                                className: "font-medium",
                                children: "Vehículos"
                            }), e.jsx(xe, {
                                className: "text-right",
                                children: t.vehicleCount
                            }), e.jsx(xe, {
                                className: "text-right",
                                children: t.vehiclesRetrieved > 0 ? e.jsx("span", {
                                    className: "text-green-600",
                                    children: t.vehiclesRetrieved
                                }) : e.jsx("span", {
                                    className: "text-red-600",
                                    children: "0"
                                })
                            })]
                        }), e.jsxs(gt, {
                            children: [e.jsx(xe, {
                                className: "font-medium",
                                children: "Piezas"
                            }), e.jsx(xe, {
                                className: "text-right",
                                children: t.partCount
                            }), e.jsx(xe, {
                                className: "text-right",
                                children: t.partsRetrieved > 0 ? e.jsx("span", {
                                    className: "text-green-600",
                                    children: t.partsRetrieved
                                }) : e.jsx("span", {
                                    className: "text-red-600",
                                    children: "0"
                                })
                            })]
                        })]
                    })]
                }), t.vehiclesInPartsResponse > 0 && e.jsxs("div", {
                    className: "mt-3 text-xs text-blue-700 bg-blue-100 p-2 rounded",
                    children: [e.jsx("span", {
                        className: "font-medium",
                        children: "Nota:"
                    }), " Se encontraron ", t.vehiclesInPartsResponse, " vehículos asociados en la respuesta de piezas."]
                }), t.vehicleCount > 0 && t.vehiclesRetrieved === 0 && e.jsxs("div", {
                    className: "mt-3 text-xs text-amber-700 bg-amber-100 p-2 rounded",
                    children: [e.jsx("span", {
                        className: "font-medium",
                        children: "Sugerencia:"
                    }), " Los conteos muestran vehículos disponibles pero no se pudieron recuperar directamente. Intente recuperar vehículos a través de la API de piezas, donde aparecen como elementos asociados."]
                })]
            })
        }), e.jsxs(_a, {
            className: "flex gap-2",
            children: [e.jsxs(T, {
                variant: "outline",
                onClick: d,
                className: "w-full",
                children: [e.jsx(iw, {
                    className: "mr-2 h-4 w-4"
                }), "Actualizar diagnóstico"]
            }), e.jsxs(T, {
                variant: "secondary",
                onClick: u,
                className: "w-full",
                disabled: r,
                children: [r ? e.jsx(ow, {
                    className: "mr-2 h-4 w-4 animate-spin"
                }) : e.jsx(OE, {
                    className: "mr-2 h-4 w-4"
                }), "Verificar conteos"]
            })]
        })]
    })
}
function bW(t, s) {
    return h.useReducer((r, n) => s[r][n] ?? r, t)
}
var db = "ScrollArea",
    [sM, rZ] = ws(db),
    [NW, An] = sM(db),
    rM = h.forwardRef((t, s) => {
        const {__scopeScrollArea: r, type: n="hover", dir: a, scrollHideDelay: i=600, ...o} = t,
            [l, c] = h.useState(null),
            [d, u] = h.useState(null),
            [m, p] = h.useState(null),
            [j, g] = h.useState(null),
            [x, y] = h.useState(null),
            [v, f] = h.useState(0),
            [b, N] = h.useState(0),
            [w, C] = h.useState(!1),
            [E, k] = h.useState(!1),
            R = lt(s, z => c(z)),
            H = Nl(a);
        return e.jsx(NW, {
            scope: r,
            type: n,
            dir: H,
            scrollHideDelay: i,
            scrollArea: l,
            viewport: d,
            onViewportChange: u,
            content: m,
            onContentChange: p,
            scrollbarX: j,
            onScrollbarXChange: g,
            scrollbarXEnabled: w,
            onScrollbarXEnabledChange: C,
            scrollbarY: x,
            onScrollbarYChange: y,
            scrollbarYEnabled: E,
            onScrollbarYEnabledChange: k,
            onCornerWidthChange: f,
            onCornerHeightChange: N,
            children: e.jsx(Oe.div, {
                dir: H,
                ...o,
                ref: R,
                style: {
                    position: "relative",
                    "--radix-scroll-area-corner-width": v + "px",
                    "--radix-scroll-area-corner-height": b + "px",
                    ...t.style
                }
            })
        })
    });
rM.displayName = db;
var nM = "ScrollAreaViewport",
    aM = h.forwardRef((t, s) => {
        const {__scopeScrollArea: r, children: n, nonce: a, ...i} = t,
            o = An(nM, r),
            l = h.useRef(null),
            c = lt(s, l, o.onViewportChange);
        return e.jsxs(e.Fragment, {
            children: [e.jsx("style", {
                dangerouslySetInnerHTML: {
                    __html: "[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"
                },
                nonce: a
            }), e.jsx(Oe.div, {
                "data-radix-scroll-area-viewport": "",
                ...i,
                ref: c,
                style: {
                    overflowX: o.scrollbarXEnabled ? "scroll" : "hidden",
                    overflowY: o.scrollbarYEnabled ? "scroll" : "hidden",
                    ...t.style
                },
                children: e.jsx("div", {
                    ref: o.onContentChange,
                    style: {
                        minWidth: "100%",
                        display: "table"
                    },
                    children: n
                })
            })]
        })
    });
aM.displayName = nM;
var Ra = "ScrollAreaScrollbar",
    ub = h.forwardRef((t, s) => {
        const {forceMount: r, ...n} = t,
            a = An(Ra, t.__scopeScrollArea),
            {onScrollbarXEnabledChange: i, onScrollbarYEnabledChange: o} = a,
            l = t.orientation === "horizontal";
        return h.useEffect(() => (l ? i(!0) : o(!0), () => {
            l ? i(!1) : o(!1)
        }), [l, i, o]), a.type === "hover" ? e.jsx(wW, {
            ...n,
            ref: s,
            forceMount: r
        }) : a.type === "scroll" ? e.jsx(CW, {
            ...n,
            ref: s,
            forceMount: r
        }) : a.type === "auto" ? e.jsx(iM, {
            ...n,
            ref: s,
            forceMount: r
        }) : a.type === "always" ? e.jsx(mb, {
            ...n,
            ref: s
        }) : null
    });
ub.displayName = Ra;
var wW = h.forwardRef((t, s) => {
        const {forceMount: r, ...n} = t,
            a = An(Ra, t.__scopeScrollArea),
            [i, o] = h.useState(!1);
        return h.useEffect(() => {
            const l = a.scrollArea;
            let c = 0;
            if (l) {
                const d = () => {
                        window.clearTimeout(c),
                        o(!0)
                    },
                    u = () => {
                        c = window.setTimeout(() => o(!1), a.scrollHideDelay)
                    };
                return l.addEventListener("pointerenter", d), l.addEventListener("pointerleave", u), () => {
                    window.clearTimeout(c),
                    l.removeEventListener("pointerenter", d),
                    l.removeEventListener("pointerleave", u)
                }
            }
        }, [a.scrollArea, a.scrollHideDelay]), e.jsx(_s, {
            present: r || i,
            children: e.jsx(iM, {
                "data-state": i ? "visible" : "hidden",
                ...n,
                ref: s
            })
        })
    }),
    CW = h.forwardRef((t, s) => {
        const {forceMount: r, ...n} = t,
            a = An(Ra, t.__scopeScrollArea),
            i = t.orientation === "horizontal",
            o = ox(() => c("SCROLL_END"), 100),
            [l, c] = bW("hidden", {
                hidden: {
                    SCROLL: "scrolling"
                },
                scrolling: {
                    SCROLL_END: "idle",
                    POINTER_ENTER: "interacting"
                },
                interacting: {
                    SCROLL: "interacting",
                    POINTER_LEAVE: "idle"
                },
                idle: {
                    HIDE: "hidden",
                    SCROLL: "scrolling",
                    POINTER_ENTER: "interacting"
                }
            });
        return h.useEffect(() => {
            if (l === "idle") {
                const d = window.setTimeout(() => c("HIDE"), a.scrollHideDelay);
                return () => window.clearTimeout(d)
            }
        }, [l, a.scrollHideDelay, c]), h.useEffect(() => {
            const d = a.viewport,
                u = i ? "scrollLeft" : "scrollTop";
            if (d) {
                let m = d[u];
                const p = () => {
                    const j = d[u];
                    m !== j && (c("SCROLL"), o()),
                    m = j
                };
                return d.addEventListener("scroll", p), () => d.removeEventListener("scroll", p)
            }
        }, [a.viewport, i, c, o]), e.jsx(_s, {
            present: r || l !== "hidden",
            children: e.jsx(mb, {
                "data-state": l === "hidden" ? "hidden" : "visible",
                ...n,
                ref: s,
                onPointerEnter: Ne(t.onPointerEnter, () => c("POINTER_ENTER")),
                onPointerLeave: Ne(t.onPointerLeave, () => c("POINTER_LEAVE"))
            })
        })
    }),
    iM = h.forwardRef((t, s) => {
        const r = An(Ra, t.__scopeScrollArea),
            {forceMount: n, ...a} = t,
            [i, o] = h.useState(!1),
            l = t.orientation === "horizontal",
            c = ox(() => {
                if (r.viewport) {
                    const d = r.viewport.offsetWidth < r.viewport.scrollWidth,
                        u = r.viewport.offsetHeight < r.viewport.scrollHeight;
                    o(l ? d : u)
                }
            }, 10);
        return Hc(r.viewport, c), Hc(r.content, c), e.jsx(_s, {
            present: n || i,
            children: e.jsx(mb, {
                "data-state": i ? "visible" : "hidden",
                ...a,
                ref: s
            })
        })
    }),
    mb = h.forwardRef((t, s) => {
        const {orientation: r="vertical", ...n} = t,
            a = An(Ra, t.__scopeScrollArea),
            i = h.useRef(null),
            o = h.useRef(0),
            [l, c] = h.useState({
                content: 0,
                viewport: 0,
                scrollbar: {
                    size: 0,
                    paddingStart: 0,
                    paddingEnd: 0
                }
            }),
            d = uM(l.viewport, l.content),
            u = {
                ...n,
                sizes: l,
                onSizesChange: c,
                hasThumb: d > 0 && d < 1,
                onThumbChange: p => i.current = p,
                onThumbPointerUp: () => o.current = 0,
                onThumbPointerDown: p => o.current = p
            };
        function m(p, j) {
            return TW(p, o.current, l, j)
        }
        return r === "horizontal" ? e.jsx(SW, {
            ...u,
            ref: s,
            onThumbPositionChange: () => {
                if (a.viewport && i.current) {
                    const p = a.viewport.scrollLeft,
                        j = F1(p, l, a.dir);
                    i.current.style.transform = `translate3d(${j}px, 0, 0)`
                }
            },
            onWheelScroll: p => {
                a.viewport && (a.viewport.scrollLeft = p)
            },
            onDragScroll: p => {
                a.viewport && (a.viewport.scrollLeft = m(p, a.dir))
            }
        }) : r === "vertical" ? e.jsx(EW, {
            ...u,
            ref: s,
            onThumbPositionChange: () => {
                if (a.viewport && i.current) {
                    const p = a.viewport.scrollTop,
                        j = F1(p, l);
                    i.current.style.transform = `translate3d(0, ${j}px, 0)`
                }
            },
            onWheelScroll: p => {
                a.viewport && (a.viewport.scrollTop = p)
            },
            onDragScroll: p => {
                a.viewport && (a.viewport.scrollTop = m(p))
            }
        }) : null
    }),
    SW = h.forwardRef((t, s) => {
        const {sizes: r, onSizesChange: n, ...a} = t,
            i = An(Ra, t.__scopeScrollArea),
            [o, l] = h.useState(),
            c = h.useRef(null),
            d = lt(s, c, i.onScrollbarXChange);
        return h.useEffect(() => {
            c.current && l(getComputedStyle(c.current))
        }, [c]), e.jsx(lM, {
            "data-orientation": "horizontal",
            ...a,
            ref: d,
            sizes: r,
            style: {
                bottom: 0,
                left: i.dir === "rtl" ? "var(--radix-scroll-area-corner-width)" : 0,
                right: i.dir === "ltr" ? "var(--radix-scroll-area-corner-width)" : 0,
                "--radix-scroll-area-thumb-width": ix(r) + "px",
                ...t.style
            },
            onThumbPointerDown: u => t.onThumbPointerDown(u.x),
            onDragScroll: u => t.onDragScroll(u.x),
            onWheelScroll: (u, m) => {
                if (i.viewport) {
                    const p = i.viewport.scrollLeft + u.deltaX;
                    t.onWheelScroll(p),
                    hM(p, m) && u.preventDefault()
                }
            },
            onResize: () => {
                c.current && i.viewport && o && n({
                    content: i.viewport.scrollWidth,
                    viewport: i.viewport.offsetWidth,
                    scrollbar: {
                        size: c.current.clientWidth,
                        paddingStart: Xp(o.paddingLeft),
                        paddingEnd: Xp(o.paddingRight)
                    }
                })
            }
        })
    }),
    EW = h.forwardRef((t, s) => {
        const {sizes: r, onSizesChange: n, ...a} = t,
            i = An(Ra, t.__scopeScrollArea),
            [o, l] = h.useState(),
            c = h.useRef(null),
            d = lt(s, c, i.onScrollbarYChange);
        return h.useEffect(() => {
            c.current && l(getComputedStyle(c.current))
        }, [c]), e.jsx(lM, {
            "data-orientation": "vertical",
            ...a,
            ref: d,
            sizes: r,
            style: {
                top: 0,
                right: i.dir === "ltr" ? 0 : void 0,
                left: i.dir === "rtl" ? 0 : void 0,
                bottom: "var(--radix-scroll-area-corner-height)",
                "--radix-scroll-area-thumb-height": ix(r) + "px",
                ...t.style
            },
            onThumbPointerDown: u => t.onThumbPointerDown(u.y),
            onDragScroll: u => t.onDragScroll(u.y),
            onWheelScroll: (u, m) => {
                if (i.viewport) {
                    const p = i.viewport.scrollTop + u.deltaY;
                    t.onWheelScroll(p),
                    hM(p, m) && u.preventDefault()
                }
            },
            onResize: () => {
                c.current && i.viewport && o && n({
                    content: i.viewport.scrollHeight,
                    viewport: i.viewport.offsetHeight,
                    scrollbar: {
                        size: c.current.clientHeight,
                        paddingStart: Xp(o.paddingTop),
                        paddingEnd: Xp(o.paddingBottom)
                    }
                })
            }
        })
    }),
    [kW, oM] = sM(Ra),
    lM = h.forwardRef((t, s) => {
        const {__scopeScrollArea: r, sizes: n, hasThumb: a, onThumbChange: i, onThumbPointerUp: o, onThumbPointerDown: l, onThumbPositionChange: c, onDragScroll: d, onWheelScroll: u, onResize: m, ...p} = t,
            j = An(Ra, r),
            [g, x] = h.useState(null),
            y = lt(s, R => x(R)),
            v = h.useRef(null),
            f = h.useRef(""),
            b = j.viewport,
            N = n.content - n.viewport,
            w = Zt(u),
            C = Zt(c),
            E = ox(m, 10);
        function k(R) {
            if (v.current) {
                const H = R.clientX - v.current.left,
                    z = R.clientY - v.current.top;
                d({
                    x: H,
                    y: z
                })
            }
        }
        return h.useEffect(() => {
            const R = H => {
                const z = H.target;
                (g == null ? void 0 : g.contains(z)) && w(H, N)
            };
            return document.addEventListener("wheel", R, {
                passive: !1
            }), () => document.removeEventListener("wheel", R, {
                passive: !1
            })
        }, [b, g, N, w]), h.useEffect(C, [n, C]), Hc(g, E), Hc(j.content, E), e.jsx(kW, {
            scope: r,
            scrollbar: g,
            hasThumb: a,
            onThumbChange: Zt(i),
            onThumbPointerUp: Zt(o),
            onThumbPositionChange: C,
            onThumbPointerDown: Zt(l),
            children: e.jsx(Oe.div, {
                ...p,
                ref: y,
                style: {
                    position: "absolute",
                    ...p.style
                },
                onPointerDown: Ne(t.onPointerDown, R => {
                    R.button === 0 && (R.target.setPointerCapture(R.pointerId), v.current = g.getBoundingClientRect(), f.current = document.body.style.webkitUserSelect, document.body.style.webkitUserSelect = "none", j.viewport && (j.viewport.style.scrollBehavior = "auto"), k(R))
                }),
                onPointerMove: Ne(t.onPointerMove, k),
                onPointerUp: Ne(t.onPointerUp, R => {
                    const H = R.target;
                    H.hasPointerCapture(R.pointerId) && H.releasePointerCapture(R.pointerId),
                    document.body.style.webkitUserSelect = f.current,
                    j.viewport && (j.viewport.style.scrollBehavior = ""),
                    v.current = null
                })
            })
        })
    }),
    Zp = "ScrollAreaThumb",
    cM = h.forwardRef((t, s) => {
        const {forceMount: r, ...n} = t,
            a = oM(Zp, t.__scopeScrollArea);
        return e.jsx(_s, {
            present: r || a.hasThumb,
            children: e.jsx(PW, {
                ref: s,
                ...n
            })
        })
    }),
    PW = h.forwardRef((t, s) => {
        const {__scopeScrollArea: r, style: n, ...a} = t,
            i = An(Zp, r),
            o = oM(Zp, r),
            {onThumbPositionChange: l} = o,
            c = lt(s, m => o.onThumbChange(m)),
            d = h.useRef(void 0),
            u = ox(() => {
                d.current && (d.current(), d.current = void 0)
            }, 100);
        return h.useEffect(() => {
            const m = i.viewport;
            if (m) {
                const p = () => {
                    if (u(), !d.current) {
                        const j = AW(m, l);
                        d.current = j,
                        l()
                    }
                };
                return l(), m.addEventListener("scroll", p), () => m.removeEventListener("scroll", p)
            }
        }, [i.viewport, u, l]), e.jsx(Oe.div, {
            "data-state": o.hasThumb ? "visible" : "hidden",
            ...a,
            ref: c,
            style: {
                width: "var(--radix-scroll-area-thumb-width)",
                height: "var(--radix-scroll-area-thumb-height)",
                ...n
            },
            onPointerDownCapture: Ne(t.onPointerDownCapture, m => {
                const j = m.target.getBoundingClientRect(),
                    g = m.clientX - j.left,
                    x = m.clientY - j.top;
                o.onThumbPointerDown({
                    x: g,
                    y: x
                })
            }),
            onPointerUp: Ne(t.onPointerUp, o.onThumbPointerUp)
        })
    });
cM.displayName = Zp;
var hb = "ScrollAreaCorner",
    dM = h.forwardRef((t, s) => {
        const r = An(hb, t.__scopeScrollArea),
            n = !!(r.scrollbarX && r.scrollbarY);
        return r.type !== "scroll" && n ? e.jsx(_W, {
            ...t,
            ref: s
        }) : null
    });
dM.displayName = hb;
var _W = h.forwardRef((t, s) => {
    const {__scopeScrollArea: r, ...n} = t,
        a = An(hb, r),
        [i, o] = h.useState(0),
        [l, c] = h.useState(0),
        d = !!(i && l);
    return Hc(a.scrollbarX, () => {
        var m;
        const u = ((m = a.scrollbarX) == null ? void 0 : m.offsetHeight) || 0;
        a.onCornerHeightChange(u),
        c(u)
    }), Hc(a.scrollbarY, () => {
        var m;
        const u = ((m = a.scrollbarY) == null ? void 0 : m.offsetWidth) || 0;
        a.onCornerWidthChange(u),
        o(u)
    }), d ? e.jsx(Oe.div, {
        ...n,
        ref: s,
        style: {
            width: i,
            height: l,
            position: "absolute",
            right: a.dir === "ltr" ? 0 : void 0,
            left: a.dir === "rtl" ? 0 : void 0,
            bottom: 0,
            ...t.style
        }
    }) : null
});
function Xp(t) {
    return t ? parseInt(t, 10) : 0
}
function uM(t, s) {
    const r = t / s;
    return isNaN(r) ? 0 : r
}
function ix(t) {
    const s = uM(t.viewport, t.content),
        r = t.scrollbar.paddingStart + t.scrollbar.paddingEnd,
        n = (t.scrollbar.size - r) * s;
    return Math.max(n, 18)
}
function TW(t, s, r, n="ltr") {
    const a = ix(r),
        i = a / 2,
        o = s || i,
        l = a - o,
        c = r.scrollbar.paddingStart + o,
        d = r.scrollbar.size - r.scrollbar.paddingEnd - l,
        u = r.content - r.viewport,
        m = n === "ltr" ? [0, u] : [u * -1, 0];
    return mM([c, d], m)(t)
}
function F1(t, s, r="ltr") {
    const n = ix(s),
        a = s.scrollbar.paddingStart + s.scrollbar.paddingEnd,
        i = s.scrollbar.size - a,
        o = s.content - s.viewport,
        l = i - n,
        c = r === "ltr" ? [0, o] : [o * -1, 0],
        d = ay(t, c);
    return mM([0, o], [0, l])(d)
}
function mM(t, s) {
    return r => {
        if (t[0] === t[1] || s[0] === s[1])
            return s[0];
        const n = (s[1] - s[0]) / (t[1] - t[0]);
        return s[0] + n * (r - t[0])
    }
}
function hM(t, s) {
    return t > 0 && t < s
}
var AW = (t, s=() => {}) => {
    let r = {
            left: t.scrollLeft,
            top: t.scrollTop
        },
        n = 0;
    return function a() {
        const i = {
                left: t.scrollLeft,
                top: t.scrollTop
            },
            o = r.left !== i.left,
            l = r.top !== i.top;
        (o || l) && s(),
        r = i,
        n = window.requestAnimationFrame(a)
    }(), () => window.cancelAnimationFrame(n)
};
function ox(t, s) {
    const r = Zt(t),
        n = h.useRef(0);
    return h.useEffect(() => () => window.clearTimeout(n.current), []), h.useCallback(() => {
        window.clearTimeout(n.current),
        n.current = window.setTimeout(r, s)
    }, [r, s])
}
function Hc(t, s) {
    const r = Zt(s);
    js(() => {
        let n = 0;
        if (t) {
            const a = new ResizeObserver(() => {
                cancelAnimationFrame(n),
                n = window.requestAnimationFrame(r)
            });
            return a.observe(t), () => {
                window.cancelAnimationFrame(n),
                a.unobserve(t)
            }
        }
    }, [t, r])
}
var pM = rM,
    MW = aM,
    IW = dM;
const jy = h.forwardRef(({className: t, children: s, ...r}, n) => e.jsxs(pM, {
    ref: n,
    className: me("relative overflow-hidden", t),
    ...r,
    children: [e.jsx(MW, {
        className: "h-full w-full rounded-[inherit]",
        children: s
    }), e.jsx(fM, {}), e.jsx(IW, {})]
}));
jy.displayName = pM.displayName;
const fM = h.forwardRef(({className: t, orientation: s="vertical", ...r}, n) => e.jsx(ub, {
    ref: n,
    orientation: s,
    className: me("flex touch-none select-none transition-colors", s === "vertical" && "h-full w-2.5 border-l border-l-transparent p-[1px]", s === "horizontal" && "h-2.5 flex-col border-t border-t-transparent p-[1px]", t),
    ...r,
    children: e.jsx(cM, {
        className: "relative flex-1 rounded-full bg-border"
    })
}));
fM.displayName = ub.displayName;
function RW() {
    const [t, s] = h.useState("vehicles"),
        r = mn({
            defaultValues: {
                limit: "20"
            }
        }),
        n = parseInt(r.watch("limit")),
        {data: a, isLoading: i, error: o, refetch: l} = Te({
            queryKey: ["/api/raw/vehicles", n],
            queryFn: async () => {
                const f = await fetch(`/api/raw/vehicles?limit=${n}`);
                if (!f.ok)
                    throw new Error("Error al obtener vehículos");
                return f.json()
            },
            enabled: t === "vehicles"
        }),
        {data: c, isLoading: d, error: u, refetch: m} = Te({
            queryKey: ["/api/raw/parts", n],
            queryFn: async () => {
                const f = await fetch(`/api/raw/parts?limit=${n}`);
                if (!f.ok)
                    throw new Error("Error al obtener piezas");
                return f.json()
            },
            enabled: t === "parts"
        }),
        p = o !== null,
        j = u !== null,
        g = (a == null ? void 0 : a.vehiculos) || [],
        x = (c == null ? void 0 : c.piezas) || [];
    console.log("ApiRawData: vehiclesData", a),
    console.log("ApiRawData: partsData", c),
    console.log("ApiRawData: vehicles", g),
    console.log("ApiRawData: parts", x);
    const y = f => {
            s(f)
        },
        v = () => {
            t === "vehicles" ? l() : m()
        };
    return e.jsxs(U, {
        className: "w-full",
        children: [e.jsxs(ne, {
            children: [e.jsx(ae, {
                children: "Datos Crudos de API"
            }), e.jsx(qt, {
                children: "Visualiza los datos directamente desde la API sin procesar"
            })]
        }), e.jsxs(q, {
            children: [e.jsx(_n, {
                ...r,
                children: e.jsxs("div", {
                    className: "flex items-center space-x-4 mb-4",
                    children: [e.jsx(et, {
                        control: r.control,
                        name: "limit",
                        render: ({field: f}) => e.jsxs(Ze, {
                            className: "flex flex-row items-center space-x-2",
                            children: [e.jsx(tt, {
                                children: "Límite:"
                            }), e.jsxs(He, {
                                onValueChange: f.onChange,
                                defaultValue: f.value,
                                children: [e.jsx(Xe, {
                                    children: e.jsx(qe, {
                                        className: "w-[100px]",
                                        children: e.jsx(We, {
                                            placeholder: "Límite"
                                        })
                                    })
                                }), e.jsxs(Be, {
                                    children: [e.jsx(Q, {
                                        value: "10",
                                        children: "10"
                                    }), e.jsx(Q, {
                                        value: "20",
                                        children: "20"
                                    }), e.jsx(Q, {
                                        value: "50",
                                        children: "50"
                                    }), e.jsx(Q, {
                                        value: "100",
                                        children: "100"
                                    }), e.jsx(Q, {
                                        value: "500",
                                        children: "500"
                                    })]
                                })]
                            })]
                        })
                    }), e.jsx(T, {
                        onClick: v,
                        disabled: i || d,
                        children: i || d ? e.jsxs(e.Fragment, {
                            children: [e.jsx(Xt, {
                                className: "mr-2 h-4 w-4 animate-spin"
                            }), "Cargando..."]
                        }) : "Actualizar"
                    })]
                })
            }), e.jsxs(ls, {
                value: t,
                onValueChange: y,
                children: [e.jsxs(es, {
                    className: "mb-4",
                    children: [e.jsx(Ue, {
                        value: "vehicles",
                        children: "Vehículos"
                    }), e.jsx(Ue, {
                        value: "parts",
                        children: "Piezas"
                    })]
                }), e.jsxs($e, {
                    value: "vehicles",
                    children: [p ? e.jsxs(cr, {
                        variant: "destructive",
                        children: [e.jsx(zr, {
                            className: "h-4 w-4"
                        }), e.jsx(Qi, {
                            children: "Error"
                        }), e.jsx(dr, {
                            children: o instanceof Error ? o.message : "Error desconocido al obtener vehículos"
                        })]
                    }) : i ? e.jsx("div", {
                        className: "flex justify-center items-center py-10",
                        children: e.jsx(Xt, {
                            className: "h-8 w-8 animate-spin text-primary"
                        })
                    }) : g.length === 0 ? e.jsxs(cr, {
                        children: [e.jsx(zr, {
                            className: "h-4 w-4"
                        }), e.jsx(Qi, {
                            children: "Sin datos"
                        }), e.jsxs(dr, {
                            children: ["No se encontraron vehículos en la API. Estructura de respuesta: ", JSON.stringify(Object.keys(a || {}))]
                        })]
                    }) : e.jsx(jy, {
                        className: "h-[400px] rounded-md border",
                        children: e.jsxs(Ws, {
                            children: [e.jsx(Gs, {
                                children: e.jsxs(gt, {
                                    children: [e.jsx(ge, {
                                        children: "ID"
                                    }), e.jsx(ge, {
                                        children: "Marca"
                                    }), e.jsx(ge, {
                                        children: "Modelo"
                                    }), e.jsx(ge, {
                                        children: "Versión"
                                    }), e.jsx(ge, {
                                        children: "Año"
                                    }), e.jsx(ge, {
                                        children: "Combustible"
                                    }), e.jsx(ge, {
                                        children: "Matrícula"
                                    })]
                                })
                            }), e.jsx(Ks, {
                                children: g.map(f => e.jsxs(gt, {
                                    children: [e.jsx(xe, {
                                        children: f.IdLocal
                                    }), e.jsx(xe, {
                                        children: f.Marca || "-"
                                    }), e.jsx(xe, {
                                        children: f.Modelo || "-"
                                    }), e.jsx(xe, {
                                        children: f.Version || "-"
                                    }), e.jsx(xe, {
                                        children: f.AnyoVehiculo || "-"
                                    }), e.jsx(xe, {
                                        children: f.Combustible || "-"
                                    }), e.jsx(xe, {
                                        children: f.Matricula || "-"
                                    })]
                                }, f.IdLocal))
                            })]
                        })
                    }), a && a.result_set && e.jsxs("div", {
                        className: "text-sm text-muted-foreground mt-2",
                        children: ["Mostrando ", g.length, " de ", a.result_set.total || "desconocido", " vehículos. Last ID: ", a.result_set.lastId, ", Count: ", a.result_set.count, ", Offset: ", a.result_set.offset]
                    })]
                }), e.jsxs($e, {
                    value: "parts",
                    children: [j ? e.jsxs(cr, {
                        variant: "destructive",
                        children: [e.jsx(zr, {
                            className: "h-4 w-4"
                        }), e.jsx(Qi, {
                            children: "Error"
                        }), e.jsx(dr, {
                            children: u instanceof Error ? u.message : "Error desconocido al obtener piezas"
                        })]
                    }) : d ? e.jsx("div", {
                        className: "flex justify-center items-center py-10",
                        children: e.jsx(Xt, {
                            className: "h-8 w-8 animate-spin text-primary"
                        })
                    }) : x.length === 0 ? e.jsxs(cr, {
                        children: [e.jsx(zr, {
                            className: "h-4 w-4"
                        }), e.jsx(Qi, {
                            children: "Sin datos"
                        }), e.jsxs(dr, {
                            children: ["No se encontraron piezas en la API. Estructura de respuesta: ", JSON.stringify(Object.keys(c || {}))]
                        })]
                    }) : e.jsx(jy, {
                        className: "h-[400px] rounded-md border",
                        children: e.jsxs(Ws, {
                            children: [e.jsx(Gs, {
                                children: e.jsxs(gt, {
                                    children: [e.jsx(ge, {
                                        children: "ID"
                                    }), e.jsx(ge, {
                                        children: "Ref. Local"
                                    }), e.jsx(ge, {
                                        children: "Familia"
                                    }), e.jsx(ge, {
                                        children: "Vehículo ID"
                                    }), e.jsx(ge, {
                                        children: "Descripción"
                                    }), e.jsx(ge, {
                                        children: "Precio"
                                    }), e.jsx(ge, {
                                        children: "Estado"
                                    })]
                                })
                            }), e.jsx(Ks, {
                                children: x.map(f => e.jsxs(gt, {
                                    children: [e.jsx(xe, {
                                        children: f.idLocal || f.refLocal
                                    }), e.jsx(xe, {
                                        children: f.refLocal
                                    }), e.jsx(xe, {
                                        children: f.familia || "-"
                                    }), e.jsx(xe, {
                                        children: f.vehiculoIdLocal || "-"
                                    }), e.jsx(xe, {
                                        children: f.descripcion || "-"
                                    }), e.jsx(xe, {
                                        children: f.precio ? `${f.precio}€` : "-"
                                    }), e.jsx(xe, {
                                        children: f.estado || "-"
                                    })]
                                }, f.refLocal))
                            })]
                        })
                    }), c && c.result_set && e.jsxs("div", {
                        className: "text-sm text-muted-foreground mt-2",
                        children: ["Mostrando ", x.length, " de ", c.result_set.total || "desconocido", " piezas. Last ID: ", c.result_set.lastId, ", Count: ", c.result_set.count, ", Offset: ", c.result_set.offset]
                    })]
                })]
            })]
        })]
    })
}
const DW = Me.object({
        chatbotCode: Me.string()
    }),
    OW = ({initialCode: t, onSuccess: s}) => {
        const {toast: r} = st(),
            n = mn({
                resolver: Sn(DW),
                defaultValues: {
                    chatbotCode: t || ""
                }
            }),
            a = async i => {
                try {
                    await Lc.updateChatbotCode(i.chatbotCode);
                    let o = document.getElementById("chatbot-code");
                    o || (o = document.createElement("script"), o.id = "chatbot-code", document.body.appendChild(o)),
                    o.textContent = i.chatbotCode,
                    r({
                        title: "Configuración actualizada",
                        description: "El código del chatbot ha sido actualizado correctamente",
                        variant: "success"
                    }),
                    s && s()
                } catch (o) {
                    console.error("Error al actualizar el código del chatbot:", o),
                    r({
                        title: "Error al actualizar",
                        description: "No se pudo actualizar el código del chatbot",
                        variant: "destructive"
                    })
                }
            };
        return e.jsx(_n, {
            ...n,
            children: e.jsxs("form", {
                onSubmit: n.handleSubmit(a),
                className: "space-y-6",
                children: [e.jsx(et, {
                    control: n.control,
                    name: "chatbotCode",
                    render: ({field: i}) => e.jsxs(Ze, {
                        children: [e.jsx(tt, {
                            children: "Código del Chatbot"
                        }), e.jsx(Xe, {
                            children: e.jsx(Ut, {
                                placeholder: "Inserte el código del chatbot aquí",
                                className: "min-h-[100px] font-mono text-sm",
                                ...i
                            })
                        }), e.jsx(XT, {
                            children: "Este código se insertará antes del cierre del body en la página web"
                        }), e.jsx(rt, {})]
                    })
                }), e.jsx("div", {
                    className: "flex justify-end",
                    children: e.jsxs(T, {
                        type: "submit",
                        children: [e.jsx(wn, {
                            className: "mr-2 h-4 w-4"
                        }), "Guardar configuración"]
                    })
                })]
            })
        })
    },
    LW = () => {
        const {toast: t} = st(),
            s = pr(),
            [r, n] = h.useState(!1),
            [a, i] = h.useState(""),
            [o, l] = h.useState(""),
            {data: c, isLoading: d} = Te({
                queryKey: ["/api/maintenance/config"]
            });
        ke.useEffect(() => {
            c && (console.log("🔧 MAINTENANCE CONFIG: Datos recibidos del servidor:", c), n(c.maintenanceMode || !1), i(c.maintenanceMessage || ""), l(c.estimatedTime || ""), console.log("🔧 MAINTENANCE CONFIG: Estado local actualizado:", {
                maintenanceMode: c.maintenanceMode || !1,
                maintenanceMessage: c.maintenanceMessage || "",
                estimatedTime: c.estimatedTime || ""
            }))
        }, [c]);
        const {mutate: u, isPending: m} = nt({
                mutationFn: async g => {
                    console.log("🔧 MAINTENANCE: Enviando datos al servidor:", g);
                    const x = await fetch("/api/maintenance/config", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json"
                        },
                        credentials: "include",
                        body: JSON.stringify(g)
                    });
                    if (!x.ok) {
                        const v = await x.text();
                        throw console.error("❌ MAINTENANCE: Error del servidor:", v), new Error(v || "Error al actualizar la configuración de mantenimiento")
                    }
                    const y = await x.json();
                    return console.log("✅ MAINTENANCE: Respuesta del servidor:", y), y
                },
                onSuccess: g => {
                    console.log("✅ MAINTENANCE: Configuración actualizada exitosamente"),
                    s.invalidateQueries({
                        queryKey: ["/api/maintenance/config"]
                    }),
                    t({
                        title: r ? "Modo mantenimiento activado" : "Modo mantenimiento desactivado",
                        description: "La configuración se ha actualizado correctamente",
                        variant: "default"
                    })
                },
                onError: g => {
                    console.error("❌ MAINTENANCE: Error actualizando configuración:", g),
                    c && (n(c.maintenanceMode || !1), i(c.maintenanceMessage || ""), l(c.estimatedTime || "")),
                    t({
                        title: "Error",
                        description: "Ha ocurrido un error al actualizar la configuración",
                        variant: "destructive"
                    })
                }
            }),
            p = g => {
                console.log(`🔧 MAINTENANCE TOGGLE: ${g ? "activando" : "desactivando"} modo mantenimiento`),
                n(g),
                u({
                    maintenanceMode: g,
                    maintenanceMessage: a,
                    estimatedTime: o
                })
            },
            j = g => {
                g.preventDefault(),
                u({
                    maintenanceMode: r,
                    maintenanceMessage: a,
                    estimatedTime: o
                })
            };
        return d ? e.jsx("div", {
            className: "flex justify-center items-center p-4",
            children: e.jsx(Xt, {
                className: "h-6 w-6 animate-spin"
            })
        }) : e.jsxs(U, {
            className: "w-full",
            children: [e.jsxs(ne, {
                children: [e.jsx(ae, {
                    children: "Modo Mantenimiento"
                }), e.jsx(qt, {
                    children: "Activa el modo mantenimiento para realizar tareas de actualización o mantenimiento. Solo los administradores podrán acceder al sitio mientras esté activo."
                })]
            }), e.jsxs("form", {
                onSubmit: j,
                children: [e.jsxs(q, {
                    className: "space-y-4",
                    children: [r && e.jsxs(cr, {
                        variant: "warning",
                        className: "bg-amber-50 border-amber-500",
                        children: [e.jsx(zs, {
                            className: "h-4 w-4 text-amber-600"
                        }), e.jsx(dr, {
                            className: "text-amber-700",
                            children: "El modo mantenimiento está activado. Los usuarios normales no pueden acceder al sitio."
                        })]
                    }), e.jsxs("div", {
                        className: "flex items-center space-x-2",
                        children: [e.jsx(St, {
                            id: "maintenance-mode",
                            checked: r,
                            onCheckedChange: p
                        }), e.jsx(V, {
                            htmlFor: "maintenance-mode",
                            className: "font-medium",
                            children: r ? "Activado" : "Desactivado"
                        })]
                    }), e.jsxs("div", {
                        className: "space-y-2",
                        children: [e.jsx(V, {
                            htmlFor: "maintenance-message",
                            children: "Mensaje de mantenimiento"
                        }), e.jsx(Ut, {
                            id: "maintenance-message",
                            placeholder: "Ingrese un mensaje informativo sobre el mantenimiento...",
                            value: a,
                            onChange: g => i(g.target.value),
                            className: "resize-none"
                        })]
                    }), e.jsxs("div", {
                        className: "space-y-2",
                        children: [e.jsx(V, {
                            htmlFor: "estimated-time",
                            children: "Tiempo estimado"
                        }), e.jsx(te, {
                            id: "estimated-time",
                            type: "text",
                            placeholder: "Ej: 30 minutos, 2 horas, etc.",
                            value: o,
                            onChange: g => l(g.target.value)
                        })]
                    })]
                }), e.jsx(_a, {
                    children: e.jsxs(T, {
                        type: "submit",
                        disabled: m,
                        className: "ml-auto",
                        children: [m && e.jsx(Xt, {
                            className: "mr-2 h-4 w-4 animate-spin"
                        }), "Guardar configuración"]
                    })
                })]
            })]
        })
    },
    FW = () => {
        const {toast: t} = st(),
            [s, r] = h.useState(!1),
            {data: n, isLoading: a, refetch: i} = Te({
                queryKey: ["/api/google-merchant/stats"],
                queryFn: () => fetch("/api/google-merchant/stats").then(m => m.json())
            }),
            o = async () => {
                try {
                    r(!0),
                    t({
                        title: "Generando feed",
                        description: "Creando archivo XML para Google Merchant Center..."
                    });
                    const m = await fetch("/api/google-merchant/feed.xml");
                    if (!m.ok)
                        throw new Error("Error al generar el feed");
                    const p = await m.blob(),
                        j = window.URL.createObjectURL(p),
                        g = document.createElement("a");
                    g.href = j,
                    g.download = `google-merchant-feed-${new Date().toISOString().split("T")[0]}.xml`,
                    document.body.appendChild(g),
                    g.click(),
                    document.body.removeChild(g),
                    window.URL.revokeObjectURL(j),
                    t({
                        title: "Feed descargado",
                        description: "El archivo XML se ha descargado correctamente"
                    })
                } catch (m) {
                    console.error("Error al descargar feed:", m),
                    t({
                        title: "Error",
                        description: "No se pudo descargar el feed XML",
                        variant: "destructive"
                    })
                } finally {
                    r(!1)
                }
            },
            l = async () => {
                try {
                    const m = await fetch("/api/google-merchant/preview");
                    if (!m.ok)
                        throw new Error("Error al generar vista previa");
                    const p = await m.text(),
                        j = window.open();
                    j && (j.document.write(`
          <html>
            <head>
              <title>Vista previa - Google Merchant Feed</title>
              <style>
                body { font-family: monospace; padding: 20px; }
                pre { white-space: pre-wrap; background: #f5f5f5; padding: 15px; border-radius: 5px; }
              </style>
            </head>
            <body>
              <h2>Vista previa del Feed XML (primeros 10 productos)</h2>
              <pre>${









                    p.replace(/</g, "&lt;").replace(/>/g, "&gt;")}</pre>
            </body>
          </html>
        `


                    ), j.document.close())
                } catch (m) {
                    console.error("Error al mostrar vista previa:", m),
                    t({
                        title: "Error",
                        description: "No se pudo mostrar la vista previa",
                        variant: "destructive"
                    })
                }
            },
            d = `${window.location.origin}/api/google-merchant/feed.xml`;
        if (a)
            return e.jsx(U, {
                children: e.jsx(q, {
                    className: "p-6",
                    children: e.jsxs("div", {
                        className: "flex items-center justify-center",
                        children: [e.jsx(xt, {
                            className: "h-6 w-6 animate-spin mr-2"
                        }), "Cargando estadísticas..."]
                    })
                })
            });
        const u = n == null ? void 0 : n.data;
        return e.jsx("div", {
            className: "space-y-6",
            children: e.jsxs(U, {
                children: [e.jsx(ne, {
                    children: e.jsxs(ae, {
                        className: "flex items-center gap-2",
                        children: [e.jsx(ln, {
                            className: "h-5 w-5"
                        }), "Google Merchant Center Feed"]
                    })
                }), e.jsxs(q, {
                    className: "space-y-6",
                    children: [u && e.jsxs("div", {
                        className: "grid grid-cols-2 md:grid-cols-4 gap-4",
                        children: [e.jsxs("div", {
                            className: "text-center p-4 bg-blue-50 rounded-lg",
                            children: [e.jsx("div", {
                                className: "flex items-center justify-center mb-2",
                                children: e.jsx(Lj, {
                                    className: "h-5 w-5 text-blue-600"
                                })
                            }), e.jsx("div", {
                                className: "text-2xl font-bold text-blue-600",
                                children: u.totalParts
                            }), e.jsx("div", {
                                className: "text-sm text-gray-600",
                                children: "Total Piezas"
                            })]
                        }), e.jsxs("div", {
                            className: "text-center p-4 bg-green-50 rounded-lg",
                            children: [e.jsx("div", {
                                className: "flex items-center justify-center mb-2",
                                children: e.jsx(zE, {
                                    className: "h-5 w-5 text-green-600"
                                })
                            }), e.jsx("div", {
                                className: "text-2xl font-bold text-green-600",
                                children: u.partsWithPrice
                            }), e.jsx("div", {
                                className: "text-sm text-gray-600",
                                children: "Con Precio"
                            })]
                        }), e.jsxs("div", {
                            className: "text-center p-4 bg-purple-50 rounded-lg",
                            children: [e.jsx("div", {
                                className: "flex items-center justify-center mb-2",
                                children: e.jsx(qs, {
                                    className: "h-5 w-5 text-purple-600"
                                })
                            }), e.jsx("div", {
                                className: "text-2xl font-bold text-purple-600",
                                children: u.partsWithImages
                            }), e.jsx("div", {
                                className: "text-sm text-gray-600",
                                children: "Con Imágenes"
                            })]
                        }), e.jsxs("div", {
                            className: "text-center p-4 bg-orange-50 rounded-lg",
                            children: [e.jsx("div", {
                                className: "flex items-center justify-center mb-2",
                                children: e.jsx(ln, {
                                    className: "h-5 w-5 text-orange-600"
                                })
                            }), e.jsx("div", {
                                className: "text-2xl font-bold text-orange-600",
                                children: u.validParts
                            }), e.jsx("div", {
                                className: "text-sm text-gray-600",
                                children: "Válidas para Feed"
                            })]
                        })]
                    }), e.jsxs("div", {
                        className: "space-y-2",
                        children: [e.jsx("label", {
                            className: "text-sm font-medium",
                            children: "URL del Feed XML:"
                        }), e.jsxs("div", {
                            className: "flex gap-2",
                            children: [e.jsx("input", {
                                type: "text",
                                value: d,
                                readOnly: !0,
                                className: "flex-1 px-3 py-2 text-sm border border-gray-300 rounded-md bg-gray-50"
                            }), e.jsx(T, {
                                variant: "outline",
                                size: "sm",
                                onClick: () => {
                                    navigator.clipboard.writeText(d),
                                    t({
                                        title: "Copiado",
                                        description: "URL copiada al portapapeles"
                                    })
                                },
                                children: e.jsx(ju, {
                                    className: "h-4 w-4"
                                })
                            })]
                        }), e.jsx("p", {
                            className: "text-xs text-gray-500",
                            children: "Esta URL es pública y puede usarse directamente en Google Merchant Center"
                        })]
                    }), e.jsx("div", {
                        className: "mb-4",
                        children: e.jsxs(T, {
                            onClick: () => window.open("/google-merchant-center", "_blank"),
                            variant: "default",
                            className: "flex items-center gap-2",
                            children: [e.jsx(ju, {
                                className: "h-4 w-4"
                            }), "Ver página completa de Google Merchant Center"]
                        })
                    }), e.jsxs("div", {
                        className: "flex flex-wrap gap-3",
                        children: [e.jsxs(T, {
                            onClick: o,
                            disabled: s,
                            className: "flex items-center gap-2",
                            children: [s ? e.jsx(xt, {
                                className: "h-4 w-4 animate-spin"
                            }) : e.jsx(Or, {
                                className: "h-4 w-4"
                            }), "Descargar Feed XML"]
                        }), e.jsxs(T, {
                            variant: "outline",
                            onClick: l,
                            className: "flex items-center gap-2",
                            children: [e.jsx(bs, {
                                className: "h-4 w-4"
                            }), "Vista Previa"]
                        }), e.jsxs(T, {
                            variant: "outline",
                            onClick: () => i(),
                            className: "flex items-center gap-2",
                            children: [e.jsx(xt, {
                                className: "h-4 w-4"
                            }), "Actualizar Stats"]
                        })]
                    }), e.jsxs("div", {
                        className: "mt-6 p-4 bg-gray-50 rounded-lg",
                        children: [e.jsx("h4", {
                            className: "font-medium mb-2",
                            children: "Configuración en Google Merchant Center:"
                        }), e.jsxs("ol", {
                            className: "text-sm text-gray-600 space-y-1 list-decimal list-inside",
                            children: [e.jsx("li", {
                                children: "Accede a tu cuenta de Google Merchant Center"
                            }), e.jsx("li", {
                                children: 'Ve a "Productos" → "Feeds"'
                            }), e.jsx("li", {
                                children: 'Haz clic en "+ Agregar feed"'
                            }), e.jsx("li", {
                                children: 'Selecciona "Programado" como método de entrada'
                            }), e.jsx("li", {
                                children: "Pega la URL del feed XML mostrada arriba"
                            }), e.jsx("li", {
                                children: "Configura la frecuencia de actualización (recomendado: diaria)"
                            })]
                        })]
                    }), u && e.jsxs("div", {
                        className: "mt-4 space-y-2",
                        children: [e.jsx("h4", {
                            className: "font-medium",
                            children: "Calidad del Feed:"
                        }), e.jsxs("div", {
                            className: "space-y-2",
                            children: [e.jsxs("div", {
                                className: "flex justify-between items-center",
                                children: [e.jsx("span", {
                                    className: "text-sm",
                                    children: "Productos con precio válido:"
                                }), e.jsxs(ye, {
                                    variant: u.partsWithPrice / u.totalParts > .8 ? "default" : "destructive",
                                    children: [Math.round(u.partsWithPrice / u.totalParts * 100), "%"]
                                })]
                            }), e.jsxs("div", {
                                className: "flex justify-between items-center",
                                children: [e.jsx("span", {
                                    className: "text-sm",
                                    children: "Productos con imágenes:"
                                }), e.jsxs(ye, {
                                    variant: u.partsWithImages / u.totalParts > .7 ? "default" : "destructive",
                                    children: [Math.round(u.partsWithImages / u.totalParts * 100), "%"]
                                })]
                            })]
                        })]
                    })]
                })]
            })
        })
    },
    zW = () => {
        const {toast: t} = st(),
            [s, r] = h.useState(!1),
            [n, a] = h.useState(null),
            [i, o] = h.useState("Desguace Murcia"),
            [l, c] = h.useState("Murcia, España"),
            [d, u] = h.useState(""),
            [m, p] = h.useState(""),
            [j, g] = h.useState(!1),
            [x, y] = h.useState(4),
            [v, f] = h.useState(6),
            [b, N] = h.useState(24),
            [w, C] = h.useState(!1),
            {data: E, isLoading: k, refetch: R} = Te({
                queryKey: ["/api/google-reviews/config"],
                queryFn: async () => {
                    const S = await (await fetch("/api/google-reviews/config")).json();
                    return S.config || S
                }
            });
        h.useEffect(() => {
            E && !w && (console.log("Loading config into form:", E), o(E.businessName || "Desguace Murcia"), c(E.location || "Murcia, España"), u(E.placeId || ""), p(E.apiKey || ""), g(E.enabled || !1), y(E.minRating || 4), f(E.maxReviews || 6), N(E.cacheHours || 24), C(!0))
        }, [E, w]);
        const H = nt({
                mutationFn: async _ => {
                    const S = await fetch("/api/google-reviews/config", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json"
                        },
                        body: JSON.stringify(_)
                    });
                    if (!S.ok)
                        throw new Error("Error saving configuration");
                    return S.json()
                },
                onSuccess: _ => {
                    console.log("Config saved successfully:", _),
                    t({
                        title: "✅ Configuración guardada",
                        description: "La configuración de Google Reviews se ha guardado correctamente."
                    }),
                    _.config && (o(_.config.businessName || i), c(_.config.location || l), u(_.config.placeId || d), p(_.config.apiKey || m), g(_.config.enabled || j), y(_.config.minRating || x), f(_.config.maxReviews || v), N(_.config.cacheHours || b)),
                    R()
                },
                onError: _ => {
                    t({
                        title: "❌ Error",
                        description: _.message || "No se pudo guardar la configuración.",
                        variant: "destructive"
                    })
                }
            }),
            {data: z, isLoading: A, refetch: $} = Te({
                queryKey: ["/api/google-reviews"],
                enabled: w,
                queryFn: async () => (await fetch("/api/google-reviews")).json()
            }),
            G = async () => {
                if (!i || !l) {
                    t({
                        title: "Campos requeridos",
                        description: "Por favor completa el nombre del negocio y la ubicación.",
                        variant: "destructive"
                    });
                    return
                }
                r(!0),
                a(null);
                const _ = {
                    businessName: i,
                    location: l,
                    placeId: d,
                    apiKey: m,
                    minRating: x,
                    maxReviews: v
                };
                try {
                    const I = await (await fetch("/api/google-reviews/test", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json"
                        },
                        body: JSON.stringify(_)
                    })).json();
                    a(I),
                    I.success ? t({
                        title: "✅ Test exitoso",
                        description: `Se encontraron ${I.total} reseñas para ${I.business}`
                    }) : t({
                        title: "❌ Test falló",
                        description: I.message,
                        variant: "destructive"
                    })
                } catch (S) {
                    a({
                        success: !1,
                        error: "Connection failed",
                        message: S.message
                    }),
                    t({
                        title: "❌ Error de conexión",
                        description: S.message,
                        variant: "destructive"
                    })
                } finally {
                    r(!1)
                }
            },
            F = _ => {
                _.preventDefault();
                const S = {
                    businessName: i,
                    placeId: d || null,
                    location: l,
                    apiKey: m,
                    enabled: j,
                    minRating: x,
                    maxReviews: v,
                    cacheHours: b
                };
                console.log("Submitting config:", S),
                H.mutate(S)
            };
        return k ? e.jsxs("div", {
            className: "flex justify-center items-center py-8",
            children: [e.jsx(Xt, {
                className: "h-8 w-8 animate-spin"
            }), e.jsx("span", {
                className: "ml-2",
                children: "Cargando configuración..."
            })]
        }) : e.jsxs("div", {
            className: "container mx-auto px-4 py-8",
            children: [e.jsxs("div", {
                className: "mb-8",
                children: [e.jsx("h1", {
                    className: "text-3xl font-bold text-gray-900 mb-2",
                    children: "Configuración de Google Reviews"
                }), e.jsx("p", {
                    className: "text-gray-600",
                    children: "Configura la integración con Google Places API para mostrar reseñas reales de tu negocio"
                })]
            }), e.jsxs(ls, {
                defaultValue: "config",
                className: "space-y-6",
                children: [e.jsxs(es, {
                    className: "grid w-full grid-cols-3",
                    children: [e.jsxs(Ue, {
                        value: "config",
                        className: "flex items-center gap-2",
                        children: [e.jsx(Hs, {
                            className: "h-4 w-4"
                        }), "Configuración"]
                    }), e.jsxs(Ue, {
                        value: "test",
                        className: "flex items-center gap-2",
                        children: [e.jsx(Mh, {
                            className: "h-4 w-4"
                        }), "Probar API"]
                    }), e.jsxs(Ue, {
                        value: "preview",
                        className: "flex items-center gap-2",
                        children: [e.jsx(ai, {
                            className: "h-4 w-4"
                        }), "Vista Previa"]
                    })]
                }), e.jsx($e, {
                    value: "config",
                    children: e.jsxs(U, {
                        children: [e.jsx(ne, {
                            children: e.jsxs(ae, {
                                className: "flex items-center gap-2",
                                children: [e.jsx(Hs, {
                                    className: "h-5 w-5"
                                }), "Configuración del Negocio y API"]
                            })
                        }), e.jsx(q, {
                            children: e.jsxs("form", {
                                onSubmit: F,
                                className: "space-y-6",
                                children: [e.jsxs("div", {
                                    className: "grid grid-cols-1 md:grid-cols-2 gap-6",
                                    children: [e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            htmlFor: "businessName",
                                            children: "Nombre del Negocio *"
                                        }), e.jsx(te, {
                                            id: "businessName",
                                            value: i,
                                            onChange: _ => o(_.target.value),
                                            placeholder: "Nombre de tu negocio",
                                            required: !0
                                        }), e.jsx("p", {
                                            className: "text-sm text-gray-500",
                                            children: "Nombre exacto como aparece en Google Maps"
                                        })]
                                    }), e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            htmlFor: "location",
                                            children: "Ubicación *"
                                        }), e.jsx(te, {
                                            id: "location",
                                            value: l,
                                            onChange: _ => c(_.target.value),
                                            placeholder: "Ciudad, País",
                                            required: !0
                                        }), e.jsx("p", {
                                            className: "text-sm text-gray-500",
                                            children: "Ubicación para ayudar a encontrar el negocio"
                                        })]
                                    }), e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            htmlFor: "placeId",
                                            children: "Google Place ID (Opcional)"
                                        }), e.jsx(te, {
                                            id: "placeId",
                                            value: d,
                                            onChange: _ => u(_.target.value),
                                            placeholder: "ChIJN1t_tDeuEmsRUsoyG83frY4"
                                        }), e.jsx("p", {
                                            className: "text-sm text-gray-500",
                                            children: "Si lo conoces, mejorará la precisión de búsqueda"
                                        })]
                                    }), e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            htmlFor: "apiKey",
                                            children: "Google API Key *"
                                        }), e.jsx(te, {
                                            id: "apiKey",
                                            type: "password",
                                            value: m,
                                            onChange: _ => p(_.target.value),
                                            placeholder: "Tu clave de API de Google",
                                            required: !0
                                        }), e.jsx("p", {
                                            className: "text-sm text-gray-500",
                                            children: "Clave de API con acceso a Places API (New)"
                                        })]
                                    })]
                                }), e.jsxs("div", {
                                    className: "grid grid-cols-1 md:grid-cols-3 gap-6",
                                    children: [e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            htmlFor: "minRating",
                                            children: "Puntuación Mínima"
                                        }), e.jsx(te, {
                                            id: "minRating",
                                            type: "number",
                                            min: "1",
                                            max: "5",
                                            value: x,
                                            onChange: _ => y(parseInt(_.target.value))
                                        }), e.jsx("p", {
                                            className: "text-sm text-gray-500",
                                            children: "Solo mostrar reseñas con esta puntuación o superior"
                                        })]
                                    }), e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            htmlFor: "maxReviews",
                                            children: "Número Máximo"
                                        }), e.jsx(te, {
                                            id: "maxReviews",
                                            type: "number",
                                            min: "1",
                                            max: "20",
                                            value: v,
                                            onChange: _ => f(parseInt(_.target.value))
                                        }), e.jsxs("p", {
                                            className: "text-sm text-gray-500",
                                            children: [e.jsx("strong", {
                                                children: "Límite técnico:"
                                            }), " Google Places API proporciona máximo 5 reseñas por negocio"]
                                        })]
                                    }), e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            htmlFor: "cacheHours",
                                            children: "Caché (horas)"
                                        }), e.jsx(te, {
                                            id: "cacheHours",
                                            type: "number",
                                            min: "1",
                                            max: "168",
                                            value: b,
                                            onChange: _ => N(parseInt(_.target.value))
                                        }), e.jsx("p", {
                                            className: "text-sm text-gray-500",
                                            children: "Horas antes de actualizar reseñas"
                                        })]
                                    })]
                                }), e.jsxs("div", {
                                    className: "flex items-center space-x-2",
                                    children: [e.jsx(St, {
                                        id: "enabled",
                                        checked: j,
                                        onCheckedChange: g
                                    }), e.jsx(V, {
                                        htmlFor: "enabled",
                                        children: "Habilitar Google Reviews en la página principal"
                                    })]
                                }), e.jsxs("div", {
                                    className: "flex gap-4",
                                    children: [e.jsx(T, {
                                        type: "submit",
                                        disabled: H.isPending,
                                        className: "flex-1",
                                        children: H.isPending ? e.jsxs(e.Fragment, {
                                            children: [e.jsx(Xt, {
                                                className: "mr-2 h-4 w-4 animate-spin"
                                            }), "Guardando..."]
                                        }) : "Guardar Configuración"
                                    }), e.jsxs(T, {
                                        type: "button",
                                        variant: "outline",
                                        onClick: () => {
                                            fetch("/api/google-reviews/refresh", {
                                                method: "POST"
                                            }).then(() => {
                                                rn.invalidateQueries({
                                                    queryKey: ["/api/google-reviews"]
                                                }),
                                                $(),
                                                t({
                                                    title: "Reseñas actualizadas",
                                                    description: "Se han refrescado las reseñas usando todas las estrategias disponibles"
                                                })
                                            })
                                        },
                                        disabled: H.isPending,
                                        children: [e.jsx(xt, {
                                            className: "mr-2 h-4 w-4"
                                        }), "Actualizar"]
                                    })]
                                })]
                            })
                        })]
                    })
                }), e.jsx($e, {
                    value: "test",
                    children: e.jsxs(U, {
                        children: [e.jsx(ne, {
                            children: e.jsxs(ae, {
                                className: "flex items-center gap-2",
                                children: [e.jsx(Mh, {
                                    className: "h-5 w-5"
                                }), "Probar Conexión con Google Places API"]
                            })
                        }), e.jsx(q, {
                            children: e.jsxs("div", {
                                className: "space-y-4",
                                children: [e.jsx(cr, {
                                    children: e.jsx(dr, {
                                        children: e.jsxs("div", {
                                            className: "space-y-2",
                                            children: [e.jsx("p", {
                                                children: "Prueba la conexión con Google Places API usando la configuración actual."
                                            }), e.jsxs("p", {
                                                className: "text-sm",
                                                children: [e.jsx("strong", {
                                                    children: "Importante:"
                                                }), " Google Places API está limitado a un máximo de 5 reseñas por negocio. Esto es una limitación técnica oficial de Google y no se puede superar."]
                                            }), e.jsx("p", {
                                                className: "text-sm",
                                                children: "Sistema híbrido: API oficial + reseñas verificadas manualmente. Filtrado automático de calidad (solo 4-5 estrellas)."
                                            })]
                                        })
                                    })
                                }), e.jsx(T, {
                                    onClick: G,
                                    disabled: s || !i || !l,
                                    className: "w-full",
                                    children: s ? e.jsxs(e.Fragment, {
                                        children: [e.jsx(Xt, {
                                            className: "mr-2 h-4 w-4 animate-spin"
                                        }), "Probando API..."]
                                    }) : e.jsxs(e.Fragment, {
                                        children: [e.jsx(Mh, {
                                            className: "mr-2 h-4 w-4"
                                        }), "Probar Conexión"]
                                    })
                                }), n && e.jsx(cr, {
                                    className: n.success ? "border-green-200 bg-green-50" : "border-red-200 bg-red-50",
                                    children: e.jsx(dr, {
                                        children: e.jsxs("div", {
                                            className: "space-y-2",
                                            children: [e.jsxs("div", {
                                                className: "flex items-center gap-2",
                                                children: [e.jsx(ye, {
                                                    variant: n.success ? "default" : "destructive",
                                                    children: n.success ? "✅ Éxito" : "❌ Error"
                                                }), n.business && e.jsx("span", {
                                                    className: "text-sm",
                                                    children: n.business
                                                })]
                                            }), e.jsx("p", {
                                                className: "text-sm",
                                                children: n.message
                                            }), n.success && n.reviews && e.jsxs("div", {
                                                className: "text-sm",
                                                children: [e.jsxs("p", {
                                                    children: ["Reseñas encontradas: ", n.total]
                                                }), n.reviews.slice(0, 2).map((_, S) => e.jsxs("div", {
                                                    className: "mt-2 p-2 bg-white rounded border",
                                                    children: [e.jsxs("div", {
                                                        className: "flex items-center gap-2",
                                                        children: [e.jsx("span", {
                                                            className: "font-medium",
                                                            children: _.author
                                                        }), e.jsx("div", {
                                                            className: "flex",
                                                            children: [...Array(5)].map((I, W) => e.jsx(ai, {
                                                                className: `h-3 w-3 ${W < _.rating ? "fill-yellow-400 text-yellow-400" : "text-gray-300"}`
                                                            }, W))
                                                        })]
                                                    }), e.jsx("p", {
                                                        className: "text-xs text-gray-600 mt-1",
                                                        children: _.text
                                                    })]
                                                }, S))]
                                            })]
                                        })
                                    })
                                })]
                            })
                        })]
                    })
                }), e.jsx($e, {
                    value: "preview",
                    children: e.jsxs(U, {
                        children: [e.jsx(ne, {
                            children: e.jsxs(ae, {
                                className: "flex items-center gap-2",
                                children: [e.jsx(ai, {
                                    className: "h-5 w-5"
                                }), "Vista Previa de Reseñas"]
                            })
                        }), e.jsx(q, {
                            children: A ? e.jsx("div", {
                                className: "flex justify-center py-8",
                                children: e.jsx(Xt, {
                                    className: "h-6 w-6 animate-spin"
                                })
                            }) : e.jsx("div", {
                                className: "space-y-4",
                                children: z != null && z.reviews && z.reviews.length > 0 ? e.jsxs(e.Fragment, {
                                    children: [e.jsxs("div", {
                                        className: "space-y-3",
                                        children: [e.jsxs("div", {
                                            className: "flex items-center justify-between",
                                            children: [e.jsxs(ye, {
                                                variant: "outline",
                                                children: [z.total, " reseñas encontradas (máximo Google API)"]
                                            }), e.jsx(ye, {
                                                variant: j ? "default" : "secondary",
                                                children: j ? "Habilitado" : "Deshabilitado"
                                            })]
                                        }), e.jsx(cr, {
                                            className: "border-blue-200 bg-blue-50",
                                            children: e.jsxs(dr, {
                                                className: "text-sm",
                                                children: [e.jsx("strong", {
                                                    children: "✅ Sistema híbrido implementado:"
                                                }), " Combina Google Places API (5 reseñas) + reseñas verificadas manualmente (4 adicionales). Total: 8+ reseñas auténticas de alta calidad (solo 4-5 estrellas). Sistema de filtrado elimina automáticamente reseñas negativas, manteniendo solo las mejores experiencias."]
                                            })
                                        })]
                                    }), e.jsx("div", {
                                        className: "grid gap-4",
                                        children: z.reviews.map(_ => e.jsxs("div", {
                                            className: "border rounded-lg p-4",
                                            children: [e.jsxs("div", {
                                                className: "flex items-center gap-3 mb-3",
                                                children: [e.jsx("div", {
                                                    className: "w-10 h-10 bg-blue-500 text-white rounded-full flex items-center justify-center font-medium",
                                                    children: _.avatar
                                                }), e.jsxs("div", {
                                                    className: "flex-1",
                                                    children: [e.jsx("h4", {
                                                        className: "font-semibold",
                                                        children: _.author
                                                    }), e.jsxs("div", {
                                                        className: "flex items-center gap-2",
                                                        children: [e.jsx("div", {
                                                            className: "flex",
                                                            children: [...Array(5)].map((S, I) => e.jsx(ai, {
                                                                className: `h-4 w-4 ${I < _.rating ? "fill-yellow-400 text-yellow-400" : "text-gray-300"}`
                                                            }, I))
                                                        }), e.jsx("span", {
                                                            className: "text-sm text-gray-500",
                                                            children: _.date
                                                        })]
                                                    })]
                                                })]
                                            }), e.jsx("p", {
                                                className: "text-gray-700",
                                                children: _.text
                                            })]
                                        }, _.id))
                                    })]
                                }) : e.jsx(cr, {
                                    children: e.jsx(dr, {
                                        children: (z == null ? void 0 : z.message) || "No se pudieron cargar las reseñas. Verifica la configuración."
                                    })
                                })
                            })
                        })]
                    })
                })]
            })]
        })
    },
    $W = () => {
        var g,
            x;
        const [t, s] = h.useState("");
        h.useState(null);
        const {toast: r} = st(),
            n = pr(),
            {data: a, isLoading: i} = Te({
                queryKey: ["/api/backup/list"],
                queryFn: async () => {
                    const y = await fetch("/api/backup/list", {
                        credentials: "include"
                    });
                    if (!y.ok)
                        throw new Error("Error obteniendo backups");
                    return y.json()
                }
            }),
            o = nt({
                mutationFn: async y => {
                    const v = await fetch("/api/backup/create", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json"
                        },
                        credentials: "include",
                        body: JSON.stringify({
                            name: y || void 0
                        })
                    });
                    if (!v.ok)
                        throw new Error("Error creando backup de base de datos");
                    return v.json()
                },
                onSuccess: y => {
                    n.invalidateQueries({
                        queryKey: ["/api/backup/list"]
                    }),
                    r({
                        title: "Éxito",
                        description: y.message
                    }),
                    s("")
                },
                onError: y => {
                    r({
                        title: "Error",
                        description: y.message,
                        variant: "destructive"
                    })
                }
            }),
            l = nt({
                mutationFn: async y => {
                    const v = await fetch(`/api/backup/restore/database/${y}`, {
                        method: "POST",
                        credentials: "include"
                    });
                    if (!v.ok)
                        throw new Error("Error restaurando backup de base de datos");
                    return v.json()
                },
                onSuccess: y => {
                    r({
                        title: "Éxito",
                        description: y.message
                    })
                },
                onError: y => {
                    r({
                        title: "Error",
                        description: y.message,
                        variant: "destructive"
                    })
                }
            }),
            c = nt({
                mutationFn: async y => {
                    const v = await fetch(`/api/backup/${y}`, {
                        method: "DELETE",
                        credentials: "include"
                    });
                    if (!v.ok)
                        throw new Error("Error eliminando backup");
                    return v.json()
                },
                onSuccess: y => {
                    n.invalidateQueries({
                        queryKey: ["/api/backup/list"]
                    }),
                    r({
                        title: "Éxito",
                        description: y.message
                    })
                },
                onError: y => {
                    r({
                        title: "Error",
                        description: y.message,
                        variant: "destructive"
                    })
                }
            }),
            d = y => {
                const v = `¿Estás seguro de que quieres restaurar la base de datos desde el backup "${y.name}"? Esta acción sobrescribirá los datos actuales.`;
                window.confirm(v) && l.mutate(y.id)
            },
            u = y => {
                window.confirm(`¿Estás seguro de que quieres eliminar el backup "${y.name}"?`) && c.mutate(y.id)
            },
            m = () => e.jsx(Gn, {
                className: "h-4 w-4"
            }),
            p = () => "Base de Datos",
            j = () => "bg-blue-100 text-blue-800";
        return i ? e.jsx("div", {
            className: "animate-pulse",
            children: "Cargando backups..."
        }) : e.jsxs("div", {
            className: "space-y-6",
            children: [e.jsx("div", {
                className: "max-w-md mx-auto",
                children: e.jsxs(U, {
                    children: [e.jsx(ne, {
                        children: e.jsxs(ae, {
                            className: "text-lg flex items-center gap-2",
                            children: [e.jsx(Gn, {
                                className: "h-5 w-5"
                            }), "Crear Backup de Base de Datos"]
                        })
                    }), e.jsxs(q, {
                        className: "space-y-4",
                        children: [e.jsxs("div", {
                            children: [e.jsx(V, {
                                htmlFor: "backupName",
                                children: "Nombre del backup (opcional)"
                            }), e.jsx(te, {
                                id: "backupName",
                                placeholder: "Mi backup personalizado",
                                value: t,
                                onChange: y => s(y.target.value)
                            })]
                        }), e.jsxs(T, {
                            onClick: () => o.mutate(t),
                            disabled: o.isPending,
                            className: "w-full",
                            children: [e.jsx(Gn, {
                                className: "h-4 w-4 mr-2"
                            }), o.isPending ? "Creando..." : "Crear Backup BD"]
                        })]
                    })]
                })
            }), e.jsxs(U, {
                children: [e.jsx(ne, {
                    children: e.jsxs("div", {
                        className: "flex justify-between items-center",
                        children: [e.jsx(ae, {
                            children: "Backups Disponibles"
                        }), e.jsxs(T, {
                            variant: "outline",
                            size: "sm",
                            onClick: () => n.invalidateQueries({
                                queryKey: ["/api/backup/list"]
                            }),
                            children: [e.jsx(xt, {
                                className: "h-4 w-4 mr-2"
                            }), "Actualizar"]
                        })]
                    })
                }), e.jsx(q, {
                    children: ((g = a == null ? void 0 : a.backups) == null ? void 0 : g.length) === 0 ? e.jsxs("div", {
                        className: "text-center py-8",
                        children: [e.jsx(Ot, {
                            className: "h-12 w-12 mx-auto text-gray-400 mb-4"
                        }), e.jsx("p", {
                            className: "text-gray-500",
                            children: "No hay backups disponibles"
                        }), e.jsx("p", {
                            className: "text-sm text-gray-400",
                            children: "Crea tu primer backup usando las opciones de arriba"
                        })]
                    }) : e.jsx("div", {
                        className: "space-y-4",
                        children: (x = a == null ? void 0 : a.backups) == null ? void 0 : x.map(y => e.jsx("div", {
                            className: "border rounded-lg p-4 hover:bg-gray-50 transition-colors",
                            children: e.jsxs("div", {
                                className: "flex items-start justify-between",
                                children: [e.jsxs("div", {
                                    className: "space-y-2",
                                    children: [e.jsxs("div", {
                                        className: "flex items-center gap-2",
                                        children: [e.jsxs("div", {
                                            className: "flex items-center gap-2",
                                            children: [m(), e.jsx("h3", {
                                                className: "font-medium",
                                                children: y.name
                                            })]
                                        }), e.jsx(ye, {
                                            className: j(),
                                            children: p()
                                        })]
                                    }), e.jsx("p", {
                                        className: "text-sm text-gray-600",
                                        children: y.description
                                    }), e.jsxs("div", {
                                        className: "flex gap-4 text-xs text-gray-500",
                                        children: [e.jsxs("span", {
                                            className: "flex items-center gap-1",
                                            children: [e.jsx(Bs, {
                                                className: "h-3 w-3"
                                            }), new Date(y.createdAt).toLocaleString()]
                                        }), e.jsxs("span", {
                                            children: ["Tamaño: ", y.sizeFormatted]
                                        })]
                                    })]
                                }), e.jsxs("div", {
                                    className: "flex gap-2",
                                    children: [e.jsxs(T, {
                                        size: "sm",
                                        variant: "outline",
                                        onClick: () => window.open(`/api/backup/download/${y.id}`, "_blank"),
                                        children: [e.jsx(Ot, {
                                            className: "h-4 w-4 mr-1"
                                        }), "Descargar"]
                                    }), e.jsxs(T, {
                                        size: "sm",
                                        onClick: () => d(y),
                                        disabled: l.isPending,
                                        children: [e.jsx(Rt, {
                                            className: "h-4 w-4 mr-1"
                                        }), "Restaurar"]
                                    }), e.jsx(T, {
                                        size: "sm",
                                        variant: "outline",
                                        onClick: () => u(y),
                                        disabled: c.isPending,
                                        children: e.jsx(Jt, {
                                            className: "h-4 w-4"
                                        })
                                    })]
                                })]
                            })
                        }, y.id))
                    })
                })]
            }), e.jsx(U, {
                className: "border-blue-200",
                children: e.jsx(q, {
                    className: "pt-6",
                    children: e.jsxs("div", {
                        className: "flex gap-3",
                        children: [e.jsx(zs, {
                            className: "h-5 w-5 text-blue-600 mt-0.5"
                        }), e.jsxs("div", {
                            className: "space-y-2",
                            children: [e.jsx("h4", {
                                className: "font-medium text-blue-800",
                                children: "Información importante:"
                            }), e.jsxs("ul", {
                                className: "text-sm text-blue-700 space-y-1",
                                children: [e.jsx("li", {
                                    children: "• Los backups incluyen solo la base de datos PostgreSQL"
                                }), e.jsx("li", {
                                    children: "• Las restauraciones sobrescribirán los datos actuales"
                                }), e.jsx("li", {
                                    children: "• Se recomienda crear un backup antes de restaurar"
                                }), e.jsx("li", {
                                    children: "• Puedes descargar los backups para almacenarlos de forma segura"
                                })]
                            })]
                        })]
                    })
                })
            })]
        })
    },
    VW = () => {
        const [, t] = ut(),
            {logout: s} = Ts(),
            {data: r, isLoading: n, refetch: a} = Te({
                queryKey: ["/api/config"],
                queryFn: () => Lc.getConfig()
            }),
            {data: i, isLoading: o, refetch: l} = Te({
                queryKey: ["/api/config/chatbot"],
                queryFn: () => Lc.getChatbotConfig()
            }),
            c = async () => {
                try {
                    await s(),
                    t("/admin")
                } catch (d) {
                    console.error("Error al cerrar sesión:", d)
                }
            };
        return n || o ? e.jsx("div", {
            className: "flex items-center justify-center min-h-screen",
            children: e.jsx("div", {
                className: "animate-spin h-12 w-12 border-4 border-primary border-t-transparent rounded-full"
            })
        }) : e.jsxs("div", {
            className: "flex min-h-screen bg-gray-100",
            children: [e.jsx($s, {}), e.jsxs("div", {
                className: "flex-1 p-8",
                children: [e.jsxs("div", {
                    className: "flex justify-between items-center mb-8",
                    children: [e.jsxs("div", {
                        children: [e.jsx("h1", {
                            className: "text-3xl font-montserrat font-bold",
                            children: "Configuración"
                        }), e.jsx("p", {
                            className: "text-muted-foreground",
                            children: "Configuración general del sistema"
                        })]
                    }), e.jsxs(T, {
                        variant: "outline",
                        onClick: c,
                        children: [e.jsx(ka, {
                            className: "mr-2 h-4 w-4"
                        }), "Cerrar sesión"]
                    })]
                }), e.jsxs(ls, {
                    defaultValue: "maintenance",
                    className: "w-full",
                    children: [e.jsxs(es, {
                        className: "grid w-full grid-cols-7",
                        children: [e.jsxs(Ue, {
                            value: "maintenance",
                            className: "flex items-center gap-2",
                            children: [e.jsx(lm, {
                                className: "h-4 w-4"
                            }), "Mantenimiento"]
                        }), e.jsxs(Ue, {
                            value: "api",
                            className: "flex items-center gap-2",
                            children: [e.jsx(Hs, {
                                className: "h-4 w-4"
                            }), "API"]
                        }), e.jsxs(Ue, {
                            value: "chatbot",
                            className: "flex items-center gap-2",
                            children: [e.jsx(bO, {
                                className: "h-4 w-4"
                            }), "Chatbot"]
                        }), e.jsxs(Ue, {
                            value: "backups",
                            className: "flex items-center gap-2",
                            children: [e.jsx(TO, {
                                className: "h-4 w-4"
                            }), "Backups"]
                        }), e.jsxs(Ue, {
                            value: "google",
                            className: "flex items-center gap-2",
                            children: [e.jsx(Rj, {
                                className: "h-4 w-4"
                            }), "Google Merchant"]
                        }), e.jsxs(Ue, {
                            value: "reviews",
                            className: "flex items-center gap-2",
                            children: [e.jsx(ai, {
                                className: "h-4 w-4"
                            }), "Google Reviews"]
                        })]
                    }), e.jsx($e, {
                        value: "maintenance",
                        className: "space-y-6",
                        children: e.jsx(U, {
                            children: e.jsxs(q, {
                                className: "p-6",
                                children: [e.jsx("h3", {
                                    className: "text-xl font-montserrat font-semibold mb-4",
                                    children: "Modo Mantenimiento"
                                }), e.jsx("p", {
                                    className: "text-muted-foreground mb-4",
                                    children: "Active el modo mantenimiento cuando necesite realizar actualizaciones importantes en el sitio. La página principal y las páginas públicas mostrarán una pantalla de mantenimiento."
                                }), e.jsx(LW, {})]
                            })
                        })
                    }), e.jsx($e, {
                        value: "api",
                        className: "space-y-6",
                        children: e.jsx(U, {
                            children: e.jsxs(q, {
                                className: "p-6",
                                children: [e.jsx("h3", {
                                    className: "text-xl font-montserrat font-semibold mb-4",
                                    children: "Configuración de API"
                                }), e.jsx("p", {
                                    className: "text-muted-foreground mb-4",
                                    children: "Configure los parámetros de conexión con la API externa de Metasync."
                                }), e.jsx(yW, {
                                    apiConfig: r,
                                    onSuccess: a
                                })]
                            })
                        })
                    }), e.jsx($e, {
                        value: "chatbot",
                        className: "space-y-6",
                        children: e.jsx(U, {
                            children: e.jsxs(q, {
                                className: "p-6",
                                children: [e.jsx("h3", {
                                    className: "text-xl font-montserrat font-semibold mb-4",
                                    children: "Configuración del Chatbot"
                                }), e.jsx("p", {
                                    className: "text-muted-foreground mb-4",
                                    children: "Configure el código de integración del chatbot para atención al cliente."
                                }), e.jsx(OW, {
                                    initialCode: i == null ? void 0 : i.chatbotCode,
                                    onSuccess: l
                                })]
                            })
                        })
                    }), e.jsx($e, {
                        value: "backups",
                        className: "space-y-6",
                        children: e.jsx(U, {
                            children: e.jsxs(q, {
                                className: "p-6",
                                children: [e.jsx("h3", {
                                    className: "text-xl font-montserrat font-semibold mb-4",
                                    children: "Sistema de Backups"
                                }), e.jsx("p", {
                                    className: "text-muted-foreground mb-4",
                                    children: "Cree y gestione backups de su base de datos. Los backups se guardan en el servidor para su seguridad."
                                }), e.jsx($W, {})]
                            })
                        })
                    }), e.jsx($e, {
                        value: "google",
                        className: "space-y-6",
                        children: e.jsx(U, {
                            children: e.jsxs(q, {
                                className: "p-6",
                                children: [e.jsx("h3", {
                                    className: "text-xl font-montserrat font-semibold mb-4",
                                    children: "Google Merchant Center Feed"
                                }), e.jsx("p", {
                                    className: "text-muted-foreground mb-4",
                                    children: "Genere y configure el feed XML para sincronizar sus productos con Google Merchant Center."
                                }), e.jsx(FW, {})]
                            })
                        })
                    }), e.jsx($e, {
                        value: "reviews",
                        className: "space-y-6",
                        children: e.jsx("div", {
                            className: "-m-8",
                            children: e.jsx(zW, {})
                        })
                    }), e.jsxs($e, {
                        value: "diagnostics",
                        className: "space-y-6",
                        children: [e.jsx(U, {
                            children: e.jsxs(q, {
                                className: "p-6",
                                children: [e.jsx("h3", {
                                    className: "text-xl font-montserrat font-semibold mb-4",
                                    children: "Diagnósticos del Sistema"
                                }), e.jsx("p", {
                                    className: "text-muted-foreground mb-4",
                                    children: "Herramientas de diagnóstico y datos en bruto de la API."
                                }), e.jsx(jW, {})]
                            })
                        }), e.jsx(U, {
                            children: e.jsxs(q, {
                                className: "p-6",
                                children: [e.jsx("h3", {
                                    className: "text-xl font-montserrat font-semibold mb-4",
                                    children: "Datos en Bruto"
                                }), e.jsx("p", {
                                    className: "text-muted-foreground mb-4",
                                    children: "Visualización de datos en bruto obtenidos de la API externa."
                                }), e.jsx(RW, {})]
                            })
                        })]
                    })]
                })]
            })]
        })
    },
    UW = 100,
    qW = ({vehicle: t, onSave: s, onCancel: r, isNew: n=!1}) => {
        const [a, i] = h.useState(t),
            [o, l] = h.useState(0),
            c = j => {
                const {name: g, value: x} = j.target;
                i(y => ({
                    ...y,
                    [g]: g === "anyo" || g === "kilometraje" || g === "potencia" ? parseInt(x) || 0 : x
                }))
            },
            d = (j, g) => {
                i(x => ({
                    ...x,
                    [j]: g
                }))
            },
            u = j => {
                j.preventDefault(),
                s(a)
            },
            m = () => {
                a.imagenes && a.imagenes.length > 0 && l(j => j === a.imagenes.length - 1 ? 0 : j + 1)
            },
            p = () => {
                a.imagenes && a.imagenes.length > 0 && l(j => j === 0 ? a.imagenes.length - 1 : j - 1)
            };
        return e.jsxs("form", {
            onSubmit: u,
            className: "space-y-6",
            children: [a.imagenes && a.imagenes.length > 0 && e.jsxs("div", {
                className: "space-y-4",
                children: [e.jsxs("h3", {
                    className: "font-medium flex items-center gap-2",
                    children: [e.jsx(qs, {
                        className: "h-4 w-4"
                    }), "Imágenes del vehículo"]
                }), e.jsxs("div", {
                    className: "relative",
                    children: [e.jsxs("div", {
                        className: "aspect-video bg-gray-100 rounded-lg overflow-hidden",
                        children: [e.jsx("img", {
                            src: a.imagenes[o],
                            alt: `${a.marca} ${a.modelo}`,
                            className: "w-full h-full object-cover",
                            onError: j => {
                                var g;
                                j.currentTarget.style.display = "none",
                                (g = j.currentTarget.nextElementSibling) == null || g.classList.remove("hidden")
                            }
                        }), e.jsx("div", {
                            className: "hidden w-full h-full flex items-center justify-center text-gray-400",
                            children: e.jsxs("div", {
                                className: "text-center",
                                children: [e.jsx(qs, {
                                    className: "h-12 w-12 mx-auto mb-2"
                                }), e.jsx("p", {
                                    children: "Imagen no disponible"
                                })]
                            })
                        })]
                    }), a.imagenes.length > 1 && e.jsxs(e.Fragment, {
                        children: [e.jsx(T, {
                            type: "button",
                            variant: "outline",
                            size: "sm",
                            className: "absolute left-2 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white",
                            onClick: p,
                            children: e.jsx(xi, {
                                className: "h-4 w-4"
                            })
                        }), e.jsx(T, {
                            type: "button",
                            variant: "outline",
                            size: "sm",
                            className: "absolute right-2 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white",
                            onClick: m,
                            children: e.jsx(Ni, {
                                className: "h-4 w-4"
                            })
                        })]
                    }), a.imagenes.length > 1 && e.jsxs("div", {
                        className: "absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black/50 text-white px-2 py-1 rounded text-sm",
                        children: [o + 1, " / ", a.imagenes.length]
                    })]
                }), a.imagenes.length > 1 && e.jsx("div", {
                    className: "flex gap-2 overflow-x-auto pb-2",
                    children: a.imagenes.map((j, g) => e.jsxs("button", {
                        type: "button",
                        onClick: () => l(g),
                        className: `flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden border-2 transition-all ${g === o ? "border-blue-500 ring-2 ring-blue-200" : "border-gray-200 hover:border-gray-300"}`,
                        children: [e.jsx("img", {
                            src: j,
                            alt: `${a.marca} ${a.modelo} - ${g + 1}`,
                            className: "w-full h-full object-cover",
                            onError: x => {
                                var y;
                                x.currentTarget.style.display = "none",
                                (y = x.currentTarget.nextElementSibling) == null || y.classList.remove("hidden")
                            }
                        }), e.jsx("div", {
                            className: "hidden w-full h-full flex items-center justify-center text-gray-400 bg-gray-100",
                            children: e.jsx(qs, {
                                className: "h-4 w-4"
                            })
                        })]
                    }, g))
                })]
            }), e.jsxs("div", {
                className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                children: [e.jsxs("div", {
                    className: "space-y-2",
                    children: [e.jsx(V, {
                        htmlFor: "marca",
                        children: "Marca *"
                    }), e.jsx(te, {
                        id: "marca",
                        name: "marca",
                        value: a.marca || "",
                        onChange: c,
                        required: !0,
                        placeholder: "Ej: BMW, Mercedes, Audi..."
                    })]
                }), e.jsxs("div", {
                    className: "space-y-2",
                    children: [e.jsx(V, {
                        htmlFor: "modelo",
                        children: "Modelo *"
                    }), e.jsx(te, {
                        id: "modelo",
                        name: "modelo",
                        value: a.modelo || "",
                        onChange: c,
                        required: !0,
                        placeholder: "Ej: Serie 3, Clase C, A4..."
                    })]
                }), e.jsxs("div", {
                    className: "space-y-2",
                    children: [e.jsx(V, {
                        htmlFor: "version",
                        children: "Versión"
                    }), e.jsx(te, {
                        id: "version",
                        name: "version",
                        value: a.version || "",
                        onChange: c,
                        placeholder: "Ej: Sport, Comfort, GTI..."
                    })]
                }), e.jsxs("div", {
                    className: "space-y-2",
                    children: [e.jsx(V, {
                        htmlFor: "anyo",
                        children: "Año *"
                    }), e.jsx(te, {
                        id: "anyo",
                        name: "anyo",
                        type: "number",
                        min: "1980",
                        max: "2030",
                        value: a.anyo || "",
                        onChange: c,
                        required: !0,
                        placeholder: "Ej: 2020"
                    })]
                }), e.jsxs("div", {
                    className: "space-y-2",
                    children: [e.jsx(V, {
                        htmlFor: "combustible",
                        children: "Combustible"
                    }), e.jsxs(He, {
                        value: a.combustible || "",
                        onValueChange: j => d("combustible", j),
                        children: [e.jsx(qe, {
                            children: e.jsx(We, {
                                placeholder: "Seleccionar combustible"
                            })
                        }), e.jsxs(Be, {
                            children: [e.jsx(Q, {
                                value: "Gasolina",
                                children: "Gasolina"
                            }), e.jsx(Q, {
                                value: "Diesel",
                                children: "Diesel"
                            }), e.jsx(Q, {
                                value: "Híbrido",
                                children: "Híbrido"
                            }), e.jsx(Q, {
                                value: "Eléctrico",
                                children: "Eléctrico"
                            }), e.jsx(Q, {
                                value: "GLP",
                                children: "GLP"
                            }), e.jsx(Q, {
                                value: "GNC",
                                children: "GNC"
                            })]
                        })]
                    })]
                }), e.jsxs("div", {
                    className: "space-y-2",
                    children: [e.jsx(V, {
                        htmlFor: "matricula",
                        children: "Matrícula"
                    }), e.jsx(te, {
                        id: "matricula",
                        name: "matricula",
                        value: a.matricula || "",
                        onChange: c,
                        placeholder: "Ej: 1234ABC"
                    })]
                }), e.jsxs("div", {
                    className: "space-y-2",
                    children: [e.jsx(V, {
                        htmlFor: "bastidor",
                        children: "Bastidor"
                    }), e.jsx(te, {
                        id: "bastidor",
                        name: "bastidor",
                        value: a.bastidor || "",
                        onChange: c,
                        placeholder: "Número de bastidor"
                    })]
                }), e.jsxs("div", {
                    className: "space-y-2",
                    children: [e.jsx(V, {
                        htmlFor: "color",
                        children: "Color"
                    }), e.jsx(te, {
                        id: "color",
                        name: "color",
                        value: a.color || "",
                        onChange: c,
                        placeholder: "Ej: Azul, Rojo, Blanco..."
                    })]
                }), e.jsxs("div", {
                    className: "space-y-2",
                    children: [e.jsx(V, {
                        htmlFor: "kilometraje",
                        children: "Kilometraje"
                    }), e.jsx(te, {
                        id: "kilometraje",
                        name: "kilometraje",
                        type: "number",
                        min: "0",
                        value: a.kilometraje || "",
                        onChange: c,
                        placeholder: "Km recorridos"
                    })]
                }), e.jsxs("div", {
                    className: "space-y-2",
                    children: [e.jsx(V, {
                        htmlFor: "potencia",
                        children: "Potencia (CV)"
                    }), e.jsx(te, {
                        id: "potencia",
                        name: "potencia",
                        type: "number",
                        min: "0",
                        value: a.potencia || "",
                        onChange: c,
                        placeholder: "Caballos de potencia"
                    })]
                })]
            }), e.jsxs("div", {
                className: "space-y-2",
                children: [e.jsx(V, {
                    htmlFor: "descripcion",
                    children: "Descripción"
                }), e.jsx(Ut, {
                    id: "descripcion",
                    name: "descripcion",
                    value: a.descripcion || "",
                    onChange: c,
                    placeholder: "Descripción detallada del vehículo...",
                    rows: 4
                })]
            }), e.jsxs("div", {
                className: "flex justify-end gap-2 pt-4",
                children: [e.jsx(T, {
                    type: "button",
                    variant: "outline",
                    onClick: r,
                    children: "Cancelar"
                }), e.jsxs(T, {
                    type: "submit",
                    children: [e.jsx(wn, {
                        className: "h-4 w-4 mr-2"
                    }), n ? "Crear vehículo" : "Guardar cambios"]
                })]
            })]
        })
    },
    Cg = () => {
        var $t,
            Zr;
        const [, t] = ut(),
            {toast: s} = st(),
            {user: r} = Ts(),
            [n, a] = h.useState(""),
            [i, o] = h.useState(1),
            [l, c] = h.useState(UW),
            [d, u] = h.useState(null),
            [m, p] = h.useState(!1),
            [j, g] = h.useState(!1),
            [x, y] = h.useState("fechaActualizacion"),
            [v, f] = h.useState("desc"),
            [b, N] = h.useState(""),
            [w, C] = h.useState(""),
            [E, k] = h.useState(""),
            [R, H] = h.useState(!1),
            [z, A] = h.useState(!1),
            [$, G] = h.useState(null),
            [F, _] = h.useState(!1),
            [S, I] = h.useState(null),
            [W, oe] = h.useState(0);
        xp("/admin/vehicles/edit/:id"),
        xp("/admin/vehicles/new"),
        r && !r.isAdmin && t("/");
        const {data: O, isLoading: M, refetch: re} = Te({
                queryKey: ["/api/optimized/vehicles", i, n, b, w, E, x, v, l],
                queryFn: async () => {
                    try {
                        const ve = new URLSearchParams;
                        ve.append("limit", l.toString()),
                        ve.append("offset", ((i - 1) * l).toString()),
                        ve.append("getTotalCount", "true"),
                        n && ve.append("search", n),
                        b && ve.append("marca", b),
                        w && ve.append("combustible", w),
                        E && ve.append("anyo", E),
                        x && ve.append("orden", `${x}_${v}`);
                        const mt = await fetch(`/api/optimized/vehicles?${ve.toString()}`);
                        if (!mt.ok)
                            throw new Error("Error al cargar vehículos");
                        return await mt.json()
                    } catch (ve) {
                        throw console.error("Error en la consulta de vehículos:", ve), ve
                    }
                },
                enabled: !R && !z,
                staleTime: 12e4,
                refetchOnWindowFocus: !1
            }),
            ue = (O == null ? void 0 : O.data) || [],
            Y = (($t = O == null ? void 0 : O.pagination) == null ? void 0 : $t.total) || 0,
            he = Math.ceil(Y / l);
        console.log("🚗 AdminVehicles Data:", {
            vehiclesCount: ue.length,
            totalItems: Y,
            itemsPerPage: l,
            totalPages: he,
            currentPage: i,
            pagination: O == null ? void 0 : O.pagination,
            fullResponse: O
        }),
        O != null && O.pagination && (console.log("📊 Pagination details:", {
            total: O.pagination.total,
            limit: O.pagination.limit,
            offset: O.pagination.offset,
            page: O.pagination.page,
            totalPages: O.pagination.totalPages,
            hasMore: O.pagination.hasMore
        }), O.pagination.total < 1e3 && console.warn("⚠️ Conteo sospechosamente bajo en AdminVehicles:", O.pagination.total));
        const D = nt({
                mutationFn: async ve => {
                    const mt = await fetch("/api/vehicles", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json"
                        },
                        credentials: "include",
                        body: JSON.stringify(ve)
                    });
                    if (!mt.ok)
                        throw new Error("Error al crear vehículo");
                    return mt.json()
                },
                onSuccess: () => {
                    s({
                        title: "Vehículo creado",
                        description: "El vehículo ha sido creado correctamente"
                    }),
                    rn.invalidateQueries({
                        queryKey: ["/api/optimized/vehicles"]
                    }),
                    A(!1),
                    G(null),
                    t("/admin/vehicles")
                },
                onError: ve => {
                    s({
                        title: "Error al crear vehículo",
                        description: "No se pudo crear el vehículo. Intente nuevamente.",
                        variant: "destructive"
                    })
                }
            }),
            K = nt({
                mutationFn: async ({id: ve, data: mt}) => {
                    const Lt = await fetch(`/api/vehicles/${ve}`, {
                        method: "PUT",
                        headers: {
                            "Content-Type": "application/json"
                        },
                        body: JSON.stringify(mt)
                    });
                    if (!Lt.ok)
                        throw new Error("Error al actualizar vehículo");
                    return Lt.json()
                },
                onSuccess: () => {
                    s({
                        title: "Vehículo actualizado",
                        description: "El vehículo ha sido actualizado correctamente"
                    }),
                    rn.invalidateQueries({
                        queryKey: ["/api/optimized/vehicles"]
                    }),
                    H(!1),
                    G(null),
                    t("/admin/vehicles")
                },
                onError: ve => {
                    s({
                        title: "Error al actualizar vehículo",
                        description: "No se pudo actualizar el vehículo. Intente nuevamente.",
                        variant: "destructive"
                    })
                }
            }),
            L = nt({
                mutationFn: async ve => {
                    const mt = await fetch(`/api/vehicles/${ve}`, {
                        method: "DELETE",
                        credentials: "include"
                    });
                    if (!mt.ok)
                        throw new Error("Error al eliminar vehículo");
                    return mt.json()
                },
                onSuccess: () => {
                    s({
                        title: "Vehículo eliminado",
                        description: "El vehículo ha sido eliminado correctamente"
                    }),
                    rn.invalidateQueries({
                        queryKey: ["/api/optimized/vehicles"]
                    }),
                    re()
                },
                onError: ve => {
                    s({
                        title: "Error al eliminar vehículo",
                        description: "No se pudo eliminar el vehículo. Intente nuevamente.",
                        variant: "destructive"
                    })
                }
            }),
            ee = nt({
                mutationFn: async () => {
                    const ve = await fetch("/api/vehicles/delete-all", {
                        method: "DELETE",
                        credentials: "include"
                    });
                    if (!ve.ok)
                        throw new Error("Error al eliminar todos los vehículos");
                    return ve.json()
                },
                onSuccess: () => {
                    s({
                        title: "Todos los vehículos eliminados",
                        description: "Se han eliminado todos los vehículos correctamente"
                    }),
                    rn.invalidateQueries({
                        queryKey: ["/api/optimized/vehicles"]
                    }),
                    re()
                },
                onError: ve => {
                    s({
                        title: "Error al eliminar todos los vehículos",
                        description: "No se pudieron eliminar todos los vehículos. Intente nuevamente.",
                        variant: "destructive"
                    })
                }
            }),
            ce = nt({
                mutationFn: async ve => {
                    const mt = await fetch(`/api/vehicles/${ve}/toggle`, {
                        method: "PATCH",
                        credentials: "include"
                    });
                    if (!mt.ok)
                        throw new Error("Error al cambiar estado del vehículo");
                    return mt.json()
                },
                onSuccess: ve => {
                    s({
                        title: "Estado cambiado",
                        description: ve.message || "El estado del vehículo ha sido cambiado correctamente"
                    }),
                    rn.invalidateQueries({
                        queryKey: ["/api/optimized/vehicles"]
                    }),
                    re()
                },
                onError: ve => {
                    s({
                        title: "Error al cambiar estado",
                        description: "No se pudo cambiar el estado del vehículo. Intente nuevamente.",
                        variant: "destructive"
                    })
                }
            }),
            le = ve => {
                z ? D.mutate(ve) : $ && $.id && K.mutate({
                    id: $.id,
                    data: ve
                })
            },
            Se = () => {
                H(!1),
                A(!1),
                G(null),
                t("/admin/vehicles")
            },
            pe = () => {
                A(!0),
                G(null),
                t("/admin/vehicles/new")
            },
            _e = ve => {
                H(!0),
                G(ve),
                t(`/admin/vehicles/edit/${ve.id}`)
            },
            dt = ve => {
                u(ve),
                p(!0)
            },
            B = () => {
                d && L.mutate(d),
                p(!1),
                u(null)
            },
            De = () => {
                g(!0)
            },
            vt = () => {
                ee.mutate(),
                g(!1)
            },
            At = ve => {
                ce.mutate(ve)
            },
            Mt = ve => {
                I(ve),
                oe(0),
                _(!0)
            },
            P = () => {
                S != null && S.imagenes && S.imagenes.length > 0 && oe(ve => ve === S.imagenes.length - 1 ? 0 : ve + 1)
            },
            X = () => {
                S != null && S.imagenes && S.imagenes.length > 0 && oe(ve => ve === 0 ? S.imagenes.length - 1 : ve - 1)
            },
            ie = ve => {
                ve.preventDefault(),
                o(1),
                re()
            },
            we = ve => {
                x === ve ? f(v === "asc" ? "desc" : "asc") : (y(ve), f("asc")),
                o(1)
            },
            be = ve => {
                c(ve),
                o(1)
            },
            se = Array.from(new Set(ue.map(ve => ve.marca))).sort(),
            je = Array.from(new Set(ue.map(ve => ve.combustible).filter(Boolean))).sort(),
            Ge = (i - 1) * l + 1,
            Pt = Math.min(i * l, Y);
        return e.jsxs("div", {
            className: "flex min-h-screen bg-gray-100",
            children: [e.jsx($s, {
                activeTab: "admin_vehicles"
            }), e.jsxs("div", {
                className: "flex-1 p-8",
                children: [e.jsxs("div", {
                    className: "flex justify-between items-center mb-8",
                    children: [e.jsxs("div", {
                        children: [e.jsxs("h1", {
                            className: "text-3xl font-montserrat font-bold",
                            children: [z ? "Nuevo Vehículo" : R ? "Editar Vehículo" : "Gestión de Vehículos", !z && !R && e.jsxs("span", {
                                className: "text-lg font-normal text-primary ml-2",
                                children: ["(", Y > 0 ? Y.toLocaleString() : "0", " total)"]
                            })]
                        }), e.jsx("p", {
                            className: "text-muted-foreground",
                            children: z ? "Complete los datos del nuevo vehículo" : R ? "Modifique los datos del vehículo y guarde los cambios" : `Gestione todos los vehículos del sistema${Y > 0 ? ` - ${Y.toLocaleString()} vehículos disponibles` : ""}`
                        })]
                    }), e.jsxs(T, {
                        variant: "outline",
                        onClick: () => R || z ? Se() : t("/admin"),
                        children: [e.jsx(xi, {
                            className: "mr-2 h-4 w-4"
                        }), R || z ? "Volver a vehículos" : "Volver al panel"]
                    })]
                }), (R || z) && e.jsxs(U, {
                    children: [e.jsx(ne, {
                        children: e.jsx(ae, {
                            children: z ? "Datos del nuevo vehículo" : "Editar datos del vehículo"
                        })
                    }), e.jsx(q, {
                        children: e.jsx(qW, {
                            vehicle: $ || {},
                            onSave: le,
                            onCancel: Se,
                            isNew: z
                        })
                    })]
                }), !R && !z && e.jsxs(e.Fragment, {
                    children: [e.jsx(U, {
                        className: "mb-8",
                        children: e.jsxs(q, {
                            className: "p-6",
                            children: [e.jsxs("div", {
                                className: "flex flex-col gap-4 mb-6",
                                children: [e.jsxs("div", {
                                    className: "flex flex-col md:flex-row gap-4 justify-between",
                                    children: [e.jsxs("form", {
                                        onSubmit: ie,
                                        className: "flex w-full md:w-1/2 gap-2",
                                        children: [e.jsx(te, {
                                            placeholder: "Buscar por marca, modelo, matrícula...",
                                            value: n,
                                            onChange: ve => a(ve.target.value),
                                            className: "flex-1"
                                        }), e.jsxs(T, {
                                            type: "submit",
                                            children: [e.jsx(Cr, {
                                                className: "h-4 w-4 mr-2"
                                            }), "Buscar"]
                                        })]
                                    }), e.jsxs("div", {
                                        className: "flex gap-2",
                                        children: [e.jsxs(T, {
                                            onClick: pe,
                                            children: [e.jsx(on, {
                                                className: "h-4 w-4 mr-2"
                                            }), "Nuevo vehículo"]
                                        }), e.jsxs(T, {
                                            variant: "destructive",
                                            onClick: De,
                                            children: [e.jsx(nl, {
                                                className: "h-4 w-4 mr-2"
                                            }), "Eliminar todos"]
                                        })]
                                    })]
                                }), e.jsxs("div", {
                                    className: "flex flex-wrap gap-4",
                                    children: [e.jsx("div", {
                                        className: "w-[200px]",
                                        children: e.jsxs(He, {
                                            value: b,
                                            onValueChange: N,
                                            children: [e.jsx(qe, {
                                                children: e.jsx(We, {
                                                    placeholder: "Filtrar por marca"
                                                })
                                            }), e.jsxs(Be, {
                                                children: [e.jsx(Q, {
                                                    value: "",
                                                    children: "Todas las marcas"
                                                }), se.map(ve => e.jsx(Q, {
                                                    value: ve,
                                                    children: ve
                                                }, ve))]
                                            })]
                                        })
                                    }), e.jsx("div", {
                                        className: "w-[200px]",
                                        children: e.jsxs(He, {
                                            value: w,
                                            onValueChange: C,
                                            children: [e.jsx(qe, {
                                                children: e.jsx(We, {
                                                    placeholder: "Filtrar por combustible"
                                                })
                                            }), e.jsxs(Be, {
                                                children: [e.jsx(Q, {
                                                    value: "",
                                                    children: "Todos los combustibles"
                                                }), je.map(ve => e.jsx(Q, {
                                                    value: ve,
                                                    children: ve
                                                }, ve))]
                                            })]
                                        })
                                    }), e.jsx("div", {
                                        className: "w-[150px]",
                                        children: e.jsx(te, {
                                            type: "number",
                                            placeholder: "Año",
                                            value: E,
                                            onChange: ve => k(ve.target.value)
                                        })
                                    }), e.jsx("div", {
                                        className: "w-[180px]",
                                        children: e.jsxs(He, {
                                            value: l.toString(),
                                            onValueChange: ve => be(parseInt(ve)),
                                            children: [e.jsx(qe, {
                                                children: e.jsx(We, {
                                                    placeholder: "Items por página"
                                                })
                                            }), e.jsxs(Be, {
                                                children: [e.jsx(Q, {
                                                    value: "25",
                                                    children: "25 por página"
                                                }), e.jsx(Q, {
                                                    value: "50",
                                                    children: "50 por página"
                                                }), e.jsx(Q, {
                                                    value: "100",
                                                    children: "100 por página"
                                                }), e.jsx(Q, {
                                                    value: "200",
                                                    children: "200 por página"
                                                }), e.jsx(Q, {
                                                    value: "500",
                                                    children: "500 por página"
                                                })]
                                            })]
                                        })
                                    })]
                                })]
                            }), Y > 0 && e.jsx("div", {
                                className: "mb-4 p-3 bg-blue-50 rounded-lg border border-blue-200",
                                children: e.jsxs("div", {
                                    className: "text-sm text-blue-800",
                                    children: [e.jsxs("span", {
                                        className: "font-medium",
                                        children: ["Mostrando ", Ge, "-", Pt, " de ", Y.toLocaleString(), " vehículos totales"]
                                    }), e.jsxs("span", {
                                        className: "ml-4 text-blue-600",
                                        children: ["Página ", i, " de ", he]
                                    }), e.jsxs("span", {
                                        className: "ml-4 text-blue-600",
                                        children: [l, " vehículos por página"]
                                    })]
                                })
                            }), M ? e.jsxs("div", {
                                className: "text-center py-8",
                                children: [e.jsx("div", {
                                    className: "animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"
                                }), e.jsx("p", {
                                    children: "Cargando vehículos..."
                                })]
                            }) : e.jsx("div", {
                                className: "overflow-x-auto",
                                children: e.jsxs(Ws, {
                                    children: [e.jsx(Gs, {
                                        children: e.jsxs(gt, {
                                            children: [e.jsx(ge, {
                                                className: "w-[80px]",
                                                children: "ID"
                                            }), e.jsx(ge, {
                                                onClick: () => we("marca"),
                                                className: "cursor-pointer",
                                                children: e.jsxs("div", {
                                                    className: "flex items-center",
                                                    children: ["Marca", x === "marca" && e.jsx(Oo, {
                                                        className: `ml-2 h-4 w-4 ${v === "desc" ? "rotate-180" : ""}`
                                                    })]
                                                })
                                            }), e.jsx(ge, {
                                                onClick: () => we("modelo"),
                                                className: "cursor-pointer",
                                                children: e.jsxs("div", {
                                                    className: "flex items-center",
                                                    children: ["Modelo", x === "modelo" && e.jsx(Oo, {
                                                        className: `ml-2 h-4 w-4 ${v === "desc" ? "rotate-180" : ""}`
                                                    })]
                                                })
                                            }), e.jsx(ge, {
                                                onClick: () => we("anyo"),
                                                className: "cursor-pointer",
                                                children: e.jsxs("div", {
                                                    className: "flex items-center",
                                                    children: ["Año", x === "anyo" && e.jsx(Oo, {
                                                        className: `ml-2 h-4 w-4 ${v === "desc" ? "rotate-180" : ""}`
                                                    })]
                                                })
                                            }), e.jsx(ge, {
                                                children: "Combustible"
                                            }), e.jsx(ge, {
                                                children: "Matrícula"
                                            }), e.jsx(ge, {
                                                children: "Estado"
                                            }), e.jsx(ge, {
                                                children: "Piezas"
                                            }), e.jsx(ge, {
                                                className: "text-right",
                                                children: "Acciones"
                                            })]
                                        })
                                    }), e.jsx(Ks, {
                                        children: ue.length === 0 ? e.jsx(gt, {
                                            children: e.jsx(xe, {
                                                colSpan: 8,
                                                className: "text-center h-32",
                                                children: M ? "Cargando vehículos..." : "No se encontraron vehículos"
                                            })
                                        }) : ue.map(ve => e.jsxs(gt, {
                                            children: [e.jsx(xe, {
                                                className: "font-medium",
                                                children: ve.idLocal || ve.id
                                            }), e.jsx(xe, {
                                                children: ve.marca
                                            }), e.jsx(xe, {
                                                children: ve.modelo
                                            }), e.jsx(xe, {
                                                children: ve.anyo
                                            }), e.jsx(xe, {
                                                children: ve.combustible && e.jsx(ye, {
                                                    variant: "outline",
                                                    children: ve.combustible
                                                })
                                            }), e.jsx(xe, {
                                                children: ve.matricula || "-"
                                            }), e.jsx(xe, {
                                                children: e.jsx(ye, {
                                                    variant: ve.activo ? "default" : "secondary",
                                                    children: ve.activo ? "Activo" : "Inactivo"
                                                })
                                            }), e.jsx(xe, {
                                                children: e.jsxs("div", {
                                                    className: "flex items-center gap-2",
                                                    children: [e.jsx("span", {
                                                        className: "text-green-600 font-medium",
                                                        children: ve.activeParts || 0
                                                    }), e.jsx("span", {
                                                        children: "/"
                                                    }), e.jsx("span", {
                                                        children: ve.totalParts || 0
                                                    })]
                                                })
                                            }), e.jsx(xe, {
                                                className: "text-right",
                                                children: e.jsxs(Mp, {
                                                    children: [e.jsx(Ip, {
                                                        asChild: !0,
                                                        children: e.jsx(T, {
                                                            variant: "ghost",
                                                            className: "h-8 w-8 p-0",
                                                            children: e.jsx($E, {
                                                                className: "h-4 w-4"
                                                            })
                                                        })
                                                    }), e.jsxs(Eu, {
                                                        align: "end",
                                                        children: [e.jsx(ku, {
                                                            children: "Acciones"
                                                        }), e.jsxs(Zs, {
                                                            onClick: () => Mt(ve),
                                                            children: [e.jsx(bs, {
                                                                className: "h-4 w-4 mr-2"
                                                            }), " Ver detalle"]
                                                        }), e.jsxs(Zs, {
                                                            onClick: () => _e(ve),
                                                            children: [e.jsx(Br, {
                                                                className: "h-4 w-4 mr-2"
                                                            }), " Editar"]
                                                        }), e.jsx(ii, {}), e.jsx(Zs, {
                                                            onClick: () => At(ve.id),
                                                            children: ve.activo ? e.jsxs(e.Fragment, {
                                                                children: [e.jsx(WE, {
                                                                    className: "h-4 w-4 mr-2"
                                                                }), " Desactivar"]
                                                            }) : e.jsxs(e.Fragment, {
                                                                children: [e.jsx(GE, {
                                                                    className: "h-4 w-4 mr-2"
                                                                }), " Activar"]
                                                            })
                                                        }), e.jsx(ii, {}), e.jsxs(Zs, {
                                                            className: "text-destructive",
                                                            onClick: () => dt(ve.id),
                                                            children: [e.jsx(nl, {
                                                                className: "h-4 w-4 mr-2"
                                                            }), " Eliminar"]
                                                        })]
                                                    })]
                                                })
                                            })]
                                        }, ve.id))
                                    })]
                                })
                            })]
                        })
                    }), !M && Y > 0 && he > 1 && e.jsxs("div", {
                        className: "mt-8",
                        children: [e.jsx("div", {
                            className: "flex justify-center mb-4",
                            children: e.jsxs("div", {
                                className: "flex items-center gap-4 text-sm text-muted-foreground bg-gray-50 px-4 py-2 rounded-lg",
                                children: [e.jsxs("span", {
                                    className: "font-medium text-gray-800",
                                    children: ["Total: ", Y.toLocaleString(), " vehículos"]
                                }), e.jsx("span", {
                                    children: "•"
                                }), e.jsxs("span", {
                                    children: ["Página ", i, " de ", he]
                                }), e.jsx("span", {
                                    children: "•"
                                }), e.jsxs("span", {
                                    children: [l, " por página"]
                                })]
                            })
                        }), e.jsx(wm, {
                            children: e.jsxs(Cm, {
                                children: [e.jsx(ps, {
                                    children: e.jsx(Sm, {
                                        onClick: () => o(Math.max(1, i - 1)),
                                        className: i === 1 ? "pointer-events-none opacity-50" : "cursor-pointer"
                                    })
                                }), i > 3 && e.jsxs(e.Fragment, {
                                    children: [e.jsx(ps, {
                                        children: e.jsx(un, {
                                            onClick: () => o(1),
                                            className: "cursor-pointer",
                                            children: "1"
                                        })
                                    }), i > 4 && e.jsx("span", {
                                        className: "px-2",
                                        children: "..."
                                    })]
                                }), Array.from({
                                    length: Math.min(7, he)
                                }, (ve, mt) => {
                                    let Lt;
                                    return he <= 7 || i <= 4 ? Lt = mt + 1 : i >= he - 3 ? Lt = he - 6 + mt : Lt = i - 3 + mt, Lt < 1 || Lt > he || i > 3 && Lt === 1 || i < he - 2 && Lt === he ? null : e.jsx(ps, {
                                        children: e.jsx(un, {
                                            isActive: i === Lt,
                                            onClick: () => o(Lt),
                                            className: "cursor-pointer",
                                            children: Lt
                                        })
                                    }, Lt)
                                }), i < he - 2 && e.jsxs(e.Fragment, {
                                    children: [i < he - 3 && e.jsx("span", {
                                        className: "px-2",
                                        children: "..."
                                    }), e.jsx(ps, {
                                        children: e.jsx(un, {
                                            onClick: () => o(he),
                                            className: "cursor-pointer",
                                            children: he
                                        })
                                    })]
                                }), e.jsx(ps, {
                                    children: e.jsx(Em, {
                                        onClick: () => o(Math.min(he, i + 1)),
                                        className: i === he ? "pointer-events-none opacity-50" : "cursor-pointer"
                                    })
                                })]
                            })
                        }), e.jsxs("div", {
                            className: "flex justify-center mt-4 gap-2",
                            children: [e.jsx(T, {
                                variant: "outline",
                                size: "sm",
                                onClick: () => o(1),
                                disabled: i === 1,
                                children: "Primera"
                            }), e.jsx(T, {
                                variant: "outline",
                                size: "sm",
                                onClick: () => o(he),
                                disabled: i === he,
                                children: "Última"
                            })]
                        })]
                    })]
                }), e.jsx(Ps, {
                    open: F,
                    onOpenChange: _,
                    children: e.jsxs(xs, {
                        className: "max-w-4xl max-h-[80vh] overflow-y-auto",
                        children: [e.jsx(gs, {
                            children: e.jsxs(vs, {
                                className: "flex items-center gap-2",
                                children: [e.jsx(Ss, {
                                    className: "h-5 w-5"
                                }), "Detalles del vehículo"]
                            })
                        }), S && e.jsxs("div", {
                            className: "space-y-6",
                            children: [S.imagenes && S.imagenes.length > 0 && e.jsxs("div", {
                                className: "space-y-4",
                                children: [e.jsxs("h3", {
                                    className: "font-medium flex items-center gap-2",
                                    children: [e.jsx(qs, {
                                        className: "h-4 w-4"
                                    }), "Imágenes del vehículo"]
                                }), e.jsxs("div", {
                                    className: "relative",
                                    children: [e.jsxs("div", {
                                        className: "aspect-video bg-gray-100 rounded-lg overflow-hidden",
                                        children: [e.jsx("img", {
                                            src: S.imagenes[W],
                                            alt: `${S.marca} ${S.modelo}`,
                                            className: "w-full h-full object-cover",
                                            onError: ve => {
                                                var mt;
                                                ve.currentTarget.style.display = "none",
                                                (mt = ve.currentTarget.nextElementSibling) == null || mt.classList.remove("hidden")
                                            }
                                        }), e.jsx("div", {
                                            className: "hidden w-full h-full flex items-center justify-center text-gray-400",
                                            children: e.jsxs("div", {
                                                className: "text-center",
                                                children: [e.jsx(qs, {
                                                    className: "h-12 w-12 mx-auto mb-2"
                                                }), e.jsx("p", {
                                                    children: "Imagen no disponible"
                                                })]
                                            })
                                        })]
                                    }), S.imagenes.length > 1 && e.jsxs(e.Fragment, {
                                        children: [e.jsx(T, {
                                            variant: "outline",
                                            size: "sm",
                                            className: "absolute left-2 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white",
                                            onClick: X,
                                            children: e.jsx(xi, {
                                                className: "h-4 w-4"
                                            })
                                        }), e.jsx(T, {
                                            variant: "outline",
                                            size: "sm",
                                            className: "absolute right-2 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white",
                                            onClick: P,
                                            children: e.jsx(Ni, {
                                                className: "h-4 w-4"
                                            })
                                        })]
                                    }), S.imagenes.length > 1 && e.jsxs("div", {
                                        className: "absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black/50 text-white px-2 py-1 rounded text-sm",
                                        children: [W + 1, " / ", S.imagenes.length]
                                    })]
                                }), S.imagenes.length > 1 && e.jsx("div", {
                                    className: "flex gap-2 overflow-x-auto pb-2",
                                    children: S.imagenes.map((ve, mt) => e.jsxs("button", {
                                        onClick: () => oe(mt),
                                        className: `flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden border-2 transition-all ${mt === W ? "border-blue-500 ring-2 ring-blue-200" : "border-gray-200 hover:border-gray-300"}`,
                                        children: [e.jsx("img", {
                                            src: ve,
                                            alt: `${S.marca} ${S.modelo} - ${mt + 1}`,
                                            className: "w-full h-full object-cover",
                                            onError: Lt => {
                                                var Mn;
                                                Lt.currentTarget.style.display = "none",
                                                (Mn = Lt.currentTarget.nextElementSibling) == null || Mn.classList.remove("hidden")
                                            }
                                        }), e.jsx("div", {
                                            className: "hidden w-full h-full flex items-center justify-center text-gray-400 bg-gray-100",
                                            children: e.jsx(qs, {
                                                className: "h-4 w-4"
                                            })
                                        })]
                                    }, mt))
                                })]
                            }), e.jsxs("div", {
                                className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",
                                children: [e.jsxs("div", {
                                    className: "space-y-2",
                                    children: [e.jsxs("div", {
                                        className: "flex items-center gap-2",
                                        children: [e.jsx(sw, {
                                            className: "h-4 w-4 text-muted-foreground"
                                        }), e.jsx("span", {
                                            className: "font-medium",
                                            children: "ID:"
                                        })]
                                    }), e.jsx("p", {
                                        className: "text-sm text-muted-foreground",
                                        children: S.id
                                    })]
                                }), e.jsxs("div", {
                                    className: "space-y-2",
                                    children: [e.jsxs("div", {
                                        className: "flex items-center gap-2",
                                        children: [e.jsx(Ss, {
                                            className: "h-4 w-4 text-muted-foreground"
                                        }), e.jsx("span", {
                                            className: "font-medium",
                                            children: "Marca:"
                                        })]
                                    }), e.jsx("p", {
                                        className: "text-sm",
                                        children: S.marca
                                    })]
                                }), e.jsxs("div", {
                                    className: "space-y-2",
                                    children: [e.jsxs("div", {
                                        className: "flex items-center gap-2",
                                        children: [e.jsx(Ss, {
                                            className: "h-4 w-4 text-muted-foreground"
                                        }), e.jsx("span", {
                                            className: "font-medium",
                                            children: "Modelo:"
                                        })]
                                    }), e.jsx("p", {
                                        className: "text-sm",
                                        children: S.modelo
                                    })]
                                }), S.version && e.jsxs("div", {
                                    className: "space-y-2",
                                    children: [e.jsxs("div", {
                                        className: "flex items-center gap-2",
                                        children: [e.jsx(Ss, {
                                            className: "h-4 w-4 text-muted-foreground"
                                        }), e.jsx("span", {
                                            className: "font-medium",
                                            children: "Versión:"
                                        })]
                                    }), e.jsx("p", {
                                        className: "text-sm",
                                        children: S.version
                                    })]
                                }), e.jsxs("div", {
                                    className: "space-y-2",
                                    children: [e.jsxs("div", {
                                        className: "flex items-center gap-2",
                                        children: [e.jsx(ur, {
                                            className: "h-4 w-4 text-muted-foreground"
                                        }), e.jsx("span", {
                                            className: "font-medium",
                                            children: "Año:"
                                        })]
                                    }), e.jsx("p", {
                                        className: "text-sm",
                                        children: S.anyo
                                    })]
                                }), S.combustible && e.jsxs("div", {
                                    className: "space-y-2",
                                    children: [e.jsxs("div", {
                                        className: "flex items-center gap-2",
                                        children: [e.jsx(Zd, {
                                            className: "h-4 w-4 text-muted-foreground"
                                        }), e.jsx("span", {
                                            className: "font-medium",
                                            children: "Combustible:"
                                        })]
                                    }), e.jsx(ye, {
                                        variant: "outline",
                                        children: S.combustible
                                    })]
                                }), S.matricula && e.jsxs("div", {
                                    className: "space-y-2",
                                    children: [e.jsxs("div", {
                                        className: "flex items-center gap-2",
                                        children: [e.jsx(uo, {
                                            className: "h-4 w-4 text-muted-foreground"
                                        }), e.jsx("span", {
                                            className: "font-medium",
                                            children: "Matrícula:"
                                        })]
                                    }), e.jsx("p", {
                                        className: "text-sm",
                                        children: S.matricula
                                    })]
                                }), S.bastidor && e.jsxs("div", {
                                    className: "space-y-2",
                                    children: [e.jsxs("div", {
                                        className: "flex items-center gap-2",
                                        children: [e.jsx(sw, {
                                            className: "h-4 w-4 text-muted-foreground"
                                        }), e.jsx("span", {
                                            className: "font-medium",
                                            children: "Bastidor:"
                                        })]
                                    }), e.jsx("p", {
                                        className: "text-sm font-mono",
                                        children: S.bastidor
                                    })]
                                }), S.potencia && e.jsxs("div", {
                                    className: "space-y-2",
                                    children: [e.jsxs("div", {
                                        className: "flex items-center gap-2",
                                        children: [e.jsx(tw, {
                                            className: "h-4 w-4 text-muted-foreground"
                                        }), e.jsx("span", {
                                            className: "font-medium",
                                            children: "Potencia:"
                                        })]
                                    }), e.jsxs("p", {
                                        className: "text-sm",
                                        children: [S.potencia, " CV"]
                                    })]
                                }), S.kilometraje && e.jsxs("div", {
                                    className: "space-y-2",
                                    children: [e.jsxs("div", {
                                        className: "flex items-center gap-2",
                                        children: [e.jsx(tw, {
                                            className: "h-4 w-4 text-muted-foreground"
                                        }), e.jsx("span", {
                                            className: "font-medium",
                                            children: "Kilometraje:"
                                        })]
                                    }), e.jsxs("p", {
                                        className: "text-sm",
                                        children: [(Zr = S.kilometraje) == null ? void 0 : Zr.toLocaleString(), " km"]
                                    })]
                                }), S.color && e.jsxs("div", {
                                    className: "space-y-2",
                                    children: [e.jsxs("div", {
                                        className: "flex items-center gap-2",
                                        children: [e.jsx(Ss, {
                                            className: "h-4 w-4 text-muted-foreground"
                                        }), e.jsx("span", {
                                            className: "font-medium",
                                            children: "Color:"
                                        })]
                                    }), e.jsx("p", {
                                        className: "text-sm",
                                        children: S.color
                                    })]
                                })]
                            }), e.jsxs("div", {
                                className: "bg-muted p-4 rounded-lg",
                                children: [e.jsxs("h3", {
                                    className: "font-medium mb-3 flex items-center gap-2",
                                    children: [e.jsx(Ot, {
                                        className: "h-4 w-4"
                                    }), "Estadísticas de piezas"]
                                }), e.jsxs("div", {
                                    className: "grid grid-cols-2 gap-4",
                                    children: [e.jsxs("div", {
                                        className: "text-center",
                                        children: [e.jsx("div", {
                                            className: "text-2xl font-bold text-green-600",
                                            children: S.activeParts || 0
                                        }), e.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Piezas activas"
                                        })]
                                    }), e.jsxs("div", {
                                        className: "text-center",
                                        children: [e.jsx("div", {
                                            className: "text-2xl font-bold text-blue-600",
                                            children: S.totalParts || 0
                                        }), e.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Total piezas"
                                        })]
                                    })]
                                })]
                            }), S.descripcion && e.jsxs("div", {
                                className: "space-y-2",
                                children: [e.jsx("h3", {
                                    className: "font-medium",
                                    children: "Descripción:"
                                }), e.jsx("p", {
                                    className: "text-sm text-muted-foreground bg-muted p-3 rounded-lg",
                                    children: S.descripcion
                                })]
                            }), e.jsxs("div", {
                                className: "grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-muted-foreground",
                                children: [e.jsxs("div", {
                                    children: [e.jsx("span", {
                                        className: "font-medium",
                                        children: "Creado:"
                                    }), " ", new Date(S.fechaCreacion).toLocaleDateString("es-ES")]
                                }), e.jsxs("div", {
                                    children: [e.jsx("span", {
                                        className: "font-medium",
                                        children: "Actualizado:"
                                    }), " ", new Date(S.fechaActualizacion).toLocaleDateString("es-ES")]
                                })]
                            })]
                        }), e.jsx(Hr, {
                            children: e.jsx(T, {
                                variant: "outline",
                                onClick: () => _(!1),
                                children: "Cerrar"
                            })
                        })]
                    })
                }), e.jsx(Ps, {
                    open: m,
                    onOpenChange: p,
                    children: e.jsxs(xs, {
                        children: [e.jsxs(gs, {
                            children: [e.jsx(vs, {
                                children: "Confirmar eliminación"
                            }), e.jsx(Sr, {
                                children: "¿Está seguro que desea eliminar este vehículo? Esta acción no se puede deshacer y eliminará también todas las piezas asociadas."
                            })]
                        }), e.jsxs(Hr, {
                            children: [e.jsx(T, {
                                variant: "outline",
                                onClick: () => p(!1),
                                children: "Cancelar"
                            }), e.jsx(T, {
                                variant: "destructive",
                                onClick: B,
                                children: "Eliminar"
                            })]
                        })]
                    })
                }), e.jsx(Ps, {
                    open: j,
                    onOpenChange: g,
                    children: e.jsxs(xs, {
                        children: [e.jsxs(gs, {
                            children: [e.jsx(vs, {
                                children: "Confirmar eliminación masiva"
                            }), e.jsx(Sr, {
                                children: "¿Está seguro que desea eliminar TODOS los vehículos? Esta acción eliminará permanentemente todos los vehículos del sistema y todas las piezas asociadas. Esta acción no se puede deshacer."
                            })]
                        }), e.jsxs(Hr, {
                            children: [e.jsx(T, {
                                variant: "outline",
                                onClick: () => g(!1),
                                children: "Cancelar"
                            }), e.jsx(T, {
                                variant: "destructive",
                                onClick: vt,
                                children: "Eliminar todos los vehículos"
                            })]
                        })]
                    })
                })]
            })]
        })
    },
    Ed = 15,
    Jp = t => t.idVehiculo < 0 ? {
        type: "processed",
        label: "Vehículo Procesado",
        variant: "secondary",
        description: "Pieza de vehículo procesado (sin vehículo físico asociado)"
    } : {
        type: "associated",
        label: "Vehículo Asociado",
        variant: "default",
        description: "Pieza con vehículo físico asociado"
    },
    BW = ({part: t, onSave: s, onCancel: r, isNew: n=!1}) => {
        var x;
        const [a, i] = h.useState(t),
            [o, l] = h.useState(0),
            {data: c} = Te({
                queryKey: ["/api/optimized/vehicles", "all"],
                queryFn: async () => (await fetch("/api/optimized/vehicles?limit=1000")).json()
            }),
            d = (c == null ? void 0 : c.data) || [],
            u = y => {
                const {name: v, value: f} = y.target;
                i(b => ({
                    ...b,
                    [v]: v === "refLocal" || v === "anyoStock" || v === "peso" || v === "precio" || v === "idVehiculo" ? parseInt(f) || 0 : f
                }))
            },
            m = (y, v) => {
                i(f => ({
                    ...f,
                    [y]: parseInt(v)
                }))
            },
            p = y => {
                y.preventDefault(),
                s(a)
            },
            j = () => {
                a.imagenes && a.imagenes.length > 0 && l(y => y === a.imagenes.length - 1 ? 0 : y + 1)
            },
            g = () => {
                a.imagenes && a.imagenes.length > 0 && l(y => y === 0 ? a.imagenes.length - 1 : y - 1)
            };
        return e.jsxs("form", {
            onSubmit: p,
            className: "space-y-6",
            children: [a.imagenes && a.imagenes.length > 0 && e.jsxs("div", {
                className: "space-y-4",
                children: [e.jsxs("h3", {
                    className: "font-medium flex items-center gap-2",
                    children: [e.jsx(qs, {
                        className: "h-4 w-4"
                    }), "Imágenes de la pieza"]
                }), e.jsxs("div", {
                    className: "relative",
                    children: [e.jsxs("div", {
                        className: "aspect-video bg-gray-100 rounded-lg overflow-hidden",
                        children: [e.jsx("img", {
                            src: a.imagenes[o],
                            alt: `${a.descripcionArticulo}`,
                            className: "w-full h-full object-cover",
                            onError: y => {
                                var v;
                                y.currentTarget.style.display = "none",
                                (v = y.currentTarget.nextElementSibling) == null || v.classList.remove("hidden")
                            }
                        }), e.jsx("div", {
                            className: "hidden w-full h-full flex items-center justify-center text-gray-400",
                            children: e.jsxs("div", {
                                className: "text-center",
                                children: [e.jsx(qs, {
                                    className: "h-12 w-12 mx-auto mb-2"
                                }), e.jsx("p", {
                                    children: "Imagen no disponible"
                                })]
                            })
                        })]
                    }), a.imagenes.length > 1 && e.jsxs(e.Fragment, {
                        children: [e.jsx(T, {
                            type: "button",
                            variant: "outline",
                            size: "sm",
                            className: "absolute left-2 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white",
                            onClick: g,
                            children: e.jsx(xi, {
                                className: "h-4 w-4"
                            })
                        }), e.jsx(T, {
                            type: "button",
                            variant: "outline",
                            size: "sm",
                            className: "absolute right-2 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white",
                            onClick: j,
                            children: e.jsx(Ni, {
                                className: "h-4 w-4"
                            })
                        })]
                    }), a.imagenes.length > 1 && e.jsxs("div", {
                        className: "absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black/50 text-white px-2 py-1 rounded text-sm",
                        children: [o + 1, " / ", a.imagenes.length]
                    })]
                }), a.imagenes.length > 1 && e.jsx("div", {
                    className: "flex gap-2 overflow-x-auto pb-2",
                    children: a.imagenes.map((y, v) => e.jsxs("button", {
                        type: "button",
                        onClick: () => l(v),
                        className: `flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden border-2 transition-all ${v === o ? "border-blue-500 ring-2 ring-blue-200" : "border-gray-200 hover:border-gray-300"}`,
                        children: [e.jsx("img", {
                            src: y,
                            alt: `${a.descripcionArticulo} - ${v + 1}`,
                            className: "w-full h-full object-cover",
                            onError: f => {
                                var b;
                                f.currentTarget.style.display = "none",
                                (b = f.currentTarget.nextElementSibling) == null || b.classList.remove("hidden")
                            }
                        }), e.jsx("div", {
                            className: "hidden w-full h-full flex items-center justify-center text-gray-400 bg-gray-100",
                            children: e.jsx(qs, {
                                className: "h-4 w-4"
                            })
                        })]
                    }, v))
                })]
            }), e.jsxs("div", {
                className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                children: [e.jsxs("div", {
                    className: "space-y-2",
                    children: [e.jsx(V, {
                        htmlFor: "refLocal",
                        children: "Referencia local *"
                    }), e.jsx(te, {
                        id: "refLocal",
                        name: "refLocal",
                        type: "number",
                        value: a.refLocal || "",
                        onChange: u,
                        required: !0,
                        placeholder: "Número de referencia"
                    })]
                }), e.jsxs("div", {
                    className: "space-y-2",
                    children: [e.jsx(V, {
                        htmlFor: "idVehiculo",
                        children: "Vehículo *"
                    }), e.jsxs(He, {
                        value: ((x = a.idVehiculo) == null ? void 0 : x.toString()) || "",
                        onValueChange: y => m("idVehiculo", y),
                        children: [e.jsx(qe, {
                            children: e.jsx(We, {
                                placeholder: "Seleccionar vehículo"
                            })
                        }), e.jsx(Be, {
                            children: d.map(y => e.jsxs(Q, {
                                value: y.id.toString(),
                                children: [y.marca, " ", y.modelo, " (", y.anyo, ")"]
                            }, y.id))
                        })]
                    })]
                }), e.jsxs("div", {
                    className: "space-y-2",
                    children: [e.jsx(V, {
                        htmlFor: "codFamilia",
                        children: "Código de familia *"
                    }), e.jsx(te, {
                        id: "codFamilia",
                        name: "codFamilia",
                        value: a.codFamilia || "",
                        onChange: u,
                        required: !0,
                        placeholder: "Ej: 001, 002, 003..."
                    })]
                }), e.jsxs("div", {
                    className: "space-y-2",
                    children: [e.jsx(V, {
                        htmlFor: "descripcionFamilia",
                        children: "Descripción de familia *"
                    }), e.jsx(te, {
                        id: "descripcionFamilia",
                        name: "descripcionFamilia",
                        value: a.descripcionFamilia || "",
                        onChange: u,
                        required: !0,
                        placeholder: "Ej: MOTOR, CARROCERÍA, ELECTRICIDAD..."
                    })]
                }), e.jsxs("div", {
                    className: "space-y-2",
                    children: [e.jsx(V, {
                        htmlFor: "codArticulo",
                        children: "Código de artículo"
                    }), e.jsx(te, {
                        id: "codArticulo",
                        name: "codArticulo",
                        value: a.codArticulo || "",
                        onChange: u,
                        placeholder: "Código del artículo"
                    })]
                }), e.jsxs("div", {
                    className: "space-y-2",
                    children: [e.jsx(V, {
                        htmlFor: "refPrincipal",
                        children: "Referencia principal"
                    }), e.jsx(te, {
                        id: "refPrincipal",
                        name: "refPrincipal",
                        value: a.refPrincipal || "",
                        onChange: u,
                        placeholder: "Referencia del fabricante"
                    })]
                }), e.jsxs("div", {
                    className: "space-y-2",
                    children: [e.jsx(V, {
                        htmlFor: "precio",
                        children: "Precio (€) *"
                    }), e.jsx(te, {
                        id: "precio",
                        name: "precio",
                        type: "number",
                        step: "0.01",
                        min: "0",
                        value: a.precio || "",
                        onChange: u,
                        required: !0,
                        placeholder: "0.00"
                    })]
                }), e.jsxs("div", {
                    className: "space-y-2",
                    children: [e.jsx(V, {
                        htmlFor: "anyoStock",
                        children: "Año de stock"
                    }), e.jsx(te, {
                        id: "anyoStock",
                        name: "anyoStock",
                        type: "number",
                        min: "1980",
                        max: "2030",
                        value: a.anyoStock || "",
                        onChange: u,
                        placeholder: "Año de entrada en stock"
                    })]
                }), e.jsxs("div", {
                    className: "space-y-2",
                    children: [e.jsx(V, {
                        htmlFor: "peso",
                        children: "Peso (gramos)"
                    }), e.jsx(te, {
                        id: "peso",
                        name: "peso",
                        type: "number",
                        min: "0",
                        value: a.peso || "",
                        onChange: u,
                        placeholder: "Peso en gramos"
                    })]
                }), e.jsxs("div", {
                    className: "space-y-2",
                    children: [e.jsx(V, {
                        htmlFor: "ubicacion",
                        children: "Ubicación"
                    }), e.jsx(te, {
                        id: "ubicacion",
                        name: "ubicacion",
                        value: a.ubicacion || "",
                        onChange: u,
                        placeholder: "Ubicación en almacén"
                    })]
                })]
            }), e.jsxs("div", {
                className: "space-y-2",
                children: [e.jsx(V, {
                    htmlFor: "descripcionArticulo",
                    children: "Descripción del artículo *"
                }), e.jsx(te, {
                    id: "descripcionArticulo",
                    name: "descripcionArticulo",
                    value: a.descripcionArticulo || "",
                    onChange: u,
                    required: !0,
                    placeholder: "Descripción detallada del artículo"
                })]
            }), e.jsxs("div", {
                className: "space-y-2",
                children: [e.jsx(V, {
                    htmlFor: "observaciones",
                    children: "Observaciones"
                }), e.jsx(Ut, {
                    id: "observaciones",
                    name: "observaciones",
                    value: a.observaciones || "",
                    onChange: u,
                    placeholder: "Observaciones adicionales sobre la pieza...",
                    rows: 4
                })]
            }), e.jsxs("div", {
                className: "flex justify-end gap-2 pt-4",
                children: [e.jsx(T, {
                    type: "button",
                    variant: "outline",
                    onClick: r,
                    children: "Cancelar"
                }), e.jsxs(T, {
                    type: "submit",
                    children: [e.jsx(wn, {
                        className: "h-4 w-4 mr-2"
                    }), n ? "Crear pieza" : "Guardar cambios"]
                })]
            })]
        })
    },
    HW = ({part: t, onClose: s}) => e.jsxs("div", {
        className: "space-y-6",
        children: [e.jsxs("div", {
            className: "grid grid-cols-1 md:grid-cols-2 gap-6",
            children: [e.jsxs("div", {
                children: [e.jsx("h3", {
                    className: "text-lg font-semibold mb-3",
                    children: "Información general"
                }), e.jsxs("div", {
                    className: "space-y-2",
                    children: [e.jsxs("div", {
                        className: "flex justify-between border-b pb-1",
                        children: [e.jsx("span", {
                            className: "font-medium",
                            children: "Referencia local:"
                        }), e.jsx("span", {
                            children: t.refLocal
                        })]
                    }), e.jsxs("div", {
                        className: "flex justify-between border-b pb-1",
                        children: [e.jsx("span", {
                            className: "font-medium",
                            children: "Familia:"
                        }), e.jsx("span", {
                            children: t.descripcionFamilia
                        })]
                    }), e.jsxs("div", {
                        className: "flex justify-between border-b pb-1",
                        children: [e.jsx("span", {
                            className: "font-medium",
                            children: "Artículo:"
                        }), e.jsx("span", {
                            children: t.descripcionArticulo
                        })]
                    }), e.jsxs("div", {
                        className: "flex justify-between border-b pb-1",
                        children: [e.jsx("span", {
                            className: "font-medium",
                            children: "Precio:"
                        }), e.jsx("span", {
                            className: "font-semibold text-green-600",
                            children: jt(t.precio)
                        })]
                    }), e.jsxs("div", {
                        className: "flex justify-between border-b pb-1",
                        children: [e.jsx("span", {
                            className: "font-medium",
                            children: "Clasificación:"
                        }), e.jsx(ye, {
                            variant: Jp(t).variant,
                            children: Jp(t).label
                        })]
                    }), e.jsxs("div", {
                        className: "flex justify-between border-b pb-1",
                        children: [e.jsx("span", {
                            className: "font-medium",
                            children: "Estado:"
                        }), e.jsx(ye, {
                            variant: t.activo ? "default" : "destructive",
                            children: t.activo ? "Activada" : "Desactivada"
                        })]
                    })]
                })]
            }), e.jsxs("div", {
                children: [e.jsx("h3", {
                    className: "text-lg font-semibold mb-3",
                    children: "Detalles adicionales"
                }), e.jsxs("div", {
                    className: "space-y-2",
                    children: [e.jsxs("div", {
                        className: "flex justify-between border-b pb-1",
                        children: [e.jsx("span", {
                            className: "font-medium",
                            children: "Código familia:"
                        }), e.jsx("span", {
                            children: t.codFamilia
                        })]
                    }), e.jsxs("div", {
                        className: "flex justify-between border-b pb-1",
                        children: [e.jsx("span", {
                            className: "font-medium",
                            children: "Código artículo:"
                        }), e.jsx("span", {
                            children: t.codArticulo || "-"
                        })]
                    }), e.jsxs("div", {
                        className: "flex justify-between border-b pb-1",
                        children: [e.jsx("span", {
                            className: "font-medium",
                            children: "Ref. principal:"
                        }), e.jsx("span", {
                            children: t.refPrincipal || "-"
                        })]
                    }), e.jsxs("div", {
                        className: "flex justify-between border-b pb-1",
                        children: [e.jsx("span", {
                            className: "font-medium",
                            children: "Peso:"
                        }), e.jsx("span", {
                            children: t.peso ? `${t.peso}g` : "-"
                        })]
                    }), e.jsxs("div", {
                        className: "flex justify-between border-b pb-1",
                        children: [e.jsx("span", {
                            className: "font-medium",
                            children: "Ubicación:"
                        }), e.jsx("span", {
                            children: t.ubicacion || "-"
                        })]
                    })]
                })]
            })]
        }), e.jsxs("div", {
            children: [e.jsx("h3", {
                className: "text-lg font-semibold mb-3",
                children: "Vehículo asociado"
            }), e.jsx("div", {
                className: "bg-muted/30 p-3 rounded-md",
                children: t.vehicleMarca && t.vehicleModelo ? e.jsxs("span", {
                    children: [t.vehicleMarca, " ", t.vehicleModelo, " (", t.vehicleAnyo, ")"]
                }) : e.jsxs("span", {
                    children: ["ID Vehículo: ", t.idVehiculo]
                })
            })]
        }), t.observaciones && e.jsxs("div", {
            children: [e.jsx("h3", {
                className: "text-lg font-semibold mb-3",
                children: "Observaciones"
            }), e.jsx("div", {
                className: "border p-3 rounded-md bg-muted/30 min-h-[60px]",
                children: t.observaciones
            })]
        }), t.imagenes && t.imagenes.length > 0 && e.jsxs("div", {
            children: [e.jsxs("h3", {
                className: "text-lg font-semibold mb-3",
                children: ["Imágenes (", t.imagenes.length, ")"]
            }), e.jsx("div", {
                className: "grid grid-cols-2 sm:grid-cols-3 gap-2",
                children: t.imagenes.slice(0, 6).map((r, n) => e.jsx("div", {
                    className: "relative aspect-square",
                    children: e.jsx("img", {
                        src: r,
                        alt: `Imagen ${n + 1} de ${t.descripcionArticulo}`,
                        className: "rounded-md object-cover w-full h-full"
                    })
                }, n))
            })]
        })]
    }),
    Sg = () => {
        var we,
            be;
        const [, t] = ut(),
            {toast: s} = st(),
            {user: r} = Ts(),
            [n, a] = h.useState(""),
            [i, o] = h.useState(1),
            [l, c] = h.useState(null),
            [d, u] = h.useState(!1),
            [m, p] = h.useState(!1),
            [j, g] = h.useState("fechaActualizacion"),
            [x, y] = h.useState("desc"),
            [v, f] = h.useState(""),
            [b, N] = h.useState("all"),
            [w, C] = h.useState("all"),
            [E, k] = h.useState({
                min: "",
                max: ""
            }),
            [R, H] = h.useState(!1),
            [z, A] = h.useState(!1),
            [$, G] = h.useState(null),
            [F, _] = h.useState(!1),
            [S, I] = h.useState(null);
        xp("/admin/parts/edit/:id"),
        xp("/admin/parts/new"),
        r && !r.isAdmin && t("/");
        const {data: W, isLoading: oe, refetch: O} = Te({
                queryKey: ["/api/search-parts", i, n, v, b, w, E, j, x],
                queryFn: async () => {
                    try {
                        let se = `/api/search-parts?limit=${Ed}&offset=${(i - 1) * Ed}&isAdmin=true&getTotalCount=true`;
                        n && (se += `&q=${encodeURIComponent(n)}`),
                        v && (se += `&familia=${encodeURIComponent(v)}`),
                        b !== "all" && (se += `&activo=${b === "active"}`),
                        w !== "all" && (w === "processed" ? se += "&vehicleType=processed" : w === "associated" && (se += "&vehicleType=associated")),
                        E.min && (se += `&precioMin=${E.min}`),
                        E.max && (se += `&precioMax=${E.max}`),
                        j && (se += `&orden=${j}_${x}`),
                        console.log("Admin parts query URL:", se);
                        const je = await fetch(se, {
                            credentials: "include"
                        });
                        if (!je.ok)
                            throw new Error("Error al cargar piezas");
                        const Ge = await je.json();
                        return console.log("Admin parts response:", Ge), Ge
                    } catch (se) {
                        throw console.error("Error en la consulta de piezas:", se), se
                    }
                },
                enabled: !R && !z
            }),
            {data: M} = Te({
                queryKey: ["/api/optimized/parts/families"],
                queryFn: async () => (await fetch("/api/optimized/parts/families")).json()
            }),
            re = (W == null ? void 0 : W.data) || [],
            ue = ((we = W == null ? void 0 : W.pagination) == null ? void 0 : we.total) || 0,
            Y = ((be = W == null ? void 0 : W.pagination) == null ? void 0 : be.filtered) || ue,
            he = Math.ceil(Y / Ed),
            D = M || [],
            K = nt({
                mutationFn: async se => {
                    const je = await fetch("/api/parts", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json"
                        },
                        credentials: "include",
                        body: JSON.stringify(se)
                    });
                    if (!je.ok)
                        throw new Error("Error al crear pieza");
                    return je.json()
                },
                onSuccess: () => {
                    s({
                        title: "Pieza creada",
                        description: "La pieza ha sido creada correctamente"
                    }),
                    rn.invalidateQueries({
                        queryKey: ["/api/search-parts"]
                    }),
                    A(!1),
                    G(null),
                    t("/admin/parts")
                },
                onError: se => {
                    s({
                        title: "Error al crear pieza",
                        description: "No se pudo crear la pieza. Intente nuevamente.",
                        variant: "destructive"
                    })
                }
            }),
            L = nt({
                mutationFn: async ({id: se, data: je}) => {
                    const Ge = await fetch(`/api/parts/${se}`, {
                        method: "PUT",
                        headers: {
                            "Content-Type": "application/json"
                        },
                        credentials: "include",
                        body: JSON.stringify(je)
                    });
                    if (!Ge.ok)
                        throw new Error("Error al actualizar pieza");
                    return Ge.json()
                },
                onSuccess: () => {
                    s({
                        title: "Pieza actualizada",
                        description: "La pieza ha sido actualizada correctamente"
                    }),
                    rn.invalidateQueries({
                        queryKey: ["/api/search-parts"]
                    }),
                    H(!1),
                    G(null),
                    t("/admin/parts")
                },
                onError: se => {
                    s({
                        title: "Error al actualizar pieza",
                        description: "No se pudo actualizar la pieza. Intente nuevamente.",
                        variant: "destructive"
                    })
                }
            }),
            ee = nt({
                mutationFn: async se => {
                    const je = await fetch(`/api/parts/${se}`, {
                        method: "DELETE",
                        credentials: "include"
                    });
                    if (!je.ok)
                        throw new Error("Error al eliminar pieza");
                    return je.json()
                },
                onSuccess: () => {
                    s({
                        title: "Pieza eliminada",
                        description: "La pieza ha sido eliminada correctamente"
                    }),
                    rn.invalidateQueries({
                        queryKey: ["/api/search-parts"]
                    }),
                    O()
                },
                onError: se => {
                    s({
                        title: "Error al eliminar pieza",
                        description: "No se pudo eliminar la pieza. Intente nuevamente.",
                        variant: "destructive"
                    })
                }
            }),
            ce = nt({
                mutationFn: async () => {
                    const se = await fetch("/api/parts/delete-all", {
                        method: "DELETE",
                        credentials: "include"
                    });
                    if (!se.ok)
                        throw new Error("Error al eliminar todas las piezas");
                    return se.json()
                },
                onSuccess: () => {
                    s({
                        title: "Todas las piezas eliminadas",
                        description: "Se han eliminado todas las piezas correctamente"
                    }),
                    rn.invalidateQueries({
                        queryKey: ["/api/search-parts"]
                    }),
                    O()
                },
                onError: se => {
                    s({
                        title: "Error al eliminar todas las piezas",
                        description: "No se pudieron eliminar todas las piezas. Intente nuevamente.",
                        variant: "destructive"
                    })
                }
            }),
            le = nt({
                mutationFn: async se => {
                    const je = await fetch(`/api/parts/${se}/toggle`, {
                        method: "PATCH",
                        credentials: "include"
                    });
                    if (!je.ok)
                        throw new Error("Error al cambiar estado de la pieza");
                    return je.json()
                },
                onSuccess: se => {
                    s({
                        title: "Estado cambiado",
                        description: se.message || "El estado de la pieza ha sido cambiado correctamente"
                    }),
                    rn.invalidateQueries({
                        queryKey: ["/api/search-parts"]
                    }),
                    O()
                },
                onError: se => {
                    s({
                        title: "Error al cambiar estado",
                        description: "No se pudo cambiar el estado de la pieza. Intente nuevamente.",
                        variant: "destructive"
                    })
                }
            }),
            Se = se => {
                z ? K.mutate(se) : $ && $.id && L.mutate({
                    id: $.id,
                    data: se
                })
            },
            pe = () => {
                H(!1),
                A(!1),
                G(null),
                t("/admin/parts")
            },
            _e = () => {
                A(!0),
                G(null),
                t("/admin/parts/new")
            },
            dt = se => {
                H(!0),
                G(se),
                t(`/admin/parts/edit/${se.id}`)
            },
            B = async se => {
                I(se),
                _(!0)
            },
            De = se => {
                c(se),
                u(!0)
            },
            vt = () => {
                l && ee.mutate(l),
                u(!1),
                c(null)
            },
            At = () => {
                p(!0)
            },
            Mt = () => {
                ce.mutate(),
                p(!1)
            },
            P = se => {
                le.mutate(se)
            },
            X = se => {
                se.preventDefault(),
                o(1),
                O()
            },
            ie = se => {
                j === se ? y(x === "asc" ? "desc" : "asc") : (g(se), y("asc")),
                o(1)
            };
        return e.jsxs("div", {
            className: "flex min-h-screen bg-gray-100",
            children: [e.jsx($s, {
                activeTab: "admin_parts"
            }), e.jsxs("div", {
                className: "flex-1 p-8",
                children: [e.jsxs("div", {
                    className: "flex justify-between items-center mb-8",
                    children: [e.jsxs("div", {
                        children: [e.jsx("h1", {
                            className: "text-3xl font-montserrat font-bold",
                            children: z ? "Nueva Pieza" : R ? "Editar Pieza" : "Gestión de Piezas"
                        }), e.jsx("p", {
                            className: "text-muted-foreground",
                            children: z ? "Complete los datos de la nueva pieza" : R ? "Modifique los datos de la pieza y guarde los cambios" : "Gestione todas las piezas del sistema"
                        })]
                    }), e.jsxs(T, {
                        variant: "outline",
                        onClick: () => R || z ? pe() : t("/admin"),
                        children: [e.jsx(xi, {
                            className: "mr-2 h-4 w-4"
                        }), R || z ? "Volver a piezas" : "Volver al panel"]
                    })]
                }), (R || z) && e.jsxs(U, {
                    children: [e.jsx(ne, {
                        children: e.jsx(ae, {
                            children: z ? "Datos de la nueva pieza" : "Editar datos de la pieza"
                        })
                    }), e.jsx(q, {
                        children: e.jsx(BW, {
                            part: $ || {},
                            onSave: Se,
                            onCancel: pe,
                            isNew: z
                        })
                    })]
                }), !R && !z && e.jsxs(e.Fragment, {
                    children: [e.jsx(U, {
                        className: "mb-8",
                        children: e.jsxs(q, {
                            className: "p-6",
                            children: [e.jsxs("div", {
                                className: "flex flex-col gap-4 mb-6",
                                children: [e.jsxs("div", {
                                    className: "flex flex-col md:flex-row gap-4 justify-between",
                                    children: [e.jsxs("form", {
                                        onSubmit: X,
                                        className: "flex w-full md:w-1/2 gap-2",
                                        children: [e.jsx(te, {
                                            placeholder: "Buscar por referencia, artículo, familia...",
                                            value: n,
                                            onChange: se => a(se.target.value),
                                            className: "flex-1"
                                        }), e.jsxs(T, {
                                            type: "submit",
                                            children: [e.jsx(Cr, {
                                                className: "h-4 w-4 mr-2"
                                            }), "Buscar"]
                                        })]
                                    }), e.jsxs("div", {
                                        className: "flex gap-2",
                                        children: [e.jsxs(T, {
                                            onClick: _e,
                                            children: [e.jsx(on, {
                                                className: "h-4 w-4 mr-2"
                                            }), "Nueva pieza"]
                                        }), e.jsxs(T, {
                                            variant: "destructive",
                                            onClick: At,
                                            children: [e.jsx(nl, {
                                                className: "h-4 w-4 mr-2"
                                            }), "Eliminar todas"]
                                        })]
                                    })]
                                }), e.jsxs("div", {
                                    className: "flex flex-wrap gap-4",
                                    children: [e.jsx("div", {
                                        className: "w-[200px]",
                                        children: e.jsxs(He, {
                                            value: v,
                                            onValueChange: f,
                                            children: [e.jsx(qe, {
                                                children: e.jsx(We, {
                                                    placeholder: "Filtrar por familia"
                                                })
                                            }), e.jsxs(Be, {
                                                children: [e.jsx(Q, {
                                                    value: "",
                                                    children: "Todas las familias"
                                                }), D.map(se => e.jsx(Q, {
                                                    value: se,
                                                    children: se
                                                }, se))]
                                            })]
                                        })
                                    }), e.jsx("div", {
                                        className: "w-[180px]",
                                        children: e.jsxs(He, {
                                            value: b,
                                            onValueChange: N,
                                            children: [e.jsx(qe, {
                                                children: e.jsx(We, {
                                                    placeholder: "Estado"
                                                })
                                            }), e.jsxs(Be, {
                                                children: [e.jsx(Q, {
                                                    value: "all",
                                                    children: "Todas las piezas"
                                                }), e.jsx(Q, {
                                                    value: "active",
                                                    children: "Activadas"
                                                }), e.jsx(Q, {
                                                    value: "inactive",
                                                    children: "Desactivadas"
                                                })]
                                            })]
                                        })
                                    }), e.jsx("div", {
                                        className: "w-[200px]",
                                        children: e.jsxs(He, {
                                            value: w,
                                            onValueChange: C,
                                            children: [e.jsx(qe, {
                                                children: e.jsx(We, {
                                                    placeholder: "Clasificación"
                                                })
                                            }), e.jsxs(Be, {
                                                children: [e.jsx(Q, {
                                                    value: "all",
                                                    children: "Todas las clasificaciones"
                                                }), e.jsx(Q, {
                                                    value: "associated",
                                                    children: "Vehículo Asociado"
                                                }), e.jsx(Q, {
                                                    value: "processed",
                                                    children: "Vehículo Procesado"
                                                })]
                                            })]
                                        })
                                    }), e.jsxs("div", {
                                        className: "flex gap-2",
                                        children: [e.jsx(te, {
                                            type: "number",
                                            placeholder: "Precio mín",
                                            value: E.min,
                                            onChange: se => k(je => ({
                                                ...je,
                                                min: se.target.value
                                            })),
                                            className: "w-[120px]"
                                        }), e.jsx(te, {
                                            type: "number",
                                            placeholder: "Precio máx",
                                            value: E.max,
                                            onChange: se => k(je => ({
                                                ...je,
                                                max: se.target.value
                                            })),
                                            className: "w-[120px]"
                                        })]
                                    })]
                                })]
                            }), e.jsx("div", {
                                className: "mb-6 p-4 bg-muted/50 rounded-lg border",
                                children: e.jsxs("div", {
                                    className: "flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",
                                    children: [e.jsxs("div", {
                                        className: "flex items-center gap-6",
                                        children: [e.jsxs("div", {
                                            className: "flex items-center gap-2",
                                            children: [e.jsx(Ot, {
                                                className: "h-5 w-5 text-primary"
                                            }), e.jsxs("div", {
                                                children: [e.jsx("p", {
                                                    className: "text-sm font-medium",
                                                    children: "Total de piezas"
                                                }), e.jsx("p", {
                                                    className: "text-2xl font-bold text-primary",
                                                    children: ue.toLocaleString()
                                                })]
                                            })]
                                        }), ue !== Y && e.jsxs("div", {
                                            children: [e.jsx("p", {
                                                className: "text-sm font-medium text-muted-foreground",
                                                children: "Filtradas"
                                            }), e.jsx("p", {
                                                className: "text-xl font-semibold",
                                                children: Y.toLocaleString()
                                            })]
                                        })]
                                    }), e.jsxs("div", {
                                        className: "text-right",
                                        children: [e.jsxs("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: ["Página ", i, " de ", he]
                                        }), e.jsxs("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: ["Mostrando ", re.length, " piezas"]
                                        })]
                                    })]
                                })
                            }), oe ? e.jsxs("div", {
                                className: "text-center py-8",
                                children: [e.jsx("div", {
                                    className: "animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"
                                }), e.jsx("p", {
                                    children: "Cargando piezas..."
                                })]
                            }) : e.jsx("div", {
                                className: "overflow-x-auto",
                                children: e.jsxs(Ws, {
                                    children: [e.jsx(Gs, {
                                        children: e.jsxs(gt, {
                                            children: [e.jsx(ge, {
                                                className: "w-[100px]",
                                                children: "Ref."
                                            }), e.jsx(ge, {
                                                onClick: () => ie("descripcionFamilia"),
                                                className: "cursor-pointer",
                                                children: e.jsxs("div", {
                                                    className: "flex items-center",
                                                    children: ["Familia", j === "descripcionFamilia" && e.jsx(Oo, {
                                                        className: `ml-2 h-4 w-4 ${x === "desc" ? "rotate-180" : ""}`
                                                    })]
                                                })
                                            }), e.jsx(ge, {
                                                onClick: () => ie("descripcionArticulo"),
                                                className: "cursor-pointer",
                                                children: e.jsxs("div", {
                                                    className: "flex items-center",
                                                    children: ["Artículo", j === "descripcionArticulo" && e.jsx(Oo, {
                                                        className: `ml-2 h-4 w-4 ${x === "desc" ? "rotate-180" : ""}`
                                                    })]
                                                })
                                            }), e.jsx(ge, {
                                                onClick: () => ie("precio"),
                                                className: "cursor-pointer text-right",
                                                children: e.jsxs("div", {
                                                    className: "flex items-center justify-end",
                                                    children: ["Precio", j === "precio" && e.jsx(Oo, {
                                                        className: `ml-2 h-4 w-4 ${x === "desc" ? "rotate-180" : ""}`
                                                    })]
                                                })
                                            }), e.jsx(ge, {
                                                children: "Vehículo"
                                            }), e.jsx(ge, {
                                                onClick: () => ie("idVehiculo"),
                                                className: "cursor-pointer",
                                                children: e.jsxs("div", {
                                                    className: "flex items-center",
                                                    children: ["Clasificación", j === "idVehiculo" && e.jsx(Oo, {
                                                        className: `ml-2 h-4 w-4 ${x === "desc" ? "rotate-180" : ""}`
                                                    })]
                                                })
                                            }), e.jsx(ge, {
                                                children: "Estado"
                                            }), e.jsx(ge, {
                                                className: "text-right",
                                                children: "Acciones"
                                            })]
                                        })
                                    }), e.jsx(Ks, {
                                        children: re.length === 0 ? e.jsx(gt, {
                                            children: e.jsx(xe, {
                                                colSpan: 8,
                                                className: "text-center h-32",
                                                children: "No se encontraron piezas"
                                            })
                                        }) : re.map(se => e.jsxs(gt, {
                                            children: [e.jsx(xe, {
                                                className: "font-medium",
                                                children: se.refLocal
                                            }), e.jsx(xe, {
                                                children: e.jsx(ye, {
                                                    variant: "outline",
                                                    children: se.descripcionFamilia
                                                })
                                            }), e.jsx(xe, {
                                                className: "max-w-[200px] truncate",
                                                title: se.descripcionArticulo,
                                                children: se.descripcionArticulo
                                            }), e.jsx(xe, {
                                                className: "text-right font-medium",
                                                children: jt(se.precio)
                                            }), e.jsx(xe, {
                                                children: e.jsx("div", {
                                                    className: "text-sm",
                                                    children: se.vehicleMarca && se.vehicleModelo ? e.jsxs("span", {
                                                        children: [se.vehicleMarca, " ", se.vehicleModelo]
                                                    }) : e.jsxs("span", {
                                                        children: ["ID: ", se.idVehiculo]
                                                    })
                                                })
                                            }), e.jsx(xe, {
                                                children: e.jsx(ye, {
                                                    variant: Jp(se).variant,
                                                    children: Jp(se).label
                                                })
                                            }), e.jsx(xe, {
                                                children: e.jsx(ye, {
                                                    variant: se.activo ? "default" : "secondary",
                                                    children: se.activo ? "Activa" : "Inactiva"
                                                })
                                            }), e.jsx(xe, {
                                                className: "text-right",
                                                children: e.jsxs(Mp, {
                                                    children: [e.jsx(Ip, {
                                                        asChild: !0,
                                                        children: e.jsx(T, {
                                                            variant: "ghost",
                                                            className: "h-8 w-8 p-0",
                                                            children: e.jsx($E, {
                                                                className: "h-4 w-4"
                                                            })
                                                        })
                                                    }), e.jsxs(Eu, {
                                                        align: "end",
                                                        children: [e.jsx(ku, {
                                                            children: "Acciones"
                                                        }), e.jsxs(Zs, {
                                                            onClick: () => B(se),
                                                            children: [e.jsx(bs, {
                                                                className: "h-4 w-4 mr-2"
                                                            }), " Ver detalle"]
                                                        }), e.jsxs(Zs, {
                                                            onClick: () => dt(se),
                                                            children: [e.jsx(Br, {
                                                                className: "h-4 w-4 mr-2"
                                                            }), " Editar"]
                                                        }), e.jsx(ii, {}), e.jsx(Zs, {
                                                            onClick: () => P(se.id),
                                                            children: se.activo ? e.jsxs(e.Fragment, {
                                                                children: [e.jsx(WE, {
                                                                    className: "h-4 w-4 mr-2"
                                                                }), " Desactivar"]
                                                            }) : e.jsxs(e.Fragment, {
                                                                children: [e.jsx(GE, {
                                                                    className: "h-4 w-4 mr-2"
                                                                }), " Activar"]
                                                            })
                                                        }), e.jsx(ii, {}), e.jsxs(Zs, {
                                                            className: "text-destructive",
                                                            onClick: () => De(se.id),
                                                            children: [e.jsx(nl, {
                                                                className: "h-4 w-4 mr-2"
                                                            }), " Eliminar"]
                                                        })]
                                                    })]
                                                })
                                            })]
                                        }, se.id))
                                    })]
                                })
                            })]
                        })
                    }), !oe && he > 1 && e.jsx(U, {
                        children: e.jsx(q, {
                            className: "py-4",
                            children: e.jsxs("div", {
                                className: "flex flex-col sm:flex-row justify-between items-center gap-4",
                                children: [e.jsxs("div", {
                                    className: "text-sm text-muted-foreground",
                                    children: ["Mostrando ", (i - 1) * Ed + 1, " a ", Math.min(i * Ed, Y), " de ", Y.toLocaleString(), " piezas", ue !== Y && e.jsxs("span", {
                                        className: "text-muted-foreground/70",
                                        children: [" (filtradas de ", ue.toLocaleString(), " total)"]
                                    })]
                                }), e.jsx(wm, {
                                    children: e.jsxs(Cm, {
                                        children: [e.jsx(ps, {
                                            children: e.jsx(Sm, {
                                                onClick: () => o(Math.max(1, i - 1)),
                                                className: i === 1 ? "pointer-events-none opacity-50" : "cursor-pointer"
                                            })
                                        }), i > 3 && he > 5 && e.jsxs(e.Fragment, {
                                            children: [e.jsx(ps, {
                                                children: e.jsx(un, {
                                                    onClick: () => o(1),
                                                    className: "cursor-pointer",
                                                    children: "1"
                                                })
                                            }), i > 4 && e.jsx(ps, {
                                                children: e.jsx("span", {
                                                    className: "px-3 py-2",
                                                    children: "..."
                                                })
                                            })]
                                        }), Array.from({
                                            length: Math.min(5, he)
                                        }, (se, je) => {
                                            let Ge;
                                            return he <= 5 || i <= 3 ? Ge = je + 1 : i >= he - 2 ? Ge = he - 4 + je : Ge = i - 2 + je, Ge < 1 || Ge > he || i > 3 && he > 5 && Ge === 1 || i < he - 2 && he > 5 && Ge === he ? null : e.jsx(ps, {
                                                children: e.jsx(un, {
                                                    isActive: i === Ge,
                                                    onClick: () => o(Ge),
                                                    className: "cursor-pointer",
                                                    children: Ge
                                                })
                                            }, Ge)
                                        }), i < he - 2 && he > 5 && e.jsxs(e.Fragment, {
                                            children: [i < he - 3 && e.jsx(ps, {
                                                children: e.jsx("span", {
                                                    className: "px-3 py-2",
                                                    children: "..."
                                                })
                                            }), e.jsx(ps, {
                                                children: e.jsx(un, {
                                                    onClick: () => o(he),
                                                    className: "cursor-pointer",
                                                    children: he
                                                })
                                            })]
                                        }), e.jsx(ps, {
                                            children: e.jsx(Em, {
                                                onClick: () => o(Math.min(he, i + 1)),
                                                className: i === he ? "pointer-events-none opacity-50" : "cursor-pointer"
                                            })
                                        })]
                                    })
                                })]
                            })
                        })
                    })]
                }), e.jsx(Ps, {
                    open: F,
                    onOpenChange: _,
                    children: e.jsxs(xs, {
                        className: "max-w-4xl max-h-[90vh] overflow-y-auto",
                        children: [e.jsxs(gs, {
                            children: [e.jsxs(vs, {
                                children: [S == null ? void 0 : S.descripcionArticulo, S && !S.activo && e.jsx(ye, {
                                    variant: "destructive",
                                    className: "ml-2",
                                    children: "Desactivada"
                                })]
                            }), e.jsxs(Sr, {
                                children: ["Detalles de la pieza ", S == null ? void 0 : S.refLocal, " - ", S == null ? void 0 : S.descripcionFamilia]
                            })]
                        }), S && e.jsx(HW, {
                            part: S,
                            onClose: () => _(!1)
                        }), e.jsxs(Hr, {
                            children: [e.jsx(T, {
                                variant: "outline",
                                onClick: () => _(!1),
                                children: "Cerrar"
                            }), S && e.jsxs(T, {
                                onClick: () => {
                                    _(!1),
                                    dt(S)
                                },
                                children: [e.jsx(Br, {
                                    className: "h-4 w-4 mr-2"
                                }), " Editar"]
                            })]
                        })]
                    })
                }), e.jsx(Ps, {
                    open: d,
                    onOpenChange: u,
                    children: e.jsxs(xs, {
                        children: [e.jsxs(gs, {
                            children: [e.jsx(vs, {
                                children: "Confirmar eliminación"
                            }), e.jsx(Sr, {
                                children: "¿Está seguro que desea eliminar esta pieza? Esta acción no se puede deshacer."
                            })]
                        }), e.jsxs(Hr, {
                            children: [e.jsx(T, {
                                variant: "outline",
                                onClick: () => u(!1),
                                children: "Cancelar"
                            }), e.jsx(T, {
                                variant: "destructive",
                                onClick: vt,
                                children: "Eliminar"
                            })]
                        })]
                    })
                }), e.jsx(Ps, {
                    open: m,
                    onOpenChange: p,
                    children: e.jsxs(xs, {
                        children: [e.jsxs(gs, {
                            children: [e.jsx(vs, {
                                children: "Confirmar eliminación masiva"
                            }), e.jsx(Sr, {
                                children: "¿Está seguro que desea eliminar TODAS las piezas? Esta acción eliminará permanentemente todas las piezas del sistema y no se puede deshacer."
                            })]
                        }), e.jsxs(Hr, {
                            children: [e.jsx(T, {
                                variant: "outline",
                                onClick: () => p(!1),
                                children: "Cancelar"
                            }), e.jsx(T, {
                                variant: "destructive",
                                onClick: Mt,
                                children: "Eliminar todas las piezas"
                            })]
                        })]
                    })
                })]
            })]
        })
    },
    WW = () => {
        var O;
        const [, t] = ut(),
            {toast: s} = st(),
            {logout: r} = Ts(),
            [n, a] = h.useState(!1),
            [i, o] = h.useState(!1),
            [l, c] = h.useState(!1),
            [d, u] = h.useState(null),
            [m, p] = h.useState(""),
            [j, g] = h.useState(""),
            [x, y] = h.useState(""),
            [v, f] = h.useState("manager"),
            [b, N] = h.useState(""),
            [w, C] = h.useState(""),
            [E, k] = h.useState(""),
            [R, H] = h.useState("manager"),
            z = Te({
                queryKey: ["/api/users"],
                queryFn: async () => {
                    try {
                        const M = await fetch("/api/users");
                        if (!M.ok) {
                            const Y = await M.json();
                            throw new Error(Y.error || "Error al cargar usuarios")
                        }
                        const re = await M.json();
                        return console.log("Usuarios cargados:", re), re.filter(Y => Y.role === "manager" || Y.role === "admin" || Y.isAdmin) || []
                    } catch (M) {
                        throw console.error("Error en la consulta de usuarios:", M), M
                    }
                }
            }),
            A = nt({
                mutationFn: async M => {
                    const re = await fetch("/api/users", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json"
                        },
                        body: JSON.stringify(M)
                    });
                    if (!re.ok) {
                        const ue = await re.json();
                        throw new Error(ue.error || "Error al crear usuario")
                    }
                    return re.json()
                },
                onSuccess: () => {
                    s({
                        title: "Usuario creado",
                        description: "El usuario ha sido creado correctamente"
                    }),
                    a(!1),
                    z.refetch(),
                    p(""),
                    g(""),
                    y(""),
                    f("manager")
                },
                onError: M => {
                    s({
                        title: "Error",
                        description: M.message || "Error al crear usuario",
                        variant: "destructive"
                    })
                }
            }),
            $ = nt({
                mutationFn: async ({id: M, userData: re}) => {
                    const ue = await fetch(`/api/users/${M}`, {
                        method: "PUT",
                        headers: {
                            "Content-Type": "application/json"
                        },
                        body: JSON.stringify(re)
                    });
                    if (!ue.ok) {
                        const Y = await ue.json();
                        throw new Error(Y.error || "Error al actualizar usuario")
                    }
                    return ue.json()
                },
                onSuccess: () => {
                    s({
                        title: "Usuario actualizado",
                        description: `El usuario ${d == null ? void 0 : d.username} ha sido actualizado correctamente`
                    }),
                    o(!1),
                    z.refetch()
                },
                onError: M => {
                    s({
                        title: "Error",
                        description: M.message || "Error al actualizar usuario",
                        variant: "destructive"
                    })
                }
            }),
            G = nt({
                mutationFn: async M => {
                    const re = await fetch(`/api/users/${M}`, {
                        method: "DELETE"
                    });
                    if (!re.ok) {
                        const ue = await re.json();
                        throw new Error(ue.error || "Error al eliminar usuario")
                    }
                    return re.json()
                },
                onSuccess: () => {
                    s({
                        title: "Usuario eliminado",
                        description: `El usuario ${d == null ? void 0 : d.username} ha sido eliminado correctamente`
                    }),
                    c(!1),
                    z.refetch()
                },
                onError: M => {
                    s({
                        title: "Error",
                        description: M.message || "Error al eliminar usuario",
                        variant: "destructive"
                    })
                }
            }),
            F = async () => {
                try {
                    await r(),
                    t("/admin")
                } catch (M) {
                    console.error("Error during logout:", M)
                }
            },
            _ = () => {
                if (!m || !x) {
                    s({
                        title: "Error",
                        description: "Usuario y contraseña son obligatorios",
                        variant: "destructive"
                    });
                    return
                }
                if (x.length < 6) {
                    s({
                        title: "Error",
                        description: "La contraseña debe tener al menos 6 caracteres",
                        variant: "destructive"
                    });
                    return
                }
                A.mutate({
                    username: m,
                    password: x,
                    email: j || void 0,
                    role: v
                })
            },
            S = () => {
                if (!b) {
                    s({
                        title: "Error",
                        description: "El nombre de usuario es obligatorio",
                        variant: "destructive"
                    });
                    return
                }
                if (E && E.length < 6) {
                    s({
                        title: "Error",
                        description: "La contraseña debe tener al menos 6 caracteres",
                        variant: "destructive"
                    });
                    return
                }
                const M = {
                    username: b,
                    email: w || void 0,
                    role: R
                };
                E && (M.password = E),
                $.mutate({
                    id: d.id,
                    userData: M
                })
            },
            I = () => {
                G.mutate(d.id)
            },
            W = M => {
                u(M),
                N(M.username || ""),
                C(M.email || ""),
                k(""),
                H(M.role || "manager"),
                o(!0)
            },
            oe = M => {
                u(M),
                c(!0)
            };
        return e.jsxs("div", {
            className: "flex min-h-screen bg-gray-100",
            children: [e.jsx($s, {}), e.jsxs("div", {
                className: "flex-1 p-8",
                children: [e.jsxs("div", {
                    className: "flex justify-between items-center mb-8",
                    children: [e.jsxs("div", {
                        children: [e.jsx("h1", {
                            className: "text-3xl font-montserrat font-bold",
                            children: "Gestión de Usuarios Administrativos"
                        }), e.jsx("p", {
                            className: "text-muted-foreground",
                            children: "Administre los usuarios administrativos del sistema (administradores y gestores)"
                        })]
                    }), e.jsxs("div", {
                        className: "flex gap-2",
                        children: [e.jsxs(T, {
                            variant: "default",
                            onClick: () => a(!0),
                            children: [e.jsx(on, {
                                className: "mr-2 h-4 w-4"
                            }), "Nuevo Usuario Administrativo"]
                        }), e.jsxs(T, {
                            variant: "outline",
                            onClick: F,
                            children: [e.jsx(ka, {
                                className: "mr-2 h-4 w-4"
                            }), "Cerrar sesión"]
                        })]
                    })]
                }), e.jsx(U, {
                    children: e.jsx(q, {
                        className: "p-6",
                        children: z.isLoading ? e.jsxs("div", {
                            className: "text-center py-8",
                            children: [e.jsx("div", {
                                className: "animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"
                            }), e.jsx("p", {
                                children: "Cargando usuarios..."
                            })]
                        }) : e.jsxs(Ws, {
                            children: [e.jsx(Gs, {
                                children: e.jsxs(gt, {
                                    children: [e.jsx(ge, {
                                        children: "ID"
                                    }), e.jsx(ge, {
                                        children: "Usuario"
                                    }), e.jsx(ge, {
                                        children: "Email"
                                    }), e.jsx(ge, {
                                        children: "Rol"
                                    }), e.jsx(ge, {
                                        children: "Último acceso"
                                    }), e.jsx(ge, {
                                        className: "text-right",
                                        children: "Acciones"
                                    })]
                                })
                            }), e.jsx(Ks, {
                                children: !z.data || z.data.length === 0 ? e.jsx(gt, {
                                    children: e.jsx(xe, {
                                        colSpan: 6,
                                        className: "text-center h-32",
                                        children: "No se encontraron usuarios"
                                    })
                                }) : (O = z.data) == null ? void 0 : O.map(M => e.jsxs(gt, {
                                    children: [e.jsx(xe, {
                                        className: "font-medium",
                                        children: M.id
                                    }), e.jsx(xe, {
                                        children: M.username
                                    }), e.jsx(xe, {
                                        children: M.email || "—"
                                    }), e.jsx(xe, {
                                        children: M.isAdmin || M.role === "admin" ? e.jsx(ye, {
                                            className: "bg-primary",
                                            children: "Administrador"
                                        }) : M.role === "manager" ? e.jsx(ye, {
                                            className: "bg-blue-500 text-white",
                                            children: "Gestor"
                                        }) : e.jsx(ye, {
                                            variant: "outline",
                                            children: "Cliente"
                                        })
                                    }), e.jsx(xe, {
                                        children: M.updatedAt ? new Date(M.updatedAt).toLocaleString() : "—"
                                    }), e.jsxs(xe, {
                                        className: "text-right",
                                        children: [e.jsx(T, {
                                            variant: "ghost",
                                            size: "sm",
                                            onClick: () => W(M),
                                            children: e.jsx(FO, {
                                                className: "h-4 w-4"
                                            })
                                        }), e.jsx(T, {
                                            variant: "ghost",
                                            size: "sm",
                                            onClick: () => oe(M),
                                            children: e.jsx(Jt, {
                                                className: "h-4 w-4"
                                            })
                                        })]
                                    })]
                                }, M.id))
                            })]
                        })
                    })
                })]
            }), e.jsx(Ps, {
                open: n,
                onOpenChange: a,
                children: e.jsxs(xs, {
                    children: [e.jsxs(gs, {
                        children: [e.jsx(vs, {
                            children: "Añadir nuevo usuario administrativo"
                        }), e.jsx(Sr, {
                            children: "Complete el formulario para crear un nuevo usuario administrativo del sistema."
                        })]
                    }), e.jsxs("div", {
                        className: "grid gap-4 py-4",
                        children: [e.jsxs("div", {
                            className: "grid grid-cols-4 items-center gap-4",
                            children: [e.jsx(V, {
                                htmlFor: "username",
                                className: "text-right",
                                children: "Usuario"
                            }), e.jsx(te, {
                                id: "username",
                                className: "col-span-3",
                                value: m,
                                onChange: M => p(M.target.value)
                            })]
                        }), e.jsxs("div", {
                            className: "grid grid-cols-4 items-center gap-4",
                            children: [e.jsx(V, {
                                htmlFor: "email",
                                className: "text-right",
                                children: "Email"
                            }), e.jsx(te, {
                                id: "email",
                                type: "email",
                                className: "col-span-3",
                                value: j,
                                onChange: M => g(M.target.value)
                            })]
                        }), e.jsxs("div", {
                            className: "grid grid-cols-4 items-center gap-4",
                            children: [e.jsx(V, {
                                htmlFor: "password",
                                className: "text-right",
                                children: "Contraseña"
                            }), e.jsx(te, {
                                id: "password",
                                type: "password",
                                className: "col-span-3",
                                value: x,
                                onChange: M => y(M.target.value)
                            })]
                        }), e.jsxs("div", {
                            className: "grid grid-cols-4 items-center gap-4",
                            children: [e.jsx(V, {
                                htmlFor: "role",
                                className: "text-right",
                                children: "Rol"
                            }), e.jsxs(He, {
                                value: v,
                                onValueChange: f,
                                children: [e.jsx(qe, {
                                    className: "col-span-3",
                                    children: e.jsx(We, {
                                        placeholder: "Seleccionar rol"
                                    })
                                }), e.jsxs(Be, {
                                    children: [e.jsx(Q, {
                                        value: "manager",
                                        children: "Gestor"
                                    }), e.jsx(Q, {
                                        value: "admin",
                                        children: "Administrador"
                                    })]
                                })]
                            })]
                        })]
                    }), e.jsxs(Hr, {
                        children: [e.jsx(T, {
                            variant: "outline",
                            onClick: () => a(!1),
                            children: "Cancelar"
                        }), e.jsx(T, {
                            onClick: _,
                            children: "Crear usuario"
                        })]
                    })]
                })
            }), e.jsx(Ps, {
                open: i,
                onOpenChange: o,
                children: e.jsxs(xs, {
                    children: [e.jsxs(gs, {
                        children: [e.jsx(vs, {
                            children: "Editar usuario"
                        }), e.jsx(Sr, {
                            children: "Actualice la información del usuario."
                        })]
                    }), e.jsxs("div", {
                        className: "grid gap-4 py-4",
                        children: [e.jsxs("div", {
                            className: "grid grid-cols-4 items-center gap-4",
                            children: [e.jsx(V, {
                                htmlFor: "edit-username",
                                className: "text-right",
                                children: "Usuario"
                            }), e.jsx(te, {
                                id: "edit-username",
                                className: "col-span-3",
                                value: b,
                                onChange: M => N(M.target.value)
                            })]
                        }), e.jsxs("div", {
                            className: "grid grid-cols-4 items-center gap-4",
                            children: [e.jsx(V, {
                                htmlFor: "edit-email",
                                className: "text-right",
                                children: "Email"
                            }), e.jsx(te, {
                                id: "edit-email",
                                type: "email",
                                className: "col-span-3",
                                value: w,
                                onChange: M => C(M.target.value)
                            })]
                        }), e.jsxs("div", {
                            className: "grid grid-cols-4 items-center gap-4",
                            children: [e.jsx(V, {
                                htmlFor: "edit-password",
                                className: "text-right",
                                children: "Contraseña"
                            }), e.jsx(te, {
                                id: "edit-password",
                                type: "password",
                                placeholder: "Nueva contraseña (dejar en blanco si no cambia)",
                                className: "col-span-3",
                                value: E,
                                onChange: M => k(M.target.value)
                            })]
                        }), e.jsxs("div", {
                            className: "grid grid-cols-4 items-center gap-4",
                            children: [e.jsx(V, {
                                htmlFor: "edit-role",
                                className: "text-right",
                                children: "Rol"
                            }), e.jsxs(He, {
                                value: R,
                                onValueChange: H,
                                children: [e.jsx(qe, {
                                    className: "col-span-3",
                                    children: e.jsx(We, {
                                        placeholder: "Seleccionar rol"
                                    })
                                }), e.jsxs(Be, {
                                    children: [e.jsx(Q, {
                                        value: "manager",
                                        children: "Gestor"
                                    }), e.jsx(Q, {
                                        value: "admin",
                                        children: "Administrador"
                                    })]
                                })]
                            })]
                        })]
                    }), e.jsxs(Hr, {
                        children: [e.jsx(T, {
                            variant: "outline",
                            onClick: () => o(!1),
                            children: "Cancelar"
                        }), e.jsx(T, {
                            onClick: S,
                            children: "Actualizar usuario"
                        })]
                    })]
                })
            }), e.jsx(Ps, {
                open: l,
                onOpenChange: c,
                children: e.jsxs(xs, {
                    children: [e.jsxs(gs, {
                        children: [e.jsx(vs, {
                            children: "Eliminar usuario"
                        }), e.jsxs(Sr, {
                            children: ["¿Está seguro de que desea eliminar al usuario ", d == null ? void 0 : d.username, "? Esta acción no se puede deshacer."]
                        })]
                    }), e.jsxs(Hr, {
                        children: [e.jsx(T, {
                            variant: "outline",
                            onClick: () => c(!1),
                            children: "Cancelar"
                        }), e.jsx(T, {
                            variant: "destructive",
                            onClick: I,
                            children: "Eliminar"
                        })]
                    })]
                })
            })]
        })
    },
    GW = () => {
        const [t, s] = h.useState(""),
            [r, n] = h.useState("all"),
            [a, i] = h.useState(""),
            [o, l] = h.useState(null),
            [c, d] = h.useState(null),
            [u, m] = h.useState(!1),
            [p, j] = h.useState(!1),
            [g, x] = h.useState(!1),
            [y, v] = h.useState(null),
            [f, b] = h.useState({}),
            {toast: N} = st(),
            w = pr(),
            {data: C, isLoading: E} = Te({
                queryKey: ["/api/admin/clients"],
                queryFn: async () => {
                    const M = await fetch("/api/admin/clients");
                    if (!M.ok)
                        throw new Error("Error al cargar clientes");
                    return (await M.json()).filter(ue => ue.role === "customer" && !ue.isAdmin)
                }
            }),
            {data: k, isLoading: R} = Te({
                queryKey: ["/api/admin/guest-orders"],
                queryFn: async () => {
                    const M = await fetch("/api/admin/guest-orders");
                    if (!M.ok)
                        throw new Error("Error al cargar pedidos de invitados");
                    return M.json()
                }
            }),
            H = (C == null ? void 0 : C.filter(M => {
                const re = M.firstName.toLowerCase().includes(t.toLowerCase()) || M.lastName.toLowerCase().includes(t.toLowerCase()) || M.email.toLowerCase().includes(t.toLowerCase()) || M.username.toLowerCase().includes(t.toLowerCase()),
                    ue = r === "all" || M.province === r;
                return re && ue
            })) || [],
            z = (k == null ? void 0 : k.filter(M => M.guestName.toLowerCase().includes(a.toLowerCase()) || M.guestEmail.toLowerCase().includes(a.toLowerCase()) || M.orderNumber.toLowerCase().includes(a.toLowerCase()))) || [],
            A = [...new Set(C == null ? void 0 : C.map(M => M.province).filter(Boolean))],
            $ = M => {
                switch (M) {
                case "admin":
                    return "destructive";
                case "manager":
                    return "secondary";
                case "customer":
                    return "default";
                default:
                    return "outline"
                }
            },
            G = M => {
                switch (M) {
                case "admin":
                    return "Administrador";
                case "manager":
                    return "Gestor";
                case "customer":
                    return "Cliente";
                default:
                    return M
                }
            },
            F = nt({
                mutationFn: async ({id: M, data: re}) => {
                    const ue = {
                            firstName: re.firstName,
                            lastName: re.lastName,
                            email: re.email,
                            phone: re.phone,
                            address: re.address,
                            city: re.city,
                            postalCode: re.postalCode,
                            province: re.province,
                            shippingAddress: re.shippingAddress,
                            shippingCity: re.shippingCity,
                            shippingPostalCode: re.shippingPostalCode,
                            shippingProvince: re.shippingProvince,
                            billingAddress: re.billingAddress,
                            billingCity: re.billingCity,
                            billingPostalCode: re.billingPostalCode,
                            billingProvince: re.billingProvince
                        },
                        Y = await fetch(`/api/admin/users/${M}`, {
                            method: "PUT",
                            headers: {
                                "Content-Type": "application/json"
                            },
                            body: JSON.stringify(ue)
                        });
                    if (!Y.ok)
                        throw new Error("Error al actualizar cliente");
                    return Y.json()
                },
                onSuccess: () => {
                    w.invalidateQueries({
                        queryKey: ["/api/admin/clients"]
                    }),
                    N({
                        title: "Cliente actualizado",
                        description: "Los datos del cliente se han actualizado correctamente"
                    }),
                    j(!1),
                    d(null),
                    b({})
                },
                onError: M => {
                    N({
                        title: "Error",
                        description: "No se pudo actualizar el cliente",
                        variant: "destructive"
                    }),
                    console.error("Error updating client:", M)
                }
            }),
            _ = nt({
                mutationFn: async M => {
                    const re = await fetch(`/api/admin/users/${M}`, {
                        method: "DELETE"
                    });
                    if (!re.ok)
                        throw new Error("Error al eliminar cliente");
                    return re.json()
                },
                onSuccess: () => {
                    w.invalidateQueries({
                        queryKey: ["/api/admin/clients"]
                    }),
                    N({
                        title: "Cliente eliminado",
                        description: "El cliente ha sido eliminado correctamente"
                    }),
                    x(!1),
                    v(null)
                },
                onError: M => {
                    N({
                        title: "Error",
                        description: "No se pudo eliminar el cliente",
                        variant: "destructive"
                    }),
                    console.error("Error deleting client:", M)
                }
            }),
            S = M => {
                l(M),
                m(!0)
            },
            I = M => {
                d(M),
                b({
                    firstName: M.firstName,
                    lastName: M.lastName,
                    email: M.email,
                    phone: M.phone,
                    address: M.address,
                    city: M.city,
                    postalCode: M.postalCode,
                    province: M.province,
                    shippingAddress: M.shippingAddress || M.address,
                    shippingCity: M.shippingCity || M.city,
                    shippingPostalCode: M.shippingPostalCode || M.postalCode,
                    shippingProvince: M.shippingProvince || M.province,
                    billingAddress: M.billingAddress || M.address,
                    billingCity: M.billingCity || M.city,
                    billingPostalCode: M.billingPostalCode || M.postalCode,
                    billingProvince: M.billingProvince || M.province
                }),
                j(!0)
            },
            W = M => {
                v(M),
                x(!0)
            },
            oe = () => {
                c && F.mutate({
                    id: c.id,
                    data: f
                })
            },
            O = () => {
                y && _.mutate(y.id)
            };
        return E ? e.jsxs("div", {
            className: "flex min-h-screen bg-gray-100",
            children: [e.jsx($s, {}), e.jsx("div", {
                className: "flex-1 p-8",
                children: e.jsx("div", {
                    className: "flex items-center justify-center h-64",
                    children: e.jsx("div", {
                        className: "animate-spin h-12 w-12 border-4 border-primary border-t-transparent rounded-full"
                    })
                })
            })]
        }) : e.jsxs("div", {
            className: "flex min-h-screen bg-gray-100",
            children: [e.jsx($s, {}), e.jsxs("div", {
                className: "flex-1 p-8",
                children: [e.jsx("div", {
                    className: "flex justify-between items-center mb-8",
                    children: e.jsxs("div", {
                        children: [e.jsx("h1", {
                            className: "text-3xl font-montserrat font-bold",
                            children: "Gestión de Clientes"
                        }), e.jsx("p", {
                            className: "text-muted-foreground",
                            children: "Administra los clientes registrados y pedidos de invitados"
                        })]
                    })
                }), e.jsxs(ls, {
                    defaultValue: "customers",
                    className: "space-y-6",
                    children: [e.jsxs(es, {
                        className: "grid w-full grid-cols-2",
                        children: [e.jsxs(Ue, {
                            value: "customers",
                            className: "flex items-center gap-2",
                            children: [e.jsx(ao, {
                                className: "h-4 w-4"
                            }), "Clientes Registrados (", H.length, ")"]
                        }), e.jsxs(Ue, {
                            value: "guests",
                            className: "flex items-center gap-2",
                            children: [e.jsx(ci, {
                                className: "h-4 w-4"
                            }), "Pedidos de Invitados (", z.length, ")"]
                        })]
                    }), e.jsxs($e, {
                        value: "customers",
                        className: "space-y-6",
                        children: [e.jsxs(U, {
                            children: [e.jsx(ne, {
                                children: e.jsxs(ae, {
                                    className: "flex items-center gap-2",
                                    children: [e.jsx(Cr, {
                                        className: "h-5 w-5"
                                    }), "Filtros de búsqueda"]
                                })
                            }), e.jsx(q, {
                                children: e.jsxs("div", {
                                    className: "grid grid-cols-1 md:grid-cols-3 gap-4",
                                    children: [e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            htmlFor: "search",
                                            children: "Buscar cliente"
                                        }), e.jsx(te, {
                                            id: "search",
                                            placeholder: "Nombre, email o usuario...",
                                            value: t,
                                            onChange: M => s(M.target.value)
                                        })]
                                    }), e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            htmlFor: "province",
                                            children: "Provincia"
                                        }), e.jsxs(He, {
                                            value: r,
                                            onValueChange: n,
                                            children: [e.jsx(qe, {
                                                children: e.jsx(We, {
                                                    placeholder: "Todas las provincias"
                                                })
                                            }), e.jsxs(Be, {
                                                children: [e.jsx(Q, {
                                                    value: "all",
                                                    children: "Todas las provincias"
                                                }), A.map(M => e.jsx(Q, {
                                                    value: M,
                                                    children: M
                                                }, M))]
                                            })]
                                        })]
                                    }), e.jsx("div", {
                                        className: "flex items-end",
                                        children: e.jsx(T, {
                                            variant: "outline",
                                            onClick: () => {
                                                s(""),
                                                n("all")
                                            },
                                            className: "w-full",
                                            children: "Limpiar filtros"
                                        })
                                    })]
                                })
                            })]
                        }), e.jsxs(U, {
                            children: [e.jsx(ne, {
                                children: e.jsxs(ae, {
                                    className: "flex items-center gap-2",
                                    children: [e.jsx(ao, {
                                        className: "h-5 w-5"
                                    }), "Lista de Clientes"]
                                })
                            }), e.jsx(q, {
                                children: H.length === 0 ? e.jsxs("div", {
                                    className: "text-center py-8",
                                    children: [e.jsx(ao, {
                                        className: "h-12 w-12 text-gray-400 mx-auto mb-4"
                                    }), e.jsx("p", {
                                        className: "text-gray-500",
                                        children: "No se encontraron clientes"
                                    })]
                                }) : e.jsx("div", {
                                    className: "overflow-x-auto",
                                    children: e.jsxs(Ws, {
                                        children: [e.jsx(Gs, {
                                            children: e.jsxs(gt, {
                                                children: [e.jsx(ge, {
                                                    children: "Cliente"
                                                }), e.jsx(ge, {
                                                    children: "Información de contacto"
                                                }), e.jsx(ge, {
                                                    children: "Dirección"
                                                }), e.jsx(ge, {
                                                    children: "Pedidos"
                                                }), e.jsx(ge, {
                                                    children: "Registro"
                                                }), e.jsx(ge, {
                                                    children: "Acciones"
                                                })]
                                            })
                                        }), e.jsx(Ks, {
                                            children: H.map(M => e.jsxs(gt, {
                                                children: [e.jsx(xe, {
                                                    children: e.jsxs("div", {
                                                        children: [e.jsxs("div", {
                                                            className: "font-medium",
                                                            children: [M.firstName, " ", M.lastName]
                                                        }), e.jsxs("div", {
                                                            className: "text-sm text-muted-foreground",
                                                            children: ["@", M.username]
                                                        }), e.jsx(ye, {
                                                            variant: $(M.role),
                                                            className: "mt-1",
                                                            children: G(M.role)
                                                        })]
                                                    })
                                                }), e.jsx(xe, {
                                                    children: e.jsxs("div", {
                                                        className: "space-y-1",
                                                        children: [e.jsxs("div", {
                                                            className: "flex items-center gap-1 text-sm",
                                                            children: [e.jsx(Ls, {
                                                                className: "h-3 w-3"
                                                            }), M.email]
                                                        }), M.phone && e.jsxs("div", {
                                                            className: "flex items-center gap-1 text-sm",
                                                            children: [e.jsx(Xn, {
                                                                className: "h-3 w-3"
                                                            }), M.phone]
                                                        })]
                                                    })
                                                }), e.jsx(xe, {
                                                    children: e.jsxs("div", {
                                                        className: "space-y-1 text-sm",
                                                        children: [e.jsxs("div", {
                                                            className: "flex items-center gap-1",
                                                            children: [e.jsx(uo, {
                                                                className: "h-3 w-3"
                                                            }), M.address]
                                                        }), e.jsxs("div", {
                                                            children: [M.city, ", ", M.province, " ", M.postalCode]
                                                        })]
                                                    })
                                                }), e.jsx(xe, {
                                                    children: e.jsxs("div", {
                                                        className: "text-center",
                                                        children: [e.jsx("div", {
                                                            className: "font-medium",
                                                            children: M.totalOrders || M.orderCount || 0
                                                        }), e.jsx("div", {
                                                            className: "text-xs text-muted-foreground",
                                                            children: "pedidos"
                                                        }), e.jsx("div", {
                                                            className: "text-xs text-muted-foreground mt-1",
                                                            children: M.totalSpent ? `${Number(M.totalSpent).toFixed(2)}€` : "0.00€"
                                                        }), M.lastOrderDate && e.jsxs("div", {
                                                            className: "text-xs text-muted-foreground mt-1",
                                                            children: ["Último: ", new Date(M.lastOrderDate).toLocaleDateString()]
                                                        })]
                                                    })
                                                }), e.jsx(xe, {
                                                    children: e.jsxs("div", {
                                                        className: "flex items-center gap-1 text-sm text-muted-foreground",
                                                        children: [e.jsx(ur, {
                                                            className: "h-3 w-3"
                                                        }), new Date(M.createdAt).toLocaleDateString()]
                                                    })
                                                }), e.jsx(xe, {
                                                    children: e.jsxs("div", {
                                                        className: "flex items-center gap-2",
                                                        children: [e.jsx(T, {
                                                            variant: "ghost",
                                                            size: "sm",
                                                            onClick: () => S(M),
                                                            title: "Ver detalles",
                                                            children: e.jsx(bs, {
                                                                className: "h-4 w-4"
                                                            })
                                                        }), e.jsx(T, {
                                                            variant: "ghost",
                                                            size: "sm",
                                                            onClick: () => I(M),
                                                            title: "Editar cliente",
                                                            children: e.jsx(Br, {
                                                                className: "h-4 w-4"
                                                            })
                                                        }), e.jsx(T, {
                                                            variant: "ghost",
                                                            size: "sm",
                                                            onClick: () => W(M),
                                                            title: "Eliminar cliente",
                                                            className: "text-red-600 hover:text-red-700 hover:bg-red-50",
                                                            children: e.jsx(Jt, {
                                                                className: "h-4 w-4"
                                                            })
                                                        })]
                                                    })
                                                })]
                                            }, M.id))
                                        })]
                                    })
                                })
                            })]
                        })]
                    }), e.jsxs($e, {
                        value: "guests",
                        className: "space-y-6",
                        children: [e.jsxs(U, {
                            children: [e.jsx(ne, {
                                children: e.jsxs(ae, {
                                    className: "flex items-center gap-2",
                                    children: [e.jsx(Cr, {
                                        className: "h-5 w-5"
                                    }), "Buscar pedidos de invitados"]
                                })
                            }), e.jsx(q, {
                                children: e.jsxs("div", {
                                    className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                                    children: [e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            htmlFor: "guestSearch",
                                            children: "Buscar pedido"
                                        }), e.jsx(te, {
                                            id: "guestSearch",
                                            placeholder: "Nombre, email o número de pedido...",
                                            value: a,
                                            onChange: M => i(M.target.value)
                                        })]
                                    }), e.jsx("div", {
                                        className: "flex items-end",
                                        children: e.jsx(T, {
                                            variant: "outline",
                                            onClick: () => i(""),
                                            className: "w-full",
                                            children: "Limpiar filtros"
                                        })
                                    })]
                                })
                            })]
                        }), e.jsxs(U, {
                            children: [e.jsx(ne, {
                                children: e.jsxs(ae, {
                                    className: "flex items-center gap-2",
                                    children: [e.jsx(Ot, {
                                        className: "h-5 w-5"
                                    }), "Pedidos de Invitados"]
                                })
                            }), e.jsx(q, {
                                children: R ? e.jsx("div", {
                                    className: "flex items-center justify-center py-8",
                                    children: e.jsx("div", {
                                        className: "animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"
                                    })
                                }) : z.length === 0 ? e.jsxs("div", {
                                    className: "text-center py-8",
                                    children: [e.jsx(Ot, {
                                        className: "h-12 w-12 text-gray-400 mx-auto mb-4"
                                    }), e.jsx("p", {
                                        className: "text-gray-500",
                                        children: "No se encontraron pedidos de invitados"
                                    })]
                                }) : e.jsx("div", {
                                    className: "overflow-x-auto",
                                    children: e.jsxs(Ws, {
                                        children: [e.jsx(Gs, {
                                            children: e.jsxs(gt, {
                                                children: [e.jsx(ge, {
                                                    children: "Pedido"
                                                }), e.jsx(ge, {
                                                    children: "Cliente"
                                                }), e.jsx(ge, {
                                                    children: "Contacto"
                                                }), e.jsx(ge, {
                                                    children: "Total"
                                                }), e.jsx(ge, {
                                                    children: "Estado"
                                                }), e.jsx(ge, {
                                                    children: "Fecha"
                                                }), e.jsx(ge, {
                                                    children: "Acciones"
                                                })]
                                            })
                                        }), e.jsx(Ks, {
                                            children: z.map(M => e.jsxs(gt, {
                                                children: [e.jsx(xe, {
                                                    children: e.jsxs("div", {
                                                        children: [e.jsxs("div", {
                                                            className: "font-medium",
                                                            children: ["#", M.orderNumber]
                                                        }), e.jsxs("div", {
                                                            className: "text-sm text-muted-foreground",
                                                            children: [M.itemCount, " artículo(s)"]
                                                        })]
                                                    })
                                                }), e.jsx(xe, {
                                                    children: e.jsx("div", {
                                                        className: "font-medium",
                                                        children: M.guestName
                                                    })
                                                }), e.jsx(xe, {
                                                    children: e.jsxs("div", {
                                                        className: "space-y-1",
                                                        children: [e.jsxs("div", {
                                                            className: "flex items-center gap-1 text-sm",
                                                            children: [e.jsx(Ls, {
                                                                className: "h-3 w-3"
                                                            }), M.guestEmail]
                                                        }), M.guestPhone && e.jsxs("div", {
                                                            className: "flex items-center gap-1 text-sm",
                                                            children: [e.jsx(Xn, {
                                                                className: "h-3 w-3"
                                                            }), M.guestPhone]
                                                        })]
                                                    })
                                                }), e.jsx(xe, {
                                                    children: e.jsxs("div", {
                                                        className: "font-medium",
                                                        children: [Number(M.total).toFixed(2), "€"]
                                                    })
                                                }), e.jsx(xe, {
                                                    children: e.jsx(ye, {
                                                        variant: "outline",
                                                        children: M.status
                                                    })
                                                }), e.jsx(xe, {
                                                    children: e.jsxs("div", {
                                                        className: "flex items-center gap-1 text-sm",
                                                        children: [e.jsx(ur, {
                                                            className: "h-3 w-3"
                                                        }), new Date(M.createdAt).toLocaleDateString()]
                                                    })
                                                }), e.jsx(xe, {
                                                    children: e.jsx(T, {
                                                        variant: "ghost",
                                                        size: "sm",
                                                        onClick: () => {
                                                            console.log("Ver pedido invitado", M.id)
                                                        },
                                                        children: e.jsx(bs, {
                                                            className: "h-4 w-4"
                                                        })
                                                    })
                                                })]
                                            }, M.id))
                                        })]
                                    })
                                })
                            })]
                        })]
                    })]
                })]
            }), e.jsx(Ps, {
                open: u,
                onOpenChange: m,
                children: e.jsxs(xs, {
                    className: "max-w-6xl max-h-[95vh] overflow-y-auto",
                    children: [e.jsx(gs, {
                        className: "pb-6 border-b border-gray-200",
                        children: e.jsxs("div", {
                            className: "flex items-center gap-3",
                            children: [e.jsx("div", {
                                className: "w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",
                                children: e.jsx(ci, {
                                    className: "w-5 h-5 text-white"
                                })
                            }), e.jsxs("div", {
                                children: [e.jsxs(vs, {
                                    className: "text-xl font-bold text-gray-900",
                                    children: [o == null ? void 0 : o.firstName, " ", o == null ? void 0 : o.lastName]
                                }), e.jsxs(Sr, {
                                    className: "text-gray-600 mt-1",
                                    children: ["Información completa del cliente · ID: ", o == null ? void 0 : o.id]
                                })]
                            })]
                        })
                    }), o && e.jsxs("div", {
                        className: "grid grid-cols-1 lg:grid-cols-2 gap-6 py-6",
                        children: [e.jsxs("div", {
                            className: "space-y-6",
                            children: [e.jsxs("div", {
                                className: "bg-white rounded-lg p-6 border border-gray-200 shadow-sm",
                                children: [e.jsxs("div", {
                                    className: "flex items-center gap-3 mb-4",
                                    children: [e.jsx("div", {
                                        className: "w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",
                                        children: e.jsx(ci, {
                                            className: "w-4 h-4 text-white"
                                        })
                                    }), e.jsx("h3", {
                                        className: "text-lg font-semibold text-gray-800",
                                        children: "Información Personal"
                                    })]
                                }), e.jsxs("div", {
                                    className: "space-y-3",
                                    children: [e.jsxs("div", {
                                        className: "flex items-center justify-between py-2 border-b border-gray-100",
                                        children: [e.jsx("span", {
                                            className: "font-medium text-gray-600",
                                            children: "Nombre completo"
                                        }), e.jsxs("span", {
                                            className: "text-gray-900",
                                            children: [o.firstName, " ", o.lastName]
                                        })]
                                    }), e.jsxs("div", {
                                        className: "flex items-center justify-between py-2 border-b border-gray-100",
                                        children: [e.jsx("span", {
                                            className: "font-medium text-gray-600",
                                            children: "Usuario"
                                        }), e.jsxs("span", {
                                            className: "text-gray-900 font-mono",
                                            children: ["@", o.username]
                                        })]
                                    }), e.jsxs("div", {
                                        className: "flex items-center justify-between py-2 border-b border-gray-100",
                                        children: [e.jsx("span", {
                                            className: "font-medium text-gray-600",
                                            children: "Email"
                                        }), e.jsx("span", {
                                            className: "text-gray-900",
                                            children: o.email
                                        })]
                                    }), o.phone && e.jsxs("div", {
                                        className: "flex items-center justify-between py-2",
                                        children: [e.jsx("span", {
                                            className: "font-medium text-gray-600",
                                            children: "Teléfono"
                                        }), e.jsx("span", {
                                            className: "text-gray-900",
                                            children: o.phone
                                        })]
                                    })]
                                })]
                            }), e.jsxs("div", {
                                className: "bg-white rounded-lg p-6 border border-gray-200 shadow-sm",
                                children: [e.jsxs("div", {
                                    className: "flex items-center gap-3 mb-4",
                                    children: [e.jsx("div", {
                                        className: "w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center",
                                        children: e.jsx(uo, {
                                            className: "w-4 h-4 text-white"
                                        })
                                    }), e.jsx("h3", {
                                        className: "text-lg font-semibold text-gray-800",
                                        children: "Dirección de Envío"
                                    })]
                                }), e.jsxs("div", {
                                    className: "space-y-3",
                                    children: [e.jsxs("div", {
                                        className: "flex items-center justify-between py-2 border-b border-gray-100",
                                        children: [e.jsx("span", {
                                            className: "font-medium text-gray-600",
                                            children: "Dirección"
                                        }), e.jsx("span", {
                                            className: "text-gray-900",
                                            children: o.shippingAddress || o.address || "No especificada"
                                        })]
                                    }), e.jsxs("div", {
                                        className: "flex items-center justify-between py-2 border-b border-gray-100",
                                        children: [e.jsx("span", {
                                            className: "font-medium text-gray-600",
                                            children: "Ciudad"
                                        }), e.jsx("span", {
                                            className: "text-gray-900",
                                            children: o.shippingCity || o.city || "No especificada"
                                        })]
                                    }), e.jsxs("div", {
                                        className: "flex items-center justify-between py-2 border-b border-gray-100",
                                        children: [e.jsx("span", {
                                            className: "font-medium text-gray-600",
                                            children: "Provincia"
                                        }), e.jsx("span", {
                                            className: "text-gray-900",
                                            children: o.shippingProvince || o.province || "No especificada"
                                        })]
                                    }), e.jsxs("div", {
                                        className: "flex items-center justify-between py-2",
                                        children: [e.jsx("span", {
                                            className: "font-medium text-gray-600",
                                            children: "Código Postal"
                                        }), e.jsx("span", {
                                            className: "text-gray-900",
                                            children: o.shippingPostalCode || o.postalCode || "No especificado"
                                        })]
                                    })]
                                })]
                            })]
                        }), e.jsxs("div", {
                            className: "space-y-6",
                            children: [e.jsxs("div", {
                                className: "bg-white rounded-lg p-6 border border-gray-200 shadow-sm",
                                children: [e.jsxs("div", {
                                    className: "flex items-center gap-3 mb-4",
                                    children: [e.jsx("div", {
                                        className: "w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",
                                        children: e.jsx(Ls, {
                                            className: "w-4 h-4 text-white"
                                        })
                                    }), e.jsx("h3", {
                                        className: "text-lg font-semibold text-gray-800",
                                        children: "Dirección de Facturación"
                                    })]
                                }), e.jsxs("div", {
                                    className: "space-y-3",
                                    children: [e.jsxs("div", {
                                        className: "flex items-center justify-between py-2 border-b border-gray-100",
                                        children: [e.jsx("span", {
                                            className: "font-medium text-gray-600",
                                            children: "Dirección"
                                        }), e.jsx("span", {
                                            className: "text-gray-900",
                                            children: o.billingAddress || o.address || "No especificada"
                                        })]
                                    }), e.jsxs("div", {
                                        className: "flex items-center justify-between py-2 border-b border-gray-100",
                                        children: [e.jsx("span", {
                                            className: "font-medium text-gray-600",
                                            children: "Ciudad"
                                        }), e.jsx("span", {
                                            className: "text-gray-900",
                                            children: o.billingCity || o.city || "No especificada"
                                        })]
                                    }), e.jsxs("div", {
                                        className: "flex items-center justify-between py-2 border-b border-gray-100",
                                        children: [e.jsx("span", {
                                            className: "font-medium text-gray-600",
                                            children: "Provincia"
                                        }), e.jsx("span", {
                                            className: "text-gray-900",
                                            children: o.billingProvince || o.province || "No especificada"
                                        })]
                                    }), e.jsxs("div", {
                                        className: "flex items-center justify-between py-2",
                                        children: [e.jsx("span", {
                                            className: "font-medium text-gray-600",
                                            children: "Código Postal"
                                        }), e.jsx("span", {
                                            className: "text-gray-900",
                                            children: o.billingPostalCode || o.postalCode || "No especificado"
                                        })]
                                    })]
                                })]
                            }), e.jsxs("div", {
                                className: "bg-white rounded-lg p-6 border border-gray-200 shadow-sm",
                                children: [e.jsxs("div", {
                                    className: "flex items-center gap-3 mb-4",
                                    children: [e.jsx("div", {
                                        className: "w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center",
                                        children: e.jsx(ur, {
                                            className: "w-4 h-4 text-white"
                                        })
                                    }), e.jsx("h3", {
                                        className: "text-lg font-semibold text-gray-800",
                                        children: "Información de Cuenta"
                                    })]
                                }), e.jsxs("div", {
                                    className: "space-y-3",
                                    children: [e.jsxs("div", {
                                        className: "flex items-center justify-between py-2 border-b border-gray-100",
                                        children: [e.jsx("span", {
                                            className: "font-medium text-gray-600",
                                            children: "Rol"
                                        }), e.jsx(ye, {
                                            variant: $(o.role),
                                            className: "px-3 py-1",
                                            children: G(o.role)
                                        })]
                                    }), e.jsxs("div", {
                                        className: "flex items-center justify-between py-2 border-b border-gray-100",
                                        children: [e.jsx("span", {
                                            className: "font-medium text-gray-600",
                                            children: "Fecha de registro"
                                        }), e.jsx("span", {
                                            className: "text-gray-900",
                                            children: new Date(o.createdAt).toLocaleDateString("es-ES")
                                        })]
                                    }), e.jsxs("div", {
                                        className: "flex items-center justify-between py-2",
                                        children: [e.jsx("span", {
                                            className: "font-medium text-gray-600",
                                            children: "Última actualización"
                                        }), e.jsx("span", {
                                            className: "text-gray-900",
                                            children: new Date(o.updatedAt).toLocaleDateString("es-ES")
                                        })]
                                    })]
                                })]
                            }), e.jsxs("div", {
                                className: "bg-white rounded-lg p-6 border border-gray-200 shadow-sm",
                                children: [e.jsxs("div", {
                                    className: "flex items-center gap-3 mb-4",
                                    children: [e.jsx("div", {
                                        className: "w-8 h-8 bg-emerald-500 rounded-lg flex items-center justify-center",
                                        children: e.jsx(Ot, {
                                            className: "w-4 h-4 text-white"
                                        })
                                    }), e.jsx("h3", {
                                        className: "text-lg font-semibold text-gray-800",
                                        children: "Estadísticas de Pedidos"
                                    })]
                                }), e.jsxs("div", {
                                    className: "space-y-3",
                                    children: [e.jsxs("div", {
                                        className: "flex items-center justify-between py-2 border-b border-gray-100",
                                        children: [e.jsx("span", {
                                            className: "font-medium text-gray-600",
                                            children: "Total de pedidos"
                                        }), e.jsx("span", {
                                            className: "text-xl font-bold text-gray-900",
                                            children: o.totalOrders || o.orderCount || 0
                                        })]
                                    }), e.jsxs("div", {
                                        className: "flex items-center justify-between py-2 border-b border-gray-100",
                                        children: [e.jsx("span", {
                                            className: "font-medium text-gray-600",
                                            children: "Total gastado"
                                        }), e.jsx("span", {
                                            className: "text-xl font-bold text-gray-900",
                                            children: o.totalSpent ? `${Number(o.totalSpent).toFixed(2)}€` : "0.00€"
                                        })]
                                    }), o.lastOrderDate && e.jsxs("div", {
                                        className: "flex items-center justify-between py-2",
                                        children: [e.jsx("span", {
                                            className: "font-medium text-gray-600",
                                            children: "Último pedido"
                                        }), e.jsx("span", {
                                            className: "text-gray-900",
                                            children: new Date(o.lastOrderDate).toLocaleDateString("es-ES")
                                        })]
                                    })]
                                })]
                            })]
                        })]
                    }), e.jsxs(Hr, {
                        className: "pt-6 border-t border-gray-200",
                        children: [e.jsx(T, {
                            variant: "outline",
                            onClick: () => m(!1),
                            children: "Cerrar"
                        }), e.jsx(T, {
                            onClick: () => {
                                m(!1),
                                o && I(o)
                            },
                            children: "Editar Cliente"
                        })]
                    })]
                })
            }), e.jsx(Ps, {
                open: p,
                onOpenChange: j,
                children: e.jsxs(xs, {
                    className: "max-w-4xl max-h-[90vh] overflow-y-auto",
                    children: [e.jsxs(gs, {
                        children: [e.jsx(vs, {
                            children: "Editar Cliente"
                        }), e.jsx(Sr, {
                            children: "Modifica la información del cliente"
                        })]
                    }), c && e.jsxs("div", {
                        className: "space-y-6",
                        children: [e.jsxs("div", {
                            className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                            children: [e.jsxs("div", {
                                children: [e.jsx(V, {
                                    htmlFor: "editFirstName",
                                    children: "Nombre"
                                }), e.jsx(te, {
                                    id: "editFirstName",
                                    value: f.firstName || "",
                                    onChange: M => b(re => ({
                                        ...re,
                                        firstName: M.target.value
                                    })),
                                    placeholder: "Nombre"
                                })]
                            }), e.jsxs("div", {
                                children: [e.jsx(V, {
                                    htmlFor: "editLastName",
                                    children: "Apellidos"
                                }), e.jsx(te, {
                                    id: "editLastName",
                                    value: f.lastName || "",
                                    onChange: M => b(re => ({
                                        ...re,
                                        lastName: M.target.value
                                    })),
                                    placeholder: "Apellidos"
                                })]
                            }), e.jsxs("div", {
                                children: [e.jsx(V, {
                                    htmlFor: "editEmail",
                                    children: "Email"
                                }), e.jsx(te, {
                                    id: "editEmail",
                                    type: "email",
                                    value: f.email || "",
                                    onChange: M => b(re => ({
                                        ...re,
                                        email: M.target.value
                                    })),
                                    placeholder: "Email"
                                })]
                            }), e.jsxs("div", {
                                children: [e.jsx(V, {
                                    htmlFor: "editPhone",
                                    children: "Teléfono"
                                }), e.jsx(te, {
                                    id: "editPhone",
                                    value: f.phone || "",
                                    onChange: M => b(re => ({
                                        ...re,
                                        phone: M.target.value
                                    })),
                                    placeholder: "Teléfono"
                                })]
                            })]
                        }), e.jsxs("div", {
                            children: [e.jsx("h3", {
                                className: "text-lg font-semibold mb-3",
                                children: "Dirección de Envío"
                            }), e.jsxs("div", {
                                className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                                children: [e.jsxs("div", {
                                    children: [e.jsx(V, {
                                        htmlFor: "editShippingAddress",
                                        children: "Dirección de Envío"
                                    }), e.jsx(te, {
                                        id: "editShippingAddress",
                                        value: f.shippingAddress || "",
                                        onChange: M => b(re => ({
                                            ...re,
                                            shippingAddress: M.target.value
                                        })),
                                        placeholder: "Dirección de envío"
                                    })]
                                }), e.jsxs("div", {
                                    children: [e.jsx(V, {
                                        htmlFor: "editShippingCity",
                                        children: "Ciudad de Envío"
                                    }), e.jsx(te, {
                                        id: "editShippingCity",
                                        value: f.shippingCity || "",
                                        onChange: M => b(re => ({
                                            ...re,
                                            shippingCity: M.target.value
                                        })),
                                        placeholder: "Ciudad de envío"
                                    })]
                                }), e.jsxs("div", {
                                    children: [e.jsx(V, {
                                        htmlFor: "editShippingProvince",
                                        children: "Provincia de Envío"
                                    }), e.jsx(te, {
                                        id: "editShippingProvince",
                                        value: f.shippingProvince || "",
                                        onChange: M => b(re => ({
                                            ...re,
                                            shippingProvince: M.target.value
                                        })),
                                        placeholder: "Provincia de envío"
                                    })]
                                }), e.jsxs("div", {
                                    children: [e.jsx(V, {
                                        htmlFor: "editShippingPostalCode",
                                        children: "Código Postal de Envío"
                                    }), e.jsx(te, {
                                        id: "editShippingPostalCode",
                                        value: f.shippingPostalCode || "",
                                        onChange: M => b(re => ({
                                            ...re,
                                            shippingPostalCode: M.target.value
                                        })),
                                        placeholder: "Código postal de envío"
                                    })]
                                })]
                            })]
                        }), e.jsxs("div", {
                            children: [e.jsx("h3", {
                                className: "text-lg font-semibold mb-3",
                                children: "Dirección de Facturación"
                            }), e.jsxs("div", {
                                className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                                children: [e.jsxs("div", {
                                    children: [e.jsx(V, {
                                        htmlFor: "editBillingAddress",
                                        children: "Dirección de Facturación"
                                    }), e.jsx(te, {
                                        id: "editBillingAddress",
                                        value: f.billingAddress || "",
                                        onChange: M => b(re => ({
                                            ...re,
                                            billingAddress: M.target.value
                                        })),
                                        placeholder: "Dirección de facturación"
                                    })]
                                }), e.jsxs("div", {
                                    children: [e.jsx(V, {
                                        htmlFor: "editBillingCity",
                                        children: "Ciudad de Facturación"
                                    }), e.jsx(te, {
                                        id: "editBillingCity",
                                        value: f.billingCity || "",
                                        onChange: M => b(re => ({
                                            ...re,
                                            billingCity: M.target.value
                                        })),
                                        placeholder: "Ciudad de facturación"
                                    })]
                                }), e.jsxs("div", {
                                    children: [e.jsx(V, {
                                        htmlFor: "editBillingProvince",
                                        children: "Provincia de Facturación"
                                    }), e.jsx(te, {
                                        id: "editBillingProvince",
                                        value: f.billingProvince || "",
                                        onChange: M => b(re => ({
                                            ...re,
                                            billingProvince: M.target.value
                                        })),
                                        placeholder: "Provincia de facturación"
                                    })]
                                }), e.jsxs("div", {
                                    children: [e.jsx(V, {
                                        htmlFor: "editBillingPostalCode",
                                        children: "Código Postal de Facturación"
                                    }), e.jsx(te, {
                                        id: "editBillingPostalCode",
                                        value: f.billingPostalCode || "",
                                        onChange: M => b(re => ({
                                            ...re,
                                            billingPostalCode: M.target.value
                                        })),
                                        placeholder: "Código postal de facturación"
                                    })]
                                })]
                            })]
                        })]
                    }), e.jsxs(Hr, {
                        children: [e.jsx(T, {
                            variant: "outline",
                            onClick: () => j(!1),
                            children: "Cancelar"
                        }), e.jsx(T, {
                            onClick: oe,
                            disabled: F.isPending,
                            children: F.isPending ? "Guardando..." : "Guardar Cambios"
                        })]
                    })]
                })
            }), e.jsx(Fi, {
                open: g,
                onOpenChange: x,
                children: e.jsxs(Qa, {
                    children: [e.jsxs(Za, {
                        children: [e.jsx(Ja, {
                            children: "¿Eliminar cliente?"
                        }), e.jsxs(ei, {
                            children: ["Esta acción no se puede deshacer. Se eliminará permanentemente el cliente", y && ` "${y.firstName} ${y.lastName}"`, "y todos sus datos asociados."]
                        })]
                    }), e.jsxs(Xa, {
                        children: [e.jsx(si, {
                            children: "Cancelar"
                        }), e.jsx(ti, {
                            onClick: O,
                            className: "bg-red-600 hover:bg-red-700",
                            disabled: _.isPending,
                            children: _.isPending ? "Eliminando..." : "Eliminar"
                        })]
                    })]
                })
            })]
        })
    },
    ja = ({children: t}) => e.jsxs("div", {
        className: "flex min-h-screen bg-gray-100",
        children: [e.jsx($s, {}), e.jsxs("div", {
            className: "flex-1 p-8",
            children: [e.jsx("div", {
                className: "mb-6"
            }), e.jsx("div", {
                className: "flex-1",
                children: t
            })]
        })]
    });
function KW({order: t, isOpen: s, onClose: r}) {
    const {toast: n} = st(),
        a = pr(),
        i = h.useRef(null),
        o = h.useRef(null),
        [l, c] = h.useState({
            transportAgency: (t == null ? void 0 : t.transportAgency) || "",
            expeditionNumber: (t == null ? void 0 : t.expeditionNumber) || "",
            adminObservations: (t == null ? void 0 : t.adminObservations) || "",
            documents: (t == null ? void 0 : t.documents) || [],
            invoicePdf: (t == null ? void 0 : t.invoicePdf) || "",
            shippingAddress: (t == null ? void 0 : t.shippingAddress) || "",
            shippingCity: (t == null ? void 0 : t.shippingCity) || "",
            shippingProvince: (t == null ? void 0 : t.shippingProvince) || "",
            shippingPostalCode: (t == null ? void 0 : t.shippingPostalCode) || "",
            shippingCountry: (t == null ? void 0 : t.shippingCountry) || "España"
        }),
        [d, u] = h.useState(!1),
        m = nt({
            mutationFn: f => (console.log("🚀 Frontend: Enviando actualización de pedido:", {
                orderId: t.id,
                url: `/api/admin/orders/${t.id}/update-admin-info`,
                data: f
            }), Re("PATCH", `/api/admin/orders/${t.id}/update-admin-info`, f)),
            onSuccess: f => {
                console.log("✅ Frontend: Actualización exitosa:", f),
                n({
                    title: "Pedido actualizado",
                    description: "La información adicional se ha guardado correctamente."
                }),
                a.invalidateQueries({
                    queryKey: ["/api/admin/orders"]
                }),
                r()
            },
            onError: f => {
                var b,
                    N,
                    w,
                    C;
                console.error("❌ Frontend: Error al actualizar pedido:", f),
                console.error("❌ Frontend: Error details:", {
                    message: f.message,
                    response: (b = f.response) == null ? void 0 : b.data,
                    status: (N = f.response) == null ? void 0 : N.status
                }),
                n({
                    title: "Error",
                    description: ((C = (w = f.response) == null ? void 0 : w.data) == null ? void 0 : C.error) || f.message || "No se pudo actualizar el pedido.",
                    variant: "destructive"
                })
            }
        }),
        p = async (f, b) => {
            console.log("📤 Iniciando upload de archivo:", {
                fileName: f.name,
                fileSize: f.size,
                orderId: t.id,
                type: b
            });
            const N = new FormData;
            N.append("file", f),
            N.append("orderId", t.id.toString()),
            N.append("type", b);
            try {
                const w = await fetch("/api/upload/order-document", {
                    method: "POST",
                    body: N,
                    credentials: "same-origin"
                });
                if (console.log("📡 Response status:", w.status), !w.ok) {
                    const E = await w.json().catch(() => ({}));
                    throw console.error("❌ Upload error:", {
                        status: w.status,
                        error: E
                    }), new Error(E.error || `Error HTTP ${w.status}: No se pudo subir el archivo`)
                }
                const C = await w.json();
                return console.log("✅ Upload exitoso:", C), C.filePath
            } catch (w) {
                throw console.error("❌ Error en uploadFile:", w), new Error(w.message || "Error al subir archivo")
            }
        },
        j = async f => {
            const b = f.target.files;
            if (b) {
                u(!0);
                try {
                    const N = Array.from(b).map(C => p(C, "document")),
                        w = await Promise.all(N);
                    c(C => ({
                        ...C,
                        documents: [...C.documents, ...w]
                    })),
                    n({
                        title: "Documentos subidos",
                        description: `Se han subido ${b.length} documento(s) correctamente.`
                    })
                } catch (N) {
                    console.error("❌ Error en handleDocumentUpload:", N),
                    n({
                        title: "Error",
                        description: N.message || "Error al subir los documentos.",
                        variant: "destructive"
                    })
                } finally {
                    u(!1),
                    i.current && (i.current.value = "")
                }
            }
        },
        g = async f => {
            var w;
            const b = (w = f.target.files) == null ? void 0 : w[0];
            if (!b)
                return;
            if (!["application/pdf", "image/jpeg", "image/jpg", "image/png"].includes(b.type)) {
                n({
                    title: "Error",
                    description: "Solo se permiten archivos PDF e imágenes (JPG, PNG) para la factura.",
                    variant: "destructive"
                });
                return
            }
            u(!0);
            try {
                const C = await p(b, "invoice");
                c(E => ({
                    ...E,
                    invoicePdf: C
                })),
                n({
                    title: "Factura subida",
                    description: "La factura se ha subido correctamente."
                })
            } catch (C) {
                console.error("❌ Error en handleInvoiceUpload:", C),
                n({
                    title: "Error",
                    description: C.message || "Error al subir la factura.",
                    variant: "destructive"
                })
            } finally {
                u(!1),
                o.current && (o.current.value = "")
            }
        },
        x = f => {
            c(b => ({
                ...b,
                documents: b.documents.filter((N, w) => w !== f)
            }))
        },
        y = () => {
            c(f => ({
                ...f,
                invoicePdf: ""
            }))
        },
        v = f => {
            f.preventDefault(),
            m.mutate(l)
        };
    return t ? e.jsx(Ps, {
        open: s,
        onOpenChange: r,
        children: e.jsxs(xs, {
            className: "max-w-2xl max-h-[90vh] overflow-y-auto",
            children: [e.jsx(gs, {
                children: e.jsxs(vs, {
                    children: ["Información Adicional - Pedido ", t.orderNumber]
                })
            }), e.jsxs("form", {
                onSubmit: v,
                className: "space-y-6",
                children: [e.jsxs("div", {
                    className: "bg-gray-50 p-4 rounded-lg",
                    children: [e.jsx("h3", {
                        className: "font-semibold mb-2",
                        children: "Información del Pedido"
                    }), e.jsxs("div", {
                        className: "grid grid-cols-2 gap-4 text-sm",
                        children: [e.jsxs("div", {
                            children: [e.jsx("span", {
                                className: "font-medium",
                                children: "Cliente:"
                            }), " ", t.customerName]
                        }), e.jsxs("div", {
                            children: [e.jsx("span", {
                                className: "font-medium",
                                children: "Email:"
                            }), " ", t.customerEmail]
                        }), e.jsxs("div", {
                            children: [e.jsx("span", {
                                className: "font-medium",
                                children: "Total:"
                            }), " ", t.total, "€"]
                        }), e.jsxs("div", {
                            children: [e.jsx("span", {
                                className: "font-medium",
                                children: "Estado:"
                            }), " ", t.orderStatus]
                        })]
                    })]
                }), e.jsxs("div", {
                    className: "bg-blue-50 p-4 rounded-lg",
                    children: [e.jsx("h3", {
                        className: "font-semibold mb-3",
                        children: "Dirección de Envío"
                    }), e.jsxs("div", {
                        className: "grid grid-cols-1 md:grid-cols-2 gap-3",
                        children: [e.jsxs("div", {
                            className: "md:col-span-2",
                            children: [e.jsx(V, {
                                htmlFor: "shippingAddress",
                                children: "Dirección"
                            }), e.jsx(te, {
                                id: "shippingAddress",
                                value: l.shippingAddress,
                                onChange: f => c(b => ({
                                    ...b,
                                    shippingAddress: f.target.value
                                })),
                                placeholder: "Calle, número, etc."
                            })]
                        }), e.jsxs("div", {
                            children: [e.jsx(V, {
                                htmlFor: "shippingCity",
                                children: "Ciudad"
                            }), e.jsx(te, {
                                id: "shippingCity",
                                value: l.shippingCity,
                                onChange: f => c(b => ({
                                    ...b,
                                    shippingCity: f.target.value
                                })),
                                placeholder: "Ciudad"
                            })]
                        }), e.jsxs("div", {
                            children: [e.jsx(V, {
                                htmlFor: "shippingProvince",
                                children: "Provincia"
                            }), e.jsx(te, {
                                id: "shippingProvince",
                                value: l.shippingProvince,
                                onChange: f => c(b => ({
                                    ...b,
                                    shippingProvince: f.target.value
                                })),
                                placeholder: "Provincia"
                            })]
                        }), e.jsxs("div", {
                            children: [e.jsx(V, {
                                htmlFor: "shippingPostalCode",
                                children: "Código Postal"
                            }), e.jsx(te, {
                                id: "shippingPostalCode",
                                value: l.shippingPostalCode,
                                onChange: f => c(b => ({
                                    ...b,
                                    shippingPostalCode: f.target.value
                                })),
                                placeholder: "12345"
                            })]
                        }), e.jsxs("div", {
                            children: [e.jsx(V, {
                                htmlFor: "shippingCountry",
                                children: "País"
                            }), e.jsx(te, {
                                id: "shippingCountry",
                                value: l.shippingCountry,
                                onChange: f => c(b => ({
                                    ...b,
                                    shippingCountry: f.target.value
                                })),
                                placeholder: "España"
                            })]
                        })]
                    })]
                }), e.jsxs("div", {
                    className: "space-y-4",
                    children: [e.jsxs("div", {
                        children: [e.jsx(V, {
                            htmlFor: "transportAgency",
                            children: "Agencia de Transporte"
                        }), e.jsx(te, {
                            id: "transportAgency",
                            value: l.transportAgency,
                            onChange: f => c(b => ({
                                ...b,
                                transportAgency: f.target.value
                            })),
                            placeholder: "Nombre de la agencia de transporte"
                        })]
                    }), e.jsxs("div", {
                        children: [e.jsx(V, {
                            htmlFor: "expeditionNumber",
                            children: "Número de Expedición"
                        }), e.jsx(te, {
                            id: "expeditionNumber",
                            value: l.expeditionNumber,
                            onChange: f => c(b => ({
                                ...b,
                                expeditionNumber: f.target.value
                            })),
                            placeholder: "Número de seguimiento o expedición"
                        })]
                    }), e.jsxs("div", {
                        children: [e.jsx(V, {
                            htmlFor: "adminObservations",
                            children: "Observaciones"
                        }), e.jsx(Ut, {
                            id: "adminObservations",
                            value: l.adminObservations,
                            onChange: f => c(b => ({
                                ...b,
                                adminObservations: f.target.value
                            })),
                            placeholder: "Observaciones adicionales para el cliente...",
                            rows: 4
                        })]
                    }), e.jsxs("div", {
                        children: [e.jsx(V, {
                            children: "Documentos"
                        }), e.jsxs("div", {
                            className: "mt-2",
                            children: [e.jsxs(T, {
                                type: "button",
                                variant: "outline",
                                onClick: () => {
                                    var f;
                                    return (f = i.current) == null ? void 0 : f.click()
                                },
                                disabled: d,
                                className: "mb-3",
                                children: [e.jsx(li, {
                                    className: "w-4 h-4 mr-2"
                                }), d ? "Subiendo..." : "Subir Documentos"]
                            }), e.jsx("input", {
                                ref: i,
                                type: "file",
                                multiple: !0,
                                accept: ".pdf,.jpg,.jpeg,.png",
                                onChange: j,
                                className: "hidden"
                            }), l.documents.length > 0 && e.jsx("div", {
                                className: "space-y-2",
                                children: l.documents.map((f, b) => e.jsxs("div", {
                                    className: "flex items-center justify-between bg-gray-50 p-2 rounded",
                                    children: [e.jsxs("div", {
                                        className: "flex items-center",
                                        children: [e.jsx(Kn, {
                                            className: "w-4 h-4 mr-2"
                                        }), e.jsx("span", {
                                            className: "text-sm",
                                            children: f.split("/").pop()
                                        })]
                                    }), e.jsx(T, {
                                        type: "button",
                                        variant: "ghost",
                                        size: "sm",
                                        onClick: () => x(b),
                                        children: e.jsx(tr, {
                                            className: "w-4 h-4"
                                        })
                                    })]
                                }, b))
                            })]
                        })]
                    }), e.jsxs("div", {
                        children: [e.jsx(V, {
                            children: "Factura (PDF o Imagen)"
                        }), e.jsxs("div", {
                            className: "mt-2",
                            children: [e.jsxs(T, {
                                type: "button",
                                variant: "outline",
                                onClick: () => {
                                    var f;
                                    return (f = o.current) == null ? void 0 : f.click()
                                },
                                disabled: d,
                                className: "mb-3",
                                children: [e.jsx(li, {
                                    className: "w-4 h-4 mr-2"
                                }), d ? "Subiendo..." : "Subir Factura (PDF/Imagen)"]
                            }), e.jsx("input", {
                                ref: o,
                                type: "file",
                                accept: ".pdf,.jpg,.jpeg,.png",
                                onChange: g,
                                className: "hidden"
                            }), l.invoicePdf && e.jsxs("div", {
                                className: "flex items-center justify-between bg-gray-50 p-2 rounded",
                                children: [e.jsxs("div", {
                                    className: "flex items-center",
                                    children: [e.jsx(Kn, {
                                        className: "w-4 h-4 mr-2"
                                    }), e.jsx("span", {
                                        className: "text-sm",
                                        children: l.invoicePdf.split("/").pop()
                                    })]
                                }), e.jsx(T, {
                                    type: "button",
                                    variant: "ghost",
                                    size: "sm",
                                    onClick: y,
                                    children: e.jsx(tr, {
                                        className: "w-4 h-4"
                                    })
                                })]
                            })]
                        })]
                    })]
                }), e.jsxs("div", {
                    className: "flex justify-end space-x-2",
                    children: [e.jsx(T, {
                        type: "button",
                        variant: "outline",
                        onClick: r,
                        children: "Cancelar"
                    }), e.jsx(T, {
                        type: "submit",
                        disabled: m.isPending || d,
                        children: m.isPending ? "Guardando..." : "Guardar Cambios"
                    })]
                })]
            })]
        })
    }) : null
}
const z1 = {
        pagado: {
            label: "Pagado",
            color: "bg-green-100 text-green-800 border-green-200",
            icon: e.jsx(Rt, {
                className: "h-4 w-4"
            })
        },
        pendiente: {
            label: "Pendiente",
            color: "bg-yellow-100 text-yellow-800 border-yellow-200",
            icon: e.jsx(Bs, {
                className: "h-4 w-4"
            })
        }
    },
    $1 = {
        pendiente_verificar: {
            label: "Pendiente Verificar",
            color: "bg-orange-100 text-orange-800 border-orange-200",
            icon: e.jsx(Xc, {
                className: "h-4 w-4"
            }),
            description: "El pedido está pendiente de verificación"
        },
        verificado: {
            label: "Verificado",
            color: "bg-blue-100 text-blue-800 border-blue-200",
            icon: e.jsx(Rt, {
                className: "h-4 w-4"
            }),
            description: "El pedido ha sido verificado"
        },
        embalado: {
            label: "Embalado",
            color: "bg-purple-100 text-purple-800 border-purple-200",
            icon: e.jsx(Ot, {
                className: "h-4 w-4"
            }),
            description: "El pedido está embalado"
        },
        enviado: {
            label: "Enviado",
            color: "bg-indigo-100 text-indigo-800 border-indigo-200",
            icon: e.jsx(er, {
                className: "h-4 w-4"
            }),
            description: "El pedido ha sido enviado"
        },
        incidencia: {
            label: "Incidencia",
            color: "bg-red-100 text-red-800 border-red-200",
            icon: e.jsx(zs, {
                className: "h-4 w-4"
            }),
            description: "Hay una incidencia con el pedido"
        }
    };
function YW({order: t, isOpen: s, onClose: r}) {
    var x;
    const [n, a] = h.useState(null),
        [i, o] = h.useState(!1),
        [l, c] = h.useState(!1),
        [d, u] = h.useState({
            shippingAddress: "",
            shippingCity: "",
            shippingProvince: "",
            shippingPostalCode: "",
            shippingCountry: ""
        }),
        m = async () => {
            if (t != null && t.id) {
                o(!0);
                try {
                    const y = await fetch(`/api/admin/orders/${t.id}?t=${Date.now()}`);
                    if (!y.ok)
                        throw new Error("Error al cargar detalles del pedido");
                    const v = await y.json();
                    a(v),
                    u({
                        shippingAddress: v.shippingAddress || "",
                        shippingCity: v.shippingCity || "",
                        shippingProvince: v.shippingProvince || "",
                        shippingPostalCode: v.shippingPostalCode || "",
                        shippingCountry: v.shippingCountry || ""
                    })
                } catch (y) {
                    console.error("Error al cargar detalles del pedido:", y)
                } finally {
                    o(!1)
                }
            }
        },
        p = async () => {
            try {
                (await fetch(`/api/orders/${t.id}`, {
                    method: "PATCH",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        transportAgency: n.transportAgency || "",
                        expeditionNumber: n.expeditionNumber || "",
                        adminObservations: n.adminObservations || "",
                        documents: n.documents || [],
                        invoicePdf: n.invoicePdf || "",
                        shippingAddress: d.shippingAddress,
                        shippingCity: d.shippingCity,
                        shippingProvince: d.shippingProvince,
                        shippingPostalCode: d.shippingPostalCode,
                        shippingCountry: d.shippingCountry
                    })
                })).ok ? (c(!1), m()) : console.error("Error al actualizar dirección")
            } catch (y) {
                console.error("Error al guardar dirección:", y)
            }
        };
    if (h.useEffect(() => {
        s && m()
    }, [s, t == null ? void 0 : t.id]), h.useEffect(() => {
        s && t && m()
    }, [t == null ? void 0 : t.orderStatus, t == null ? void 0 : t.paymentStatus, t == null ? void 0 : t.updatedAt, t == null ? void 0 : t._refetch]), !t)
        return null;
    const j = z1[n == null ? void 0 : n.paymentStatus] || z1.pendiente,
        g = $1[n == null ? void 0 : n.orderStatus] || $1.pendiente_verificar;
    return e.jsx(Ps, {
        open: s,
        onOpenChange: r,
        children: e.jsxs(xs, {
            className: "max-w-4xl max-h-[90vh] overflow-y-auto",
            children: [e.jsx(gs, {
                children: e.jsxs(vs, {
                    children: ["Detalles del Pedido #", t.orderNumber]
                })
            }), i ? e.jsx("div", {
                className: "flex items-center justify-center py-8",
                children: e.jsx("div", {
                    className: "animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"
                })
            }) : n ? e.jsxs("div", {
                className: "space-y-6",
                children: [e.jsxs("div", {
                    className: "grid grid-cols-1 md:grid-cols-3 gap-4",
                    children: [e.jsx(U, {
                        children: e.jsxs(q, {
                            className: "pt-6",
                            children: [e.jsxs("div", {
                                className: "flex items-center mb-4",
                                children: [e.jsx(Xc, {
                                    className: "h-5 w-5 mr-2 text-gray-500"
                                }), e.jsx("h3", {
                                    className: "font-semibold",
                                    children: "Fecha del Pedido"
                                })]
                            }), e.jsx("p", {
                                children: Bt(new Date(n.createdAt), "PPP", {
                                    locale: ks
                                })
                            }), e.jsx("p", {
                                className: "text-sm text-gray-500",
                                children: Bt(new Date(n.createdAt), "p", {
                                    locale: ks
                                })
                            })]
                        })
                    }), e.jsx(U, {
                        children: e.jsxs(q, {
                            className: "pt-6",
                            children: [e.jsxs("div", {
                                className: "flex items-center mb-4",
                                children: [e.jsx(Ot, {
                                    className: "h-5 w-5 mr-2 text-gray-500"
                                }), e.jsx("h3", {
                                    className: "font-semibold",
                                    children: "Total del Pedido"
                                })]
                            }), e.jsx("p", {
                                className: "text-2xl font-bold",
                                children: jt(n.total, !1)
                            }), e.jsx("p", {
                                className: "text-sm text-gray-500",
                                children: "IVA incluido"
                            })]
                        })
                    }), e.jsx(U, {
                        children: e.jsxs(q, {
                            className: "pt-6",
                            children: [e.jsxs("div", {
                                className: "flex items-center mb-4",
                                children: [e.jsx(us, {
                                    className: "h-5 w-5 mr-2 text-gray-500"
                                }), e.jsx("h3", {
                                    className: "font-semibold",
                                    children: "Estados del Pedido"
                                })]
                            }), e.jsxs("div", {
                                className: "mb-3",
                                children: [e.jsx("p", {
                                    className: "text-sm text-gray-600 mb-1",
                                    children: "Estado del Pago:"
                                }), e.jsxs("div", {
                                    className: `inline-flex items-center px-3 py-1 rounded-full text-sm ${j.color}`,
                                    children: [j.icon, e.jsx("span", {
                                        className: "ml-2 font-medium",
                                        children: j.label
                                    })]
                                })]
                            }), e.jsxs("div", {
                                className: "mb-3",
                                children: [e.jsx("p", {
                                    className: "text-sm text-gray-600 mb-1",
                                    children: "Estado del Pedido:"
                                }), e.jsxs("div", {
                                    className: `inline-flex items-center px-3 py-1 rounded-full text-sm ${g.color}`,
                                    children: [g.icon, e.jsx("span", {
                                        className: "ml-2 font-medium",
                                        children: g.label
                                    })]
                                }), g.description && e.jsx("p", {
                                    className: "text-sm text-gray-500 mt-2",
                                    children: g.description
                                })]
                            })]
                        })
                    })]
                }), e.jsxs("div", {
                    className: "grid grid-cols-1 md:grid-cols-2 gap-6",
                    children: [e.jsxs(U, {
                        children: [e.jsx(ne, {
                            children: e.jsxs(ae, {
                                className: "flex items-center gap-2",
                                children: [e.jsx(Lr, {
                                    className: "h-5 w-5"
                                }), "Información del Cliente"]
                            })
                        }), e.jsx(q, {
                            children: e.jsxs("div", {
                                className: "space-y-2",
                                children: [e.jsxs("p", {
                                    children: [e.jsx("strong", {
                                        children: "Nombre:"
                                    }), " ", (n == null ? void 0 : n.customerName) || "Sin especificar"]
                                }), e.jsxs("p", {
                                    children: [e.jsx("strong", {
                                        children: "Email:"
                                    }), " ", (n == null ? void 0 : n.customerEmail) || "Sin especificar"]
                                }), e.jsxs("p", {
                                    children: [e.jsx("strong", {
                                        children: "Teléfono:"
                                    }), " ", (n == null ? void 0 : n.customerPhone) || "Sin especificar"]
                                })]
                            })
                        })]
                    }), e.jsxs(U, {
                        children: [e.jsx(ne, {
                            children: e.jsxs(ae, {
                                className: "flex items-center justify-between",
                                children: [e.jsxs("div", {
                                    className: "flex items-center gap-2",
                                    children: [e.jsx(uo, {
                                        className: "h-5 w-5"
                                    }), "Dirección de Envío"]
                                }), e.jsx(T, {
                                    variant: "outline",
                                    size: "sm",
                                    onClick: () => c(!l),
                                    children: l ? "Cancelar" : "Editar"
                                })]
                            })
                        }), e.jsx(q, {
                            children: l ? e.jsxs("div", {
                                className: "space-y-4",
                                children: [e.jsxs("div", {
                                    children: [e.jsx(V, {
                                        htmlFor: "editAddress",
                                        children: "Dirección"
                                    }), e.jsx(te, {
                                        id: "editAddress",
                                        value: d.shippingAddress || "",
                                        onChange: y => u(v => ({
                                            ...v,
                                            shippingAddress: y.target.value
                                        })),
                                        placeholder: "Dirección"
                                    })]
                                }), e.jsxs("div", {
                                    className: "grid grid-cols-2 gap-4",
                                    children: [e.jsxs("div", {
                                        children: [e.jsx(V, {
                                            htmlFor: "editCity",
                                            children: "Ciudad"
                                        }), e.jsx(te, {
                                            id: "editCity",
                                            value: d.shippingCity || "",
                                            onChange: y => u(v => ({
                                                ...v,
                                                shippingCity: y.target.value
                                            })),
                                            placeholder: "Ciudad"
                                        })]
                                    }), e.jsxs("div", {
                                        children: [e.jsx(V, {
                                            htmlFor: "editProvince",
                                            children: "Provincia"
                                        }), e.jsx(te, {
                                            id: "editProvince",
                                            value: d.shippingProvince || "",
                                            onChange: y => u(v => ({
                                                ...v,
                                                shippingProvince: y.target.value
                                            })),
                                            placeholder: "Provincia"
                                        })]
                                    })]
                                }), e.jsxs("div", {
                                    className: "grid grid-cols-2 gap-4",
                                    children: [e.jsxs("div", {
                                        children: [e.jsx(V, {
                                            htmlFor: "editPostalCode",
                                            children: "Código Postal"
                                        }), e.jsx(te, {
                                            id: "editPostalCode",
                                            value: d.shippingPostalCode || "",
                                            onChange: y => u(v => ({
                                                ...v,
                                                shippingPostalCode: y.target.value
                                            })),
                                            placeholder: "Código Postal"
                                        })]
                                    }), e.jsxs("div", {
                                        children: [e.jsx(V, {
                                            htmlFor: "editCountry",
                                            children: "País"
                                        }), e.jsx(te, {
                                            id: "editCountry",
                                            value: d.shippingCountry || "",
                                            onChange: y => u(v => ({
                                                ...v,
                                                shippingCountry: y.target.value
                                            })),
                                            placeholder: "País"
                                        })]
                                    })]
                                }), e.jsxs("div", {
                                    className: "flex gap-2",
                                    children: [e.jsx(T, {
                                        onClick: p,
                                        children: "Guardar"
                                    }), e.jsx(T, {
                                        variant: "outline",
                                        onClick: () => c(!1),
                                        children: "Cancelar"
                                    })]
                                })]
                            }) : e.jsxs("div", {
                                className: "space-y-2",
                                children: [e.jsx("p", {
                                    children: n.shippingAddress
                                }), e.jsxs("p", {
                                    children: [n.shippingCity, n.shippingProvince ? `, ${n.shippingProvince}` : " (Sin provincia)", " ", n.shippingPostalCode]
                                }), e.jsx("p", {
                                    children: n.shippingCountry
                                }), n.shippingCost && e.jsxs("p", {
                                    children: [e.jsx("strong", {
                                        children: "Costo de envío:"
                                    }), " ", jt(n.shippingCost, !1)]
                                })]
                            })
                        })]
                    })]
                }), (n.transportAgency || n.expeditionNumber || n.adminObservations) && e.jsxs(U, {
                    children: [e.jsx(ne, {
                        children: e.jsxs(ae, {
                            className: "flex items-center gap-2",
                            children: [e.jsx(er, {
                                className: "h-5 w-5"
                            }), "Información de Transporte"]
                        })
                    }), e.jsxs(q, {
                        className: "space-y-3",
                        children: [n.transportAgency && e.jsxs("div", {
                            children: [e.jsx("span", {
                                className: "font-medium text-gray-700",
                                children: "Agencia de transporte:"
                            }), e.jsx("p", {
                                className: "text-gray-900",
                                children: n.transportAgency
                            })]
                        }), n.expeditionNumber && e.jsxs("div", {
                            children: [e.jsx("span", {
                                className: "font-medium text-gray-700",
                                children: "Número de expedición:"
                            }), e.jsx("p", {
                                className: "text-gray-900 font-mono",
                                children: n.expeditionNumber
                            })]
                        }), n.adminObservations && e.jsxs("div", {
                            children: [e.jsx("span", {
                                className: "font-medium text-gray-700",
                                children: "Observaciones:"
                            }), e.jsx("p", {
                                className: "text-gray-900",
                                children: n.adminObservations
                            })]
                        })]
                    })]
                }), n.documents && n.documents.length > 0 || n.invoicePdf ? e.jsxs(U, {
                    children: [e.jsx(ne, {
                        children: e.jsxs(ae, {
                            className: "flex items-center gap-2",
                            children: [e.jsx(Kn, {
                                className: "h-5 w-5"
                            }), "Documentos del Pedido"]
                        })
                    }), e.jsxs(q, {
                        className: "space-y-4",
                        children: [n.documents && n.documents.length > 0 && e.jsxs("div", {
                            children: [e.jsx("h4", {
                                className: "font-medium text-gray-700 mb-3",
                                children: "Documentos:"
                            }), e.jsx("div", {
                                className: "space-y-2",
                                children: n.documents.map((y, v) => e.jsxs("div", {
                                    className: "flex items-center justify-between bg-gray-50 p-3 rounded-lg",
                                    children: [e.jsxs("div", {
                                        className: "flex items-center",
                                        children: [e.jsx(Kn, {
                                            className: "w-4 h-4 mr-2 text-gray-500"
                                        }), e.jsx("span", {
                                            className: "text-sm",
                                            children: y.split("/").pop()
                                        })]
                                    }), e.jsxs(T, {
                                        variant: "outline",
                                        size: "sm",
                                        onClick: () => window.open(y, "_blank"),
                                        children: [e.jsx(Or, {
                                            className: "w-4 h-4 mr-1"
                                        }), "Descargar"]
                                    })]
                                }, v))
                            })]
                        }), n.invoicePdf && e.jsxs("div", {
                            children: [e.jsx("h4", {
                                className: "font-medium text-gray-700 mb-3",
                                children: "Factura:"
                            }), e.jsxs("div", {
                                className: "flex items-center justify-between bg-blue-50 p-3 rounded-lg",
                                children: [e.jsxs("div", {
                                    className: "flex items-center",
                                    children: [e.jsx(Kn, {
                                        className: "w-4 h-4 mr-2 text-blue-500"
                                    }), e.jsx("span", {
                                        className: "text-sm font-medium",
                                        children: n.invoicePdf.split("/").pop()
                                    })]
                                }), e.jsxs(T, {
                                    variant: "outline",
                                    size: "sm",
                                    onClick: () => window.open(n.invoicePdf, "_blank"),
                                    children: [e.jsx(Or, {
                                        className: "w-4 h-4 mr-1"
                                    }), "Descargar"]
                                })]
                            })]
                        })]
                    })]
                }) : null, e.jsxs(U, {
                    children: [e.jsxs(ne, {
                        children: [e.jsx(ae, {
                            children: "Artículos del Pedido"
                        }), e.jsxs("div", {
                            className: "text-xs text-gray-500",
                            children: [((x = n.items) == null ? void 0 : x.length) || 0, " artículo(s) en este pedido"]
                        })]
                    }), e.jsx(q, {
                        children: n.items && n.items.length > 0 ? e.jsxs("div", {
                            className: "space-y-4",
                            children: [n.items.map((y, v) => e.jsxs("div", {
                                className: "flex items-start justify-between p-4 border rounded-lg",
                                children: [e.jsxs("div", {
                                    className: "flex-1",
                                    children: [e.jsxs("div", {
                                        className: "flex items-center gap-2 mb-2",
                                        children: [e.jsx(Ot, {
                                            className: "h-4 w-4 text-gray-500"
                                        }), e.jsx("h4", {
                                            className: "font-semibold",
                                            children: y.partName || y.descripcionArticulo
                                        })]
                                    }), e.jsxs("div", {
                                        className: "space-y-1 text-sm text-gray-600",
                                        children: [y.partFamily && e.jsxs("p", {
                                            children: [e.jsx("span", {
                                                className: "font-medium",
                                                children: "Familia:"
                                            }), " ", y.partFamily]
                                        }), e.jsxs("div", {
                                            className: "bg-gray-50 p-2 rounded text-xs",
                                            children: [e.jsx("p", {
                                                className: "font-medium text-gray-700 mb-1",
                                                children: "Referencias:"
                                            }), y.refLocal && e.jsxs("p", {
                                                children: [e.jsx("span", {
                                                    className: "font-medium",
                                                    children: "Ref Principal:"
                                                }), " ", y.refLocal]
                                            }), y.partReference && e.jsxs("p", {
                                                children: [e.jsx("span", {
                                                    className: "font-medium",
                                                    children: "Código:"
                                                }), " ", y.partReference]
                                            }), y.refPrincipal && e.jsxs("p", {
                                                children: [e.jsx("span", {
                                                    className: "font-medium",
                                                    children: "Ref Fabricante:"
                                                }), " ", y.refPrincipal]
                                            })]
                                        }), (y.vehicleBrand || y.vehicleModel || y.vehicleMarca || y.vehicleModelo || y.vehicleYear || y.vehicleVersion) && e.jsxs("div", {
                                            className: "bg-blue-50 p-2 rounded text-xs",
                                            children: [e.jsx("p", {
                                                className: "font-medium text-blue-700 mb-1",
                                                children: "Vehículo compatible:"
                                            }), e.jsxs("div", {
                                                className: "space-y-1",
                                                children: [(y.vehicleBrand || y.vehicleMarca) && e.jsxs("p", {
                                                    children: [e.jsx("span", {
                                                        className: "font-medium",
                                                        children: "Marca:"
                                                    }), " ", y.vehicleBrand || y.vehicleMarca]
                                                }), (y.vehicleModel || y.vehicleModelo) && e.jsxs("p", {
                                                    children: [e.jsx("span", {
                                                        className: "font-medium",
                                                        children: "Modelo:"
                                                    }), " ", y.vehicleModel || y.vehicleModelo]
                                                }), (y.vehicleYear || y.vehicleAnyo) && e.jsxs("p", {
                                                    children: [e.jsx("span", {
                                                        className: "font-medium",
                                                        children: "Año:"
                                                    }), " ", y.vehicleYear || y.vehicleAnyo]
                                                }), y.vehicleVersion && e.jsxs("p", {
                                                    children: [e.jsx("span", {
                                                        className: "font-medium",
                                                        children: "Versión:"
                                                    }), " ", y.vehicleVersion]
                                                })]
                                            })]
                                        })]
                                    })]
                                }), e.jsxs("div", {
                                    className: "text-right",
                                    children: [e.jsxs("p", {
                                        className: "font-semibold",
                                        children: [jt(y.price, !1), " × ", y.quantity]
                                    }), e.jsxs("p", {
                                        className: "text-sm text-gray-500",
                                        children: ["Total: ", jt((parseFloat(y.price) || 0) * y.quantity, !1)]
                                    })]
                                })]
                            }, v)), e.jsx("div", {
                                className: "mt-6 pt-4 border-t border-gray-200",
                                children: e.jsxs("div", {
                                    className: "space-y-2",
                                    children: [e.jsxs("div", {
                                        className: "flex justify-between text-sm",
                                        children: [e.jsx("span", {
                                            children: "Subtotal productos:"
                                        }), e.jsx("span", {
                                            children: jt(n.subtotal || 0, !1)
                                        })]
                                    }), e.jsxs("div", {
                                        className: "flex justify-between text-sm",
                                        children: [e.jsx("span", {
                                            children: "Gastos de envío:"
                                        }), e.jsx("span", {
                                            children: jt(n.shippingCost || 0, !1)
                                        })]
                                    }), e.jsxs("div", {
                                        className: "flex justify-between font-bold text-lg pt-2 border-t",
                                        children: [e.jsx("span", {
                                            children: "Total del pedido:"
                                        }), e.jsx("span", {
                                            children: jt(n.total || 0, !1)
                                        })]
                                    })]
                                })
                            })]
                        }) : e.jsxs("div", {
                            className: "text-center py-8 text-gray-500",
                            children: [e.jsx(Ot, {
                                className: "h-12 w-12 mx-auto mb-4 opacity-50"
                            }), e.jsx("p", {
                                children: "No se encontraron artículos en este pedido."
                            })]
                        })
                    })]
                }), n.notes && e.jsxs(U, {
                    children: [e.jsx(ne, {
                        children: e.jsx(ae, {
                            children: "Notas del Pedido"
                        })
                    }), e.jsx(q, {
                        children: e.jsx("p", {
                            className: "text-gray-600",
                            children: n.notes
                        })
                    })]
                })]
            }) : e.jsx("div", {
                className: "text-center py-8",
                children: e.jsx("p", {
                    className: "text-muted-foreground",
                    children: "No se pudieron cargar los detalles del pedido"
                })
            })]
        })
    })
}
const V1 = t => ({
        bank_transfer: "Transferencia",
        redsys: "Redsys",
        stripe: "Tarjeta (Stripe)",
        paypal: "PayPal",
        cash: "Efectivo"
    })[t] || t,
    U1 = () => {
        ut();
        const t = pr(),
            {toast: s} = st(),
            [r, n] = h.useState(""),
            [a, i] = h.useState("all"),
            [o, l] = h.useState("all"),
            [c, d] = h.useState("all"),
            [u, m] = h.useState("all"),
            [p, j] = h.useState(null),
            [g, x] = h.useState(!1),
            [y, v] = h.useState(null),
            [f, b] = h.useState(!1),
            [N, w] = h.useState(new Set),
            [C, E] = h.useState({}),
            [k, R] = h.useState(new Set),
            {data: H, isLoading: z, error: A} = Te({
                queryKey: ["/api/admin/orders"]
            });
        Te({
            queryKey: ["/api/admin/payment-methods"]
        });
        const $ = h.useMemo(() => !H || !Array.isArray(H) ? [] : H.map(he => he.paymentMethod).filter((he, D, K) => he && K.indexOf(he) === D).sort(), [H]),
            G = h.useMemo(() => !H || !Array.isArray(H) ? [] : H.filter(Y => {
                var ce,
                    le,
                    Se;
                const he = r === "" || ((ce = Y.customerEmail) == null ? void 0 : ce.toLowerCase().includes(r.toLowerCase())) || ((le = Y.customerName) == null ? void 0 : le.toLowerCase().includes(r.toLowerCase())) || Y.id.toString().includes(r) || ((Se = Y.orderNumber) == null ? void 0 : Se.toLowerCase().includes(r.toLowerCase())),
                    D = a === "all" || Y.paymentStatus === a,
                    K = o === "all" || Y.orderStatus === o,
                    L = c === "all" || Y.paymentMethod === c,
                    ee = (() => {
                        if (u === "all")
                            return !0;
                        const pe = new Date(Y.createdAt),
                            _e = new Date;
                        switch (u) {
                        case "today":
                            return pe.toDateString() === _e.toDateString();
                        case "week":
                            const dt = new Date(_e.getTime() - 7 * 24 * 60 * 60 * 1e3);
                            return pe >= dt;
                        case "month":
                            const B = new Date(_e.getTime() - 30 * 24 * 60 * 60 * 1e3);
                            return pe >= B;
                        default:
                            return !0
                        }
                    })();
                return he && D && K && L && ee
            }), [H, r, a, o, c, u]),
            F = nt({
                mutationFn: async ({orderId: Y, paymentStatus: he}) => Re(`/api/admin/orders/${Y}/payment-status`, {
                    method: "PATCH",
                    body: JSON.stringify({
                        paymentStatus: he
                    }),
                    headers: {
                        "Content-Type": "application/json"
                    }
                }),
                onSuccess: (Y, {orderId: he}) => {
                    t.invalidateQueries({
                        queryKey: ["/api/admin/orders"]
                    }),
                    y && v(D => D ? {
                        ...D,
                        _refetch: Date.now()
                    } : null),
                    E(D => {
                        const K = {
                            ...D
                        };
                        return delete K[he], K
                    }),
                    s({
                        title: "Estado actualizado",
                        description: "El estado del pago ha sido actualizado correctamente."
                    })
                },
                onError: Y => {
                    s({
                        title: "Error",
                        description: Y.message || "Error al actualizar el estado del pago.",
                        variant: "destructive"
                    })
                }
            }),
            _ = nt({
                mutationFn: async ({orderId: Y, status: he}) => Re(`/api/admin/orders/${Y}/order-status`, {
                    method: "PATCH",
                    body: JSON.stringify({
                        orderStatus: he
                    }),
                    headers: {
                        "Content-Type": "application/json"
                    }
                }),
                onSuccess: (Y, {orderId: he}) => {
                    t.invalidateQueries({
                        queryKey: ["/api/admin/orders"]
                    }),
                    y && v(D => D ? {
                        ...D,
                        _refetch: Date.now()
                    } : null),
                    E(D => {
                        const K = {
                            ...D
                        };
                        return delete K[he], K
                    }),
                    s({
                        title: "Estado actualizado",
                        description: "El estado del pedido ha sido actualizado correctamente."
                    })
                },
                onError: Y => {
                    s({
                        title: "Error",
                        description: Y.message || "Error al actualizar el estado del pedido.",
                        variant: "destructive"
                    })
                }
            }),
            S = nt({
                mutationFn: async Y => Re(`/api/admin/orders/${Y}`, {
                    method: "DELETE"
                }),
                onSuccess: () => {
                    t.invalidateQueries({
                        queryKey: ["/api/admin/orders"]
                    }),
                    s({
                        title: "Pedido eliminado",
                        description: "El pedido ha sido eliminado correctamente."
                    })
                },
                onError: Y => {
                    s({
                        title: "Error",
                        description: Y.message || "Error al eliminar el pedido.",
                        variant: "destructive"
                    })
                }
            }),
            I = (Y, he) => {
                F.mutate({
                    orderId: Y,
                    paymentStatus: he
                })
            },
            W = (Y, he) => {
                _.mutate({
                    orderId: Y,
                    status: he
                })
            },
            oe = Y => {
                v(Y),
                b(!0)
            },
            O = () => {
                p && E(Y => {
                    const he = {
                        ...Y
                    };
                    return delete he[p.id], he
                }),
                x(!1),
                j(null)
            },
            M = async Y => {
                const he = new Set(N);
                he.has(Y) ? he.delete(Y) : (he.add(Y), await re(Y)),
                w(he)
            },
            re = async Y => {
                const he = new Set(k);
                he.add(Y),
                R(he);
                try {
                    const D = await fetch(`/api/admin/orders/${Y}`);
                    if (!D.ok)
                        throw new Error("Error al cargar detalles del pedido");
                    const K = await D.json();
                    E(L => ({
                        ...L,
                        [Y]: K
                    }))
                } catch (D) {
                    console.error("Error al cargar detalles del pedido:", D),
                    s({
                        title: "Error",
                        description: "No se pudieron cargar los detalles del pedido.",
                        variant: "destructive"
                    })
                } finally {
                    const D = new Set(k);
                    D.delete(Y),
                    R(D)
                }
            },
            ue = Y => {
                window.confirm("¿Estás seguro de que quieres eliminar este pedido? Esta acción se puede revertir desde la papelera.") && S.mutate(Y)
            };
        return z ? e.jsx(ja, {
            children: e.jsxs("div", {
                className: "space-y-6",
                children: [e.jsx("h1", {
                    className: "text-3xl font-bold",
                    children: "Gestión de Pedidos"
                }), e.jsxs(U, {
                    children: [e.jsx(ne, {
                        children: e.jsx(ae, {
                            children: "Pedidos Recientes"
                        })
                    }), e.jsx(q, {
                        children: e.jsx(Cs, {
                            className: "h-64 w-full"
                        })
                    })]
                })]
            })
        }) : A ? e.jsx(ja, {
            children: e.jsxs("div", {
                className: "space-y-6",
                children: [e.jsx("h1", {
                    className: "text-3xl font-bold",
                    children: "Gestión de Pedidos"
                }), e.jsx(U, {
                    children: e.jsxs(q, {
                        className: "flex flex-col items-center py-10",
                        children: [e.jsx(zs, {
                            className: "h-12 w-12 text-red-500 mb-4"
                        }), e.jsx("h2", {
                            className: "text-xl font-semibold mb-2",
                            children: "Error al cargar pedidos"
                        }), e.jsx("p", {
                            className: "text-gray-600 mb-6",
                            children: "No se pudieron cargar los pedidos. Por favor, intenta de nuevo más tarde."
                        }), e.jsx(T, {
                            onClick: () => t.invalidateQueries(),
                            children: "Reintentar"
                        })]
                    })
                })]
            })
        }) : !H || !Array.isArray(H) || H.length === 0 ? e.jsx(ja, {
            children: e.jsxs("div", {
                className: "space-y-6",
                children: [e.jsx("h1", {
                    className: "text-3xl font-bold",
                    children: "Gestión de Pedidos"
                }), e.jsx(U, {
                    children: e.jsxs(q, {
                        className: "flex flex-col items-center py-10",
                        children: [e.jsx(Ah, {
                            className: "h-12 w-12 text-gray-400 mb-4"
                        }), e.jsx("h2", {
                            className: "text-xl font-semibold mb-2",
                            children: "No hay pedidos"
                        }), e.jsx("p", {
                            className: "text-gray-600 mb-6",
                            children: "No se han recibido pedidos aún."
                        })]
                    })
                })]
            })
        }) : e.jsxs(ja, {
            children: [e.jsxs("div", {
                className: "space-y-6",
                children: [e.jsxs("div", {
                    className: "flex justify-between items-center",
                    children: [e.jsx("h1", {
                        className: "text-3xl font-bold",
                        children: "Gestión de Pedidos"
                    }), e.jsxs("div", {
                        className: "flex items-center gap-2 text-sm text-gray-500",
                        children: [e.jsx(Ah, {
                            className: "h-4 w-4"
                        }), G.length, " de ", Array.isArray(H) ? H.length : 0, " pedidos"]
                    })]
                }), e.jsxs(U, {
                    children: [e.jsx(ne, {
                        children: e.jsxs(ae, {
                            className: "flex items-center gap-2",
                            children: [e.jsx(_O, {
                                className: "h-5 w-5"
                            }), "Filtros y Búsqueda"]
                        })
                    }), e.jsxs(q, {
                        children: [e.jsxs("div", {
                            className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4",
                            children: [e.jsx("div", {
                                className: "lg:col-span-2",
                                children: e.jsxs("div", {
                                    className: "relative",
                                    children: [e.jsx(Cr, {
                                        className: "absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"
                                    }), e.jsx(te, {
                                        placeholder: "Buscar por email, nombre, ID o referencia...",
                                        value: r,
                                        onChange: Y => n(Y.target.value),
                                        className: "pl-9"
                                    })]
                                })
                            }), e.jsx("div", {
                                children: e.jsxs(He, {
                                    value: c,
                                    onValueChange: d,
                                    children: [e.jsx(qe, {
                                        children: e.jsxs("div", {
                                            className: "flex items-center gap-2",
                                            children: [e.jsx(us, {
                                                className: "h-4 w-4"
                                            }), e.jsx(We, {
                                                placeholder: "Forma Pago"
                                            })]
                                        })
                                    }), e.jsxs(Be, {
                                        children: [e.jsx(Q, {
                                            value: "all",
                                            children: "Todas las formas"
                                        }), $.map(Y => e.jsx(Q, {
                                            value: Y,
                                            children: V1(Y)
                                        }, Y))]
                                    })]
                                })
                            }), e.jsx("div", {
                                children: e.jsxs(He, {
                                    value: a,
                                    onValueChange: i,
                                    children: [e.jsx(qe, {
                                        children: e.jsxs("div", {
                                            className: "flex items-center gap-2",
                                            children: [e.jsx(us, {
                                                className: "h-4 w-4"
                                            }), e.jsx(We, {
                                                placeholder: "Estado Pago"
                                            })]
                                        })
                                    }), e.jsxs(Be, {
                                        children: [e.jsx(Q, {
                                            value: "all",
                                            children: "Todos los pagos"
                                        }), e.jsx(Q, {
                                            value: "pagado",
                                            children: "Pagado"
                                        }), e.jsx(Q, {
                                            value: "pendiente",
                                            children: "Pendiente"
                                        })]
                                    })]
                                })
                            }), e.jsx("div", {
                                children: e.jsxs(He, {
                                    value: o,
                                    onValueChange: l,
                                    children: [e.jsx(qe, {
                                        children: e.jsxs("div", {
                                            className: "flex items-center gap-2",
                                            children: [e.jsx(er, {
                                                className: "h-4 w-4"
                                            }), e.jsx(We, {
                                                placeholder: "Estado Pedido"
                                            })]
                                        })
                                    }), e.jsxs(Be, {
                                        children: [e.jsx(Q, {
                                            value: "all",
                                            children: "Todos los estados"
                                        }), e.jsx(Q, {
                                            value: "pendiente_verificar",
                                            children: "Pendiente Verificar"
                                        }), e.jsx(Q, {
                                            value: "verificado",
                                            children: "Verificado"
                                        }), e.jsx(Q, {
                                            value: "embalado",
                                            children: "Embalado"
                                        }), e.jsx(Q, {
                                            value: "enviado",
                                            children: "Enviado"
                                        }), e.jsx(Q, {
                                            value: "incidencia",
                                            children: "Incidencia"
                                        })]
                                    })]
                                })
                            }), e.jsx("div", {
                                children: e.jsxs(He, {
                                    value: u,
                                    onValueChange: m,
                                    children: [e.jsx(qe, {
                                        children: e.jsxs("div", {
                                            className: "flex items-center gap-2",
                                            children: [e.jsx(ur, {
                                                className: "h-4 w-4"
                                            }), e.jsx(We, {
                                                placeholder: "Período"
                                            })]
                                        })
                                    }), e.jsxs(Be, {
                                        children: [e.jsx(Q, {
                                            value: "all",
                                            children: "Todas las fechas"
                                        }), e.jsx(Q, {
                                            value: "today",
                                            children: "Hoy"
                                        }), e.jsx(Q, {
                                            value: "week",
                                            children: "Última semana"
                                        }), e.jsx(Q, {
                                            value: "month",
                                            children: "Último mes"
                                        })]
                                    })]
                                })
                            })]
                        }), (r || a !== "all" || o !== "all" || c !== "all" || u !== "all") && e.jsx("div", {
                            className: "mt-4",
                            children: e.jsx(T, {
                                variant: "outline",
                                size: "sm",
                                onClick: () => {
                                    n(""),
                                    i("all"),
                                    l("all"),
                                    d("all"),
                                    m("all")
                                },
                                children: "Limpiar filtros"
                            })
                        })]
                    })]
                }), e.jsxs(U, {
                    children: [e.jsx(ne, {
                        children: e.jsxs(ae, {
                            className: "flex items-center justify-between",
                            children: [e.jsx("span", {
                                children: "Pedidos"
                            }), e.jsx("div", {
                                className: "flex items-center gap-4 text-sm text-gray-500",
                                children: e.jsxs("div", {
                                    className: "flex items-center gap-1",
                                    children: ["Total: ", jt(G.reduce((Y, he) => Y + parseFloat(he.total || 0), 0), !1)]
                                })
                            })]
                        })
                    }), e.jsx(q, {
                        className: "p-0",
                        children: e.jsxs("div", {
                            className: "overflow-x-auto w-full",
                            children: [e.jsxs(Ws, {
                                className: "min-w-full table-fixed",
                                children: [e.jsx(Gs, {
                                    children: e.jsxs(gt, {
                                        children: [e.jsx(ge, {
                                            className: "w-8 px-2"
                                        }), e.jsx(ge, {
                                            className: "w-24 px-2",
                                            children: "Pedido"
                                        }), e.jsx(ge, {
                                            className: "w-48 px-2",
                                            children: "Cliente"
                                        }), e.jsx(ge, {
                                            className: "w-28 hidden md:table-cell px-2",
                                            children: "Fecha"
                                        }), e.jsx(ge, {
                                            className: "w-24 px-2",
                                            children: "Total"
                                        }), e.jsx(ge, {
                                            className: "w-32 hidden md:table-cell px-2",
                                            children: "Forma Pago"
                                        }), e.jsx(ge, {
                                            className: "w-28 hidden lg:table-cell px-2",
                                            children: "Estado Pago"
                                        }), e.jsx(ge, {
                                            className: "w-32 hidden xl:table-cell px-2",
                                            children: "Estado Pedido"
                                        }), e.jsx(ge, {
                                            className: "text-right w-28 px-2",
                                            children: "Acciones"
                                        })]
                                    })
                                }), e.jsx(Ks, {
                                    children: G.map(Y => {
                                        var he;
                                        return e.jsxs(ke.Fragment, {
                                            children: [e.jsxs(gt, {
                                                className: "hover:bg-gray-50",
                                                children: [e.jsx(xe, {
                                                    className: "px-2",
                                                    children: e.jsx(T, {
                                                        variant: "ghost",
                                                        size: "sm",
                                                        onClick: () => M(Y.id),
                                                        className: "w-6 h-6 p-0",
                                                        children: N.has(Y.id) ? e.jsx(rl, {
                                                            className: "h-4 w-4"
                                                        }) : e.jsx(Ni, {
                                                            className: "h-4 w-4"
                                                        })
                                                    })
                                                }), e.jsxs(xe, {
                                                    className: "font-medium px-2 text-sm",
                                                    children: ["PED-", Y.id]
                                                }), e.jsx(xe, {
                                                    className: "px-2",
                                                    children: e.jsxs("div", {
                                                        children: [e.jsx("p", {
                                                            className: "font-medium text-sm truncate",
                                                            children: Y.customerName || "N/A"
                                                        }), e.jsx("p", {
                                                            className: "text-xs text-gray-500 truncate",
                                                            children: Y.customerEmail
                                                        })]
                                                    })
                                                }), e.jsx(xe, {
                                                    className: "hidden md:table-cell px-2",
                                                    children: e.jsxs("div", {
                                                        className: "text-xs",
                                                        children: [e.jsx("p", {
                                                            children: Bt(new Date(Y.createdAt), "dd/MM/yyyy", {
                                                                locale: ks
                                                            })
                                                        }), e.jsx("p", {
                                                            className: "text-xs text-gray-500",
                                                            children: Bt(new Date(Y.createdAt), "HH:mm", {
                                                                locale: ks
                                                            })
                                                        })]
                                                    })
                                                }), e.jsx(xe, {
                                                    className: "font-semibold px-2 text-sm",
                                                    children: jt(Y.total, !1)
                                                }), e.jsx(xe, {
                                                    className: "hidden md:table-cell px-2",
                                                    children: e.jsx("span", {
                                                        className: "text-xs truncate",
                                                        children: Y.paymentMethod ? V1(Y.paymentMethod) : "Sin especificar"
                                                    })
                                                }), e.jsx(xe, {
                                                    className: "hidden lg:table-cell px-2",
                                                    children: e.jsxs(He, {
                                                        value: Y.paymentStatus || "pendiente",
                                                        onValueChange: D => I(Y.id, D),
                                                        disabled: F.isPending,
                                                        children: [e.jsx(qe, {
                                                            className: `w-24 text-xs border ${(Y.paymentStatus || "pendiente") === "pagado" ? "bg-green-100 text-green-800 border-green-200" : "bg-yellow-100 text-yellow-800 border-yellow-200"}`,
                                                            children: e.jsx(We, {})
                                                        }), e.jsxs(Be, {
                                                            children: [e.jsx(Q, {
                                                                value: "pendiente",
                                                                children: "Pendiente"
                                                            }), e.jsx(Q, {
                                                                value: "pagado",
                                                                children: "Pagado"
                                                            })]
                                                        })]
                                                    })
                                                }), e.jsx(xe, {
                                                    className: "hidden xl:table-cell px-2",
                                                    children: e.jsxs(He, {
                                                        value: Y.orderStatus || "pendiente_verificar",
                                                        onValueChange: D => W(Y.id, D),
                                                        disabled: _.isPending,
                                                        children: [e.jsx(qe, {
                                                            className: `w-28 text-xs border ${(() => {switch (Y.orderStatus || "pendiente_verificar") {case "pendiente_verificar":return "bg-orange-100 text-orange-800 border-orange-200";case "verificado":return "bg-blue-100 text-blue-800 border-blue-200";case "embalado":return "bg-purple-100 text-purple-800 border-purple-200";case "enviado":return "bg-indigo-100 text-indigo-800 border-indigo-200";case "incidencia":return "bg-red-100 text-red-800 border-red-200";default:return "bg-orange-100 text-orange-800 border-orange-200"}})()}`,
                                                            children: e.jsx(We, {})
                                                        }), e.jsxs(Be, {
                                                            children: [e.jsx(Q, {
                                                                value: "pendiente_verificar",
                                                                children: "Pendiente"
                                                            }), e.jsx(Q, {
                                                                value: "verificado",
                                                                children: "Verificado"
                                                            }), e.jsx(Q, {
                                                                value: "embalado",
                                                                children: "Embalado"
                                                            }), e.jsx(Q, {
                                                                value: "enviado",
                                                                children: "Enviado"
                                                            }), e.jsx(Q, {
                                                                value: "incidencia",
                                                                children: "Incidencia"
                                                            })]
                                                        })]
                                                    })
                                                }), e.jsx(xe, {
                                                    className: "text-right px-2",
                                                    children: e.jsxs("div", {
                                                        className: "flex items-center gap-0.5 justify-end",
                                                        children: [e.jsx(T, {
                                                            variant: "outline",
                                                            size: "sm",
                                                            onClick: () => oe(Y),
                                                            className: "h-7 w-7 p-0",
                                                            title: "Ver detalles",
                                                            children: e.jsx(bs, {
                                                                className: "h-3 w-3"
                                                            })
                                                        }), e.jsx(T, {
                                                            variant: "outline",
                                                            size: "sm",
                                                            onClick: () => {
                                                                j(Y),
                                                                x(!0)
                                                            },
                                                            className: "h-7 w-7 p-0",
                                                            title: "Editar pedido",
                                                            children: e.jsx(Br, {
                                                                className: "h-3 w-3"
                                                            })
                                                        }), e.jsx(T, {
                                                            variant: "outline",
                                                            size: "sm",
                                                            onClick: () => ue(Y.id),
                                                            disabled: S.isPending,
                                                            className: "text-red-600 hover:text-red-700 hover:bg-red-50 h-7 w-7 p-0",
                                                            title: "Eliminar pedido",
                                                            children: e.jsx(Jt, {
                                                                className: "h-3 w-3"
                                                            })
                                                        })]
                                                    })
                                                })]
                                            }), N.has(Y.id) && e.jsx(gt, {
                                                children: e.jsx(xe, {
                                                    colSpan: 9,
                                                    className: "p-0 bg-gray-50",
                                                    children: e.jsx("div", {
                                                        className: "p-3 border-t border-gray-200 overflow-x-auto",
                                                        children: k.has(Y.id) ? e.jsxs("div", {
                                                            className: "flex items-center justify-center py-4",
                                                            children: [e.jsx("div", {
                                                                className: "animate-spin h-6 w-6 border-2 border-primary border-t-transparent rounded-full"
                                                            }), e.jsx("span", {
                                                                className: "ml-2 text-gray-600",
                                                                children: "Cargando detalles..."
                                                            })]
                                                        }) : C[Y.id] ? e.jsxs("div", {
                                                            className: "space-y-2 max-w-full",
                                                            children: [e.jsxs("div", {
                                                                className: "grid grid-cols-1 md:grid-cols-2 gap-2",
                                                                children: [e.jsxs("div", {
                                                                    className: "bg-white p-2 rounded border text-xs",
                                                                    children: [e.jsxs("div", {
                                                                        className: "flex items-center gap-1 mb-1",
                                                                        children: [e.jsx(Lr, {
                                                                            className: "h-3 w-3 text-blue-600"
                                                                        }), e.jsx("span", {
                                                                            className: "font-medium text-blue-800 text-xs",
                                                                            children: "Cliente"
                                                                        })]
                                                                    }), e.jsxs("div", {
                                                                        className: "space-y-0.5 text-xs",
                                                                        children: [e.jsxs("p", {
                                                                            children: [e.jsx("strong", {
                                                                                children: "Nombre:"
                                                                            }), " ", C[Y.id].customerName]
                                                                        }), e.jsxs("p", {
                                                                            children: [e.jsx("strong", {
                                                                                children: "Email:"
                                                                            }), " ", e.jsx("span", {
                                                                                className: "break-all",
                                                                                children: C[Y.id].customerEmail
                                                                            })]
                                                                        }), e.jsxs("p", {
                                                                            children: [e.jsx("strong", {
                                                                                children: "Teléfono:"
                                                                            }), " ", C[Y.id].customerPhone]
                                                                        }), e.jsxs("p", {
                                                                            children: [e.jsx("strong", {
                                                                                children: "Dirección:"
                                                                            }), " ", C[Y.id].shippingAddress, ", ", C[Y.id].shippingCity, C[Y.id].shippingProvince ? `, ${C[Y.id].shippingProvince}` : "", " ", C[Y.id].shippingPostalCode]
                                                                        })]
                                                                    })]
                                                                }), e.jsxs("div", {
                                                                    className: "bg-white p-2 rounded border text-xs",
                                                                    children: [e.jsxs("div", {
                                                                        className: "flex items-center gap-1 mb-1",
                                                                        children: [e.jsx(Ot, {
                                                                            className: "h-3 w-3 text-green-600"
                                                                        }), e.jsxs("span", {
                                                                            className: "font-medium text-green-800 text-xs",
                                                                            children: ["Productos (", ((he = C[Y.id].items) == null ? void 0 : he.length) || 0, ")"]
                                                                        })]
                                                                    }), C[Y.id].items && Array.isArray(C[Y.id].items) && C[Y.id].items.length > 0 ? e.jsxs("div", {
                                                                        className: "space-y-1",
                                                                        children: [C[Y.id].items.map((D, K) => e.jsxs("div", {
                                                                            className: "flex justify-between items-start text-xs bg-gray-50 p-1.5 rounded",
                                                                            children: [e.jsxs("div", {
                                                                                className: "flex-1 pr-1 min-w-0",
                                                                                children: [e.jsx("p", {
                                                                                    className: "font-medium truncate text-xs",
                                                                                    children: D.partName || D.descripcionArticulo
                                                                                }), e.jsxs("div", {
                                                                                    className: "text-gray-600 text-xs space-y-0.5",
                                                                                    children: [D.refLocal && e.jsxs("p", {
                                                                                        children: ["Referencia: ", D.refLocal]
                                                                                    }), D.partReference && e.jsxs("p", {
                                                                                        children: ["Código: ", D.partReference]
                                                                                    }), D.refPrincipal && e.jsxs("p", {
                                                                                        children: ["Ref Principal: ", D.refPrincipal]
                                                                                    })]
                                                                                })]
                                                                            }), e.jsxs("div", {
                                                                                className: "text-right whitespace-nowrap text-xs",
                                                                                children: [e.jsxs("p", {
                                                                                    className: "font-semibold",
                                                                                    children: [jt(D.price, !1), " × ", D.quantity]
                                                                                }), e.jsx("p", {
                                                                                    className: "text-gray-600",
                                                                                    children: jt((parseFloat(D.price) || 0) * D.quantity, !1)
                                                                                })]
                                                                            })]
                                                                        }, K)), e.jsxs("div", {
                                                                            className: "border-t pt-1 mt-1 text-xs",
                                                                            children: [e.jsxs("div", {
                                                                                className: "flex justify-between",
                                                                                children: [e.jsx("span", {
                                                                                    children: "Subtotal:"
                                                                                }), e.jsx("span", {
                                                                                    children: jt(C[Y.id].subtotal || 0, !1)
                                                                                })]
                                                                            }), e.jsxs("div", {
                                                                                className: "flex justify-between",
                                                                                children: [e.jsx("span", {
                                                                                    children: "Envío:"
                                                                                }), e.jsx("span", {
                                                                                    children: jt(C[Y.id].shippingCost || 0, !1)
                                                                                })]
                                                                            }), e.jsxs("div", {
                                                                                className: "flex justify-between font-bold pt-0.5 border-t",
                                                                                children: [e.jsx("span", {
                                                                                    children: "Total:"
                                                                                }), e.jsx("span", {
                                                                                    children: jt(C[Y.id].total || 0, !1)
                                                                                })]
                                                                            })]
                                                                        })]
                                                                    }) : e.jsx("p", {
                                                                        className: "text-xs text-gray-500",
                                                                        children: "No hay productos"
                                                                    })]
                                                                })]
                                                            }), e.jsx("div", {
                                                                className: "bg-yellow-50 border border-yellow-200 p-2 rounded",
                                                                children: e.jsxs("div", {
                                                                    className: "flex items-start gap-1",
                                                                    children: [e.jsx(zs, {
                                                                        className: "h-3 w-3 text-yellow-600 mt-0.5 flex-shrink-0"
                                                                    }), e.jsxs("div", {
                                                                        className: "min-w-0",
                                                                        children: [e.jsx("span", {
                                                                            className: "font-medium text-yellow-800 text-xs",
                                                                            children: "Observaciones:"
                                                                        }), e.jsx("p", {
                                                                            className: "text-xs text-yellow-700 mt-0.5 break-words",
                                                                            children: C[Y.id].adminObservations || "Sin observaciones"
                                                                        })]
                                                                    })]
                                                                })
                                                            }), e.jsxs("div", {
                                                                className: "flex gap-2 sm:hidden",
                                                                children: [e.jsxs(T, {
                                                                    variant: "outline",
                                                                    size: "sm",
                                                                    onClick: () => oe(Y),
                                                                    className: "flex-1",
                                                                    children: [e.jsx(bs, {
                                                                        className: "h-4 w-4 mr-1"
                                                                    }), "Ver"]
                                                                }), e.jsxs(T, {
                                                                    variant: "outline",
                                                                    size: "sm",
                                                                    onClick: () => {
                                                                        j(Y),
                                                                        x(!0)
                                                                    },
                                                                    className: "flex-1",
                                                                    children: [e.jsx(Br, {
                                                                        className: "h-4 w-4 mr-1"
                                                                    }), "Editar"]
                                                                })]
                                                            })]
                                                        }) : e.jsxs("div", {
                                                            className: "text-center py-6",
                                                            children: [e.jsx("p", {
                                                                className: "text-sm text-gray-500",
                                                                children: "No se pudieron cargar los detalles del pedido"
                                                            }), e.jsx(T, {
                                                                variant: "outline",
                                                                size: "sm",
                                                                onClick: () => re(Y.id),
                                                                className: "mt-2",
                                                                children: "Reintentar"
                                                            })]
                                                        })
                                                    })
                                                })
                                            })]
                                        }, Y.id)
                                    })
                                })]
                            }), G.length === 0 && e.jsxs("div", {
                                className: "text-center py-8",
                                children: [e.jsx(Ah, {
                                    className: "h-12 w-12 text-gray-400 mx-auto mb-4"
                                }), e.jsx("h3", {
                                    className: "text-lg font-semibold mb-2",
                                    children: "No se encontraron pedidos"
                                }), e.jsx("p", {
                                    className: "text-gray-600",
                                    children: r || a !== "all" || o !== "all" || u !== "all" ? "Intenta ajustar los filtros de búsqueda" : "No hay pedidos para mostrar"
                                })]
                            })]
                        })
                    })]
                })]
            }), f && y && e.jsx(YW, {
                isOpen: f,
                onClose: () => {
                    b(!1),
                    v(null)
                },
                order: y
            }), g && p && e.jsx(KW, {
                isOpen: g,
                onClose: O,
                order: p
            })]
        })
    };
function QW() {
    const {toast: t} = st(),
        [s, r] = ke.useState([]),
        [n, a] = ke.useState({
            merchantCode: "",
            terminal: "001",
            secretKey: "",
            environment: "test"
        }),
        [i, o] = ke.useState({
            name: "",
            description: "",
            basePrice: "",
            freeShippingThreshold: "",
            weightBasedPricing: !1,
            pricePerKg: "",
            estimatedDays: "1",
            isActive: !0
        });
    ke.useEffect(() => {
        l(),
        c()
    }, []);
    const l = async () => {
            try {
                const m = await Re("GET", "/api/shipping/methods");
                if (m.ok) {
                    const p = await m.json();
                    r(p)
                }
            } catch (m) {
                console.error("Error loading shipping methods:", m)
            }
        },
        c = async () => {
            try {
                const m = await Re("GET", "/api/admin/site-config/redsys_config");
                if (m.ok) {
                    const p = await m.json();
                    p.value && a(JSON.parse(p.value))
                }
            } catch (m) {
                console.error("Error loading Redsys config:", m)
            }
        },
        d = async () => {
            try {
                (await Re("POST", "/api/admin/site-config", {
                    key: "redsys_config",
                    value: JSON.stringify(n),
                    description: "Configuración de Redsys para pagos con tarjeta"
                })).ok && t({
                    title: "Configuración guardada",
                    description: "La configuración de Redsys se ha guardado correctamente"
                })
            } catch {
                t({
                    title: "Error",
                    description: "No se pudo guardar la configuración",
                    variant: "destructive"
                })
            }
        },
        u = async () => {
            try {
                (await Re("POST", "/api/admin/shipping/methods", {
                    ...i,
                    basePrice: parseFloat(i.basePrice) || 0,
                    freeShippingThreshold: i.freeShippingThreshold ? parseFloat(i.freeShippingThreshold) : null,
                    pricePerKg: parseFloat(i.pricePerKg) || 0,
                    estimatedDays: parseInt(i.estimatedDays) || 1
                })).ok && (t({
                    title: "Método creado",
                    description: "El método de envío se ha creado correctamente"
                }), l(), o({
                    name: "",
                    description: "",
                    basePrice: "",
                    freeShippingThreshold: "",
                    weightBasedPricing: !1,
                    pricePerKg: "",
                    estimatedDays: "1",
                    isActive: !0
                }))
            } catch {
                t({
                    title: "Error",
                    description: "No se pudo crear el método de envío",
                    variant: "destructive"
                })
            }
        };
    return e.jsxs("div", {
        className: "container mx-auto px-4 py-8",
        children: [e.jsx("h1", {
            className: "text-3xl font-bold mb-8",
            children: "Configuración de Pagos y Envíos"
        }), e.jsxs(ls, {
            defaultValue: "shipping",
            className: "space-y-6",
            children: [e.jsxs(es, {
                children: [e.jsx(Ue, {
                    value: "shipping",
                    children: "Métodos de Envío"
                }), e.jsx(Ue, {
                    value: "payments",
                    children: "Configuración de Pagos"
                })]
            }), e.jsxs($e, {
                value: "shipping",
                className: "space-y-6",
                children: [e.jsxs(U, {
                    children: [e.jsx(ne, {
                        children: e.jsx(ae, {
                            children: "Crear Nuevo Método de Envío"
                        })
                    }), e.jsxs(q, {
                        className: "space-y-4",
                        children: [e.jsxs("div", {
                            className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                            children: [e.jsxs("div", {
                                children: [e.jsx(V, {
                                    htmlFor: "name",
                                    children: "Nombre"
                                }), e.jsx(te, {
                                    id: "name",
                                    value: i.name,
                                    onChange: m => o(p => ({
                                        ...p,
                                        name: m.target.value
                                    })),
                                    placeholder: "Envío estándar"
                                })]
                            }), e.jsxs("div", {
                                children: [e.jsx(V, {
                                    htmlFor: "basePrice",
                                    children: "Precio base (€)"
                                }), e.jsx(te, {
                                    id: "basePrice",
                                    type: "number",
                                    step: "0.01",
                                    value: i.basePrice,
                                    onChange: m => o(p => ({
                                        ...p,
                                        basePrice: m.target.value
                                    })),
                                    placeholder: "5.95"
                                })]
                            }), e.jsxs("div", {
                                children: [e.jsx(V, {
                                    htmlFor: "freeThreshold",
                                    children: "Envío gratuito desde (€)"
                                }), e.jsx(te, {
                                    id: "freeThreshold",
                                    type: "number",
                                    step: "0.01",
                                    value: i.freeShippingThreshold,
                                    onChange: m => o(p => ({
                                        ...p,
                                        freeShippingThreshold: m.target.value
                                    })),
                                    placeholder: "50.00"
                                })]
                            }), e.jsxs("div", {
                                children: [e.jsx(V, {
                                    htmlFor: "estimatedDays",
                                    children: "Días estimados"
                                }), e.jsx(te, {
                                    id: "estimatedDays",
                                    type: "number",
                                    value: i.estimatedDays,
                                    onChange: m => o(p => ({
                                        ...p,
                                        estimatedDays: m.target.value
                                    }))
                                })]
                            })]
                        }), e.jsxs("div", {
                            children: [e.jsx(V, {
                                htmlFor: "description",
                                children: "Descripción"
                            }), e.jsx(te, {
                                id: "description",
                                value: i.description,
                                onChange: m => o(p => ({
                                    ...p,
                                    description: m.target.value
                                })),
                                placeholder: "Envío en 24-48 horas laborables"
                            })]
                        }), e.jsxs("div", {
                            className: "flex items-center space-x-2",
                            children: [e.jsx(St, {
                                id: "isActive",
                                checked: i.isActive,
                                onCheckedChange: m => o(p => ({
                                    ...p,
                                    isActive: m
                                }))
                            }), e.jsx(V, {
                                htmlFor: "isActive",
                                children: "Activo"
                            })]
                        }), e.jsx(T, {
                            onClick: u,
                            children: "Crear Método"
                        })]
                    })]
                }), e.jsxs(U, {
                    children: [e.jsx(ne, {
                        children: e.jsx(ae, {
                            children: "Métodos de Envío Existentes"
                        })
                    }), e.jsx(q, {
                        children: e.jsx("div", {
                            className: "space-y-4",
                            children: s.map(m => e.jsx("div", {
                                className: "border p-4 rounded-lg",
                                children: e.jsxs("div", {
                                    className: "flex justify-between items-start",
                                    children: [e.jsxs("div", {
                                        children: [e.jsx("h3", {
                                            className: "font-semibold",
                                            children: m.name
                                        }), e.jsx("p", {
                                            className: "text-sm text-gray-600",
                                            children: m.description
                                        }), e.jsxs("p", {
                                            className: "text-sm",
                                            children: ["Precio: ", m.basePrice, "€", m.freeShippingThreshold && e.jsxs("span", {
                                                children: [" (Gratuito desde ", m.freeShippingThreshold, "€)"]
                                            })]
                                        })]
                                    }), e.jsx("div", {
                                        className: "flex items-center space-x-2",
                                        children: e.jsx("span", {
                                            className: `px-2 py-1 rounded text-xs ${m.isActive ? "bg-green-100 text-green-800" : "bg-red-100 text-red-800"}`,
                                            children: m.isActive ? "Activo" : "Inactivo"
                                        })
                                    })]
                                })
                            }, m.id))
                        })
                    })]
                })]
            }), e.jsx($e, {
                value: "payments",
                className: "space-y-6",
                children: e.jsxs(U, {
                    children: [e.jsx(ne, {
                        children: e.jsx(ae, {
                            children: "Configuración de Redsys"
                        })
                    }), e.jsxs(q, {
                        className: "space-y-4",
                        children: [e.jsxs("div", {
                            className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                            children: [e.jsxs("div", {
                                children: [e.jsx(V, {
                                    htmlFor: "merchantCode",
                                    children: "Código de comercio"
                                }), e.jsx(te, {
                                    id: "merchantCode",
                                    value: n.merchantCode,
                                    onChange: m => a(p => ({
                                        ...p,
                                        merchantCode: m.target.value
                                    })),
                                    placeholder: "123456789"
                                })]
                            }), e.jsxs("div", {
                                children: [e.jsx(V, {
                                    htmlFor: "terminal",
                                    children: "Terminal"
                                }), e.jsx(te, {
                                    id: "terminal",
                                    value: n.terminal,
                                    onChange: m => a(p => ({
                                        ...p,
                                        terminal: m.target.value
                                    })),
                                    placeholder: "001"
                                })]
                            }), e.jsxs("div", {
                                className: "md:col-span-2",
                                children: [e.jsx(V, {
                                    htmlFor: "secretKey",
                                    children: "Clave secreta"
                                }), e.jsx(te, {
                                    id: "secretKey",
                                    type: "password",
                                    value: n.secretKey,
                                    onChange: m => a(p => ({
                                        ...p,
                                        secretKey: m.target.value
                                    })),
                                    placeholder: "Clave secreta de Redsys"
                                })]
                            }), e.jsxs("div", {
                                children: [e.jsx(V, {
                                    htmlFor: "environment",
                                    children: "Entorno"
                                }), e.jsxs("select", {
                                    id: "environment",
                                    className: "w-full p-2 border rounded",
                                    value: n.environment,
                                    onChange: m => a(p => ({
                                        ...p,
                                        environment: m.target.value
                                    })),
                                    children: [e.jsx("option", {
                                        value: "test",
                                        children: "Pruebas"
                                    }), e.jsx("option", {
                                        value: "production",
                                        children: "Producción"
                                    })]
                                })]
                            })]
                        }), e.jsx(T, {
                            onClick: d,
                            children: "Guardar Configuración"
                        })]
                    })]
                })
            })]
        })]
    })
}
const ZW = {
    bank_transfer: NO,
    redsys: us,
    stripe: us,
    paypal: us
};
function XW() {
    var b,
        N,
        w;
    const {toast: t} = st(),
        [s, r] = h.useState([]),
        [n, a] = h.useState(!0),
        [i, o] = h.useState(""),
        [l, c] = h.useState({}),
        [d, u] = h.useState(!1),
        [m, p] = h.useState({});
    h.useEffect(() => {
        j()
    }, []);
    const j = async () => {
            try {
                console.log("AdminPaymentMethods: Cargando módulos...");
                const C = await Re("GET", "/api/admin/payment-modules");
                console.log("AdminPaymentMethods: Response object:", C);
                const E = await C.json();
                if (console.log("AdminPaymentMethods: Data después de JSON:", E), console.log("AdminPaymentMethods: Tipo de data:", typeof E), console.log("AdminPaymentMethods: Es array?", Array.isArray(E)), Array.isArray(E)) {
                    console.log("AdminPaymentMethods: Módulos válidos:", E.length),
                    console.log("AdminPaymentMethods: Primer módulo:", E[0]),
                    r(E);
                    const k = {};
                    E.forEach(R => {
                        k[R.provider] = R.isActive
                    }),
                    p(k),
                    console.log("AdminPaymentMethods: Estados de módulos:", k),
                    E.length > 0 && (o(E[0].provider), c(E[0].config || {}))
                } else
                    console.error("La respuesta no es un array:", E),
                    console.error("AdminPaymentMethods: Tipo de respuesta:", typeof E),
                    r([])
            } catch (C) {
                console.error("AdminPaymentMethods: Error cargando módulos:", C),
                r([]),
                t({
                    title: "Error",
                    description: "No se pudieron cargar los módulos de pago",
                    variant: "destructive"
                })
            } finally {
                a(!1)
            }
        },
        g = C => {
            o(C);
            const E = s.find(k => k.provider === C);
            c((E == null ? void 0 : E.config) || {})
        },
        x = (C, E) => {
            c(k => ({
                ...k,
                [C]: E
            }))
        },
        y = async () => {
            if (i) {
                u(!0);
                try {
                    await Re("PUT", `/api/admin/payment-modules/${i}`, {
                        config: l
                    }),
                    t({
                        title: "Configuración guardada",
                        description: "La configuración del módulo se ha guardado correctamente"
                    }),
                    await j()
                } catch {
                    t({
                        title: "Error",
                        description: "No se pudo guardar la configuración",
                        variant: "destructive"
                    })
                } finally {
                    u(!1)
                }
            }
        },
        v = async (C, E) => {
            try {
                await Re("PUT", `/api/admin/payment-modules/${C}`, {
                    isActive: E
                }),
                p(k => ({
                    ...k,
                    [C]: E
                })),
                t({
                    title: E ? "Módulo activado" : "Módulo desactivado",
                    description: `El módulo ${C} ha sido ${E ? "activado" : "desactivado"}`
                }),
                await j()
            } catch {
                t({
                    title: "Error",
                    description: "No se pudo cambiar el estado del módulo",
                    variant: "destructive"
                })
            }
        },
        f = C => {
            var k;
            const E = l[C.name] || "";
            switch (C.type) {
            case "text":
            case "password":
                return e.jsxs("div", {
                    className: "space-y-2",
                    children: [e.jsxs(V, {
                        htmlFor: C.name,
                        className: "text-sm font-medium",
                        children: [C.label, C.required && e.jsx("span", {
                            className: "text-red-500 ml-1",
                            children: "*"
                        })]
                    }), e.jsx(te, {
                        id: C.name,
                        type: C.type,
                        value: E,
                        onChange: R => x(C.name, R.target.value),
                        placeholder: C.description,
                        className: "w-full"
                    }), C.description && e.jsx("p", {
                        className: "text-xs text-muted-foreground",
                        children: C.description
                    })]
                }, C.name);
            case "select":
                return e.jsxs("div", {
                    className: "space-y-2",
                    children: [e.jsxs(V, {
                        htmlFor: C.name,
                        className: "text-sm font-medium",
                        children: [C.label, C.required && e.jsx("span", {
                            className: "text-red-500 ml-1",
                            children: "*"
                        })]
                    }), e.jsx("select", {
                        id: C.name,
                        value: E,
                        onChange: R => x(C.name, R.target.value),
                        className: "w-full p-2 border rounded-md",
                        children: (k = C.options) == null ? void 0 : k.map(R => e.jsx("option", {
                            value: R.value,
                            children: R.label
                        }, R.value))
                    }), C.description && e.jsx("p", {
                        className: "text-xs text-muted-foreground",
                        children: C.description
                    })]
                }, C.name);
            case "checkbox":
                return e.jsxs("div", {
                    className: "flex items-center space-x-2",
                    children: [e.jsx(St, {
                        id: C.name,
                        checked: E,
                        onCheckedChange: R => x(C.name, R)
                    }), e.jsx(V, {
                        htmlFor: C.name,
                        className: "text-sm",
                        children: C.label
                    }), C.description && e.jsxs("p", {
                        className: "text-xs text-muted-foreground ml-2",
                        children: ["(", C.description, ")"]
                    })]
                }, C.name);
            default:
                return null
            }
        };
    return n ? e.jsxs("div", {
        className: "flex min-h-screen bg-background",
        children: [e.jsx($s, {}), e.jsx("div", {
            className: "flex-1 p-6",
            children: e.jsxs("div", {
                className: "animate-pulse space-y-4",
                children: [e.jsx("div", {
                    className: "h-8 bg-gray-200 rounded w-1/4"
                }), e.jsx("div", {
                    className: "grid grid-cols-1 md:grid-cols-3 gap-4",
                    children: [1, 2, 3].map(C => e.jsx("div", {
                        className: "h-48 bg-gray-200 rounded"
                    }, C))
                })]
            })
        })]
    }) : (console.log("AdminPaymentMethods: Renderizando con modules:", s, "loading:", n), console.log("AdminPaymentMethods: modules.length:", s.length), e.jsxs("div", {
        className: "flex min-h-screen bg-background",
        children: [e.jsx($s, {}), e.jsxs("div", {
            className: "flex-1 p-6 space-y-6",
            children: [e.jsx("div", {
                className: "flex justify-between items-center",
                children: e.jsxs("div", {
                    children: [e.jsx("h1", {
                        className: "text-3xl font-bold tracking-tight",
                        children: "Módulos de Pago"
                    }), e.jsx("p", {
                        className: "text-muted-foreground",
                        children: "Gestiona los módulos de pago disponibles en tu tienda"
                    })]
                })
            }), e.jsxs("div", {
                className: "grid grid-cols-1 lg:grid-cols-4 gap-6",
                children: [e.jsx("div", {
                    className: "lg:col-span-1",
                    children: e.jsx("div", {
                        className: "space-y-3",
                        children: s && s.length > 0 ? s.map(C => {
                            const E = ZW[C.provider] || us;
                            return e.jsxs(U, {
                                className: `cursor-pointer transition-all ${i === C.provider ? "ring-2 ring-primary" : "hover:bg-muted/50"}`,
                                onClick: () => g(C.provider),
                                children: [e.jsx(ne, {
                                    className: "pb-3",
                                    children: e.jsxs("div", {
                                        className: "flex items-center justify-between",
                                        children: [e.jsxs("div", {
                                            className: "flex items-center space-x-2",
                                            children: [e.jsx(E, {
                                                className: "h-5 w-5 text-muted-foreground"
                                            }), e.jsx(ae, {
                                                className: "text-sm",
                                                children: C.name
                                            })]
                                        }), e.jsx(ye, {
                                            variant: m[C.provider] ? "default" : "secondary",
                                            children: m[C.provider] ? "Activo" : "Inactivo"
                                        })]
                                    })
                                }), e.jsx(q, {
                                    className: "pt-0",
                                    children: e.jsxs("div", {
                                        className: "flex items-center space-x-2",
                                        children: [e.jsx(St, {
                                            checked: m[C.provider],
                                            onCheckedChange: k => v(C.provider, k),
                                            onClick: k => k.stopPropagation()
                                        }), e.jsx(V, {
                                            className: "text-xs text-muted-foreground",
                                            children: m[C.provider] ? "Habilitado" : "Deshabilitado"
                                        })]
                                    })
                                })]
                            }, C.provider)
                        }) : e.jsxs("div", {
                            className: "text-center py-8",
                            children: [e.jsx(us, {
                                className: "mx-auto h-12 w-12 text-muted-foreground"
                            }), e.jsx("p", {
                                className: "text-sm text-muted-foreground mt-2",
                                children: "No hay módulos disponibles"
                            })]
                        })
                    })
                }), e.jsx("div", {
                    className: "lg:col-span-3",
                    children: i && e.jsxs(U, {
                        children: [e.jsx(ne, {
                            children: e.jsxs("div", {
                                className: "flex items-center space-x-2",
                                children: [e.jsx(Hs, {
                                    className: "h-5 w-5"
                                }), e.jsxs(ae, {
                                    children: ["Configuración - ", (b = s.find(C => C.provider === i)) == null ? void 0 : b.name]
                                })]
                            })
                        }), e.jsx(q, {
                            className: "space-y-6",
                            children: ((N = s.find(C => C.provider === i)) == null ? void 0 : N.configFields.length) === 0 ? e.jsxs("div", {
                                className: "text-center py-8",
                                children: [e.jsx(zr, {
                                    className: "mx-auto h-12 w-12 text-muted-foreground mb-4"
                                }), e.jsx("p", {
                                    className: "text-muted-foreground",
                                    children: "Este módulo no requiere configuración adicional"
                                })]
                            }) : e.jsxs(e.Fragment, {
                                children: [e.jsx("div", {
                                    className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                                    children: (w = s.find(C => C.provider === i)) == null ? void 0 : w.configFields.map(C => f(C))
                                }), e.jsx("div", {
                                    className: "flex justify-end",
                                    children: e.jsxs(T, {
                                        onClick: y,
                                        disabled: d,
                                        className: "flex items-center space-x-2",
                                        children: [e.jsx(wn, {
                                            className: "h-4 w-4"
                                        }), e.jsx("span", {
                                            children: d ? "Guardando..." : "Guardar Configuración"
                                        })]
                                    })
                                })]
                            })
                        })]
                    })
                })]
            }), s.length === 0 && e.jsxs("div", {
                className: "text-center py-12",
                children: [e.jsx(us, {
                    className: "mx-auto h-12 w-12 text-muted-foreground"
                }), e.jsx("h3", {
                    className: "mt-2 text-sm font-medium text-gray-900",
                    children: "No hay módulos de pago disponibles"
                }), e.jsx("p", {
                    className: "mt-1 text-sm text-muted-foreground",
                    children: "Los módulos de pago se cargan automáticamente del sistema."
                })]
            })]
        })]
    }))
}
function JW() {
    const {toast: t} = st(),
        [s, r] = h.useState([]),
        [n, a] = h.useState(!0),
        [i, o] = h.useState(""),
        [l, c] = h.useState({}),
        [d, u] = h.useState(!1),
        [m, p] = h.useState(0);
    h.useEffect(() => {
        j()
    }, []);
    const j = async () => {
            try {
                const C = await (await Re("GET", "/api/admin/payment-modules")).json();
                console.log("🔧 PAYMENT MODULES: Datos recibidos:", C),
                r([]),
                setTimeout(() => {
                    r(C),
                    C && C.length > 0 && (o(C[0].provider), c(C[0].config || {}))
                }, 50)
            } catch (w) {
                console.error("❌ PAYMENT MODULES: Error cargando módulos:", w),
                t({
                    title: "Error",
                    description: "No se pudieron cargar los módulos de pago",
                    variant: "destructive"
                })
            } finally {
                a(!1)
            }
        },
        g = w => {
            o(w);
            const C = s.find(E => E.provider === w);
            c((C == null ? void 0 : C.config) || {})
        },
        x = (w, C) => {
            c(E => ({
                ...E,
                [w]: C
            }))
        },
        y = async () => {
            u(!0);
            try {
                const w = s.find(C => C.provider === i);
                if (!w)
                    return;
                await Re("PUT", `/api/admin/payment-modules/${i}`, {
                    config: l,
                    isActive: w.isActive
                }),
                t({
                    title: "Configuración guardada",
                    description: "Los cambios se han guardado correctamente"
                }),
                await j()
            } catch {
                t({
                    title: "Error",
                    description: "No se pudo guardar la configuración",
                    variant: "destructive"
                })
            } finally {
                u(!1)
            }
        },
        v = async (w, C) => {
            try {
                const E = s.find(R => R.provider === w);
                if (!E)
                    return;
                console.log(`🔧 TOGGLE MODULE: ${w} -> ${C ? "activado" : "desactivado"}`),
                r(R => R.map(H => H.provider === w ? {
                    ...H,
                    isActive: C
                } : H)),
                p(R => R + 1);
                const k = await Re("PUT", `/api/admin/payment-modules/${w}`, {
                    config: E.config,
                    isActive: C
                });
                console.log(`✅ TOGGLE MODULE: ${w} actualizado en backend`),
                t({
                    title: C ? "Módulo activado" : "Módulo desactivado",
                    description: `El módulo ${E.name} ha sido ${C ? "activado" : "desactivado"}`
                }),
                setTimeout(async () => {
                    console.log("🔄 TOGGLE MODULE: Recargando módulos para verificar sincronización..."),
                    await j(),
                    p(R => R + 1)
                }, 200)
            } catch (E) {
                console.error(`❌ TOGGLE MODULE ERROR: ${w}`, E),
                r(k => k.map(R => R.provider === w ? {
                    ...R,
                    isActive: !C
                } : R)),
                p(k => k + 1),
                t({
                    title: "Error",
                    description: "No se pudo cambiar el estado del módulo",
                    variant: "destructive"
                })
            }
        },
        f = w => {
            switch (w) {
            case "stripe":
                return e.jsx(us, {
                    className: "w-5 h-5 text-blue-600"
                });
            case "paypal":
                return e.jsx(QO, {
                    className: "w-5 h-5 text-yellow-600"
                });
            case "redsys":
                return e.jsx(us, {
                    className: "w-5 h-5 text-red-600"
                });
            case "bank_transfer":
                return e.jsx(vp, {
                    className: "w-5 h-5 text-green-600"
                });
            default:
                return e.jsx(Hs, {
                    className: "w-5 h-5"
                })
            }
        },
        b = w => {
            var E;
            const C = l[w.name] || "";
            switch (w.type) {
            case "select":
                return e.jsxs("div", {
                    className: "space-y-2",
                    children: [e.jsxs(V, {
                        htmlFor: w.name,
                        children: [w.label, w.required && e.jsx("span", {
                            className: "text-red-500 ml-1",
                            children: "*"
                        })]
                    }), e.jsxs(He, {
                        value: C,
                        onValueChange: k => x(w.name, k),
                        children: [e.jsx(qe, {
                            children: e.jsx(We, {
                                placeholder: `Seleccionar ${w.label}`
                            })
                        }), e.jsx(Be, {
                            children: (E = w.options) == null ? void 0 : E.map(k => e.jsx(Q, {
                                value: k.value,
                                children: k.label
                            }, k.value))
                        })]
                    }), w.description && e.jsx("p", {
                        className: "text-sm text-gray-500",
                        children: w.description
                    })]
                }, w.name);
            case "checkbox":
                return e.jsxs("div", {
                    className: "space-y-2",
                    children: [e.jsxs("div", {
                        className: "flex items-center space-x-2",
                        children: [e.jsx(St, {
                            id: w.name,
                            checked: !!C,
                            onCheckedChange: k => x(w.name, k)
                        }), e.jsx(V, {
                            htmlFor: w.name,
                            children: w.label
                        })]
                    }), w.description && e.jsx("p", {
                        className: "text-sm text-gray-500",
                        children: w.description
                    })]
                }, w.name);
            case "password":
                return e.jsxs("div", {
                    className: "space-y-2",
                    children: [e.jsxs(V, {
                        htmlFor: w.name,
                        children: [w.label, w.required && e.jsx("span", {
                            className: "text-red-500 ml-1",
                            children: "*"
                        })]
                    }), e.jsx(te, {
                        id: w.name,
                        type: "password",
                        value: C,
                        onChange: k => x(w.name, k.target.value),
                        placeholder: `Ingresa ${w.label}`
                    }), w.description && e.jsx("p", {
                        className: "text-sm text-gray-500",
                        children: w.description
                    })]
                }, w.name);
            default:
                return e.jsxs("div", {
                    className: "space-y-2",
                    children: [e.jsxs(V, {
                        htmlFor: w.name,
                        children: [w.label, w.required && e.jsx("span", {
                            className: "text-red-500 ml-1",
                            children: "*"
                        })]
                    }), e.jsx(te, {
                        id: w.name,
                        type: "text",
                        value: C,
                        onChange: k => x(w.name, k.target.value),
                        placeholder: `Ingresa ${w.label}`
                    }), w.description && e.jsx("p", {
                        className: "text-sm text-gray-500",
                        children: w.description
                    })]
                }, w.name)
            }
        };
    if (n)
        return e.jsx("div", {
            className: "flex items-center justify-center h-64",
            children: e.jsx("div", {
                className: "animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"
            })
        });
    const N = s.find(w => w.provider === i);
    return e.jsxs("div", {
        className: "container mx-auto p-6 space-y-6",
        children: [e.jsxs("div", {
            className: "flex items-center justify-between",
            children: [e.jsx("h1", {
                className: "text-3xl font-bold",
                children: "Módulos de Pago"
            }), e.jsxs(ye, {
                variant: "outline",
                className: "flex items-center gap-2",
                children: [e.jsx(Hs, {
                    className: "w-4 h-4"
                }), "Configuración de Pagos"]
            })]
        }), e.jsxs("div", {
            className: "grid grid-cols-1 md:grid-cols-4 gap-6",
            children: [e.jsxs(U, {
                className: "md:col-span-1",
                children: [e.jsx(ne, {
                    children: e.jsx(ae, {
                        children: "Módulos Disponibles"
                    })
                }), e.jsx(q, {
                    className: "space-y-4",
                    children: s.map(w => e.jsxs("div", {
                        className: `p-3 rounded-lg border cursor-pointer transition-colors ${i === w.provider ? "border-primary bg-primary/10" : "border-gray-200 hover:border-gray-300"}`,
                        onClick: () => g(w.provider),
                        children: [e.jsxs("div", {
                            className: "flex items-center justify-between mb-2",
                            children: [e.jsxs("div", {
                                className: "flex items-center gap-2",
                                children: [f(w.provider), e.jsx("span", {
                                    className: "font-medium",
                                    children: w.name
                                })]
                            }), e.jsxs("div", {
                                className: "flex items-center gap-2",
                                children: [e.jsx(St, {
                                    checked: w.isActive,
                                    onCheckedChange: C => v(w.provider, C),
                                    onClick: C => C.stopPropagation()
                                }, `${w.provider}-${m}-${w.isActive}`), w.isActive ? e.jsx(Cf, {
                                    className: "w-4 h-4 text-green-600"
                                }) : e.jsx(tr, {
                                    className: "w-4 h-4 text-gray-400"
                                })]
                            })]
                        }), e.jsx(ye, {
                            variant: w.isActive ? "default" : "secondary",
                            className: "text-xs",
                            children: w.isActive ? "Activo" : "Inactivo"
                        })]
                    }, w.provider))
                })]
            }), e.jsxs(U, {
                className: "md:col-span-3",
                children: [e.jsx(ne, {
                    children: e.jsxs(ae, {
                        className: "flex items-center gap-2",
                        children: [N && f(N.provider), "Configuración de ", N == null ? void 0 : N.name]
                    })
                }), e.jsx(q, {
                    children: N ? e.jsxs("div", {
                        className: "space-y-6",
                        children: [e.jsxs("div", {
                            className: "flex items-center gap-2 p-4 bg-blue-50 rounded-lg",
                            children: [e.jsx(zr, {
                                className: "w-5 h-5 text-blue-600"
                            }), e.jsx("p", {
                                className: "text-sm text-blue-800",
                                children: "Configura los parámetros del módulo de pago. Los campos marcados con * son obligatorios."
                            })]
                        }), e.jsx("div", {
                            className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                            children: N.configFields.map(w => b(w))
                        }), e.jsxs("div", {
                            className: "flex justify-end gap-2",
                            children: [e.jsx(T, {
                                variant: "outline",
                                onClick: () => g(i),
                                disabled: d,
                                children: "Descartar Cambios"
                            }), e.jsx(T, {
                                onClick: y,
                                disabled: d,
                                children: d ? "Guardando..." : "Guardar Configuración"
                            })]
                        })]
                    }) : e.jsx("p", {
                        className: "text-center text-gray-500",
                        children: "Selecciona un módulo para configurar"
                    })
                })]
            })]
        }), e.jsxs(U, {
            children: [e.jsx(ne, {
                children: e.jsx(ae, {
                    children: "Información Importante"
                })
            }), e.jsx(q, {
                className: "space-y-4",
                children: e.jsxs("div", {
                    className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                    children: [e.jsxs("div", {
                        className: "space-y-2",
                        children: [e.jsx("h4", {
                            className: "font-semibold",
                            children: "Redsys"
                        }), e.jsx("p", {
                            className: "text-sm text-gray-600",
                            children: "Sistema de pago español para tarjetas de crédito y débito. Requiere código de comercio y clave secreta."
                        })]
                    }), e.jsxs("div", {
                        className: "space-y-2",
                        children: [e.jsx("h4", {
                            className: "font-semibold",
                            children: "PayPal"
                        }), e.jsx("p", {
                            className: "text-sm text-gray-600",
                            children: "Sistema de pago internacional. Requiere Client ID y Client Secret desde el panel de PayPal."
                        })]
                    }), e.jsxs("div", {
                        className: "space-y-2",
                        children: [e.jsx("h4", {
                            className: "font-semibold",
                            children: "Stripe"
                        }), e.jsx("p", {
                            className: "text-sm text-gray-600",
                            children: "Procesador de pagos con tarjeta. Requiere claves públicas y privadas de Stripe."
                        })]
                    }), e.jsxs("div", {
                        className: "space-y-2",
                        children: [e.jsx("h4", {
                            className: "font-semibold",
                            children: "Transferencia Bancaria"
                        }), e.jsx("p", {
                            className: "text-sm text-gray-600",
                            children: "Pago offline. Los clientes reciben instrucciones para realizar transferencia manual."
                        })]
                    })]
                })
            })]
        })]
    })
}
const eG = Me.object({
        name: Me.string().min(1, "El nombre es requerido"),
        description: Me.string().optional(),
        base_price: Me.coerce.number().min(0, "El precio base debe ser mayor o igual a 0"),
        is_active: Me.boolean().default(!0),
        free_shipping_threshold: Me.coerce.number().min(0).optional(),
        weight_based_pricing: Me.boolean().default(!0),
        price_per_kg: Me.coerce.number().min(0).optional(),
        max_weight: Me.coerce.number().min(0).optional(),
        estimated_days: Me.coerce.number().min(1).optional(),
        instructions: Me.string().optional()
    }),
    tG = Me.object({
        shipping_config_id: Me.number(),
        min_weight: Me.coerce.number().min(0, "El peso mínimo debe ser mayor o igual a 0"),
        max_weight: Me.coerce.number().optional(),
        price: Me.coerce.number().min(0, "El precio debe ser mayor o igual a 0")
    }),
    sG = Me.object({
        name: Me.string().min(1, "El nombre es requerido"),
        description: Me.string().optional(),
        sort_order: Me.coerce.number().min(0, "El orden debe ser mayor o igual a 0"),
        is_active: Me.boolean().default(!0)
    });
Me.object({
    shipping_config_id: Me.number(),
    shipping_zone_id: Me.number(),
    min_weight: Me.coerce.number().min(0, "El peso mínimo debe ser mayor o igual a 0"),
    max_weight: Me.coerce.number().optional(),
    price: Me.coerce.number().min(0, "El precio debe ser mayor o igual a 0")
});
function rG() {
    const {toast: t} = st(),
        s = pr(),
        {logout: r} = Ts(),
        [, n] = ut(),
        [a, i] = h.useState(null),
        [o, l] = h.useState(!1);
    h.useState(!1),
    h.useState(null),
    h.useState(null);
    const [c, d] = h.useState(null),
        [u, m] = h.useState(!1),
        [p, j] = h.useState(null),
        [g, x] = h.useState(null),
        [y, v] = h.useState(!1),
        {data: f=[], isLoading: b} = Te({
            queryKey: ["/api/admin/shipping/methods"]
        }),
        {data: N=[], isLoading: w} = Te({
            queryKey: ["/api/admin/shipping/zones"]
        }),
        {data: C=[], isLoading: E} = Te({
            queryKey: ["/api/admin/provinces"]
        }),
        {data: k=[], isLoading: R} = Te({
            queryKey: p ? ["/api/admin/shipping/zone-rates", p.id] : ["/api/admin/shipping/zone-rates"],
            enabled: !!p
        }),
        H = mn({
            resolver: Sn(eG),
            defaultValues: {
                name: "",
                description: "",
                base_price: 0,
                is_active: !0,
                free_shipping_threshold: 0,
                weight_based_pricing: !0,
                price_per_kg: 0,
                max_weight: 0,
                estimated_days: 3,
                instructions: ""
            }
        });
    mn({
        resolver: Sn(tG),
        defaultValues: {
            shipping_config_id: 0,
            min_weight: 0,
            max_weight: 0,
            price: 0
        }
    });
    const z = mn({
            resolver: Sn(sG),
            defaultValues: {
                name: "",
                description: "",
                sort_order: 0,
                is_active: !0
            }
        }),
        A = nt({
            mutationFn: D => Re("POST", "/api/admin/shipping/methods", D),
            onSuccess: () => {
                s.invalidateQueries({
                    queryKey: ["/api/admin/shipping/methods"]
                }),
                t({
                    title: "Método de envío creado exitosamente"
                }),
                l(!1),
                i(null),
                H.reset()
            },
            onError: D => {
                t({
                    title: "Error al crear método",
                    description: D.message,
                    variant: "destructive"
                })
            }
        }),
        $ = nt({
            mutationFn: ({id: D, data: K}) => Re("PUT", `/api/admin/shipping/methods/${D}`, K),
            onSuccess: () => {
                s.invalidateQueries({
                    queryKey: ["/api/admin/shipping/methods"]
                }),
                t({
                    title: "Método de envío actualizado exitosamente"
                }),
                l(!1),
                i(null),
                H.reset()
            },
            onError: D => {
                t({
                    title: "Error al actualizar método",
                    description: D.message,
                    variant: "destructive"
                })
            }
        }),
        G = nt({
            mutationFn: D => Re("DELETE", `/api/admin/shipping/methods/${D}`),
            onSuccess: () => {
                s.invalidateQueries({
                    queryKey: ["/api/admin/shipping/methods"]
                }),
                t({
                    title: "Método de envío eliminado exitosamente"
                })
            },
            onError: D => {
                t({
                    title: "Error al eliminar método",
                    description: D.message,
                    variant: "destructive"
                })
            }
        }),
        F = nt({
            mutationFn: D => Re("POST", "/api/admin/shipping/zones", D),
            onSuccess: () => {
                s.invalidateQueries({
                    queryKey: ["/api/admin/shipping/zones"]
                }),
                t({
                    title: "Zona de envío creada exitosamente"
                }),
                m(!1),
                d(null),
                z.reset()
            },
            onError: D => {
                t({
                    title: "Error al crear zona",
                    description: D.message,
                    variant: "destructive"
                })
            }
        }),
        _ = nt({
            mutationFn: ({id: D, data: K}) => Re("PUT", `/api/admin/shipping/zones/${D}`, K),
            onSuccess: () => {
                s.invalidateQueries({
                    queryKey: ["/api/admin/shipping/zones"]
                }),
                t({
                    title: "Zona de envío actualizada exitosamente"
                }),
                m(!1),
                d(null),
                z.reset()
            },
            onError: D => {
                t({
                    title: "Error al actualizar zona",
                    description: D.message,
                    variant: "destructive"
                })
            }
        }),
        S = nt({
            mutationFn: D => Re("DELETE", `/api/admin/shipping/zones/${D}`),
            onSuccess: () => {
                s.invalidateQueries({
                    queryKey: ["/api/admin/shipping/zones"]
                }),
                s.invalidateQueries({
                    queryKey: ["/api/admin/provinces"]
                }),
                t({
                    title: "Zona de envío eliminada exitosamente"
                })
            },
            onError: D => {
                t({
                    title: "Error al eliminar zona",
                    description: D.message,
                    variant: "destructive"
                })
            }
        }),
        I = nt({
            mutationFn: ({provinceId: D, zoneId: K}) => Re("PUT", `/api/admin/provinces/${D}/zone`, {
                shipping_zone_id: K
            }),
            onSuccess: () => {
                s.invalidateQueries({
                    queryKey: ["/api/admin/provinces"]
                }),
                s.invalidateQueries({
                    queryKey: ["/api/admin/shipping/zones"]
                }),
                t({
                    title: "Asignación de provincia actualizada exitosamente"
                })
            },
            onError: D => {
                t({
                    title: "Error al actualizar asignación",
                    description: D.message,
                    variant: "destructive"
                })
            }
        }),
        W = D => {
            i(D),
            H.reset({
                name: D.name,
                description: D.description || "",
                base_price: parseFloat(D.base_price),
                is_active: D.is_active,
                free_shipping_threshold: D.free_shipping_threshold ? parseFloat(D.free_shipping_threshold) : 0,
                weight_based_pricing: D.weight_based_pricing,
                price_per_kg: D.price_per_kg ? parseFloat(D.price_per_kg) : 0,
                max_weight: D.max_weight ? parseFloat(D.max_weight) : 0,
                estimated_days: D.estimated_days || 3,
                instructions: D.instructions || ""
            }),
            l(!0)
        },
        oe = D => {
            confirm("¿Estás seguro de que quieres eliminar este método de envío y todas sus tarifas?") && G.mutate(D)
        },
        O = D => {
            d(D),
            z.reset({
                name: D.name,
                description: D.description || "",
                sort_order: D.sort_order,
                is_active: D.is_active
            }),
            m(!0)
        },
        M = D => {
            confirm("¿Estás seguro de que quieres eliminar esta zona de envío? Se desasignarán todas las provincias.") && S.mutate(D)
        },
        re = D => {
            a ? $.mutate({
                id: a.id,
                data: D
            }) : A.mutate(D)
        },
        ue = D => {
            c ? _.mutate({
                id: c.id,
                data: D
            }) : F.mutate(D)
        },
        Y = (D, K) => {
            const L = K === "" ? null : parseInt(K);
            I.mutate({
                provinceId: D,
                zoneId: L
            })
        },
        he = async () => {
            await r(),
            n("/login")
        };
    return b || w || E ? e.jsx("div", {
        className: "p-6",
        children: e.jsxs("div", {
            className: "animate-pulse space-y-4",
            children: [e.jsx("div", {
                className: "h-8 bg-gray-200 rounded w-1/4"
            }), e.jsx("div", {
                className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                children: [1, 2].map(D => e.jsx("div", {
                    className: "h-64 bg-gray-200 rounded"
                }, D))
            })]
        })
    }) : e.jsxs("div", {
        className: "flex min-h-screen bg-gray-100",
        children: [e.jsx($s, {}), e.jsxs("div", {
            className: "flex-1 p-8",
            children: [e.jsxs("div", {
                className: "flex justify-between items-center mb-8",
                children: [e.jsxs("div", {
                    children: [e.jsx("h1", {
                        className: "text-3xl font-montserrat font-bold",
                        children: "Gestión de Envíos"
                    }), e.jsx("p", {
                        className: "text-muted-foreground",
                        children: "Configure métodos de envío, zonas y tarifas"
                    })]
                }), e.jsxs(T, {
                    variant: "outline",
                    onClick: he,
                    children: [e.jsx(ka, {
                        className: "mr-2 h-4 w-4"
                    }), "Cerrar sesión"]
                })]
            }), e.jsxs(ls, {
                defaultValue: "methods",
                className: "w-full",
                children: [e.jsxs(es, {
                    className: "grid w-full grid-cols-4",
                    children: [e.jsx(Ue, {
                        value: "methods",
                        children: "Métodos de Envío"
                    }), e.jsx(Ue, {
                        value: "zones",
                        children: "Zonas de Envío"
                    }), e.jsx(Ue, {
                        value: "provinces",
                        children: "Asignación de Provincias"
                    }), e.jsx(Ue, {
                        value: "zone-rates",
                        children: "Tarifas por Zona"
                    })]
                }), e.jsxs($e, {
                    value: "methods",
                    className: "space-y-6",
                    children: [e.jsxs("div", {
                        className: "flex justify-between items-center",
                        children: [e.jsxs("div", {
                            children: [e.jsx("h2", {
                                className: "text-xl font-semibold",
                                children: "Métodos de Envío"
                            }), e.jsx("p", {
                                className: "text-muted-foreground",
                                children: "Configura los métodos de envío disponibles"
                            })]
                        }), e.jsxs(Ps, {
                            open: o,
                            onOpenChange: l,
                            children: [e.jsx(_p, {
                                asChild: !0,
                                children: e.jsxs(T, {
                                    onClick: () => {
                                        i(null),
                                        H.reset()
                                    },
                                    children: [e.jsx(on, {
                                        className: "mr-2 h-4 w-4"
                                    }), "Nuevo Método"]
                                })
                            }), e.jsxs(xs, {
                                className: "max-w-2xl max-h-[80vh] overflow-y-auto",
                                children: [e.jsxs(gs, {
                                    children: [e.jsx(vs, {
                                        children: a ? "Editar Método de Envío" : "Nuevo Método de Envío"
                                    }), e.jsx(Sr, {
                                        children: a ? "Modifica la configuración del método de envío" : "Configura un nuevo método de envío para tu tienda"
                                    })]
                                }), e.jsx(_n, {
                                    ...H,
                                    children: e.jsxs("form", {
                                        onSubmit: H.handleSubmit(re),
                                        className: "space-y-4",
                                        children: [e.jsxs("div", {
                                            className: "grid grid-cols-2 gap-4",
                                            children: [e.jsx(et, {
                                                control: H.control,
                                                name: "name",
                                                render: ({field: D}) => e.jsxs(Ze, {
                                                    children: [e.jsx(tt, {
                                                        children: "Nombre del Método"
                                                    }), e.jsx(Xe, {
                                                        children: e.jsx(te, {
                                                            placeholder: "Ej: Envío Estándar",
                                                            ...D
                                                        })
                                                    }), e.jsx(rt, {})]
                                                })
                                            }), e.jsx(et, {
                                                control: H.control,
                                                name: "base_price",
                                                render: ({field: D}) => e.jsxs(Ze, {
                                                    children: [e.jsx(tt, {
                                                        children: "Precio Base (€)"
                                                    }), e.jsx(Xe, {
                                                        children: e.jsx(te, {
                                                            type: "number",
                                                            step: "0.01",
                                                            placeholder: "0.00",
                                                            ...D
                                                        })
                                                    }), e.jsx(rt, {})]
                                                })
                                            })]
                                        }), e.jsx(et, {
                                            control: H.control,
                                            name: "description",
                                            render: ({field: D}) => e.jsxs(Ze, {
                                                children: [e.jsx(tt, {
                                                    children: "Descripción"
                                                }), e.jsx(Xe, {
                                                    children: e.jsx(Ut, {
                                                        placeholder: "Descripción del método de envío",
                                                        ...D
                                                    })
                                                }), e.jsx(rt, {})]
                                            })
                                        }), e.jsxs("div", {
                                            className: "grid grid-cols-2 gap-4",
                                            children: [e.jsx(et, {
                                                control: H.control,
                                                name: "estimated_days",
                                                render: ({field: D}) => e.jsxs(Ze, {
                                                    children: [e.jsx(tt, {
                                                        children: "Días Estimados"
                                                    }), e.jsx(Xe, {
                                                        children: e.jsx(te, {
                                                            type: "number",
                                                            placeholder: "3",
                                                            ...D
                                                        })
                                                    }), e.jsx(rt, {})]
                                                })
                                            }), e.jsx(et, {
                                                control: H.control,
                                                name: "free_shipping_threshold",
                                                render: ({field: D}) => e.jsxs(Ze, {
                                                    children: [e.jsx(tt, {
                                                        children: "Envío Gratis a partir de (€)"
                                                    }), e.jsx(Xe, {
                                                        children: e.jsx(te, {
                                                            type: "number",
                                                            step: "0.01",
                                                            placeholder: "0.00",
                                                            ...D
                                                        })
                                                    }), e.jsx(rt, {})]
                                                })
                                            })]
                                        }), e.jsx(et, {
                                            control: H.control,
                                            name: "instructions",
                                            render: ({field: D}) => e.jsxs(Ze, {
                                                children: [e.jsx(tt, {
                                                    children: "Instrucciones"
                                                }), e.jsx(Xe, {
                                                    children: e.jsx(Ut, {
                                                        placeholder: "Instrucciones adicionales para este método",
                                                        ...D
                                                    })
                                                }), e.jsx(rt, {})]
                                            })
                                        }), e.jsx(et, {
                                            control: H.control,
                                            name: "is_active",
                                            render: ({field: D}) => e.jsxs(Ze, {
                                                className: "flex flex-row items-center justify-between rounded-lg border p-4",
                                                children: [e.jsxs("div", {
                                                    className: "space-y-0.5",
                                                    children: [e.jsx(tt, {
                                                        className: "text-base",
                                                        children: "Método Activo"
                                                    }), e.jsx("div", {
                                                        className: "text-sm text-muted-foreground",
                                                        children: "El método estará disponible para los clientes"
                                                    })]
                                                }), e.jsx(Xe, {
                                                    children: e.jsx(St, {
                                                        checked: D.value,
                                                        onCheckedChange: D.onChange
                                                    })
                                                })]
                                            })
                                        }), e.jsxs("div", {
                                            className: "flex justify-end space-x-2",
                                            children: [e.jsx(T, {
                                                type: "button",
                                                variant: "outline",
                                                onClick: () => l(!1),
                                                children: "Cancelar"
                                            }), e.jsxs(T, {
                                                type: "submit",
                                                disabled: A.isPending || $.isPending,
                                                children: [a ? "Actualizar" : "Crear", " Método"]
                                            })]
                                        })]
                                    })
                                })]
                            })]
                        })]
                    }), e.jsx("div", {
                        className: "grid gap-4",
                        children: f.map(D => e.jsxs(U, {
                            children: [e.jsx(ne, {
                                children: e.jsxs("div", {
                                    className: "flex justify-between items-start",
                                    children: [e.jsxs("div", {
                                        children: [e.jsxs(ae, {
                                            className: "flex items-center gap-2",
                                            children: [e.jsx(er, {
                                                className: "h-5 w-5"
                                            }), D.name, e.jsx(ye, {
                                                variant: D.is_active ? "default" : "secondary",
                                                children: D.is_active ? "Activo" : "Inactivo"
                                            })]
                                        }), e.jsx(qt, {
                                            children: D.description
                                        })]
                                    }), e.jsxs("div", {
                                        className: "flex space-x-2",
                                        children: [e.jsx(T, {
                                            variant: "outline",
                                            size: "sm",
                                            onClick: () => W(D),
                                            children: e.jsx(Br, {
                                                className: "h-4 w-4"
                                            })
                                        }), e.jsx(T, {
                                            variant: "outline",
                                            size: "sm",
                                            onClick: () => oe(D.id),
                                            children: e.jsx(Jt, {
                                                className: "h-4 w-4"
                                            })
                                        })]
                                    })]
                                })
                            }), e.jsx(q, {
                                children: e.jsxs("div", {
                                    className: "grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",
                                    children: [e.jsxs("div", {
                                        children: [e.jsx(V, {
                                            className: "text-muted-foreground",
                                            children: "Precio Base"
                                        }), e.jsxs("p", {
                                            className: "font-medium",
                                            children: ["€", parseFloat(D.base_price).toFixed(2)]
                                        })]
                                    }), e.jsxs("div", {
                                        children: [e.jsx(V, {
                                            className: "text-muted-foreground",
                                            children: "Días Estimados"
                                        }), e.jsxs("p", {
                                            className: "font-medium",
                                            children: [D.estimated_days || 3, " días"]
                                        })]
                                    }), e.jsxs("div", {
                                        children: [e.jsx(V, {
                                            className: "text-muted-foreground",
                                            children: "Envío Gratis"
                                        }), e.jsx("p", {
                                            className: "font-medium",
                                            children: D.free_shipping_threshold ? `€${parseFloat(D.free_shipping_threshold).toFixed(2)}` : "No disponible"
                                        })]
                                    }), e.jsxs("div", {
                                        children: [e.jsx(V, {
                                            className: "text-muted-foreground",
                                            children: "Estado"
                                        }), e.jsx("p", {
                                            className: "font-medium",
                                            children: D.is_active ? "Disponible" : "No disponible"
                                        })]
                                    })]
                                })
                            })]
                        }, D.id))
                    })]
                }), e.jsxs($e, {
                    value: "zones",
                    className: "space-y-6",
                    children: [e.jsxs("div", {
                        className: "flex justify-between items-center",
                        children: [e.jsxs("div", {
                            children: [e.jsx("h2", {
                                className: "text-xl font-semibold",
                                children: "Zonas RODES"
                            }), e.jsx("p", {
                                className: "text-muted-foreground",
                                children: "Gestiona las zonas de envío para el transporte RODES"
                            })]
                        }), e.jsxs(Ps, {
                            open: u,
                            onOpenChange: m,
                            children: [e.jsx(_p, {
                                asChild: !0,
                                children: e.jsxs(T, {
                                    onClick: () => {
                                        d(null),
                                        z.reset()
                                    },
                                    children: [e.jsx(on, {
                                        className: "mr-2 h-4 w-4"
                                    }), "Nueva Zona"]
                                })
                            }), e.jsxs(xs, {
                                children: [e.jsxs(gs, {
                                    children: [e.jsx(vs, {
                                        children: c ? "Editar Zona de Envío" : "Nueva Zona de Envío"
                                    }), e.jsx(Sr, {
                                        children: c ? "Modifica la configuración de la zona" : "Crea una nueva zona para organizar las provincias"
                                    })]
                                }), e.jsx(_n, {
                                    ...z,
                                    children: e.jsxs("form", {
                                        onSubmit: z.handleSubmit(ue),
                                        className: "space-y-4",
                                        children: [e.jsx(et, {
                                            control: z.control,
                                            name: "name",
                                            render: ({field: D}) => e.jsxs(Ze, {
                                                children: [e.jsx(tt, {
                                                    children: "Nombre de la Zona"
                                                }), e.jsx(Xe, {
                                                    children: e.jsx(te, {
                                                        placeholder: "Ej: Zona 1 - Madrid y Centro",
                                                        ...D
                                                    })
                                                }), e.jsx(rt, {})]
                                            })
                                        }), e.jsx(et, {
                                            control: z.control,
                                            name: "description",
                                            render: ({field: D}) => e.jsxs(Ze, {
                                                children: [e.jsx(tt, {
                                                    children: "Descripción"
                                                }), e.jsx(Xe, {
                                                    children: e.jsx(Ut, {
                                                        placeholder: "Descripción de la zona y provincias incluidas",
                                                        ...D
                                                    })
                                                }), e.jsx(rt, {})]
                                            })
                                        }), e.jsx(et, {
                                            control: z.control,
                                            name: "sort_order",
                                            render: ({field: D}) => e.jsxs(Ze, {
                                                children: [e.jsx(tt, {
                                                    children: "Orden de Visualización"
                                                }), e.jsx(Xe, {
                                                    children: e.jsx(te, {
                                                        type: "number",
                                                        placeholder: "0",
                                                        ...D
                                                    })
                                                }), e.jsx(rt, {})]
                                            })
                                        }), e.jsx(et, {
                                            control: z.control,
                                            name: "is_active",
                                            render: ({field: D}) => e.jsxs(Ze, {
                                                className: "flex flex-row items-center justify-between rounded-lg border p-4",
                                                children: [e.jsxs("div", {
                                                    className: "space-y-0.5",
                                                    children: [e.jsx(tt, {
                                                        className: "text-base",
                                                        children: "Zona Activa"
                                                    }), e.jsx("div", {
                                                        className: "text-sm text-muted-foreground",
                                                        children: "La zona estará disponible para asignación"
                                                    })]
                                                }), e.jsx(Xe, {
                                                    children: e.jsx(St, {
                                                        checked: D.value,
                                                        onCheckedChange: D.onChange
                                                    })
                                                })]
                                            })
                                        }), e.jsxs("div", {
                                            className: "flex justify-end space-x-2",
                                            children: [e.jsx(T, {
                                                type: "button",
                                                variant: "outline",
                                                onClick: () => m(!1),
                                                children: "Cancelar"
                                            }), e.jsxs(T, {
                                                type: "submit",
                                                disabled: F.isPending || _.isPending,
                                                children: [c ? "Actualizar" : "Crear", " Zona"]
                                            })]
                                        })]
                                    })
                                })]
                            })]
                        })]
                    }), e.jsx("div", {
                        className: "grid gap-4",
                        children: N.map(D => e.jsxs(U, {
                            children: [e.jsx(ne, {
                                children: e.jsxs("div", {
                                    className: "flex justify-between items-start",
                                    children: [e.jsxs("div", {
                                        children: [e.jsxs(ae, {
                                            className: "flex items-center gap-2",
                                            children: [e.jsx(uo, {
                                                className: "h-5 w-5"
                                            }), D.name, e.jsx(ye, {
                                                variant: D.is_active ? "default" : "secondary",
                                                children: D.is_active ? "Activa" : "Inactiva"
                                            })]
                                        }), e.jsx(qt, {
                                            children: D.description
                                        })]
                                    }), e.jsxs("div", {
                                        className: "flex space-x-2",
                                        children: [e.jsx(T, {
                                            variant: "outline",
                                            size: "sm",
                                            onClick: () => O(D),
                                            children: e.jsx(Br, {
                                                className: "h-4 w-4"
                                            })
                                        }), e.jsx(T, {
                                            variant: "outline",
                                            size: "sm",
                                            onClick: () => M(D.id),
                                            children: e.jsx(Jt, {
                                                className: "h-4 w-4"
                                            })
                                        })]
                                    })]
                                })
                            }), e.jsxs(q, {
                                children: [e.jsxs("div", {
                                    className: "grid grid-cols-2 gap-4 text-sm",
                                    children: [e.jsxs("div", {
                                        children: [e.jsx(V, {
                                            className: "text-muted-foreground",
                                            children: "Provincias Asignadas"
                                        }), e.jsxs("p", {
                                            className: "font-medium",
                                            children: [D.province_count, " provincias"]
                                        })]
                                    }), e.jsxs("div", {
                                        children: [e.jsx(V, {
                                            className: "text-muted-foreground",
                                            children: "Orden"
                                        }), e.jsx("p", {
                                            className: "font-medium",
                                            children: D.sort_order
                                        })]
                                    })]
                                }), D.provinces && D.provinces.length > 0 && e.jsxs("div", {
                                    className: "mt-4",
                                    children: [e.jsx(V, {
                                        className: "text-muted-foreground",
                                        children: "Provincias:"
                                    }), e.jsx("p", {
                                        className: "text-sm mt-1",
                                        children: D.provinces.join(", ")
                                    })]
                                })]
                            })]
                        }, D.id))
                    })]
                }), e.jsxs($e, {
                    value: "provinces",
                    className: "space-y-6",
                    children: [e.jsxs("div", {
                        children: [e.jsx("h2", {
                            className: "text-xl font-semibold",
                            children: "Asignación de Provincias"
                        }), e.jsx("p", {
                            className: "text-muted-foreground",
                            children: "Asigna cada provincia española a una zona de envío universal"
                        })]
                    }), e.jsx("div", {
                        className: "grid gap-4",
                        children: e.jsxs(Ws, {
                            children: [e.jsx(Gs, {
                                children: e.jsxs(gt, {
                                    children: [e.jsx(ge, {
                                        children: "Provincia"
                                    }), e.jsx(ge, {
                                        children: "Código"
                                    }), e.jsx(ge, {
                                        children: "Zona Actual"
                                    }), e.jsx(ge, {
                                        children: "Cambiar Zona"
                                    })]
                                })
                            }), e.jsx(Ks, {
                                children: C.map(D => {
                                    var K;
                                    return e.jsxs(gt, {
                                        children: [e.jsx(xe, {
                                            className: "font-medium",
                                            children: D.name
                                        }), e.jsx(xe, {
                                            children: D.code
                                        }), e.jsx(xe, {
                                            children: D.zone_name ? e.jsx(ye, {
                                                variant: "outline",
                                                children: D.zone_name
                                            }) : e.jsx(ye, {
                                                variant: "secondary",
                                                children: "Sin asignar"
                                            })
                                        }), e.jsx(xe, {
                                            children: e.jsxs(He, {
                                                value: ((K = D.shipping_zone_id) == null ? void 0 : K.toString()) || "",
                                                onValueChange: L => Y(D.id, L),
                                                disabled: I.isPending,
                                                children: [e.jsx(qe, {
                                                    className: "w-48",
                                                    children: e.jsx(We, {
                                                        placeholder: "Seleccionar zona"
                                                    })
                                                }), e.jsxs(Be, {
                                                    children: [e.jsx(Q, {
                                                        value: "",
                                                        children: "Sin asignar"
                                                    }), N.filter(L => L.is_active).map(L => e.jsx(Q, {
                                                        value: L.id.toString(),
                                                        children: L.name
                                                    }, L.id))]
                                                })]
                                            })
                                        })]
                                    }, D.id)
                                })
                            })]
                        })
                    })]
                }), e.jsxs($e, {
                    value: "zone-rates",
                    className: "space-y-6",
                    children: [e.jsxs("div", {
                        children: [e.jsx("h2", {
                            className: "text-xl font-semibold",
                            children: "Tarifas por Zona"
                        }), e.jsx("p", {
                            className: "text-muted-foreground",
                            children: "Configura precios específicos por zona para cada método de envío"
                        })]
                    }), e.jsxs(U, {
                        children: [e.jsxs(ne, {
                            children: [e.jsx(ae, {
                                children: "Seleccionar Método de Envío"
                            }), e.jsx(qt, {
                                children: "Elige un método de envío para configurar sus tarifas por zona"
                            })]
                        }), e.jsx(q, {
                            children: e.jsx("div", {
                                className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",
                                children: f.map(D => e.jsx(U, {
                                    className: `cursor-pointer transition-colors ${(p == null ? void 0 : p.id) === D.id ? "ring-2 ring-primary bg-primary/5" : "hover:bg-muted/50"}`,
                                    onClick: () => j(D),
                                    children: e.jsx(q, {
                                        className: "p-4",
                                        children: e.jsxs("div", {
                                            className: "flex items-center justify-between",
                                            children: [e.jsxs("div", {
                                                children: [e.jsx("h3", {
                                                    className: "font-semibold",
                                                    children: D.name
                                                }), e.jsx("p", {
                                                    className: "text-sm text-muted-foreground",
                                                    children: D.description || "Sin descripción"
                                                })]
                                            }), e.jsx(ye, {
                                                variant: D.is_active ? "default" : "secondary",
                                                children: D.is_active ? "Activo" : "Inactivo"
                                            })]
                                        })
                                    })
                                }, D.id))
                            })
                        })]
                    }), p && e.jsxs(U, {
                        children: [e.jsx(ne, {
                            children: e.jsxs("div", {
                                className: "flex justify-between items-center",
                                children: [e.jsxs("div", {
                                    children: [e.jsxs(ae, {
                                        children: ["Tarifas de ", p.name]
                                    }), e.jsx(qt, {
                                        children: "Configura precios por zona y rango de peso"
                                    })]
                                }), e.jsxs(T, {
                                    onClick: () => {
                                        x(null),
                                        v(!0)
                                    },
                                    children: [e.jsx(on, {
                                        className: "h-4 w-4 mr-2"
                                    }), "Nueva Tarifa"]
                                })]
                            })
                        }), e.jsx(q, {
                            children: R ? e.jsxs("div", {
                                className: "text-center py-8",
                                children: [e.jsx("div", {
                                    className: "animate-spin w-6 h-6 border-2 border-primary border-t-transparent rounded-full mx-auto"
                                }), e.jsx("p", {
                                    className: "mt-2 text-muted-foreground",
                                    children: "Cargando tarifas..."
                                })]
                            }) : e.jsxs(Ws, {
                                children: [e.jsx(Gs, {
                                    children: e.jsxs(gt, {
                                        children: [e.jsx(ge, {
                                            children: "Zona"
                                        }), e.jsx(ge, {
                                            children: "Peso Mínimo (g)"
                                        }), e.jsx(ge, {
                                            children: "Peso Máximo (g)"
                                        }), e.jsx(ge, {
                                            children: "Precio (€)"
                                        }), e.jsx(ge, {
                                            children: "Acciones"
                                        })]
                                    })
                                }), e.jsxs(Ks, {
                                    children: [k.map(D => e.jsxs(gt, {
                                        children: [e.jsx(xe, {
                                            className: "font-medium",
                                            children: D.zone_name
                                        }), e.jsx(xe, {
                                            children: parseFloat(D.min_weight).toLocaleString()
                                        }), e.jsx(xe, {
                                            children: D.max_weight ? parseFloat(D.max_weight).toLocaleString() : "Sin límite"
                                        }), e.jsxs(xe, {
                                            children: ["€", parseFloat(D.price).toFixed(2)]
                                        }), e.jsx(xe, {
                                            children: e.jsxs("div", {
                                                className: "flex gap-2",
                                                children: [e.jsx(T, {
                                                    variant: "outline",
                                                    size: "sm",
                                                    onClick: () => {
                                                        x(D),
                                                        v(!0)
                                                    },
                                                    children: e.jsx(Br, {
                                                        className: "h-4 w-4"
                                                    })
                                                }), e.jsx(T, {
                                                    variant: "outline",
                                                    size: "sm",
                                                    onClick: () => {},
                                                    children: e.jsx(Jt, {
                                                        className: "h-4 w-4"
                                                    })
                                                })]
                                            })
                                        })]
                                    }, D.id)), k.length === 0 && e.jsx(gt, {
                                        children: e.jsxs(xe, {
                                            colSpan: 5,
                                            className: "text-center py-8 text-muted-foreground",
                                            children: ["No hay tarifas configuradas para este método de envío.", e.jsx("br", {}), 'Haz clic en "Nueva Tarifa" para agregar una.']
                                        })
                                    })]
                                })]
                            })
                        })]
                    })]
                })]
            })]
        })]
    })
}
const nG = () => {
        const {toast: t} = st(),
            s = pr(),
            [r, n] = h.useState(!1),
            [a, i] = h.useState("config"),
            {data: o, isLoading: l} = Te({
                queryKey: ["/api/admin/email-config"],
                queryFn: async () => {
                    const C = await fetch("/api/admin/email-config");
                    if (!C.ok)
                        throw new Error("Error al cargar configuración de correos");
                    return C.json()
                }
            }),
            {data: c, isLoading: d, refetch: u} = Te({
                queryKey: ["/api/admin/email-logs"],
                queryFn: async () => {
                    const C = await fetch("/api/admin/email-logs?limit=50");
                    if (!C.ok)
                        throw new Error("Error al cargar logs de correos");
                    return C.json()
                },
                enabled: a === "history"
            }),
            m = nt({
                mutationFn: async C => {
                    const E = await fetch("/api/admin/email-config", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json"
                        },
                        body: JSON.stringify(C)
                    });
                    if (!E.ok)
                        throw new Error("Error al guardar configuración");
                    return E.json()
                },
                onSuccess: () => {
                    t({
                        title: "Configuración guardada",
                        description: "La configuración de correos se ha guardado correctamente"
                    }),
                    s.invalidateQueries({
                        queryKey: ["/api/admin/email-config"]
                    })
                },
                onError: C => {
                    t({
                        title: "Error",
                        description: "Error al guardar la configuración",
                        variant: "destructive"
                    })
                }
            }),
            p = nt({
                mutationFn: async () => {
                    const C = await fetch("/api/admin/email-config/test", {
                        method: "POST"
                    });
                    if (!C.ok)
                        throw new Error("Error al probar configuración");
                    return C.json()
                },
                onSuccess: () => {
                    t({
                        title: "Prueba exitosa",
                        description: "El correo de prueba se ha enviado correctamente"
                    }),
                    a === "history" && u()
                },
                onError: C => {
                    t({
                        title: "Error en la prueba",
                        description: "Error al enviar el correo de prueba",
                        variant: "destructive"
                    })
                }
            }),
            j = nt({
                mutationFn: async C => {
                    const E = await fetch(`/api/admin/email-logs/${C}`, {
                        method: "DELETE"
                    });
                    if (!E.ok)
                        throw new Error("Error al eliminar log");
                    return E.json()
                },
                onSuccess: () => {
                    t({
                        title: "Log eliminado",
                        description: "El log se ha eliminado correctamente"
                    }),
                    u()
                },
                onError: C => {
                    t({
                        title: "Error",
                        description: "Error al eliminar el log",
                        variant: "destructive"
                    })
                }
            }),
            g = nt({
                mutationFn: async () => {
                    const C = await fetch("/api/admin/email-logs", {
                        method: "DELETE"
                    });
                    if (!C.ok)
                        throw new Error("Error al limpiar historial");
                    return C.json()
                },
                onSuccess: () => {
                    t({
                        title: "Historial limpiado",
                        description: "Todo el historial de correos se ha eliminado"
                    }),
                    u()
                },
                onError: C => {
                    t({
                        title: "Error",
                        description: "Error al limpiar el historial",
                        variant: "destructive"
                    })
                }
            }),
            x = (C, E) => {
                m.mutate({
                    key: C,
                    value: E
                })
            },
            y = async () => {
                n(!0);
                try {
                    await p.mutateAsync()
                } finally {
                    n(!1)
                }
            },
            v = C => {
                const E = o == null ? void 0 : o.find(k => k.key === C);
                return (E == null ? void 0 : E.value) || ""
            },
            f = C => {
                const E = o == null ? void 0 : o.find(k => k.key === C);
                return (E == null ? void 0 : E.isActive) || !1
            },
            b = C => new Date(C).toLocaleString("es-ES", {
                year: "numeric",
                month: "short",
                day: "numeric",
                hour: "2-digit",
                minute: "2-digit"
            }),
            N = C => {
                switch (C) {
                case "sent":
                    return e.jsx(ye, {
                        variant: "default",
                        className: "bg-green-100 text-green-800",
                        children: "Enviado"
                    });
                case "failed":
                    return e.jsx(ye, {
                        variant: "destructive",
                        children: "Error"
                    });
                case "pending":
                    return e.jsx(ye, {
                        variant: "secondary",
                        children: "Pendiente"
                    });
                default:
                    return e.jsx(ye, {
                        variant: "outline",
                        children: C
                    })
                }
            },
            w = C => {
                switch (C) {
                case "contact_form":
                    return "Formulario de contacto";
                case "order_confirmation":
                    return "Confirmación de pedido";
                case "order_notification":
                    return "Notificación de pedido";
                case "test":
                    return "Prueba";
                default:
                    return C
                }
            };
        return l ? e.jsxs("div", {
            className: "flex min-h-screen bg-gray-100",
            children: [e.jsx($s, {}), e.jsx("div", {
                className: "flex-1 p-8",
                children: e.jsx("div", {
                    className: "flex items-center justify-center h-64",
                    children: e.jsx("div", {
                        className: "animate-spin h-12 w-12 border-4 border-primary border-t-transparent rounded-full"
                    })
                })
            })]
        }) : e.jsxs("div", {
            className: "flex min-h-screen bg-gray-100",
            children: [e.jsx($s, {}), e.jsxs("div", {
                className: "flex-1 p-8",
                children: [e.jsxs("div", {
                    className: "flex justify-between items-center mb-8",
                    children: [e.jsxs("div", {
                        children: [e.jsx("h1", {
                            className: "text-3xl font-montserrat font-bold",
                            children: "Configuración de Correos"
                        }), e.jsx("p", {
                            className: "text-muted-foreground",
                            children: "Configura las direcciones de correo para notificaciones y formularios"
                        })]
                    }), e.jsxs("div", {
                        className: "flex items-center gap-2",
                        children: [a === "history" && e.jsxs(T, {
                            onClick: () => u(),
                            variant: "outline",
                            size: "sm",
                            className: "flex items-center gap-2",
                            children: [e.jsx(xt, {
                                className: "h-4 w-4"
                            }), "Actualizar"]
                        }), a === "messages" && e.jsxs(T, {
                            onClick: () => refetchMessages(),
                            variant: "outline",
                            size: "sm",
                            className: "flex items-center gap-2",
                            children: [e.jsx(xt, {
                                className: "h-4 w-4"
                            }), "Actualizar"]
                        }), e.jsxs(T, {
                            onClick: y,
                            disabled: r,
                            variant: "outline",
                            className: "flex items-center gap-2",
                            children: [e.jsx(Mh, {
                                className: "h-4 w-4"
                            }), r ? "Probando..." : "Probar configuración"]
                        })]
                    })]
                }), e.jsxs(ls, {
                    value: a,
                    onValueChange: i,
                    className: "w-full",
                    children: [e.jsxs(es, {
                        className: "grid w-full grid-cols-2",
                        children: [e.jsxs(Ue, {
                            value: "config",
                            className: "flex items-center gap-2",
                            children: [e.jsx(Ls, {
                                className: "h-4 w-4"
                            }), "Configuración"]
                        }), e.jsxs(Ue, {
                            value: "history",
                            className: "flex items-center gap-2",
                            children: [e.jsx(rw, {
                                className: "h-4 w-4"
                            }), "Historial"]
                        })]
                    }), e.jsx($e, {
                        value: "config",
                        className: "mt-6",
                        children: e.jsxs("div", {
                            className: "grid grid-cols-1 lg:grid-cols-2 gap-8",
                            children: [e.jsxs(U, {
                                children: [e.jsx(ne, {
                                    children: e.jsxs(ae, {
                                        className: "flex items-center gap-2",
                                        children: [e.jsx(Ls, {
                                            className: "h-5 w-5"
                                        }), "Notificaciones de Pedidos"]
                                    })
                                }), e.jsxs(q, {
                                    className: "space-y-6",
                                    children: [e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            htmlFor: "orders-admin-email",
                                            children: "Email del administrador"
                                        }), e.jsx(te, {
                                            id: "orders-admin-email",
                                            type: "email",
                                            placeholder: "admin@desguacesmurcia.es",
                                            defaultValue: v("orders_admin_email"),
                                            onBlur: C => x("orders_admin_email", C.target.value)
                                        }), e.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Correo donde se envían notificaciones de nuevos pedidos"
                                        })]
                                    }), e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            htmlFor: "orders-copy-email",
                                            children: "Email de copia (opcional)"
                                        }), e.jsx(te, {
                                            id: "orders-copy-email",
                                            type: "email",
                                            placeholder: "ventas@desguacesmurcia.es",
                                            defaultValue: v("orders_copy_email"),
                                            onBlur: C => x("orders_copy_email", C.target.value)
                                        }), e.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Correo adicional que recibirá copia de los pedidos"
                                        })]
                                    }), e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            htmlFor: "orders-subject",
                                            children: "Asunto del correo"
                                        }), e.jsx(te, {
                                            id: "orders-subject",
                                            placeholder: "Nuevo pedido #{orderNumber}",
                                            defaultValue: v("orders_subject") || "Nuevo pedido #{orderNumber}",
                                            onBlur: C => x("orders_subject", C.target.value)
                                        }), e.jsxs("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: ["Usa ", "{orderNumber}", " para incluir el número de pedido"]
                                        })]
                                    }), e.jsxs("div", {
                                        className: "flex items-center justify-between",
                                        children: [e.jsxs("div", {
                                            children: [e.jsx(V, {
                                                htmlFor: "orders-enabled",
                                                children: "Notificaciones activas"
                                            }), e.jsx("p", {
                                                className: "text-sm text-muted-foreground",
                                                children: "Recibir notificaciones por email de nuevos pedidos"
                                            })]
                                        }), e.jsx(St, {
                                            id: "orders-enabled",
                                            checked: f("orders_notifications_enabled"),
                                            onCheckedChange: C => x("orders_notifications_enabled", C.toString())
                                        })]
                                    })]
                                })]
                            }), e.jsxs(U, {
                                children: [e.jsx(ne, {
                                    children: e.jsxs(ae, {
                                        className: "flex items-center gap-2",
                                        children: [e.jsx(Ls, {
                                            className: "h-5 w-5"
                                        }), "Formularios de Contacto"]
                                    })
                                }), e.jsxs(q, {
                                    className: "space-y-6",
                                    children: [e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            htmlFor: "contact-admin-email",
                                            children: "Email del administrador"
                                        }), e.jsx(te, {
                                            id: "contact-admin-email",
                                            type: "email",
                                            placeholder: "contacto@desguacesmurcia.es",
                                            defaultValue: v("contact_admin_email"),
                                            onBlur: C => x("contact_admin_email", C.target.value)
                                        }), e.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Correo donde se envían los formularios de contacto"
                                        })]
                                    }), e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            htmlFor: "contact-copy-email",
                                            children: "Email de copia (opcional)"
                                        }), e.jsx(te, {
                                            id: "contact-copy-email",
                                            type: "email",
                                            placeholder: "info@desguacesmurcia.es",
                                            defaultValue: v("contact_copy_email"),
                                            onBlur: C => x("contact_copy_email", C.target.value)
                                        }), e.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Correo adicional que recibirá copia de los formularios"
                                        })]
                                    }), e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            htmlFor: "contact-subject",
                                            children: "Asunto del correo"
                                        }), e.jsx(te, {
                                            id: "contact-subject",
                                            placeholder: "Nuevo mensaje de contacto",
                                            defaultValue: v("contact_subject") || "Nuevo mensaje de contacto",
                                            onBlur: C => x("contact_subject", C.target.value)
                                        })]
                                    }), e.jsxs("div", {
                                        className: "flex items-center justify-between",
                                        children: [e.jsxs("div", {
                                            children: [e.jsx(V, {
                                                htmlFor: "contact-enabled",
                                                children: "Notificaciones activas"
                                            }), e.jsx("p", {
                                                className: "text-sm text-muted-foreground",
                                                children: "Recibir notificaciones por email de formularios de contacto"
                                            })]
                                        }), e.jsx(St, {
                                            id: "contact-enabled",
                                            checked: f("contact_notifications_enabled"),
                                            onCheckedChange: C => x("contact_notifications_enabled", C.toString())
                                        })]
                                    })]
                                })]
                            }), e.jsxs(U, {
                                className: "lg:col-span-2",
                                children: [e.jsx(ne, {
                                    children: e.jsxs(ae, {
                                        className: "flex items-center gap-2",
                                        children: [e.jsx(Ls, {
                                            className: "h-5 w-5"
                                        }), "Configuración SMTP"]
                                    })
                                }), e.jsxs(q, {
                                    className: "space-y-6",
                                    children: [e.jsxs("div", {
                                        className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                                        children: [e.jsxs("div", {
                                            className: "space-y-2",
                                            children: [e.jsx(V, {
                                                htmlFor: "smtp-host",
                                                children: "Servidor SMTP"
                                            }), e.jsx(te, {
                                                id: "smtp-host",
                                                placeholder: "smtp.gmail.com",
                                                defaultValue: v("smtp_host"),
                                                onBlur: C => x("smtp_host", C.target.value)
                                            })]
                                        }), e.jsxs("div", {
                                            className: "space-y-2",
                                            children: [e.jsx(V, {
                                                htmlFor: "smtp-port",
                                                children: "Puerto"
                                            }), e.jsx(te, {
                                                id: "smtp-port",
                                                type: "number",
                                                placeholder: "587",
                                                defaultValue: v("smtp_port"),
                                                onBlur: C => x("smtp_port", C.target.value)
                                            })]
                                        }), e.jsxs("div", {
                                            className: "space-y-2",
                                            children: [e.jsx(V, {
                                                htmlFor: "smtp-user",
                                                children: "Usuario SMTP"
                                            }), e.jsx(te, {
                                                id: "smtp-user",
                                                type: "email",
                                                placeholder: "tu-email@gmail.com",
                                                defaultValue: v("smtp_user"),
                                                onBlur: C => x("smtp_user", C.target.value)
                                            })]
                                        }), e.jsxs("div", {
                                            className: "space-y-2",
                                            children: [e.jsx(V, {
                                                htmlFor: "smtp-pass",
                                                children: "Contraseña SMTP"
                                            }), e.jsx(te, {
                                                id: "smtp-pass",
                                                type: "password",
                                                placeholder: "••••••••",
                                                defaultValue: v("smtp_pass"),
                                                onBlur: C => x("smtp_pass", C.target.value)
                                            })]
                                        })]
                                    }), e.jsxs("div", {
                                        className: "flex items-center justify-between",
                                        children: [e.jsxs("div", {
                                            children: [e.jsx(V, {
                                                htmlFor: "smtp-enabled",
                                                children: "SMTP activo"
                                            }), e.jsx("p", {
                                                className: "text-sm text-muted-foreground",
                                                children: "Usar configuración SMTP personalizada"
                                            })]
                                        }), e.jsx(St, {
                                            id: "smtp-enabled",
                                            checked: f("smtp_enabled"),
                                            onCheckedChange: C => x("smtp_enabled", C.toString())
                                        })]
                                    }), e.jsx("div", {
                                        className: "p-4 bg-blue-50 rounded-lg",
                                        children: e.jsxs("p", {
                                            className: "text-sm text-blue-800",
                                            children: [e.jsx("strong", {
                                                children: "Nota:"
                                            }), " Si no se configura SMTP, el sistema usará SendGrid si está disponible. Para Gmail, necesitarás crear una contraseña de aplicación específica."]
                                        })
                                    })]
                                })]
                            })]
                        })
                    }), e.jsx($e, {
                        value: "history",
                        className: "mt-6",
                        children: e.jsxs(U, {
                            children: [e.jsx(ne, {
                                children: e.jsxs(ae, {
                                    className: "flex items-center justify-between",
                                    children: [e.jsxs("div", {
                                        className: "flex items-center gap-2",
                                        children: [e.jsx(rw, {
                                            className: "h-5 w-5"
                                        }), "Historial de Correos"]
                                    }), e.jsxs("div", {
                                        className: "flex gap-2",
                                        children: [e.jsxs(T, {
                                            variant: "outline",
                                            size: "sm",
                                            onClick: () => u(),
                                            disabled: d,
                                            children: [e.jsx(xt, {
                                                className: `h-4 w-4 ${d ? "animate-spin" : ""}`
                                            }), "Actualizar"]
                                        }), e.jsxs(Fi, {
                                            children: [e.jsx(Mo, {
                                                asChild: !0,
                                                children: e.jsxs(T, {
                                                    variant: "destructive",
                                                    size: "sm",
                                                    disabled: !(c != null && c.logs) || c.logs.length === 0,
                                                    children: [e.jsx(Jt, {
                                                        className: "h-4 w-4"
                                                    }), "Limpiar Todo"]
                                                })
                                            }), e.jsxs(Qa, {
                                                children: [e.jsxs(Za, {
                                                    children: [e.jsxs(Ja, {
                                                        className: "flex items-center gap-2",
                                                        children: [e.jsx(zs, {
                                                            className: "h-5 w-5 text-destructive"
                                                        }), "Confirmar limpieza"]
                                                    }), e.jsx(ei, {
                                                        children: "Esta acción eliminará permanentemente todo el historial de correos. No se puede deshacer."
                                                    })]
                                                }), e.jsxs(Xa, {
                                                    children: [e.jsx(si, {
                                                        children: "Cancelar"
                                                    }), e.jsx(ti, {
                                                        onClick: () => g.mutate(),
                                                        className: "bg-destructive text-destructive-foreground hover:bg-destructive/90",
                                                        children: "Eliminar Todo"
                                                    })]
                                                })]
                                            })]
                                        })]
                                    })]
                                })
                            }), e.jsx(q, {
                                children: d ? e.jsx("div", {
                                    className: "flex items-center justify-center h-32",
                                    children: e.jsx("div", {
                                        className: "animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"
                                    })
                                }) : e.jsx("div", {
                                    className: "space-y-4",
                                    children: c != null && c.logs && c.logs.length > 0 ? e.jsx("div", {
                                        className: "overflow-x-auto",
                                        children: e.jsxs(Ws, {
                                            children: [e.jsx(Gs, {
                                                children: e.jsxs(gt, {
                                                    children: [e.jsx(ge, {
                                                        children: "Fecha"
                                                    }), e.jsx(ge, {
                                                        children: "Destinatario"
                                                    }), e.jsx(ge, {
                                                        children: "Asunto"
                                                    }), e.jsx(ge, {
                                                        children: "Tipo"
                                                    }), e.jsx(ge, {
                                                        children: "Método"
                                                    }), e.jsx(ge, {
                                                        children: "Estado"
                                                    }), e.jsx(ge, {
                                                        children: "Error"
                                                    }), e.jsx(ge, {
                                                        className: "w-20",
                                                        children: "Acciones"
                                                    })]
                                                })
                                            }), e.jsx(Ks, {
                                                children: c.logs.map(C => e.jsxs(gt, {
                                                    children: [e.jsx(xe, {
                                                        className: "font-mono text-sm",
                                                        children: b(C.createdAt)
                                                    }), e.jsx(xe, {
                                                        className: "max-w-xs truncate",
                                                        children: C.recipientEmail
                                                    }), e.jsx(xe, {
                                                        className: "max-w-xs truncate",
                                                        children: C.subject
                                                    }), e.jsx(xe, {
                                                        children: w(C.emailType)
                                                    }), e.jsx(xe, {
                                                        className: "capitalize",
                                                        children: C.transportMethod
                                                    }), e.jsx(xe, {
                                                        children: N(C.status)
                                                    }), e.jsx(xe, {
                                                        className: "max-w-xs",
                                                        children: C.errorMessage && e.jsx("div", {
                                                            className: "text-red-600 text-sm truncate",
                                                            title: C.errorMessage,
                                                            children: C.errorMessage
                                                        })
                                                    }), e.jsx(xe, {
                                                        children: e.jsxs(Fi, {
                                                            children: [e.jsx(Mo, {
                                                                asChild: !0,
                                                                children: e.jsx(T, {
                                                                    variant: "ghost",
                                                                    size: "sm",
                                                                    className: "h-8 w-8 p-0 text-muted-foreground hover:text-destructive",
                                                                    disabled: j.isPending,
                                                                    children: e.jsx(Jt, {
                                                                        className: "h-4 w-4"
                                                                    })
                                                                })
                                                            }), e.jsxs(Qa, {
                                                                children: [e.jsxs(Za, {
                                                                    children: [e.jsx(Ja, {
                                                                        children: "Eliminar log"
                                                                    }), e.jsx(ei, {
                                                                        children: "¿Estás seguro de que quieres eliminar este log de correo? Esta acción no se puede deshacer."
                                                                    })]
                                                                }), e.jsxs(Xa, {
                                                                    children: [e.jsx(si, {
                                                                        children: "Cancelar"
                                                                    }), e.jsx(ti, {
                                                                        onClick: () => j.mutate(C.id),
                                                                        className: "bg-destructive text-destructive-foreground hover:bg-destructive/90",
                                                                        children: "Eliminar"
                                                                    })]
                                                                })]
                                                            })]
                                                        })
                                                    })]
                                                }, C.id))
                                            })]
                                        })
                                    }) : e.jsxs("div", {
                                        className: "text-center py-8",
                                        children: [e.jsx(Ls, {
                                            className: "h-12 w-12 mx-auto text-gray-400 mb-4"
                                        }), e.jsx("p", {
                                            className: "text-gray-500",
                                            children: "No hay correos registrados"
                                        }), e.jsx("p", {
                                            className: "text-sm text-gray-400",
                                            children: "Los correos enviados aparecerán aquí"
                                        })]
                                    })
                                })
                            })]
                        })
                    })]
                })]
            })]
        })
    },
    aG = () => {
        const {toast: t} = st(),
            [s, r] = h.useState(!1),
            [n, a] = h.useState(!1),
            [i, o] = h.useState({
                id: "1",
                bannerEnabled: !0,
                bannerMessage: "Utilizamos cookies para mejorar tu experiencia en nuestro sitio web. Al continuar navegando, aceptas nuestro uso de cookies.",
                bannerPosition: "bottom",
                bannerStyle: "detailed",
                privacyPolicyUrl: "/politica-privacidad",
                cookiePolicyUrl: "/politica-cookies",
                consentDuration: 365,
                necessaryCookies: {
                    enabled: !0,
                    description: "Cookies esenciales para el funcionamiento básico del sitio web",
                    cookies: ["session", "csrf_token", "cart_data"]
                },
                analyticsCookies: {
                    enabled: !1,
                    description: "Cookies para análisis y métricas del sitio web",
                    cookies: ["_ga", "_gid", "_gat"],
                    googleAnalyticsId: ""
                },
                marketingCookies: {
                    enabled: !1,
                    description: "Cookies para publicidad y marketing dirigido",
                    cookies: ["_fb", "_twitter", "advertising_id"]
                },
                preferencesCookies: {
                    enabled: !1,
                    description: "Cookies para recordar preferencias del usuario",
                    cookies: ["theme", "language", "layout_preferences"]
                }
            }),
            l = async () => {
                a(!0);
                try {
                    await new Promise(m => setTimeout(m, 1e3)),
                    localStorage.setItem("adminCookieConfig", JSON.stringify(i)),
                    t({
                        title: "Configuración guardada",
                        description: "La configuración de cookies se ha guardado correctamente."
                    })
                } catch {
                    t({
                        title: "Error al guardar",
                        description: "No se pudo guardar la configuración de cookies.",
                        variant: "destructive"
                    })
                } finally {
                    a(!1)
                }
            },
            c = async () => {
                r(!0);
                try {
                    await new Promise(p => setTimeout(p, 500));
                    const m = localStorage.getItem("adminCookieConfig");
                    m && o(JSON.parse(m))
                } catch {
                    t({
                        title: "Error al cargar",
                        description: "No se pudo cargar la configuración de cookies.",
                        variant: "destructive"
                    })
                } finally {
                    r(!1)
                }
            },
            d = () => {
                localStorage.removeItem("cookieConsent"),
                localStorage.removeItem("cookiePreferences"),
                t({
                    title: "Consentimiento restablecido",
                    description: "Se ha eliminado el consentimiento de cookies. Recarga la página para ver el banner nuevamente."
                })
            },
            u = (m, p) => {
                o(j => {
                    const g = {
                            ...j
                        },
                        x = m.split(".");
                    let y = g;
                    for (let v = 0; v < x.length - 1; v++)
                        y = y[x[v]];
                    return y[x[x.length - 1]] = p, g
                })
            };
        return h.useEffect(() => {
            c()
        }, []), e.jsxs("div", {
            className: "flex min-h-screen bg-gray-50",
            children: [e.jsx($s, {
                activeTab: "admin_cookie_settings"
            }), e.jsxs("div", {
                className: "flex-1 p-8 space-y-6",
                children: [e.jsxs("div", {
                    className: "flex items-center justify-between",
                    children: [e.jsxs("div", {
                        children: [e.jsx("h1", {
                            className: "text-3xl font-bold",
                            children: "Configuración de Cookies"
                        }), e.jsx("p", {
                            className: "text-muted-foreground",
                            children: "Gestiona el consentimiento de cookies y las políticas de privacidad"
                        })]
                    }), e.jsxs("div", {
                        className: "flex gap-2",
                        children: [e.jsxs(T, {
                            variant: "outline",
                            onClick: c,
                            disabled: s,
                            children: [e.jsx(xt, {
                                className: `h-4 w-4 mr-2 ${s ? "animate-spin" : ""}`
                            }), "Recargar"]
                        }), e.jsxs(T, {
                            onClick: l,
                            disabled: n,
                            children: [e.jsx(wn, {
                                className: `h-4 w-4 mr-2 ${n ? "animate-spin" : ""}`
                            }), n ? "Guardando..." : "Guardar configuración"]
                        })]
                    })]
                }), e.jsxs(ls, {
                    defaultValue: "general",
                    className: "w-full",
                    children: [e.jsxs(es, {
                        className: "grid w-full grid-cols-4",
                        children: [e.jsx(Ue, {
                            value: "general",
                            children: "General"
                        }), e.jsx(Ue, {
                            value: "categories",
                            children: "Categorías"
                        }), e.jsx(Ue, {
                            value: "appearance",
                            children: "Apariencia"
                        }), e.jsx(Ue, {
                            value: "tools",
                            children: "Herramientas"
                        })]
                    }), e.jsx($e, {
                        value: "general",
                        className: "space-y-6",
                        children: e.jsxs(U, {
                            children: [e.jsx(ne, {
                                children: e.jsxs(ae, {
                                    className: "flex items-center gap-2",
                                    children: [e.jsx(Hs, {
                                        className: "h-5 w-5"
                                    }), "Configuración General"]
                                })
                            }), e.jsxs(q, {
                                className: "space-y-4",
                                children: [e.jsxs("div", {
                                    className: "flex items-center justify-between",
                                    children: [e.jsxs("div", {
                                        className: "space-y-0.5",
                                        children: [e.jsx(V, {
                                            children: "Habilitar banner de cookies"
                                        }), e.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Mostrar el banner de consentimiento de cookies"
                                        })]
                                    }), e.jsx(St, {
                                        checked: i.bannerEnabled,
                                        onCheckedChange: m => u("bannerEnabled", m)
                                    })]
                                }), e.jsxs("div", {
                                    className: "space-y-2",
                                    children: [e.jsx(V, {
                                        children: "Mensaje del banner"
                                    }), e.jsx(Ut, {
                                        value: i.bannerMessage,
                                        onChange: m => u("bannerMessage", m.target.value),
                                        placeholder: "Mensaje que aparecerá en el banner de cookies",
                                        rows: 3
                                    })]
                                }), e.jsxs("div", {
                                    className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                                    children: [e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            children: "URL de política de privacidad"
                                        }), e.jsx(te, {
                                            value: i.privacyPolicyUrl,
                                            onChange: m => u("privacyPolicyUrl", m.target.value),
                                            placeholder: "/politica-privacidad"
                                        })]
                                    }), e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            children: "URL de política de cookies"
                                        }), e.jsx(te, {
                                            value: i.cookiePolicyUrl,
                                            onChange: m => u("cookiePolicyUrl", m.target.value),
                                            placeholder: "/politica-cookies"
                                        })]
                                    })]
                                }), e.jsxs("div", {
                                    className: "space-y-2",
                                    children: [e.jsx(V, {
                                        children: "Duración del consentimiento (días)"
                                    }), e.jsx(te, {
                                        type: "number",
                                        value: i.consentDuration,
                                        onChange: m => u("consentDuration", parseInt(m.target.value)),
                                        placeholder: "365",
                                        min: "1",
                                        max: "1095"
                                    }), e.jsx("p", {
                                        className: "text-sm text-muted-foreground",
                                        children: "Tiempo antes de que se vuelva a solicitar el consentimiento"
                                    })]
                                })]
                            })]
                        })
                    }), e.jsx($e, {
                        value: "categories",
                        className: "space-y-6",
                        children: e.jsxs("div", {
                            className: "grid gap-6",
                            children: [e.jsxs(U, {
                                children: [e.jsx(ne, {
                                    children: e.jsxs(ae, {
                                        className: "flex items-center gap-2",
                                        children: [e.jsx(lm, {
                                            className: "h-5 w-5 text-green-600"
                                        }), "Cookies Necesarias", e.jsx(ye, {
                                            variant: "secondary",
                                            children: "Siempre activas"
                                        })]
                                    })
                                }), e.jsxs(q, {
                                    className: "space-y-4",
                                    children: [e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            children: "Descripción"
                                        }), e.jsx(Ut, {
                                            value: i.necessaryCookies.description,
                                            onChange: m => u("necessaryCookies.description", m.target.value),
                                            rows: 2
                                        })]
                                    }), e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            children: "Cookies utilizadas"
                                        }), e.jsx(te, {
                                            value: i.necessaryCookies.cookies.join(", "),
                                            onChange: m => u("necessaryCookies.cookies", m.target.value.split(", ").filter(Boolean)),
                                            placeholder: "session, csrf_token, cart_data"
                                        })]
                                    })]
                                })]
                            }), e.jsxs(U, {
                                children: [e.jsx(ne, {
                                    children: e.jsxs(ae, {
                                        className: "flex items-center gap-2",
                                        children: [e.jsx(yu, {
                                            className: "h-5 w-5 text-blue-600"
                                        }), "Cookies de Análisis", e.jsx(St, {
                                            checked: i.analyticsCookies.enabled,
                                            onCheckedChange: m => u("analyticsCookies.enabled", m)
                                        })]
                                    })
                                }), e.jsxs(q, {
                                    className: "space-y-4",
                                    children: [e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            children: "Descripción"
                                        }), e.jsx(Ut, {
                                            value: i.analyticsCookies.description,
                                            onChange: m => u("analyticsCookies.description", m.target.value),
                                            rows: 2
                                        })]
                                    }), e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            children: "Google Analytics ID (opcional)"
                                        }), e.jsx(te, {
                                            value: i.analyticsCookies.googleAnalyticsId || "",
                                            onChange: m => u("analyticsCookies.googleAnalyticsId", m.target.value),
                                            placeholder: "GA-XXXXXXXXX-X"
                                        })]
                                    }), e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            children: "Cookies utilizadas"
                                        }), e.jsx(te, {
                                            value: i.analyticsCookies.cookies.join(", "),
                                            onChange: m => u("analyticsCookies.cookies", m.target.value.split(", ").filter(Boolean)),
                                            placeholder: "_ga, _gid, _gat"
                                        })]
                                    })]
                                })]
                            }), e.jsxs(U, {
                                children: [e.jsx(ne, {
                                    children: e.jsxs(ae, {
                                        className: "flex items-center gap-2",
                                        children: [e.jsx(Oj, {
                                            className: "h-5 w-5 text-purple-600"
                                        }), "Cookies de Marketing", e.jsx(St, {
                                            checked: i.marketingCookies.enabled,
                                            onCheckedChange: m => u("marketingCookies.enabled", m)
                                        })]
                                    })
                                }), e.jsxs(q, {
                                    className: "space-y-4",
                                    children: [e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            children: "Descripción"
                                        }), e.jsx(Ut, {
                                            value: i.marketingCookies.description,
                                            onChange: m => u("marketingCookies.description", m.target.value),
                                            rows: 2
                                        })]
                                    }), e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            children: "Cookies utilizadas"
                                        }), e.jsx(te, {
                                            value: i.marketingCookies.cookies.join(", "),
                                            onChange: m => u("marketingCookies.cookies", m.target.value.split(", ").filter(Boolean)),
                                            placeholder: "_fb, _twitter, advertising_id"
                                        })]
                                    })]
                                })]
                            }), e.jsxs(U, {
                                children: [e.jsx(ne, {
                                    children: e.jsxs(ae, {
                                        className: "flex items-center gap-2",
                                        children: [e.jsx(Hs, {
                                            className: "h-5 w-5 text-orange-600"
                                        }), "Cookies de Preferencias", e.jsx(St, {
                                            checked: i.preferencesCookies.enabled,
                                            onCheckedChange: m => u("preferencesCookies.enabled", m)
                                        })]
                                    })
                                }), e.jsxs(q, {
                                    className: "space-y-4",
                                    children: [e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            children: "Descripción"
                                        }), e.jsx(Ut, {
                                            value: i.preferencesCookies.description,
                                            onChange: m => u("preferencesCookies.description", m.target.value),
                                            rows: 2
                                        })]
                                    }), e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            children: "Cookies utilizadas"
                                        }), e.jsx(te, {
                                            value: i.preferencesCookies.cookies.join(", "),
                                            onChange: m => u("preferencesCookies.cookies", m.target.value.split(", ").filter(Boolean)),
                                            placeholder: "theme, language, layout_preferences"
                                        })]
                                    })]
                                })]
                            })]
                        })
                    }), e.jsx($e, {
                        value: "appearance",
                        className: "space-y-6",
                        children: e.jsxs(U, {
                            children: [e.jsx(ne, {
                                children: e.jsx(ae, {
                                    children: "Apariencia del Banner"
                                })
                            }), e.jsxs(q, {
                                className: "space-y-4",
                                children: [e.jsxs("div", {
                                    className: "space-y-2",
                                    children: [e.jsx(V, {
                                        children: "Posición del banner"
                                    }), e.jsxs(He, {
                                        value: i.bannerPosition,
                                        onValueChange: m => u("bannerPosition", m),
                                        children: [e.jsx(qe, {
                                            children: e.jsx(We, {})
                                        }), e.jsxs(Be, {
                                            children: [e.jsx(Q, {
                                                value: "bottom",
                                                children: "Parte inferior"
                                            }), e.jsx(Q, {
                                                value: "top",
                                                children: "Parte superior"
                                            })]
                                        })]
                                    })]
                                }), e.jsxs("div", {
                                    className: "space-y-2",
                                    children: [e.jsx(V, {
                                        children: "Estilo del banner"
                                    }), e.jsxs(He, {
                                        value: i.bannerStyle,
                                        onValueChange: m => u("bannerStyle", m),
                                        children: [e.jsx(qe, {
                                            children: e.jsx(We, {})
                                        }), e.jsxs(Be, {
                                            children: [e.jsx(Q, {
                                                value: "minimal",
                                                children: "Minimalista"
                                            }), e.jsx(Q, {
                                                value: "detailed",
                                                children: "Detallado"
                                            })]
                                        })]
                                    })]
                                })]
                            })]
                        })
                    }), e.jsx($e, {
                        value: "tools",
                        className: "space-y-6",
                        children: e.jsxs(U, {
                            children: [e.jsx(ne, {
                                children: e.jsx(ae, {
                                    children: "Herramientas de Desarrollo"
                                })
                            }), e.jsxs(q, {
                                className: "space-y-4",
                                children: [e.jsxs("div", {
                                    className: "flex items-center gap-4 p-4 bg-yellow-50 rounded-lg",
                                    children: [e.jsx(zr, {
                                        className: "h-5 w-5 text-yellow-600"
                                    }), e.jsxs("div", {
                                        children: [e.jsx("p", {
                                            className: "font-medium",
                                            children: "Restablecer consentimiento"
                                        }), e.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Elimina el consentimiento guardado para probar el banner nuevamente"
                                        })]
                                    }), e.jsx(T, {
                                        variant: "outline",
                                        onClick: d,
                                        className: "ml-auto",
                                        children: "Restablecer"
                                    })]
                                }), e.jsxs("div", {
                                    className: "flex items-center gap-4 p-4 bg-blue-50 rounded-lg",
                                    children: [e.jsx(yp, {
                                        className: "h-5 w-5 text-blue-600"
                                    }), e.jsxs("div", {
                                        children: [e.jsx("p", {
                                            className: "font-medium",
                                            children: "Vista previa"
                                        }), e.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Los cambios se aplicarán automáticamente en el sitio web"
                                        })]
                                    })]
                                })]
                            })]
                        })
                    })]
                })]
            })]
        })
    };
function iG() {
    const [, t] = ut(),
        {user: s, logout: r} = Ts(),
        n = (s == null ? void 0 : s.isAdmin) || !1,
        a = s !== null,
        {toast: i} = st(),
        o = async () => {
            try {
                await r(),
                t("/admin")
            } catch ($) {
                console.error("Error during logout:", $)
            }
        },
        [l, c] = h.useState("0"),
        [d, u] = h.useState("1000"),
        [m, p] = h.useState(new Date(2e3, 0, 1)),
        [j, g] = h.useState("recovery"),
        [x, y] = h.useState(null),
        [v, f] = h.useState(!0),
        b = async () => {
            try {
                f(!0);
                const $ = await Lc.getConfig();
                y($),
                console.log("Configuración de API cargada:", $),
                i({
                    title: "Configuración cargada",
                    description: `API Key: ${$.apiKey.substring(0, 8)}... | ID Empresa: ${$.companyId}`,
                    variant: "default"
                })
            } catch ($) {
                console.error("Error al cargar la configuración de la API:", $),
                i({
                    title: "Error",
                    description: "No se pudo cargar la configuración de la API",
                    variant: "destructive"
                })
            } finally {
                f(!1)
            }
        };
    h.useEffect(() => {
        a && n && b()
    }, [a, n]),
    h.useEffect(() => {
        if (x) {
            const $ = JSON.parse(JSON.stringify(k));
            $.forEach(G => {
                G.tests.forEach(F => {
                    "apikey" in F.headers && (F.headers.apikey = x.apiKey),
                    "idempresa" in F.headers && (F.headers.idempresa = x.companyId)
                })
            }),
            R($)
        }
    }, [x]);
    const N = $ => {
            try {
                const G = JSON.stringify($.response, null, 2),
                    F = new Blob([G], {
                        type: "application/json"
                    }),
                    _ = URL.createObjectURL(F),
                    S = document.createElement("a");
                S.href = _,
                S.download = `${$.name}_${new Date().toISOString().slice(0, 16).replace(/:/g, "-")}.json`,
                document.body.appendChild(S),
                S.click(),
                document.body.removeChild(S),
                i({
                    title: "Archivo JSON exportado",
                    description: "El archivo se ha descargado correctamente",
                    variant: "default"
                })
            } catch (G) {
                console.error("Error al exportar JSON:", G),
                i({
                    title: "Error al exportar",
                    description: "No se pudo generar el archivo JSON",
                    variant: "destructive"
                })
            }
        },
        w = $ => {
            if (!$ || $.length === 0)
                return "";
            const G = $.filter(I => I && typeof I == "object");
            if (G.length === 0)
                return "";
            const F = new Set;
            for (const I of G)
                if (I && typeof I == "object")
                    for (const W of Object.keys(I))
                        F.add(W);
            const _ = Array.from(F),
                S = [_.join(",")];
            for (const I of G) {
                const W = [];
                for (const oe of _) {
                    let O = "";
                    if (I.hasOwnProperty(oe)) {
                        const M = I[oe];
                        M == null ? O = "" : typeof M == "object" ? O = `"${JSON.stringify(M).replace(/"/g, '""')}"` : O = `"${String(M).replace(/"/g, '""')}"`
                    }
                    W.push(O)
                }
                S.push(W.join(","))
            }
            return S.join(`
`
            )
        },
        C = $ => {
            var G,
                F,
                _,
                S,
                I,
                W;
            try {
                let oe = "",
                    O = `${$.name}_${new Date().toISOString().slice(0, 16).replace(/:/g, "-")}.csv`;
                (F = (G = $.response) == null ? void 0 : G.data) != null && F.piezas && $.response.data.piezas.length > 0 ? (oe = w($.response.data.piezas), O = `piezas_${O}`) : (S = (_ = $.response) == null ? void 0 : _.data) != null && S.vehiculos && $.response.data.vehiculos.length > 0 ? (oe = w($.response.data.vehiculos), O = `vehiculos_${O}`) : Array.isArray((I = $.response) == null ? void 0 : I.data) ? oe = w($.response.data) : oe = w([((W = $.response) == null ? void 0 : W.data) || {}]);
                const M = new Blob([oe], {
                        type: "text/csv;charset=utf-8;"
                    }),
                    re = URL.createObjectURL(M),
                    ue = document.createElement("a");
                ue.href = re,
                ue.download = O,
                document.body.appendChild(ue),
                ue.click(),
                document.body.removeChild(ue),
                i({
                    title: "Archivo CSV exportado",
                    description: "El archivo se ha descargado correctamente",
                    variant: "default"
                })
            } catch (oe) {
                console.error("Error al exportar CSV:", oe),
                i({
                    title: "Error al exportar",
                    description: "No se pudo generar el archivo CSV",
                    variant: "destructive"
                })
            }
        },
        E = m ? Bt(m, "dd/MM/yyyy HH:mm:ss") : "01/01/2000 00:00:00",
        [k, R] = h.useState([{
            id: "recovery",
            name: "Recuperación de Datos",
            description: "Endpoints para recuperar piezas y vehículos actualizados",
            tests: [{
                id: "recuperarCambiosCanalEmpresa",
                name: "RecuperarCambiosCanalEmpresa",
                endpoint: "/api/raw/test-metasync",
                description: "Recupera piezas y vehículos actualizados para una empresa específica",
                headers: {
                    method: "RecuperarCambiosCanalEmpresa",
                    apikey: (x == null ? void 0 : x.apiKey) || "",
                    fecha: E,
                    lastid: l,
                    offset: d,
                    idempresa: (x == null ? void 0 : x.companyId) || 1476
                },
                loading: !1
            }, {
                id: "recuperarCambiosVehiculosCanalEmpresa",
                name: "RecuperarCambiosVehiculosCanalEmpresa",
                endpoint: "/api/raw/test-metasync",
                description: "Recupera vehículos actualizados para una empresa específica (Nota: puede devolver 404, utilizar RecuperarCambiosCanalEmpresa para vehículos)",
                headers: {
                    method: "RecuperarCambiosVehiculosCanalEmpresa",
                    apikey: (x == null ? void 0 : x.apiKey) || "",
                    fecha: E,
                    lastid: l,
                    offset: d,
                    idempresa: (x == null ? void 0 : x.companyId) || 1476
                },
                loading: !1
            }, {
                id: "recuperarCambiosCanal",
                name: "RecuperarCambiosCanal",
                endpoint: "/api/raw/test-metasync",
                description: "Recupera piezas y vehículos actualizados de todos los canales",
                headers: {
                    method: "RecuperarCambiosCanal",
                    apikey: (x == null ? void 0 : x.apiKey) || "",
                    fecha: E,
                    lastid: l,
                    offset: d
                },
                loading: !1
            }, {
                id: "recuperarCambiosVehiculosCanal",
                name: "RecuperarCambiosVehiculosCanal",
                endpoint: "/api/raw/test-metasync",
                description: "Recupera vehículos actualizados de todos los canales",
                headers: {
                    method: "RecuperarCambiosVehiculosCanal",
                    apikey: (x == null ? void 0 : x.apiKey) || "",
                    fecha: E,
                    lastid: l,
                    offset: d
                },
                loading: !1
            }]
        }, {
            id: "counts",
            name: "Conteos",
            description: "Endpoints para contar piezas y vehículos",
            tests: [{
                id: "conteoPiezasEmpresa",
                name: "ConteoPiezasEmpresa",
                endpoint: "/api/raw/test-metasync",
                description: "Cuenta piezas actualizadas para una empresa específica",
                headers: {
                    method: "ConteoPiezasEmpresa",
                    apikey: (x == null ? void 0 : x.apiKey) || "",
                    fecha: E,
                    idempresa: (x == null ? void 0 : x.companyId) || 1476
                },
                loading: !1
            }, {
                id: "conteoVehiculosEmpresa",
                name: "ConteoVehiculosEmpresa",
                endpoint: "/api/raw/test-metasync",
                description: "Cuenta vehículos actualizados para una empresa específica",
                headers: {
                    method: "ConteoVehiculosEmpresa",
                    apikey: (x == null ? void 0 : x.apiKey) || "",
                    fecha: E,
                    idempresa: (x == null ? void 0 : x.companyId) || 1476
                },
                loading: !1
            }, {
                id: "conteoPiezasCanal",
                name: "ConteoPiezasCanal",
                endpoint: "/api/raw/test-metasync",
                description: "Cuenta piezas actualizadas de todos los canales",
                headers: {
                    method: "ConteoPiezasCanal",
                    apikey: (x == null ? void 0 : x.apiKey) || "",
                    fecha: E
                },
                loading: !1
            }, {
                id: "conteoVehiculosCanal",
                name: "ConteoVehiculosCanal",
                endpoint: "/api/raw/test-metasync",
                description: "Cuenta vehículos actualizados de todos los canales",
                headers: {
                    method: "ConteoVehiculosCanal",
                    apikey: (x == null ? void 0 : x.apiKey) || "",
                    fecha: E
                },
                loading: !1
            }]
        }, {
            id: "operations",
            name: "Operaciones",
            description: "Operaciones de inserción y eliminación",
            tests: [{
                id: "inventarioUPSERT",
                name: "InventarioUPSERT",
                endpoint: "/api/raw/test-metasync",
                description: "Insertar piezas y vehículos (requiere JSON en el body)",
                headers: {
                    method: "InventarioUPSERT",
                    apikey: (x == null ? void 0 : x.apiKey) || "",
                    idempresa: (x == null ? void 0 : x.companyId) || 1476
                },
                body: JSON.stringify({
                    Piezas: [],
                    Vehiculos: []
                }, null, 2),
                requiresBody: !0,
                loading: !1
            }, {
                id: "deleteParts",
                name: "DeleteParts",
                endpoint: "/api/raw/test-metasync",
                description: "Eliminar piezas (requiere array de refLocal en el body)",
                headers: {
                    method: "DeleteParts",
                    apikey: (x == null ? void 0 : x.apiKey) || "",
                    idempresa: (x == null ? void 0 : x.companyId) || 1476
                },
                body: "[]",
                requiresBody: !0,
                loading: !1
            }]
        }, {
            id: "images",
            name: "Imágenes",
            description: "Operaciones con imágenes",
            tests: [{
                id: "insertarImagenUrls",
                name: "InsertarImagenUrls",
                endpoint: "/api/raw/test-metasync",
                description: "Insertar imágenes a partir de URLs",
                headers: {
                    method: "InsertarImagenUrls",
                    apikey: (x == null ? void 0 : x.apiKey) || "",
                    idempresa: (x == null ? void 0 : x.companyId) || 1476
                },
                body: JSON.stringify({
                    RefLocal: 0,
                    Urls: []
                }, null, 2),
                requiresBody: !0,
                loading: !1
            }]
        }, {
            id: "orders",
            name: "Pedidos",
            description: "Operaciones con pedidos",
            tests: [{
                id: "crearPedido",
                name: "CrearPedido",
                endpoint: "/api/raw/test-metasync",
                description: "Crear un nuevo pedido",
                headers: {
                    method: "CrearPedido",
                    apikey: "",
                    idempresa: 1476
                },
                body: JSON.stringify({
                    Pedido: {
                        Origen: "",
                        CodigoOrigen: "",
                        Comentarios: ""
                    },
                    Cliente: {
                        Nombre: "",
                        Direccion: "",
                        Cp: "",
                        Provincia: "",
                        Poblacion: "",
                        Pais: "",
                        Email: "",
                        Telefono: ""
                    },
                    Envio: {
                        Nombre: "",
                        Direccion: "",
                        Cp: "",
                        Provincia: "",
                        Poblacion: "",
                        Pais: "",
                        Email: "",
                        Telefono: ""
                    },
                    Lineas: []
                }, null, 2),
                requiresBody: !0,
                loading: !1
            }, {
                id: "actualizarEstado",
                name: "ActualizarEstado",
                endpoint: "/api/raw/test-metasync",
                description: "Actualizar estado de un pedido",
                headers: {
                    method: "ActualizarEstado",
                    apikey: "",
                    idempresa: 1476,
                    codigo: "",
                    estado: ""
                },
                loading: !1
            }, {
                id: "recuperarPedidoOrigen",
                name: "RecuperarPedidoOrigen",
                endpoint: "/api/raw/test-metasync",
                description: "Recuperar un pedido por su código de origen",
                headers: {
                    method: "RecuperarPedidoOrigen",
                    apikey: "",
                    idempresa: 1476,
                    codigo: ""
                },
                loading: !1
            }]
        }]),
        H = async () => {
            try {
                const $ = await fetch("/api/config");
                if (!$.ok)
                    throw new Error("Error al obtener la configuración de API");
                const G = await $.json();
                R(F => F.map(_ => ({
                    ..._,
                    tests: _.tests.map(S => ({
                        ...S,
                        headers: {
                            ...S.headers,
                            apikey: G.apiKey
                        }
                    }))
                })))
            } catch ($) {
                console.error("Error fetching API config:", $),
                i({
                    title: "Error",
                    description: "No se pudo obtener la configuración de API. Verifique que ha configurado la API y que tiene permisos de administrador.",
                    variant: "destructive"
                })
            }
        },
        z = ($, G, F) => {
            R(_ => {
                const S = _.findIndex(oe => oe.id === $);
                if (S === -1)
                    return _;
                const I = _[S].tests.findIndex(oe => oe.id === G);
                if (I === -1)
                    return _;
                const W = [..._];
                return W[S].tests[I].body = F, W
            })
        },
        A = async ($, G) => {
            const F = k.findIndex(S => S.id === $);
            if (F === -1)
                return;
            const _ = k[F].tests.findIndex(S => S.id === G);
            if (_ !== -1) {
                R(S => {
                    const I = [...S];
                    return I[F].tests[_].loading = !0, I[F].tests[_].error = void 0, I[F].tests[_].success = void 0, I
                });
                try {
                    const {headers: S, body: I, requiresBody: W} = k[F].tests[_];
                    let oe = {};
                    if (W && I)
                        try {
                            oe = {
                                ...S,
                                body: JSON.parse(I)
                            }
                        } catch {
                            i({
                                title: "Error en el formato del body",
                                description: "El formato JSON del body no es válido",
                                variant: "destructive"
                            }),
                            R(ue => {
                                const Y = [...ue];
                                return Y[F].tests[_].loading = !1, Y[F].tests[_].error = "Error en el formato JSON del body", Y
                            });
                            return
                        }
                    else
                        oe = S;
                    const O = await fetch(k[F].tests[_].endpoint, {
                            method: "POST",
                            headers: {
                                "Content-Type": "application/json"
                            },
                            body: JSON.stringify(oe)
                        }),
                        M = await O.json();
                    R(re => {
                        const ue = [...re];
                        return ue[F].tests[_].loading = !1, ue[F].tests[_].response = M, ue[F].tests[_].success = O.ok, O.ok || (ue[F].tests[_].error = M.error || "Error desconocido"), ue
                    }),
                    O.ok ? i({
                        title: "Test ejecutado correctamente",
                        description: `${k[F].tests[_].name} completado con éxito.`
                    }) : i({
                        title: "Error al ejecutar test",
                        description: M.error || "Error desconocido",
                        variant: "destructive"
                    })
                } catch (S) {
                    console.error("Error running test:", S),
                    R(I => {
                        const W = [...I];
                        return W[F].tests[_].loading = !1, W[F].tests[_].error = S instanceof Error ? S.message : "Error desconocido", W[F].tests[_].success = !1, W
                    }),
                    i({
                        title: "Error al ejecutar test",
                        description: S instanceof Error ? S.message : "Error desconocido",
                        variant: "destructive"
                    })
                }
            }
        };
    return ke.useEffect(() => {
        a && n && H()
    }, [a, n]), ke.useEffect(() => {
        R($ => $.map(G => ({
            ...G,
            tests: G.tests.map(F => ({
                ...F,
                headers: {
                    ...F.headers,
                    fecha: E
                }
            }))
        })))
    }, [E]), ke.useEffect(() => {
        R($ => $.map(G => ({
            ...G,
            tests: G.tests.map(F => "lastid" in F.headers && "offset" in F.headers ? {
                ...F,
                headers: {
                    ...F.headers,
                    lastid: l,
                    offset: d
                }
            } : F)
        })))
    }, [l, d]), !a || !n ? e.jsx("div", {
        className: "flex min-h-screen flex-col",
        children: e.jsxs("div", {
            className: "container flex flex-col items-center justify-center flex-1 px-4 py-16",
            children: [e.jsx("h1", {
                className: "text-2xl font-bold mb-4",
                children: "Acceso denegado"
            }), e.jsx("p", {
                children: "Debe iniciar sesión como administrador para acceder a esta página."
            })]
        })
    }) : e.jsxs("div", {
        className: "flex min-h-screen bg-gray-100",
        children: [e.jsx($s, {}), e.jsxs("div", {
            className: "flex-1 p-8",
            children: [e.jsxs("div", {
                className: "flex justify-between items-center mb-8",
                children: [e.jsxs("div", {
                    children: [e.jsx("h1", {
                        className: "text-3xl font-montserrat font-bold",
                        children: "Tester de API Metasync"
                    }), e.jsx("p", {
                        className: "text-muted-foreground",
                        children: "Prueba todos los endpoints de la API Metasync y visualiza los resultados"
                    }), e.jsxs("div", {
                        className: "mt-2 text-sm p-2 rounded border border-amber-200 bg-amber-50 text-amber-700",
                        children: [e.jsx("strong", {
                            children: "Nota:"
                        }), " Para recuperar vehículos, usar RecuperarCambiosCanalEmpresa, ya que también contiene datos de vehículos y el endpoint RecuperarCambiosVehiculosCanalEmpresa puede no responder correctamente."]
                    })]
                }), e.jsxs(T, {
                    variant: "outline",
                    onClick: o,
                    children: [e.jsx(ka, {
                        className: "mr-2 h-4 w-4"
                    }), "Cerrar sesión"]
                })]
            }), e.jsxs(U, {
                className: "mb-6",
                children: [e.jsxs(ne, {
                    children: [e.jsx(ae, {
                        children: "Parámetros globales"
                    }), e.jsx(qt, {
                        children: "Estos parámetros se aplican a todos los tests según corresponda"
                    }), e.jsxs("div", {
                        className: "flex items-center justify-end mt-2",
                        children: [e.jsxs(T, {
                            variant: "outline",
                            size: "sm",
                            onClick: b,
                            disabled: v,
                            className: "flex items-center gap-1",
                            children: [v ? e.jsx(Xt, {
                                className: "h-4 w-4 animate-spin"
                            }) : e.jsx(xt, {
                                className: "h-4 w-4"
                            }), "Actualizar Configuración"]
                        }), x && e.jsxs("div", {
                            className: "ml-2 text-xs text-muted-foreground",
                            children: ["API Key: ", x.apiKey.substring(0, 8), "..."]
                        })]
                    })]
                }), e.jsx(q, {
                    children: e.jsxs("div", {
                        className: "grid grid-cols-1 md:grid-cols-3 gap-6",
                        children: [e.jsxs("div", {
                            className: "space-y-2",
                            children: [e.jsx(V, {
                                htmlFor: "date",
                                children: "Fecha (para todos los endpoints)"
                            }), e.jsx(cb, {
                                value: m,
                                onChange: $ => $ && p($)
                            }), e.jsxs("p", {
                                className: "text-xs text-muted-foreground mt-1",
                                children: ["Formato para API: ", E]
                            })]
                        }), e.jsxs("div", {
                            className: "space-y-2",
                            children: [e.jsx(V, {
                                htmlFor: "lastId",
                                children: "Last ID (para endpoints de recuperación)"
                            }), e.jsx(te, {
                                id: "lastId",
                                value: l,
                                onChange: $ => c($.target.value)
                            })]
                        }), e.jsxs("div", {
                            className: "space-y-2",
                            children: [e.jsx(V, {
                                htmlFor: "offset",
                                children: "Offset (para endpoints de recuperación)"
                            }), e.jsx(te, {
                                id: "offset",
                                value: d,
                                onChange: $ => u($.target.value)
                            })]
                        })]
                    })
                })]
            }), e.jsxs(ls, {
                value: j,
                onValueChange: g,
                children: [e.jsx(es, {
                    className: "mb-6",
                    children: k.map($ => e.jsx(Ue, {
                        value: $.id,
                        children: $.name
                    }, $.id))
                }), k.map($ => e.jsx($e, {
                    value: $.id,
                    children: e.jsxs(U, {
                        children: [e.jsxs(ne, {
                            children: [e.jsx(ae, {
                                children: $.name
                            }), e.jsx(qt, {
                                children: $.description
                            })]
                        }), e.jsx(q, {
                            children: e.jsx("div", {
                                className: "space-y-8",
                                children: $.tests.map(G => e.jsxs("div", {
                                    className: "border rounded-lg p-6",
                                    children: [e.jsxs("div", {
                                        className: "flex flex-col md:flex-row md:items-center justify-between gap-4 mb-4",
                                        children: [e.jsxs("div", {
                                            children: [e.jsx("h3", {
                                                className: "text-lg font-semibold",
                                                children: G.name
                                            }), e.jsx("p", {
                                                className: "text-muted-foreground",
                                                children: G.description
                                            })]
                                        }), e.jsx("div", {
                                            className: "flex gap-2",
                                            children: e.jsxs(T, {
                                                variant: "default",
                                                onClick: () => A($.id, G.id),
                                                disabled: G.loading,
                                                children: [G.loading && e.jsx(Xt, {
                                                    className: "mr-2 h-4 w-4 animate-spin"
                                                }), "Ejecutar"]
                                            })
                                        })]
                                    }), e.jsxs("div", {
                                        className: "mb-4",
                                        children: [e.jsx("h4", {
                                            className: "text-sm font-medium mb-2",
                                            children: "Headers"
                                        }), e.jsx("div", {
                                            className: "bg-muted p-3 rounded-md overflow-x-auto",
                                            children: e.jsx("pre", {
                                                className: "text-xs",
                                                children: JSON.stringify(G.headers, null, 2)
                                            })
                                        })]
                                    }), G.requiresBody && e.jsxs("div", {
                                        className: "mb-4 border-t pt-4",
                                        children: [e.jsx("div", {
                                            className: "flex justify-between items-center mb-2",
                                            children: e.jsx("h4", {
                                                className: "text-sm font-medium",
                                                children: "Body (JSON)"
                                            })
                                        }), e.jsx("div", {
                                            className: "border border-input rounded-md",
                                            children: e.jsx("textarea", {
                                                className: "w-full p-3 font-mono text-xs bg-background resize-y min-h-[200px]",
                                                value: G.body || "",
                                                onChange: F => z($.id, G.id, F.target.value),
                                                placeholder: "Escribe el body en formato JSON"
                                            })
                                        }), e.jsx("p", {
                                            className: "text-xs text-muted-foreground mt-1",
                                            children: "El body debe estar en formato JSON válido"
                                        })]
                                    }), G.response && e.jsxs("div", {
                                        className: "border-t pt-4 mt-4",
                                        children: [e.jsxs("div", {
                                            className: "flex justify-between items-center mb-2",
                                            children: [e.jsxs("h4", {
                                                className: "text-sm font-medium flex items-center",
                                                children: ["Resultado", G.success ? e.jsx(Rt, {
                                                    className: "ml-2 h-4 w-4 text-green-500"
                                                }) : e.jsx(Ea, {
                                                    className: "ml-2 h-4 w-4 text-red-500"
                                                })]
                                            }), e.jsxs("div", {
                                                className: "flex gap-2",
                                                children: [e.jsx(T, {
                                                    variant: "outline",
                                                    size: "sm",
                                                    onClick: () => N(G),
                                                    children: "Exportar JSON"
                                                }), e.jsx(T, {
                                                    variant: "outline",
                                                    size: "sm",
                                                    onClick: () => C(G),
                                                    children: "Exportar CSV"
                                                })]
                                            })]
                                        }), G.error ? e.jsx("div", {
                                            className: "bg-red-50 text-red-500 p-3 rounded-md overflow-x-auto",
                                            children: e.jsx("pre", {
                                                className: "text-xs",
                                                children: G.error
                                            })
                                        }) : e.jsx("div", {
                                            className: "bg-muted p-3 rounded-md overflow-x-auto max-h-96",
                                            children: e.jsx("pre", {
                                                className: "text-xs",
                                                children: JSON.stringify(G.response, null, 2)
                                            })
                                        })]
                                    })]
                                }, G.id))
                            })
                        })]
                    })
                }, $.id))]
            })]
        })]
    })
}
var pb = "Radio",
    [oG, xM] = ws(pb),
    [lG, cG] = oG(pb),
    gM = h.forwardRef((t, s) => {
        const {__scopeRadio: r, name: n, checked: a=!1, required: i, disabled: o, value: l="on", onCheck: c, form: d, ...u} = t,
            [m, p] = h.useState(null),
            j = lt(s, y => p(y)),
            g = h.useRef(!1),
            x = m ? d || !!m.closest("form") : !0;
        return e.jsxs(lG, {
            scope: r,
            checked: a,
            disabled: o,
            children: [e.jsx(Oe.button, {
                type: "button",
                role: "radio",
                "aria-checked": a,
                "data-state": jM(a),
                "data-disabled": o ? "" : void 0,
                disabled: o,
                value: l,
                ...u,
                ref: j,
                onClick: Ne(t.onClick, y => {
                    a || c == null || c(),
                    x && (g.current = y.isPropagationStopped(), g.current || y.stopPropagation())
                })
            }), x && e.jsx(dG, {
                control: m,
                bubbles: !g.current,
                name: n,
                value: l,
                checked: a,
                required: i,
                disabled: o,
                form: d,
                style: {
                    transform: "translateX(-100%)"
                }
            })]
        })
    });
gM.displayName = pb;
var vM = "RadioIndicator",
    yM = h.forwardRef((t, s) => {
        const {__scopeRadio: r, forceMount: n, ...a} = t,
            i = cG(vM, r);
        return e.jsx(_s, {
            present: n || i.checked,
            children: e.jsx(Oe.span, {
                "data-state": jM(i.checked),
                "data-disabled": i.disabled ? "" : void 0,
                ...a,
                ref: s
            })
        })
    });
yM.displayName = vM;
var dG = t => {
    const {control: s, checked: r, bubbles: n=!0, ...a} = t,
        i = h.useRef(null),
        o = zf(r),
        l = Tf(s);
    return h.useEffect(() => {
        const c = i.current,
            d = window.HTMLInputElement.prototype,
            m = Object.getOwnPropertyDescriptor(d, "checked").set;
        if (o !== r && m) {
            const p = new Event("click", {
                bubbles: n
            });
            m.call(c, r),
            c.dispatchEvent(p)
        }
    }, [o, r, n]), e.jsx("input", {
        type: "radio",
        "aria-hidden": !0,
        defaultChecked: r,
        ...a,
        tabIndex: -1,
        ref: i,
        style: {
            ...t.style,
            ...l,
            position: "absolute",
            pointerEvents: "none",
            opacity: 0,
            margin: 0
        }
    })
};
function jM(t) {
    return t ? "checked" : "unchecked"
}
var uG = ["ArrowUp", "ArrowDown", "ArrowLeft", "ArrowRight"],
    fb = "RadioGroup",
    [mG, nZ] = ws(fb, [rd, xM]),
    bM = rd(),
    NM = xM(),
    [hG, pG] = mG(fb),
    wM = h.forwardRef((t, s) => {
        const {__scopeRadioGroup: r, name: n, defaultValue: a, value: i, required: o=!1, disabled: l=!1, orientation: c, dir: d, loop: u=!0, onValueChange: m, ...p} = t,
            j = bM(r),
            g = Nl(d),
            [x, y] = Yr({
                prop: i,
                defaultProp: a,
                onChange: m
            });
        return e.jsx(hG, {
            scope: r,
            name: n,
            required: o,
            disabled: l,
            value: x,
            onValueChange: y,
            children: e.jsx(c0, {
                asChild: !0,
                ...j,
                orientation: c,
                dir: g,
                loop: u,
                children: e.jsx(Oe.div, {
                    role: "radiogroup",
                    "aria-required": o,
                    "aria-orientation": c,
                    "data-disabled": l ? "" : void 0,
                    dir: g,
                    ...p,
                    ref: s
                })
            })
        })
    });
wM.displayName = fb;
var CM = "RadioGroupItem",
    SM = h.forwardRef((t, s) => {
        const {__scopeRadioGroup: r, disabled: n, ...a} = t,
            i = pG(CM, r),
            o = i.disabled || n,
            l = bM(r),
            c = NM(r),
            d = h.useRef(null),
            u = lt(s, d),
            m = i.value === a.value,
            p = h.useRef(!1);
        return h.useEffect(() => {
            const j = x => {
                    uG.includes(x.key) && (p.current = !0)
                },
                g = () => p.current = !1;
            return document.addEventListener("keydown", j), document.addEventListener("keyup", g), () => {
                document.removeEventListener("keydown", j),
                document.removeEventListener("keyup", g)
            }
        }, []), e.jsx(d0, {
            asChild: !0,
            ...l,
            focusable: !o,
            active: m,
            children: e.jsx(gM, {
                disabled: o,
                required: i.required,
                checked: m,
                ...c,
                ...a,
                name: i.name,
                ref: u,
                onCheck: () => i.onValueChange(a.value),
                onKeyDown: Ne(j => {
                    j.key === "Enter" && j.preventDefault()
                }),
                onFocus: Ne(a.onFocus, () => {
                    var j;
                    p.current && ((j = d.current) == null || j.click())
                })
            })
        })
    });
SM.displayName = CM;
var fG = "RadioGroupIndicator",
    EM = h.forwardRef((t, s) => {
        const {__scopeRadioGroup: r, ...n} = t,
            a = NM(r);
        return e.jsx(yM, {
            ...a,
            ...n,
            ref: s
        })
    });
EM.displayName = fG;
var kM = wM,
    PM = SM,
    xG = EM;
const Vh = h.forwardRef(({className: t, ...s}, r) => e.jsx(kM, {
    className: me("grid gap-2", t),
    ...s,
    ref: r
}));
Vh.displayName = kM.displayName;
const $d = h.forwardRef(({className: t, ...s}, r) => e.jsx(PM, {
    ref: r,
    className: me("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50", t),
    ...s,
    children: e.jsx(xG, {
        className: "flex items-center justify-center",
        children: e.jsx(LE, {
            className: "h-2.5 w-2.5 fill-current text-current"
        })
    })
}));
$d.displayName = PM.displayName;
const q1 = "guestSessionId";
function gG() {
    const t = Date.now().toString(36),
        s = Math.random().toString(36).substring(2, 15);
    return `guest_${t}_${s}`
}
function by() {
    let t = localStorage.getItem(q1);
    return t || (t = gG(), localStorage.setItem(q1, t)), t
}
function vG() {
    const {toast: t} = st(),
        {items: s, clearCart: r, setItems: n} = bl(),
        [, a] = ut(),
        [i, o] = h.useState([]),
        [l, c] = h.useState([]),
        [d, u] = h.useState([]),
        [m, p] = h.useState(!0),
        [j, g] = h.useState(!1),
        [x, y] = h.useState(0),
        [v, f] = h.useState(!1),
        [b, N] = h.useState("guest"),
        [w, C] = h.useState(""),
        [E, k] = h.useState(""),
        [R, H] = h.useState(!1),
        [z, A] = h.useState(null),
        [$, G] = h.useState(null),
        [F, _] = h.useState(!1),
        [S, I] = h.useState({
            customerName: "",
            customerLastName: "",
            customerEmail: "",
            customerPhone: "",
            shippingAddress: "",
            shippingCity: "",
            shippingProvince: "",
            shippingPostalCode: "",
            billingAddress: "",
            billingCity: "",
            billingProvince: "",
            billingPostalCode: "",
            useSameAddress: !0,
            shippingType: "",
            paymentMethodId: "",
            shippingMethodId: "",
            notes: "",
            createAccount: !1,
            password: ""
        });
    h.useEffect(() => {
        if (O(), W(), s.length === 0) {
            const K = sessionStorage.getItem("backup_cart_data");
            if (K)
                try {
                    const L = JSON.parse(K);
                    Array.isArray(L) && L.length > 0 && (console.log("🔄 Restaurando carrito desde backup en checkout:", L.length, "items"), n(L), sessionStorage.removeItem("backup_cart_data"))
                } catch (L) {
                    console.error("Error restaurando carrito en checkout:", L)
                }
        }
    }, []),
    h.useEffect(() => {
        S.shippingProvince && s.length > 0 && S.shippingType && (S.shippingType === "pickup" ? (I(K => ({
            ...K,
            shippingMethodId: "pickup"
        })), y(0), c([])) : S.shippingType === "shipping" && M())
    }, [S.shippingProvince, s, S.shippingType]);
    const W = async () => {
            try {
                const K = await fetch("/api/auth/me", {
                    credentials: "include"
                });
                if (K.ok) {
                    const L = await K.json();
                    A(L);
                    const ee = await fetch("/api/user/permissions", {
                        credentials: "include"
                    });
                    if (ee.ok) {
                        const ce = await ee.json();
                        G(ce)
                    }
                    L && (I(ce => ({
                        ...ce,
                        customerName: L.firstName || "",
                        customerLastName: L.lastName || "",
                        customerEmail: L.email || "",
                        customerPhone: L.phone || "",
                        shippingAddress: L.address || "",
                        shippingCity: L.city || "",
                        shippingProvince: L.province || "",
                        shippingPostalCode: L.postalCode || "",
                        billingAddress: L.billingAddress || L.address || "",
                        billingCity: L.billingCity || L.city || "",
                        billingProvince: L.billingProvince || L.province || "",
                        billingPostalCode: L.billingPostalCode || L.postalCode || "",
                        useSameAddress: !L.billingAddress
                    })), N("authenticated"))
                }
            } catch (K) {
                console.error("Error checking user auth:", K)
            }
        },
        oe = () => S.shippingType === "pickup" ? i : S.shippingType === "shipping" ? i.filter(K => K.provider !== "cash") : [],
        O = async () => {
            try {
                const [K, L] = await Promise.all([Re("GET", "/api/payment-modules/demo"), Re("GET", "/api/provinces")]),
                    ee = await K.json(),
                    ce = await L.json();
                o(ee),
                u(ce),
                ee.length > 0 && I(le => ({
                    ...le,
                    paymentMethodId: ee[0].provider
                }))
            } catch (K) {
                console.error("Error loading methods:", K),
                t({
                    title: "Error",
                    description: "No se pudieron cargar los métodos de pago y provincias",
                    variant: "destructive"
                })
            } finally {
                p(!1)
            }
        },
        M = async () => {
            if (!(!S.shippingProvince || s.length === 0)) {
                f(!0),
                console.log(`🚚 Calculando envío para ${s.length} items distintos:`),
                s.forEach(K => {
                    console.log(`  - ID: ${K.partId}, Código: ${K.partCode}, Cantidad: ${K.quantity}, Peso almacenado: ${K.partWeight}g`)
                });
                try {
                    const K = await Promise.all(s.map(async ce => {
                        let le = ce.partWeight;
                        if (console.log(`Pieza ${ce.partId} (${ce.partCode}) - peso almacenado: ${le}g`), !le || le === 500)
                            try {
                                let pe = await fetch(`/api/parts/${ce.partId}`),
                                    _e = null;
                                if (pe.ok)
                                    _e = await pe.json();
                                else if (ce.partCode && (console.log(`Buscando pieza por código: ${ce.partCode}`), pe = await fetch(`/api/search-parts?search=${encodeURIComponent(ce.partCode)}&limit=1`), pe.ok)) {
                                    const dt = await pe.json();
                                    dt.data && dt.data.length > 0 && (_e = dt.data[0], console.log(`Encontrada pieza por código ${ce.partCode}: ID ${_e.id}, peso ${_e.peso}g`))
                                }
                                if (_e) {
                                    const dt = _e.peso ? parseInt(_e.peso.toString()) : null;
                                    console.log(`Pieza ${ce.partId} - peso de API: ${dt}g`),
                                    le = dt || 500
                                } else
                                    console.log(`Pieza ${ce.partId} - no encontrada, usando 500g por defecto`),
                                    le = 500
                            } catch (pe) {
                                console.error("Error fetching part weight:", pe),
                                le = 500
                            }
                        const Se = le * ce.quantity;
                        return console.log(`Pieza ${ce.partId} - peso final: ${le}g × ${ce.quantity} = ${Se}g`), {
                            partId: ce.partId,
                            quantity: ce.quantity,
                            price: ce.price,
                            peso: le
                        }
                    }));
                    console.log("📤 Enviando datos al servidor para cálculo de envío:"),
                    console.log("  - Provincia:", S.shippingProvince),
                    console.log("  - Items del carrito:", K),
                    console.log("  - Total items:", K.length),
                    K.forEach((ce, le) => {
                        console.log(`    [${le}] ID: ${ce.partId}, Cantidad: ${ce.quantity}, Peso unitario: ${ce.peso}g, Peso total: ${ce.peso * ce.quantity}g`)
                    });
                    const ee = await (await Re("POST", "/api/shipping/calculate", {
                        province: S.shippingProvince,
                        cartItems: K,
                        postalCode: S.shippingPostalCode
                    })).json();
                    if (ee.shippingOptions && (c(ee.shippingOptions), ee.shippingOptions.length > 0)) {
                        const ce = ee.shippingOptions[0];
                        I(le => ({
                            ...le,
                            shippingMethodId: ce.id.toString()
                        })),
                        y(ce.cost)
                    }
                } catch (K) {
                    console.error("Error calculating shipping options:", K),
                    t({
                        title: "Error",
                        description: "No se pudieron calcular las opciones de envío",
                        variant: "destructive"
                    }),
                    c([])
                } finally {
                    f(!1)
                }
            }
        },
        re = async K => {
            if (K.preventDefault(), _(!0), g(!0), !he()) {
                g(!1),
                t({
                    title: "Error en el formulario",
                    description: "Por favor, completa todos los campos obligatorios antes de continuar.",
                    variant: "destructive"
                });
                return
            }
            try {
                const L = s.reduce((Se, pe) => Se + pe.price * pe.quantity, 0),
                    ee = i.find(Se => Se.provider === S.paymentMethodId);
                if (!ee)
                    throw new Error("Método de pago no seleccionado");
                const ce = by(),
                    le = {
                        customerName: S.customerName,
                        customerLastName: S.customerLastName,
                        customerEmail: S.customerEmail,
                        customerPhone: S.customerPhone,
                        shippingAddress: S.shippingAddress,
                        shippingCity: S.shippingCity,
                        shippingProvince: S.shippingProvince,
                        shippingPostalCode: S.shippingPostalCode,
                        shippingCountry: "España",
                        billingAddress: S.useSameAddress ? S.shippingAddress : S.billingAddress,
                        billingCity: S.useSameAddress ? S.shippingCity : S.billingCity,
                        billingProvince: S.useSameAddress ? S.shippingProvince : S.billingProvince,
                        billingPostalCode: S.useSameAddress ? S.shippingPostalCode : S.billingPostalCode,
                        paymentMethodId: S.paymentMethodId,
                        shippingMethodId: parseInt(S.shippingMethodId),
                        notes: S.notes,
                        items: s.map(Se => ({
                            partId: Se.partId,
                            quantity: Se.quantity,
                            price: Se.price,
                            partName: Se.partName
                        })),
                        subtotal: L.toString(),
                        shippingCost: x.toString(),
                        total: (L + x).toString(),
                        createAccount: S.createAccount,
                        password: S.password,
                        sessionId: ce
                    };
                if (ee.provider === "stripe") {
                    const Se = {
                            amount: parseFloat(le.total),
                            currency: "EUR",
                            description: "Pedido - Desguace Murcia",
                            customerEmail: le.customerEmail,
                            customerName: `${le.customerName} ${le.customerLastName}`,
                            metadata: {
                                sessionId: ce
                            }
                        },
                        pe = await Re("POST", "/api/payment/stripe/process", Se);
                    if (pe.ok) {
                        const _e = await pe.json();
                        if (_e.success) {
                            sessionStorage.setItem("pending_order_data", JSON.stringify(le)),
                            window.location.href = `${_e.data.redirectUrl}&session_id=${ce}`;
                            return
                        }
                    }
                } else if (ee.provider === "paypal") {
                    const Se = {
                            amount: parseFloat(le.total),
                            currency: "EUR",
                            description: "Pedido - Desguace Murcia",
                            customerEmail: le.customerEmail,
                            customerName: `${le.customerName} ${le.customerLastName}`,
                            metadata: {
                                sessionId: ce
                            }
                        },
                        pe = await Re("POST", "/api/payment/paypal/process", Se);
                    if (pe.ok) {
                        const _e = await pe.json();
                        if (_e.success) {
                            sessionStorage.setItem("pending_order_data", JSON.stringify(le)),
                            window.location.href = `${_e.data.redirectUrl}&session_id=${ce}`;
                            return
                        }
                    }
                } else if (ee.provider === "redsys") {
                    sessionStorage.setItem("backup_cart_data", JSON.stringify(s));
                    const Se = await Re("POST", "/api/orders/local", le);
                    if (Se.ok) {
                        const pe = await Se.json(),
                            _e = {
                                id: pe.id,
                                orderNumber: pe.orderNumber,
                                amount: parseFloat(le.total),
                                currency: "EUR",
                                description: `Pedido #${pe.orderNumber} - Desguace Murcia`,
                                customerEmail: le.customerEmail,
                                customerName: `${le.customerName} ${le.customerLastName}`,
                                returnUrl: `${window.location.origin}/order-confirmation/${pe.id}?payment=redsys&sessionId=${ce}`,
                                cancelUrl: `${window.location.origin}/checkout?error=payment_cancelled`,
                                metadata: {
                                    orderId: pe.id
                                }
                            },
                            dt = await Re("POST", "/api/payment/redsys/process", _e);
                        if (dt.ok) {
                            const B = await dt.json();
                            if (B.success && B.data.formHtml) {
                                console.log("🚨 CHECKOUT DEBUG - Enviando directamente a Redsys:", {
                                    success: B.success,
                                    hasFormHtml: !!B.data.formHtml,
                                    actionUrl: B.data.actionUrl,
                                    orderNumber: B.data.orderNumber,
                                    redsysOrderNumber: B.data.redsysOrderNumber,
                                    amount: B.data.amount
                                });
                                const De = document.createElement("div"),
                                    vt = di.sanitize(B.data.formHtml);
                                De.innerHTML = vt,
                                De.style.display = "none",
                                document.body.appendChild(De);
                                const At = De.querySelector("form");
                                if (At)
                                    console.log("🚨 FORM FOUND - Submitting directly to Redsys"),
                                    document.body.appendChild(At),
                                    At.submit();
                                else
                                    throw console.error("❌ No se encontró el formulario en el HTML generado"), new Error("Error en la configuración del pago");
                                return
                            } else
                                throw new Error("Error al procesar el pago con Redsys")
                        } else
                            throw new Error("Error al procesar el pago con Redsys")
                    } else {
                        const pe = await Se.json();
                        if (Se.status === 400 && pe.error) {
                            let _e = "Por favor, completa todos los campos obligatorios";
                            throw pe.error.includes("customerPhone") ? _e = "El teléfono es obligatorio y debe tener un formato válido" : pe.error.includes("customerName") ? _e = "El nombre es obligatorio" : pe.error.includes("customerLastName") ? _e = "Los apellidos son obligatorios" : pe.error.includes("customerEmail") ? _e = "El email es obligatorio y debe tener un formato válido" : pe.error.includes("shippingAddress") ? _e = "La dirección de envío es obligatoria" : pe.error.includes("shippingCity") ? _e = "La ciudad es obligatoria" : pe.error.includes("shippingProvince") ? _e = "La provincia es obligatoria" : pe.error.includes("shippingPostalCode") ? _e = "El código postal es obligatorio" : pe.error.includes("paymentMethodId") ? _e = "Debe seleccionar un método de pago" : pe.error.includes("shippingMethodId") && (_e = "Debe seleccionar un método de envío"), new Error(_e)
                        }
                        throw new Error(pe.error || "Error al crear el pedido")
                    }
                } else {
                    const Se = await Re("POST", "/api/orders/local", le);
                    if (Se.ok) {
                        const pe = await Se.json(),
                            _e = by();
                        ee.provider === "bank_transfer" ? (t({
                            title: "¡Pedido creado!",
                            description: `Tu pedido #${pe.orderNumber} ha sido creado. Consulta los datos de transferencia en la página de confirmación.`
                        }), r(), a(`/order-confirmation/${pe.id}?payment=bank_transfer&sessionId=${_e}`)) : ee.provider === "stripe" ? (t({
                            title: "¡Pedido creado!",
                            description: `Tu pedido #${pe.orderNumber} ha sido creado. Serás redirigido al pago.`
                        }), r(), a(`/order-confirmation/${pe.id}?payment=stripe&sessionId=${_e}`)) : ee.provider === "paypal" ? (t({
                            title: "¡Pedido creado!",
                            description: `Tu pedido #${pe.orderNumber} ha sido creado. Serás redirigido al pago con PayPal.`
                        }), r(), a(`/order-confirmation/${pe.id}?payment=paypal&sessionId=${_e}`)) : (t({
                            title: "¡Pedido creado!",
                            description: `Tu pedido #${pe.orderNumber} ha sido creado correctamente`
                        }), r(), a(`/order-confirmation/${pe.id}?sessionId=${_e}`))
                    } else {
                        const pe = await Se.json();
                        if (Se.status === 400 && pe.error) {
                            let _e = "Por favor, completa todos los campos obligatorios";
                            throw pe.error.includes("customerPhone") ? _e = "El teléfono es obligatorio y debe tener un formato válido" : pe.error.includes("customerName") ? _e = "El nombre es obligatorio" : pe.error.includes("customerLastName") ? _e = "Los apellidos son obligatorios" : pe.error.includes("customerEmail") ? _e = "El email es obligatorio y debe tener un formato válido" : pe.error.includes("shippingAddress") ? _e = "La dirección de envío es obligatoria" : pe.error.includes("shippingCity") ? _e = "La ciudad es obligatoria" : pe.error.includes("shippingProvince") ? _e = "La provincia es obligatoria" : pe.error.includes("shippingPostalCode") ? _e = "El código postal es obligatorio" : pe.error.includes("paymentMethodId") ? _e = "Debe seleccionar un método de pago" : pe.error.includes("shippingMethodId") && (_e = "Debe seleccionar un método de envío"), new Error(_e)
                        }
                        throw new Error(pe.error || "Error al crear el pedido")
                    }
                }
            } catch (L) {
                console.error("Error submitting order:", L),
                t({
                    title: "Error",
                    description: L instanceof Error ? L.message : "No se pudo procesar el pedido. Inténtalo de nuevo.",
                    variant: "destructive"
                })
            } finally {
                g(!1)
            }
        },
        ue = (K, L) => {
            I(ee => ({
                ...ee,
                [K]: L
            }))
        },
        Y = (K, L) => {
            if (!F && (!L || L.trim().length === 0))
                return null;
            switch (K) {
            case "customerName":
                return !L || L.trim().length === 0 ? "El nombre es obligatorio" : L.trim().length < 2 ? "El nombre debe tener al menos 2 caracteres" : null;
            case "customerLastName":
                return !L || L.trim().length === 0 ? "Los apellidos son obligatorios" : L.trim().length < 2 ? "Los apellidos deben tener al menos 2 caracteres" : null;
            case "customerEmail":
                return !L || L.trim().length === 0 ? "El email es obligatorio" : /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(L) ? null : "El email debe tener un formato válido";
            case "customerPhone":
                return !L || L.trim().length === 0 ? "El teléfono es obligatorio" : L.trim().length < 9 ? "El teléfono debe tener al menos 9 dígitos" : null;
            case "shippingAddress":
                return !L || L.trim().length === 0 ? "La dirección es obligatoria" : L.trim().length < 5 ? "La dirección debe tener al menos 5 caracteres" : null;
            case "shippingCity":
                return !L || L.trim().length === 0 ? "La ciudad es obligatoria" : L.trim().length < 2 ? "La ciudad debe tener al menos 2 caracteres" : null;
            case "shippingPostalCode":
                return !L || L.trim().length === 0 ? "El código postal es obligatorio" : L.trim().length < 5 ? "El código postal debe tener al menos 5 caracteres" : null;
            case "billingAddress":
                return !L || L.trim().length === 0 ? "La dirección de facturación es obligatoria" : L.trim().length < 5 ? "La dirección debe tener al menos 5 caracteres" : null;
            case "billingCity":
                return !L || L.trim().length === 0 ? "La ciudad de facturación es obligatoria" : L.trim().length < 2 ? "La ciudad debe tener al menos 2 caracteres" : null;
            case "billingPostalCode":
                return !L || L.trim().length === 0 ? "El código postal de facturación es obligatorio" : L.trim().length < 5 ? "El código postal debe tener al menos 5 caracteres" : null;
            default:
                return null
            }
        },
        he = () => {
            const K = ["customerName", "customerLastName", "customerEmail", "customerPhone", "shippingAddress", "shippingCity", "shippingProvince", "shippingPostalCode"];
            return S.useSameAddress || K.push("billingAddress", "billingCity", "billingProvince", "billingPostalCode"), K.every(L => {
                const ee = S[L];
                return ee && typeof ee == "string" && ee.trim().length > 0 && !Y(L, ee)
            }) && S.shippingType && S.paymentMethodId && (S.shippingType === "pickup" ? S.shippingMethodId === "pickup" : S.shippingMethodId)
        },
        D = async K => {
            K.preventDefault(),
            H(!0);
            try {
                const L = await Re("POST", "/api/auth/login", {
                    email: w,
                    password: E
                });
                if (L.ok) {
                    const ee = await L.json();
                    t({
                        title: "¡Bienvenido!",
                        description: `Has iniciado sesión como ${ee.firstName || w}`
                    }),
                    ee.firstName && ee.lastName && I(ce => ({
                        ...ce,
                        customerName: ee.firstName,
                        customerLastName: ee.lastName,
                        customerEmail: ee.email || w,
                        customerPhone: ee.phone || "",
                        shippingAddress: ee.address || "",
                        shippingCity: ee.city || "",
                        shippingPostalCode: ee.postalCode || "",
                        billingAddress: ee.billingAddress || ee.address || "",
                        billingCity: ee.billingCity || ee.city || "",
                        billingProvince: ee.billingProvince || ee.province || "",
                        billingPostalCode: ee.billingPostalCode || ee.postalCode || "",
                        useSameAddress: !ee.billingAddress
                    })),
                    N("guest")
                } else {
                    const ee = await L.json();
                    throw new Error(ee.error || "Error en el inicio de sesión")
                }
            } catch (L) {
                console.error("Error logging in:", L),
                t({
                    title: "Error",
                    description: L instanceof Error ? L.message : "No se pudo iniciar sesión. Verifica tus credenciales.",
                    variant: "destructive"
                })
            } finally {
                H(!1)
            }
        };
    return m ? e.jsx("div", {
        className: "container mx-auto px-4 py-8",
        children: e.jsx("div", {
            className: "text-center",
            children: "Cargando opciones de pago y envío..."
        })
    }) : s.length === 0 ? e.jsx("div", {
        className: "container mx-auto px-4 py-8",
        children: e.jsx(U, {
            children: e.jsxs(q, {
                className: "p-8 text-center",
                children: [e.jsx("h2", {
                    className: "text-2xl font-bold mb-4",
                    children: "Carrito vacío"
                }), e.jsx("p", {
                    className: "text-gray-600 mb-6",
                    children: "Añade productos a tu carrito para proceder con la compra"
                }), e.jsx(T, {
                    onClick: () => a("/parts"),
                    children: "Ver productos"
                })]
            })
        })
    }) : e.jsx("div", {
        className: "container mx-auto px-4 py-8",
        children: e.jsxs("div", {
            className: "grid grid-cols-1 lg:grid-cols-3 gap-8",
            children: [e.jsx("div", {
                className: "lg:col-span-2",
                children: e.jsxs(ls, {
                    value: b,
                    onValueChange: N,
                    className: "w-full",
                    children: [e.jsxs(es, {
                        className: `grid w-full ${z ? "grid-cols-3" : "grid-cols-2"}`,
                        children: [e.jsxs(Ue, {
                            value: "guest",
                            className: "flex items-center gap-2",
                            children: [e.jsx(YO, {
                                className: "w-4 h-4"
                            }), "Comprar como invitado"]
                        }), !z && e.jsxs(Ue, {
                            value: "login",
                            className: "flex items-center gap-2",
                            children: [e.jsx(nw, {
                                className: "w-4 h-4"
                            }), "Iniciar sesión"]
                        }), z && e.jsxs(Ue, {
                            value: "authenticated",
                            className: "flex items-center gap-2",
                            children: [e.jsx(ao, {
                                className: "w-4 h-4"
                            }), "Usar mis datos"]
                        }), z && ($ == null ? void 0 : $.isAdmin) && e.jsxs(Ue, {
                            value: "admin",
                            className: "flex items-center gap-2",
                            children: [e.jsx(Lr, {
                                className: "w-4 h-4"
                            }), "Pedido administrativo"]
                        })]
                    }), e.jsx($e, {
                        value: "login",
                        className: "mt-6",
                        children: e.jsxs(U, {
                            children: [e.jsx(ne, {
                                children: e.jsxs(ae, {
                                    className: "flex items-center gap-2",
                                    children: [e.jsx(nw, {
                                        className: "w-5 h-5"
                                    }), "Iniciar sesión"]
                                })
                            }), e.jsxs(q, {
                                children: [e.jsxs("form", {
                                    onSubmit: D,
                                    className: "space-y-4",
                                    children: [e.jsxs("div", {
                                        children: [e.jsx(V, {
                                            htmlFor: "loginEmail",
                                            children: "Email *"
                                        }), e.jsx(te, {
                                            id: "loginEmail",
                                            type: "email",
                                            value: w,
                                            onChange: K => C(K.target.value),
                                            required: !0,
                                            placeholder: "tu@email.com"
                                        })]
                                    }), e.jsxs("div", {
                                        children: [e.jsx(V, {
                                            htmlFor: "loginPassword",
                                            children: "Contraseña *"
                                        }), e.jsx(te, {
                                            id: "loginPassword",
                                            type: "password",
                                            value: E,
                                            onChange: K => k(K.target.value),
                                            required: !0,
                                            placeholder: "Tu contraseña"
                                        })]
                                    }), e.jsxs("div", {
                                        className: "flex space-x-2",
                                        children: [e.jsx(T, {
                                            type: "submit",
                                            disabled: R,
                                            className: "flex-1",
                                            children: R ? "Iniciando sesión..." : "Iniciar sesión"
                                        }), e.jsx(T, {
                                            type: "button",
                                            variant: "outline",
                                            onClick: () => N("guest"),
                                            children: "Continuar como invitado"
                                        })]
                                    })]
                                }), e.jsxs("div", {
                                    className: "mt-4 text-sm text-gray-600 bg-blue-50 p-3 rounded-lg",
                                    children: [e.jsx("p", {
                                        className: "font-medium mb-1",
                                        children: "Ventajas de iniciar sesión:"
                                    }), e.jsxs("ul", {
                                        className: "space-y-1",
                                        children: [e.jsx("li", {
                                            children: "• Formulario auto-completado con tus datos"
                                        }), e.jsx("li", {
                                            children: "• Historial de pedidos"
                                        }), e.jsx("li", {
                                            children: "• Proceso de compra más rápido"
                                        })]
                                    })]
                                })]
                            })]
                        })
                    }), e.jsx($e, {
                        value: "authenticated",
                        className: "mt-6",
                        children: e.jsxs(U, {
                            children: [e.jsx(ne, {
                                children: e.jsxs(ae, {
                                    className: "flex items-center gap-2",
                                    children: [e.jsx(ao, {
                                        className: "w-5 h-5"
                                    }), "Bienvenido, ", z == null ? void 0 : z.firstName, " ", z == null ? void 0 : z.lastName]
                                })
                            }), e.jsxs(q, {
                                children: [e.jsx("div", {
                                    className: "bg-green-50 p-4 rounded-lg mb-4",
                                    children: e.jsxs("p", {
                                        className: "text-sm text-green-800",
                                        children: [e.jsx("strong", {
                                            children: "Perfecto!"
                                        }), " Tu información está completada automáticamente. Puedes modificar cualquier campo si es necesario."]
                                    })
                                }), e.jsxs("div", {
                                    className: "space-y-4",
                                    children: [e.jsxs("div", {
                                        className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                                        children: [e.jsxs("div", {
                                            children: [e.jsx(V, {
                                                children: "Email de contacto"
                                            }), e.jsx("p", {
                                                className: "text-sm text-gray-600",
                                                children: z == null ? void 0 : z.email
                                            })]
                                        }), e.jsxs("div", {
                                            children: [e.jsx(V, {
                                                children: "Rol de usuario"
                                            }), e.jsx("p", {
                                                className: "text-sm text-gray-600 capitalize",
                                                children: z == null ? void 0 : z.role
                                            })]
                                        })]
                                    }), e.jsx("div", {
                                        className: "pt-4",
                                        children: e.jsx(T, {
                                            onClick: () => N("guest"),
                                            className: "w-full",
                                            children: "Continuar con el pedido"
                                        })
                                    })]
                                })]
                            })]
                        })
                    }), e.jsx($e, {
                        value: "admin",
                        className: "mt-6",
                        children: e.jsxs(U, {
                            children: [e.jsx(ne, {
                                children: e.jsxs(ae, {
                                    className: "flex items-center gap-2",
                                    children: [e.jsx(Lr, {
                                        className: "w-5 h-5"
                                    }), "Pedido administrativo"]
                                })
                            }), e.jsxs(q, {
                                children: [e.jsx("div", {
                                    className: "bg-blue-50 p-4 rounded-lg mb-4",
                                    children: e.jsxs("p", {
                                        className: "text-sm text-blue-800",
                                        children: [e.jsx("strong", {
                                            children: "Modo administrativo:"
                                        }), " Estás realizando un pedido como administrador. Tus datos se usarán automáticamente y tendrás acceso a opciones especiales."]
                                    })
                                }), e.jsxs("div", {
                                    className: "space-y-4",
                                    children: [e.jsxs("div", {
                                        className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                                        children: [e.jsxs("div", {
                                            children: [e.jsx(V, {
                                                children: "Administrador"
                                            }), e.jsxs("p", {
                                                className: "text-sm text-gray-600",
                                                children: [z == null ? void 0 : z.firstName, " ", z == null ? void 0 : z.lastName]
                                            })]
                                        }), e.jsxs("div", {
                                            children: [e.jsx(V, {
                                                children: "Email"
                                            }), e.jsx("p", {
                                                className: "text-sm text-gray-600",
                                                children: z == null ? void 0 : z.email
                                            })]
                                        })]
                                    }), e.jsx("div", {
                                        className: "bg-yellow-50 p-3 rounded-lg",
                                        children: e.jsxs("p", {
                                            className: "text-sm text-yellow-800",
                                            children: [e.jsx("strong", {
                                                children: "Permisos especiales:"
                                            }), " Como administrador, puedes gestionar este pedido desde el panel de administración una vez creado."]
                                        })
                                    }), e.jsx("div", {
                                        className: "pt-4",
                                        children: e.jsx(T, {
                                            onClick: () => N("guest"),
                                            className: "w-full",
                                            children: "Continuar con el pedido administrativo"
                                        })
                                    })]
                                })]
                            })]
                        })
                    }), e.jsx($e, {
                        value: "guest",
                        className: "mt-6",
                        children: e.jsxs("form", {
                            onSubmit: re,
                            className: "space-y-6",
                            children: [e.jsxs(U, {
                                children: [e.jsx(ne, {
                                    children: e.jsxs(ae, {
                                        className: "flex items-center gap-2",
                                        children: [e.jsx(Lr, {
                                            className: "w-5 h-5"
                                        }), "Información del cliente"]
                                    })
                                }), e.jsxs(q, {
                                    className: "space-y-4",
                                    children: [e.jsxs("div", {
                                        className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                                        children: [e.jsxs("div", {
                                            children: [e.jsx(V, {
                                                htmlFor: "customerName",
                                                children: "Nombre *"
                                            }), e.jsx(te, {
                                                id: "customerName",
                                                value: S.customerName,
                                                onChange: K => ue("customerName", K.target.value),
                                                required: !0,
                                                placeholder: "Tu nombre",
                                                className: Y("customerName", S.customerName) ? "border-red-500" : ""
                                            }), Y("customerName", S.customerName) && e.jsx("p", {
                                                className: "text-sm text-red-600 mt-1",
                                                children: Y("customerName", S.customerName)
                                            })]
                                        }), e.jsxs("div", {
                                            children: [e.jsx(V, {
                                                htmlFor: "customerLastName",
                                                children: "Apellidos *"
                                            }), e.jsx(te, {
                                                id: "customerLastName",
                                                value: S.customerLastName,
                                                onChange: K => ue("customerLastName", K.target.value),
                                                required: !0,
                                                placeholder: "Tus apellidos",
                                                className: Y("customerLastName", S.customerLastName) ? "border-red-500" : ""
                                            }), Y("customerLastName", S.customerLastName) && e.jsx("p", {
                                                className: "text-sm text-red-600 mt-1",
                                                children: Y("customerLastName", S.customerLastName)
                                            })]
                                        })]
                                    }), e.jsxs("div", {
                                        className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                                        children: [e.jsxs("div", {
                                            children: [e.jsx(V, {
                                                htmlFor: "customerEmail",
                                                children: "Email *"
                                            }), e.jsx(te, {
                                                id: "customerEmail",
                                                type: "email",
                                                value: S.customerEmail,
                                                onChange: K => ue("customerEmail", K.target.value),
                                                required: !0,
                                                placeholder: "tu@email.com",
                                                className: Y("customerEmail", S.customerEmail) ? "border-red-500" : ""
                                            }), Y("customerEmail", S.customerEmail) && e.jsx("p", {
                                                className: "text-sm text-red-600 mt-1",
                                                children: Y("customerEmail", S.customerEmail)
                                            })]
                                        }), e.jsxs("div", {
                                            children: [e.jsx(V, {
                                                htmlFor: "customerPhone",
                                                children: "Teléfono *"
                                            }), e.jsx(te, {
                                                id: "customerPhone",
                                                value: S.customerPhone,
                                                onChange: K => ue("customerPhone", K.target.value),
                                                required: !0,
                                                placeholder: "123 456 789",
                                                className: Y("customerPhone", S.customerPhone) ? "border-red-500" : ""
                                            }), Y("customerPhone", S.customerPhone) && e.jsx("p", {
                                                className: "text-sm text-red-600 mt-1",
                                                children: Y("customerPhone", S.customerPhone)
                                            })]
                                        })]
                                    })]
                                })]
                            }), e.jsxs(U, {
                                children: [e.jsx(ne, {
                                    children: e.jsxs(ae, {
                                        className: "flex items-center gap-2",
                                        children: [e.jsx(ao, {
                                            className: "w-5 h-5"
                                        }), "Opciones de cuenta"]
                                    })
                                }), e.jsxs(q, {
                                    className: "space-y-4",
                                    children: [e.jsxs("div", {
                                        className: "flex items-center space-x-2",
                                        children: [e.jsx("input", {
                                            type: "checkbox",
                                            id: "createAccount",
                                            checked: S.createAccount,
                                            onChange: K => I(L => ({
                                                ...L,
                                                createAccount: K.target.checked
                                            })),
                                            className: "rounded border-gray-300"
                                        }), e.jsx(V, {
                                            htmlFor: "createAccount",
                                            className: "text-sm font-medium",
                                            children: "Crear cuenta para futuras compras"
                                        })]
                                    }), S.createAccount && e.jsxs("div", {
                                        children: [e.jsx(V, {
                                            htmlFor: "password",
                                            children: "Contraseña *"
                                        }), e.jsx(te, {
                                            id: "password",
                                            type: "password",
                                            value: S.password,
                                            onChange: K => ue("password", K.target.value),
                                            required: S.createAccount,
                                            placeholder: "Mínimo 6 caracteres"
                                        })]
                                    }), e.jsxs("div", {
                                        className: "text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",
                                        children: [e.jsx("p", {
                                            className: "font-medium mb-1",
                                            children: "Opciones de compra:"
                                        }), e.jsxs("ul", {
                                            className: "space-y-1",
                                            children: [e.jsxs("li", {
                                                children: ["• ", e.jsx("strong", {
                                                    children: "Invitado:"
                                                }), " Compra rápida sin crear cuenta"]
                                            }), e.jsxs("li", {
                                                children: ["• ", e.jsx("strong", {
                                                    children: "Cuenta nueva:"
                                                }), " Guarda tu información para futuras compras"]
                                            })]
                                        })]
                                    })]
                                })]
                            }), e.jsxs(U, {
                                children: [e.jsx(ne, {
                                    children: e.jsxs(ae, {
                                        className: "flex items-center gap-2",
                                        children: [e.jsx(uo, {
                                            className: "w-5 h-5"
                                        }), "Dirección de envío"]
                                    })
                                }), e.jsxs(q, {
                                    className: "space-y-4",
                                    children: [e.jsxs("div", {
                                        children: [e.jsx(V, {
                                            htmlFor: "shippingAddress",
                                            children: "Dirección *"
                                        }), e.jsx(te, {
                                            id: "shippingAddress",
                                            value: S.shippingAddress,
                                            onChange: K => ue("shippingAddress", K.target.value),
                                            required: !0,
                                            placeholder: "Calle, número, piso, puerta",
                                            className: Y("shippingAddress", S.shippingAddress) ? "border-red-500" : ""
                                        }), Y("shippingAddress", S.shippingAddress) && e.jsx("p", {
                                            className: "text-sm text-red-600 mt-1",
                                            children: Y("shippingAddress", S.shippingAddress)
                                        })]
                                    }), e.jsxs("div", {
                                        className: "grid grid-cols-1 md:grid-cols-3 gap-4",
                                        children: [e.jsxs("div", {
                                            children: [e.jsx(V, {
                                                htmlFor: "shippingCity",
                                                children: "Ciudad *"
                                            }), e.jsx(te, {
                                                id: "shippingCity",
                                                value: S.shippingCity,
                                                onChange: K => ue("shippingCity", K.target.value),
                                                required: !0,
                                                placeholder: "Tu ciudad",
                                                className: Y("shippingCity", S.shippingCity) ? "border-red-500" : ""
                                            }), Y("shippingCity", S.shippingCity) && e.jsx("p", {
                                                className: "text-sm text-red-600 mt-1",
                                                children: Y("shippingCity", S.shippingCity)
                                            })]
                                        }), e.jsxs("div", {
                                            children: [e.jsx(V, {
                                                htmlFor: "shippingProvince",
                                                children: "Provincia *"
                                            }), e.jsxs(He, {
                                                value: S.shippingProvince,
                                                onValueChange: K => ue("shippingProvince", K),
                                                children: [e.jsx(qe, {
                                                    className: !S.shippingProvince && F ? "border-red-500" : "",
                                                    children: e.jsx(We, {
                                                        placeholder: "Selecciona provincia"
                                                    })
                                                }), e.jsx(Be, {
                                                    children: d.map(K => e.jsx(Q, {
                                                        value: K.name,
                                                        children: K.name
                                                    }, K.id))
                                                })]
                                            }), !S.shippingProvince && F && e.jsx("p", {
                                                className: "text-sm text-red-600 mt-1",
                                                children: "La provincia es obligatoria"
                                            })]
                                        }), e.jsxs("div", {
                                            children: [e.jsx(V, {
                                                htmlFor: "shippingPostalCode",
                                                children: "Código postal *"
                                            }), e.jsx(te, {
                                                id: "shippingPostalCode",
                                                value: S.shippingPostalCode,
                                                onChange: K => ue("shippingPostalCode", K.target.value),
                                                required: !0,
                                                placeholder: "12345",
                                                className: Y("shippingPostalCode", S.shippingPostalCode) ? "border-red-500" : ""
                                            }), Y("shippingPostalCode", S.shippingPostalCode) && e.jsx("p", {
                                                className: "text-sm text-red-600 mt-1",
                                                children: Y("shippingPostalCode", S.shippingPostalCode)
                                            })]
                                        })]
                                    })]
                                })]
                            }), e.jsxs(U, {
                                children: [e.jsx(ne, {
                                    children: e.jsxs(ae, {
                                        className: "flex items-center gap-2",
                                        children: [e.jsx(vp, {
                                            className: "w-5 h-5"
                                        }), "Dirección de facturación"]
                                    })
                                }), e.jsxs(q, {
                                    className: "space-y-4",
                                    children: [e.jsxs("div", {
                                        className: "flex items-center space-x-2",
                                        children: [e.jsx("input", {
                                            type: "checkbox",
                                            id: "useSameAddress",
                                            checked: S.useSameAddress,
                                            onChange: K => {
                                                const L = K.target.checked;
                                                I(ee => ({
                                                    ...ee,
                                                    useSameAddress: L,
                                                    billingAddress: L ? ee.shippingAddress : "",
                                                    billingCity: L ? ee.shippingCity : "",
                                                    billingProvince: L ? ee.shippingProvince : "",
                                                    billingPostalCode: L ? ee.shippingPostalCode : ""
                                                }))
                                            },
                                            className: "rounded border-gray-300"
                                        }), e.jsx(V, {
                                            htmlFor: "useSameAddress",
                                            className: "text-sm font-medium",
                                            children: "Usar misma dirección que la de envío"
                                        })]
                                    }), !S.useSameAddress && e.jsxs(e.Fragment, {
                                        children: [e.jsxs("div", {
                                            children: [e.jsx(V, {
                                                htmlFor: "billingAddress",
                                                children: "Dirección de facturación *"
                                            }), e.jsx(te, {
                                                id: "billingAddress",
                                                value: S.billingAddress,
                                                onChange: K => ue("billingAddress", K.target.value),
                                                required: !S.useSameAddress,
                                                placeholder: "Calle, número, piso, puerta",
                                                className: Y("billingAddress", S.billingAddress) && !S.useSameAddress ? "border-red-500" : ""
                                            }), Y("billingAddress", S.billingAddress) && !S.useSameAddress && e.jsx("p", {
                                                className: "text-sm text-red-600 mt-1",
                                                children: Y("billingAddress", S.billingAddress)
                                            })]
                                        }), e.jsxs("div", {
                                            className: "grid grid-cols-1 md:grid-cols-3 gap-4",
                                            children: [e.jsxs("div", {
                                                children: [e.jsx(V, {
                                                    htmlFor: "billingCity",
                                                    children: "Ciudad *"
                                                }), e.jsx(te, {
                                                    id: "billingCity",
                                                    value: S.billingCity,
                                                    onChange: K => ue("billingCity", K.target.value),
                                                    required: !S.useSameAddress,
                                                    placeholder: "Tu ciudad",
                                                    className: Y("billingCity", S.billingCity) && !S.useSameAddress ? "border-red-500" : ""
                                                }), Y("billingCity", S.billingCity) && !S.useSameAddress && e.jsx("p", {
                                                    className: "text-sm text-red-600 mt-1",
                                                    children: Y("billingCity", S.billingCity)
                                                })]
                                            }), e.jsxs("div", {
                                                children: [e.jsx(V, {
                                                    htmlFor: "billingProvince",
                                                    children: "Provincia *"
                                                }), e.jsxs(He, {
                                                    value: S.billingProvince,
                                                    onValueChange: K => ue("billingProvince", K),
                                                    children: [e.jsx(qe, {
                                                        className: !S.billingProvince && F && !S.useSameAddress ? "border-red-500" : "",
                                                        children: e.jsx(We, {
                                                            placeholder: "Selecciona provincia"
                                                        })
                                                    }), e.jsx(Be, {
                                                        children: d.map(K => e.jsx(Q, {
                                                            value: K.name,
                                                            children: K.name
                                                        }, K.id))
                                                    })]
                                                }), !S.billingProvince && F && !S.useSameAddress && e.jsx("p", {
                                                    className: "text-sm text-red-600 mt-1",
                                                    children: "La provincia es obligatoria"
                                                })]
                                            }), e.jsxs("div", {
                                                children: [e.jsx(V, {
                                                    htmlFor: "billingPostalCode",
                                                    children: "Código postal *"
                                                }), e.jsx(te, {
                                                    id: "billingPostalCode",
                                                    value: S.billingPostalCode,
                                                    onChange: K => ue("billingPostalCode", K.target.value),
                                                    required: !S.useSameAddress,
                                                    placeholder: "12345",
                                                    className: Y("billingPostalCode", S.billingPostalCode) && !S.useSameAddress ? "border-red-500" : ""
                                                }), Y("billingPostalCode", S.billingPostalCode) && !S.useSameAddress && e.jsx("p", {
                                                    className: "text-sm text-red-600 mt-1",
                                                    children: Y("billingPostalCode", S.billingPostalCode)
                                                })]
                                            })]
                                        })]
                                    }), S.useSameAddress && e.jsx("div", {
                                        className: "bg-green-50 p-3 rounded-lg",
                                        children: e.jsxs("p", {
                                            className: "text-sm text-green-800",
                                            children: [e.jsx("strong", {
                                                children: "Dirección de facturación:"
                                            }), " Se utilizará la misma dirección de envío para la facturación."]
                                        })
                                    })]
                                })]
                            }), e.jsxs(U, {
                                children: [e.jsx(ne, {
                                    children: e.jsxs(ae, {
                                        className: "flex items-center gap-2",
                                        children: [e.jsx(er, {
                                            className: "w-5 h-5"
                                        }), "Tipo de entrega *"]
                                    })
                                }), e.jsxs(q, {
                                    children: [e.jsxs(Vh, {
                                        value: S.shippingType,
                                        onValueChange: K => {
                                            ue("shippingType", K),
                                            ue("paymentMethodId", ""),
                                            ue("shippingMethodId", ""),
                                            y(0)
                                        },
                                        children: [e.jsxs("div", {
                                            className: "flex items-center space-x-2 p-4 border-2 border-gray-200 rounded-lg hover:border-blue-300 cursor-pointer",
                                            children: [e.jsx($d, {
                                                value: "pickup",
                                                id: "pickup"
                                            }), e.jsx(V, {
                                                htmlFor: "pickup",
                                                className: "flex-1 cursor-pointer",
                                                children: e.jsxs("div", {
                                                    className: "flex justify-between items-center",
                                                    children: [e.jsxs("div", {
                                                        children: [e.jsx("p", {
                                                            className: "font-medium text-gray-900",
                                                            children: "🏪 Recogida en nuestras instalaciones"
                                                        }), e.jsx("p", {
                                                            className: "text-sm text-gray-600",
                                                            children: "Desguace Murcia - Carretera Almuñecar, Km 1.5, 18640 Granada"
                                                        }), e.jsx("p", {
                                                            className: "text-xs text-gray-500",
                                                            children: "Tel: 958 790 858 | Email: info@desguacemurcia.com"
                                                        }), e.jsx("p", {
                                                            className: "text-xs text-blue-600 font-medium",
                                                            children: "Pago en efectivo disponible"
                                                        })]
                                                    }), e.jsxs("div", {
                                                        className: "text-right",
                                                        children: [e.jsx("p", {
                                                            className: "text-sm font-medium text-green-600",
                                                            children: "GRATIS"
                                                        }), e.jsx("p", {
                                                            className: "text-xs text-green-500",
                                                            children: "Sin gastos de envío"
                                                        })]
                                                    })]
                                                })
                                            })]
                                        }), e.jsxs("div", {
                                            className: "flex items-center space-x-2 p-4 border-2 border-gray-200 rounded-lg hover:border-blue-300 cursor-pointer",
                                            children: [e.jsx($d, {
                                                value: "shipping",
                                                id: "shipping"
                                            }), e.jsx(V, {
                                                htmlFor: "shipping",
                                                className: "flex-1 cursor-pointer",
                                                children: e.jsxs("div", {
                                                    className: "flex justify-between items-center",
                                                    children: [e.jsxs("div", {
                                                        children: [e.jsx("p", {
                                                            className: "font-medium text-gray-900",
                                                            children: "🚚 Envío a domicilio"
                                                        }), e.jsx("p", {
                                                            className: "text-sm text-gray-600",
                                                            children: "Recibe tu pedido en la dirección indicada"
                                                        }), e.jsx("p", {
                                                            className: "text-xs text-gray-500",
                                                            children: "Entregas en 24-48h laborables"
                                                        }), e.jsx("p", {
                                                            className: "text-xs text-orange-600 font-medium",
                                                            children: "Solo pago online"
                                                        })]
                                                    }), e.jsxs("div", {
                                                        className: "text-right",
                                                        children: [e.jsx("p", {
                                                            className: "text-sm font-medium text-blue-600",
                                                            children: "Calculado según zona"
                                                        }), e.jsx("p", {
                                                            className: "text-xs text-blue-500",
                                                            children: "Ver opciones disponibles"
                                                        })]
                                                    })]
                                                })
                                            })]
                                        })]
                                    }), S.shippingType === "shipping" && S.shippingProvince && e.jsxs("div", {
                                        className: "mt-4 p-4 bg-blue-50 rounded-lg",
                                        children: [e.jsx("h4", {
                                            className: "font-medium text-blue-900 mb-2",
                                            children: "Opciones de envío disponibles"
                                        }), v ? e.jsx("div", {
                                            className: "text-center py-4",
                                            children: e.jsx("p", {
                                                className: "text-sm text-gray-600",
                                                children: "Calculando opciones de envío..."
                                            })
                                        }) : l.length === 0 ? e.jsx("div", {
                                            className: "text-center py-4",
                                            children: e.jsx("p", {
                                                className: "text-sm text-gray-600",
                                                children: "No hay opciones de envío disponibles para esta provincia"
                                            })
                                        }) : e.jsxs("div", {
                                            children: [e.jsx(Vh, {
                                                value: S.shippingMethodId,
                                                onValueChange: K => {
                                                    ue("shippingMethodId", K);
                                                    const L = l.find(ee => ee.id.toString() === K);
                                                    L && y(L.cost)
                                                },
                                                children: l.map(K => e.jsxs("div", {
                                                    className: "flex items-center space-x-2 p-3 border rounded-lg",
                                                    children: [e.jsx($d, {
                                                        value: K.id.toString(),
                                                        id: `shipping-${K.id}`
                                                    }), e.jsx(V, {
                                                        htmlFor: `shipping-${K.id}`,
                                                        className: "flex-1",
                                                        children: e.jsxs("div", {
                                                            className: "flex justify-between items-center",
                                                            children: [e.jsxs("div", {
                                                                children: [e.jsx("p", {
                                                                    className: "font-medium",
                                                                    children: K.name
                                                                }), e.jsx("p", {
                                                                    className: "text-sm text-gray-600",
                                                                    children: K.description
                                                                }), e.jsxs("p", {
                                                                    className: "text-xs text-gray-500",
                                                                    children: [K.estimatedDays, " días estimados"]
                                                                }), e.jsxs("p", {
                                                                    className: "text-xs text-gray-500",
                                                                    children: ["Zona: ", K.zoneName]
                                                                })]
                                                            }), e.jsx("div", {
                                                                className: "text-right",
                                                                children: K.isFreeShipping ? e.jsxs("div", {
                                                                    children: [e.jsx("p", {
                                                                        className: "text-sm font-medium text-green-600",
                                                                        children: "GRATIS"
                                                                    }), e.jsxs("p", {
                                                                        className: "text-xs text-gray-500",
                                                                        children: ["Precio normal: €", K.originalCost.toFixed(2)]
                                                                    })]
                                                                }) : e.jsxs("p", {
                                                                    className: "text-sm font-medium",
                                                                    children: ["€", K.cost.toFixed(2)]
                                                                })
                                                            })]
                                                        })
                                                    })]
                                                }, K.id))
                                            }), !S.shippingMethodId && F && e.jsx("p", {
                                                className: "text-sm text-red-600 mt-2",
                                                children: "Debe seleccionar un método de envío"
                                            })]
                                        })]
                                    })]
                                })]
                            }), e.jsxs(U, {
                                children: [e.jsx(ne, {
                                    children: e.jsxs(ae, {
                                        className: "flex items-center gap-2",
                                        children: [e.jsx(us, {
                                            className: "w-5 h-5"
                                        }), "Método de pago *"]
                                    })
                                }), e.jsx(q, {
                                    children: S.shippingType ? e.jsxs("div", {
                                        children: [e.jsx(Vh, {
                                            value: S.paymentMethodId,
                                            onValueChange: K => ue("paymentMethodId", K),
                                            children: oe().map(K => e.jsxs("div", {
                                                className: `flex items-center space-x-2 p-3 border rounded-lg ${K.needsConfiguration ? "border-orange-200 bg-orange-50" : ""}`,
                                                children: [e.jsx($d, {
                                                    value: K.provider,
                                                    id: `payment-${K.provider}`,
                                                    disabled: K.needsConfiguration
                                                }), e.jsxs(V, {
                                                    htmlFor: `payment-${K.provider}`,
                                                    className: "flex items-center gap-3",
                                                    children: [K.provider === "stripe" && e.jsx(us, {
                                                        className: "w-5 h-5 text-blue-600"
                                                    }), K.provider === "bank_transfer" && e.jsx(vp, {
                                                        className: "w-5 h-5 text-green-600"
                                                    }), K.provider === "paypal" && e.jsx(us, {
                                                        className: "w-5 h-5 text-yellow-600"
                                                    }), K.provider === "redsys" && e.jsx(us, {
                                                        className: "w-5 h-5 text-red-600"
                                                    }), K.provider === "cash" && e.jsx(vO, {
                                                        className: "w-5 h-5 text-orange-600"
                                                    }), e.jsxs("div", {
                                                        className: "flex-1",
                                                        children: [e.jsx("p", {
                                                            className: "font-medium",
                                                            children: K.name
                                                        }), K.provider === "bank_transfer" && !K.needsConfiguration && e.jsx("p", {
                                                            className: "text-sm text-gray-600",
                                                            children: "Los datos bancarios se mostrarán después de confirmar el pedido"
                                                        }), K.needsConfiguration && e.jsx("p", {
                                                            className: "text-sm text-orange-600",
                                                            children: "Necesita configuración en el panel de administración"
                                                        })]
                                                    })]
                                                })]
                                            }, K.provider))
                                        }), !S.paymentMethodId && F && e.jsx("p", {
                                            className: "text-sm text-red-600 mt-2",
                                            children: "Debe seleccionar un método de pago"
                                        })]
                                    }) : e.jsx("div", {
                                        className: "text-center py-4",
                                        children: e.jsx("p", {
                                            className: "text-sm text-gray-600",
                                            children: "Primero selecciona el tipo de entrega para ver los métodos de pago disponibles"
                                        })
                                    })
                                })]
                            }), e.jsxs(U, {
                                children: [e.jsx(ne, {
                                    children: e.jsx(ae, {
                                        children: "Notas adicionales"
                                    })
                                }), e.jsx(q, {
                                    children: e.jsx("textarea", {
                                        className: "w-full p-3 border rounded-md",
                                        rows: 3,
                                        placeholder: "Instrucciones especiales para la entrega...",
                                        value: S.notes,
                                        onChange: K => ue("notes", K.target.value)
                                    })
                                })]
                            })]
                        })
                    })]
                })
            }), e.jsx("div", {
                children: e.jsxs(U, {
                    className: "sticky top-4",
                    children: [e.jsx(ne, {
                        children: e.jsx(ae, {
                            children: "Resumen del pedido"
                        })
                    }), e.jsxs(q, {
                        className: "space-y-4",
                        children: [s.map(K => e.jsxs("div", {
                            className: "flex justify-between items-start",
                            children: [e.jsxs("div", {
                                className: "flex-1",
                                children: [e.jsx("p", {
                                    className: "font-medium text-sm",
                                    children: K.partName
                                }), e.jsx("p", {
                                    className: "text-xs text-gray-600",
                                    children: K.partFamily
                                }), (K.partReference || K.partCode) && e.jsxs("div", {
                                    className: "flex gap-1 mt-1",
                                    children: [K.partReference && e.jsxs("span", {
                                        className: "bg-blue-100 text-blue-800 px-2 py-0.5 rounded text-xs",
                                        children: ["Ref: ", K.partReference]
                                    }), K.partCode && e.jsxs("span", {
                                        className: "bg-green-100 text-green-800 px-2 py-0.5 rounded text-xs",
                                        children: ["Cód: ", K.partCode]
                                    })]
                                }), e.jsxs("p", {
                                    className: "text-xs mt-1",
                                    children: ["Cantidad: ", K.quantity]
                                })]
                            }), e.jsxs("p", {
                                className: "font-medium",
                                children: ["€", (K.price * K.quantity).toFixed(2)]
                            })]
                        }, K.id)), e.jsx(Ca, {}), e.jsxs("div", {
                            className: "space-y-2",
                            children: [e.jsxs("div", {
                                className: "flex justify-between",
                                children: [e.jsx("span", {
                                    children: "Subtotal:"
                                }), e.jsxs("span", {
                                    children: [s.reduce((K, L) => K + L.price * L.quantity, 0).toFixed(2), " €"]
                                })]
                            }), e.jsxs("div", {
                                className: "flex justify-between",
                                children: [e.jsx("span", {
                                    children: "Envío:"
                                }), e.jsxs("span", {
                                    children: [x.toFixed(2), " €"]
                                })]
                            }), e.jsx(Ca, {}), e.jsxs("div", {
                                className: "flex justify-between font-bold text-lg",
                                children: [e.jsx("span", {
                                    children: "Total:"
                                }), e.jsxs("span", {
                                    children: [(s.reduce((K, L) => K + L.price * L.quantity, 0) + x).toFixed(2), " €"]
                                })]
                            })]
                        }), e.jsx(T, {
                            type: "submit",
                            className: "w-full",
                            size: "lg",
                            disabled: j || !he(),
                            onClick: re,
                            children: j ? "Procesando..." : "Finalizar pedido"
                        }), !he() && !j && F && e.jsx("p", {
                            className: "text-xs text-red-600 text-center mt-2",
                            children: "Por favor, completa todos los campos obligatorios y corrige los errores antes de continuar"
                        }), e.jsx("p", {
                            className: "text-xs text-gray-600 text-center",
                            children: "Al finalizar el pedido aceptas nuestros términos y condiciones"
                        })]
                    })]
                })
            })]
        })
    })
}
const yG = () => {
        const {items: t, totalItems: s, totalPrice: r, updateQuantity: n, removeItem: a, clearCart: i} = bl(),
            [, o] = ut();
        return e.jsxs("div", {
            className: "max-w-[1400px] mx-auto px-6 py-8",
            children: [e.jsxs("div", {
                className: "flex items-center gap-4 mb-8",
                children: [e.jsxs(T, {
                    variant: "ghost",
                    size: "sm",
                    onClick: () => o("/"),
                    className: "flex items-center gap-2",
                    children: [e.jsx(Nr, {
                        className: "h-4 w-4"
                    }), "Volver a la tienda"]
                }), e.jsxs("div", {
                    children: [e.jsx("h1", {
                        className: "text-3xl font-bold",
                        children: "Tu Carrito"
                    }), e.jsx("p", {
                        className: "text-gray-600",
                        children: s === 0 ? "Tu carrito está vacío" : `${s} ${s === 1 ? "artículo" : "artículos"} en tu carrito`
                    })]
                })]
            }), t.length === 0 ? e.jsxs("div", {
                className: "flex flex-col items-center justify-center py-16",
                children: [e.jsx(ln, {
                    className: "h-24 w-24 text-gray-300 mb-6"
                }), e.jsx("h2", {
                    className: "text-2xl font-semibold text-gray-700 mb-4",
                    children: "Tu carrito está vacío"
                }), e.jsx("p", {
                    className: "text-gray-500 mb-8 text-center max-w-md",
                    children: "Parece que no has añadido ninguna pieza a tu carrito. ¡Explora nuestro catálogo y encuentra las piezas que necesitas!"
                }), e.jsxs("div", {
                    className: "flex flex-col sm:flex-row gap-4",
                    children: [e.jsxs(T, {
                        onClick: () => o("/parts"),
                        className: "flex items-center gap-2",
                        children: [e.jsx(ln, {
                            className: "h-4 w-4"
                        }), "Buscar piezas"]
                    }), e.jsx(T, {
                        variant: "outline",
                        onClick: () => o("/vehicles"),
                        children: "Ver vehículos"
                    })]
                })]
            }) : e.jsxs("div", {
                className: "grid grid-cols-1 lg:grid-cols-3 gap-8",
                children: [e.jsx("div", {
                    className: "lg:col-span-2",
                    children: e.jsxs(U, {
                        children: [e.jsxs(ne, {
                            className: "flex flex-row items-center justify-between",
                            children: [e.jsx(ae, {
                                children: "Productos en tu carrito"
                            }), e.jsxs(T, {
                                variant: "outline",
                                size: "sm",
                                onClick: i,
                                className: "text-red-600 hover:text-red-700",
                                children: [e.jsx(nl, {
                                    className: "h-4 w-4 mr-2"
                                }), "Vaciar carrito"]
                            })]
                        }), e.jsx(q, {
                            children: e.jsx("div", {
                                className: "space-y-4",
                                children: t.map(l => e.jsxs("div", {
                                    className: "flex flex-col sm:flex-row gap-3 sm:gap-4 p-3 sm:p-4 border rounded-lg",
                                    children: [e.jsx("div", {
                                        className: "h-20 w-20 sm:h-20 sm:w-20 mx-auto sm:mx-0 rounded bg-gray-100 flex items-center justify-center overflow-hidden flex-shrink-0",
                                        children: l.partImage ? e.jsx("img", {
                                            src: l.partImage,
                                            alt: l.partName,
                                            className: "object-cover h-full w-full"
                                        }) : e.jsx("div", {
                                            className: "text-gray-400 text-2xl",
                                            children: "🔧"
                                        })
                                    }), e.jsxs("div", {
                                        className: "flex-1 space-y-3",
                                        children: [e.jsxs("div", {
                                            className: "text-center sm:text-left",
                                            children: [e.jsx("h3", {
                                                className: "font-semibold text-base sm:text-lg mb-1",
                                                children: l.partName
                                            }), e.jsx("p", {
                                                className: "text-gray-600 text-sm mb-2",
                                                children: l.partFamily
                                            })]
                                        }), (l.partReference || l.partCode) && e.jsxs("div", {
                                            className: "flex flex-wrap gap-2 justify-center sm:justify-start",
                                            children: [l.partReference && e.jsxs("span", {
                                                className: "bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs sm:text-sm font-medium",
                                                children: ["Ref: ", l.partReference]
                                            }), l.partCode && e.jsxs("span", {
                                                className: "bg-green-100 text-green-800 px-2 py-1 rounded text-xs sm:text-sm font-medium",
                                                children: ["Código: ", l.partCode]
                                            })]
                                        }), e.jsxs("div", {
                                            className: "flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",
                                            children: [e.jsx("div", {
                                                className: "flex items-center justify-center sm:justify-start gap-2",
                                                children: e.jsx("div", {
                                                    className: "flex items-center justify-center",
                                                    children: e.jsx("span", {
                                                        className: "text-lg font-medium text-center px-4 py-2 bg-gray-100 rounded-lg",
                                                        children: "1 unidad"
                                                    })
                                                })
                                            }), e.jsxs("div", {
                                                className: "text-center sm:text-right",
                                                children: [e.jsx("div", {
                                                    className: "text-lg sm:text-xl font-bold",
                                                    children: jt(l.price * l.quantity, !1)
                                                }), e.jsxs("div", {
                                                    className: "text-xs sm:text-sm text-gray-500",
                                                    children: [jt(l.price, !1), " cada uno"]
                                                })]
                                            })]
                                        }), e.jsx("div", {
                                            className: "mt-3 flex justify-center sm:justify-start",
                                            children: e.jsxs(T, {
                                                variant: "ghost",
                                                size: "sm",
                                                className: "text-red-600 hover:text-red-700 text-xs sm:text-sm",
                                                onClick: () => a(l.partId),
                                                children: [e.jsx(nl, {
                                                    className: "h-4 w-4 mr-1"
                                                }), "Eliminar"]
                                            })
                                        })]
                                    })]
                                }, l.id))
                            })
                        })]
                    })
                }), e.jsx("div", {
                    className: "lg:col-span-1",
                    children: e.jsxs(U, {
                        className: "sticky top-8",
                        children: [e.jsx(ne, {
                            children: e.jsx(ae, {
                                children: "Resumen del pedido"
                            })
                        }), e.jsxs(q, {
                            className: "space-y-4",
                            children: [(() => {
                                const l = r,
                                    c = l / (1 + Ef),
                                    d = l - c;
                                return e.jsxs("div", {
                                    className: "space-y-2",
                                    children: [e.jsxs("div", {
                                        className: "flex justify-between",
                                        children: [e.jsxs("span", {
                                            children: ["Subtotal (", s, " ", s === 1 ? "artículo" : "artículos", ")"]
                                        }), e.jsx("span", {
                                            className: "font-medium",
                                            children: jt(c, !1)
                                        })]
                                    }), e.jsxs("div", {
                                        className: "flex justify-between",
                                        children: [e.jsx("span", {
                                            children: "IVA (21%)"
                                        }), e.jsx("span", {
                                            className: "font-medium",
                                            children: jt(d, !1)
                                        })]
                                    }), e.jsxs("div", {
                                        className: "flex justify-between",
                                        children: [e.jsx("span", {
                                            children: "Envío"
                                        }), e.jsx("span", {
                                            className: "text-gray-600 font-medium",
                                            children: "*Coste de envío calculado en el checkout"
                                        })]
                                    })]
                                })
                            })(), e.jsx(Ca, {}), e.jsxs("div", {
                                className: "flex justify-between text-lg font-bold",
                                children: [e.jsx("span", {
                                    children: "Total"
                                }), e.jsx("span", {
                                    children: jt(r, !1)
                                })]
                            }), e.jsxs("div", {
                                className: "space-y-3 pt-4",
                                children: [e.jsxs(T, {
                                    className: "w-full",
                                    size: "lg",
                                    onClick: () => o("/checkout"),
                                    children: [e.jsx(us, {
                                        className: "h-5 w-5 mr-2"
                                    }), "Finalizar compra"]
                                }), e.jsx(T, {
                                    variant: "outline",
                                    className: "w-full",
                                    onClick: () => o("/parts"),
                                    children: "Continuar comprando"
                                })]
                            }), e.jsxs("div", {
                                className: "text-xs text-gray-500 pt-4 space-y-1",
                                children: [e.jsx("p", {
                                    children: "• Coste de envío calculado en el checkout"
                                }), e.jsx("p", {
                                    children: "• Garantía de calidad en todas las piezas"
                                }), e.jsx("p", {
                                    children: "• Soporte técnico especializado"
                                })]
                            })]
                        })]
                    })
                })]
            })]
        })
    },
    B1 = {
        pagado: {
            label: "Pagado",
            color: "bg-green-100 text-green-800 border-green-200",
            icon: e.jsx(Rt, {
                className: "h-4 w-4"
            })
        },
        pendiente: {
            label: "Pendiente",
            color: "bg-yellow-100 text-yellow-800 border-yellow-200",
            icon: e.jsx(Bs, {
                className: "h-4 w-4"
            })
        }
    },
    H1 = {
        pendiente_verificar: {
            label: "Pendiente Verificar",
            color: "bg-orange-100 text-orange-800 border-orange-200",
            icon: e.jsx(Xc, {
                className: "h-4 w-4"
            })
        },
        verificado: {
            label: "Verificado",
            color: "bg-blue-100 text-blue-800 border-blue-200",
            icon: e.jsx(Rt, {
                className: "h-4 w-4"
            })
        },
        embalado: {
            label: "Embalado",
            color: "bg-purple-100 text-purple-800 border-purple-200",
            icon: e.jsx(Ot, {
                className: "h-4 w-4"
            })
        },
        enviado: {
            label: "Enviado",
            color: "bg-indigo-100 text-indigo-800 border-indigo-200",
            icon: e.jsx(er, {
                className: "h-4 w-4"
            })
        },
        incidencia: {
            label: "Incidencia",
            color: "bg-red-100 text-red-800 border-red-200",
            icon: e.jsx(zs, {
                className: "h-4 w-4"
            })
        }
    },
    jG = () => {
        const {user: t, isLoading: s} = Ts(),
            [, r] = ut(),
            {data: n, isLoading: a, error: i} = Te({
                queryKey: ["/api/orders"],
                enabled: !!(t != null && t.id)
            });
        return s ? e.jsxs("div", {
            className: "container max-w-4xl mx-auto px-4 py-8",
            children: [e.jsx(Cs, {
                className: "h-10 w-48 mb-6"
            }), e.jsxs(U, {
                children: [e.jsx(ne, {
                    children: e.jsx(Cs, {
                        className: "h-7 w-36"
                    })
                }), e.jsx(q, {
                    children: e.jsx(Cs, {
                        className: "h-64 w-full"
                    })
                })]
            })]
        }) : t ? a ? e.jsxs("div", {
            className: "container max-w-4xl mx-auto px-4 py-8",
            children: [e.jsx("h1", {
                className: "text-3xl font-bold mb-6",
                children: "Mis Pedidos"
            }), e.jsxs(U, {
                children: [e.jsx(ne, {
                    children: e.jsx(ae, {
                        children: "Historial de Pedidos"
                    })
                }), e.jsx(q, {
                    children: e.jsx(Cs, {
                        className: "h-64 w-full"
                    })
                })]
            })]
        }) : i ? e.jsxs("div", {
            className: "container max-w-4xl mx-auto px-4 py-8",
            children: [e.jsx("h1", {
                className: "text-3xl font-bold mb-6",
                children: "Mis Pedidos"
            }), e.jsx(U, {
                children: e.jsxs(q, {
                    className: "flex flex-col items-center py-10",
                    children: [e.jsx(zs, {
                        className: "h-12 w-12 text-red-500 mb-4"
                    }), e.jsx("h2", {
                        className: "text-xl font-semibold mb-2",
                        children: "Error al cargar pedidos"
                    }), e.jsx("p", {
                        className: "text-gray-600 mb-6",
                        children: "No se pudieron cargar tus pedidos. Por favor, intenta de nuevo más tarde."
                    }), e.jsx(T, {
                        onClick: () => window.location.reload(),
                        children: "Reintentar"
                    })]
                })
            })]
        }) : !n || n.length === 0 ? e.jsxs("div", {
            className: "container max-w-4xl mx-auto px-4 py-8",
            children: [e.jsx("h1", {
                className: "text-3xl font-bold mb-6",
                children: "Mis Pedidos"
            }), e.jsx(U, {
                children: e.jsxs(q, {
                    className: "flex flex-col items-center py-10",
                    children: [e.jsx(Ah, {
                        className: "h-12 w-12 text-gray-400 mb-4"
                    }), e.jsx("h2", {
                        className: "text-xl font-semibold mb-2",
                        children: "No tienes pedidos"
                    }), e.jsx("p", {
                        className: "text-gray-600 mb-6",
                        children: "Aún no has realizado ningún pedido. ¡Empieza a comprar!"
                    }), e.jsx(T, {
                        onClick: () => r("/"),
                        children: "Ir a la tienda"
                    })]
                })
            })]
        }) : e.jsxs("div", {
            className: "container max-w-5xl mx-auto px-4 py-8",
            children: [e.jsx("h1", {
                className: "text-3xl font-bold mb-6",
                children: "Mis Pedidos"
            }), e.jsxs(U, {
                children: [e.jsx(ne, {
                    children: e.jsx(ae, {
                        children: "Historial de Pedidos"
                    })
                }), e.jsx(q, {
                    children: e.jsx("div", {
                        className: "overflow-x-auto",
                        children: e.jsxs(Ws, {
                            children: [e.jsx(Gs, {
                                children: e.jsxs(gt, {
                                    children: [e.jsx(ge, {
                                        children: "Pedido #"
                                    }), e.jsx(ge, {
                                        children: "Fecha"
                                    }), e.jsx(ge, {
                                        children: "Total"
                                    }), e.jsx(ge, {
                                        children: "Estado Pago"
                                    }), e.jsx(ge, {
                                        children: "Estado Pedido"
                                    }), e.jsx(ge, {
                                        className: "text-right",
                                        children: "Acciones"
                                    })]
                                })
                            }), e.jsx(Ks, {
                                children: n.map(o => e.jsxs(gt, {
                                    children: [e.jsx(xe, {
                                        className: "font-medium",
                                        children: o.id
                                    }), e.jsx(xe, {
                                        children: Bt(new Date(o.createdAt), "PPP", {
                                            locale: ks
                                        })
                                    }), e.jsx(xe, {
                                        children: jt(o.total, !1)
                                    }), e.jsx(xe, {
                                        children: (() => {
                                            const l = B1[o.paymentStatus] || B1.pendiente;
                                            return e.jsxs("div", {
                                                className: `inline-flex items-center px-3 py-1 rounded-full text-sm ${l.color}`,
                                                children: [l.icon, e.jsx("span", {
                                                    className: "ml-2 font-medium",
                                                    children: l.label
                                                })]
                                            })
                                        })()
                                    }), e.jsx(xe, {
                                        children: (() => {
                                            const l = H1[o.orderStatus] || H1.pendiente_verificar;
                                            return e.jsxs("div", {
                                                className: `inline-flex items-center px-3 py-1 rounded-full text-sm ${l.color}`,
                                                children: [l.icon, e.jsx("span", {
                                                    className: "ml-2 font-medium",
                                                    children: l.label
                                                })]
                                            })
                                        })()
                                    }), e.jsx(xe, {
                                        className: "text-right",
                                        children: e.jsx(T, {
                                            variant: "outline",
                                            size: "sm",
                                            onClick: () => r(`/pedidos/${o.id}`),
                                            children: "Ver detalles"
                                        })
                                    })]
                                }, o.id))
                            })]
                        })
                    })
                })]
            })]
        }) : e.jsx("div", {
            className: "container max-w-4xl mx-auto px-4 py-8",
            children: e.jsxs("div", {
                className: "text-center py-10",
                children: [e.jsx("h1", {
                    className: "text-3xl font-bold mb-4",
                    children: "Acceso no autorizado"
                }), e.jsx("p", {
                    className: "text-gray-600 mb-6",
                    children: "Debes iniciar sesión para ver tus pedidos."
                }), e.jsx(T, {
                    onClick: () => r("/login"),
                    children: "Iniciar Sesión"
                })]
            })
        })
    },
    W1 = {
        pagado: {
            label: "Pagado",
            color: "bg-green-100 text-green-800 border-green-200",
            icon: e.jsx(Rt, {
                className: "h-4 w-4"
            })
        },
        pendiente: {
            label: "Pendiente",
            color: "bg-yellow-100 text-yellow-800 border-yellow-200",
            icon: e.jsx(Bs, {
                className: "h-4 w-4"
            })
        }
    },
    G1 = {
        pendiente_verificar: {
            label: "Pendiente Verificar",
            color: "bg-orange-100 text-orange-800 border-orange-200",
            icon: e.jsx(Xc, {
                className: "h-4 w-4"
            }),
            description: "Tu pedido está pendiente de verificación"
        },
        verificado: {
            label: "Verificado",
            color: "bg-blue-100 text-blue-800 border-blue-200",
            icon: e.jsx(Rt, {
                className: "h-4 w-4"
            }),
            description: "Tu pedido ha sido verificado"
        },
        embalado: {
            label: "Embalado",
            color: "bg-purple-100 text-purple-800 border-purple-200",
            icon: e.jsx(Ot, {
                className: "h-4 w-4"
            }),
            description: "Tu pedido está embalado"
        },
        enviado: {
            label: "Enviado",
            color: "bg-indigo-100 text-indigo-800 border-indigo-200",
            icon: e.jsx(er, {
                className: "h-4 w-4"
            }),
            description: "Tu pedido ha sido enviado"
        },
        incidencia: {
            label: "Incidencia",
            color: "bg-red-100 text-red-800 border-red-200",
            icon: e.jsx(zs, {
                className: "h-4 w-4"
            }),
            description: "Hay una incidencia con tu pedido"
        }
    },
    bG = {
        pending: {
            label: "Pendiente",
            color: "bg-yellow-100 text-yellow-800 border-yellow-200",
            icon: e.jsx(Xc, {
                className: "h-4 w-4"
            }),
            description: "Tu pedido está pendiente de verificación"
        },
        processing: {
            label: "En Proceso",
            color: "bg-blue-100 text-blue-800 border-blue-200",
            icon: e.jsx(Ot, {
                className: "h-4 w-4"
            }),
            description: "Tu pedido está siendo procesado"
        },
        shipped: {
            label: "Enviado",
            color: "bg-purple-100 text-purple-800 border-purple-200",
            icon: e.jsx(er, {
                className: "h-4 w-4"
            }),
            description: "Tu pedido ha sido enviado"
        },
        delivered: {
            label: "Entregado",
            color: "bg-green-100 text-green-800 border-green-200",
            icon: e.jsx(Ot, {
                className: "h-4 w-4"
            }),
            description: "Tu pedido ha sido entregado"
        },
        cancelled: {
            label: "Cancelado",
            color: "bg-red-100 text-red-800 border-red-200",
            icon: e.jsx(zs, {
                className: "h-4 w-4"
            }),
            description: "Tu pedido ha sido cancelado"
        }
    },
    NG = () => {
        const {user: t, isLoading: s} = Ts(),
            r = am(),
            [, n] = ut(),
            a = parseInt(r.id),
            {data: i, isLoading: o, error: l} = Te({
                queryKey: [`/api/orders/${a}`],
                enabled: !!(t != null && t.id) && !isNaN(a)
            });
        if (s)
            return e.jsxs("div", {
                className: "container max-w-4xl mx-auto px-4 py-8",
                children: [e.jsx(Cs, {
                    className: "h-10 w-48 mb-6"
                }), e.jsxs(U, {
                    children: [e.jsx(ne, {
                        children: e.jsx(Cs, {
                            className: "h-7 w-36"
                        })
                    }), e.jsx(q, {
                        children: e.jsx(Cs, {
                            className: "h-64 w-full"
                        })
                    })]
                })]
            });
        if (!t)
            return e.jsx("div", {
                className: "container max-w-4xl mx-auto px-4 py-8",
                children: e.jsxs("div", {
                    className: "text-center py-10",
                    children: [e.jsx("h1", {
                        className: "text-3xl font-bold mb-4",
                        children: "Acceso no autorizado"
                    }), e.jsx("p", {
                        className: "text-gray-600 mb-6",
                        children: "Debes iniciar sesión para ver los detalles de tu pedido."
                    }), e.jsx(T, {
                        onClick: () => n("/login"),
                        children: "Iniciar Sesión"
                    })]
                })
            });
        if (o)
            return e.jsxs("div", {
                className: "container max-w-4xl mx-auto px-4 py-8",
                children: [e.jsxs("div", {
                    className: "flex items-center mb-6",
                    children: [e.jsxs(T, {
                        variant: "ghost",
                        size: "sm",
                        onClick: () => n("/pedidos"),
                        className: "mr-4",
                        children: [e.jsx(Nr, {
                            className: "h-4 w-4 mr-2"
                        }), " Volver"]
                    }), e.jsx("h1", {
                        className: "text-3xl font-bold",
                        children: "Detalles del Pedido"
                    })]
                }), e.jsx(U, {
                    className: "mb-6",
                    children: e.jsx(q, {
                        className: "pt-6",
                        children: e.jsx(Cs, {
                            className: "h-64 w-full"
                        })
                    })
                })]
            });
        if (l || !i)
            return e.jsxs("div", {
                className: "container max-w-4xl mx-auto px-4 py-8",
                children: [e.jsxs("div", {
                    className: "flex items-center mb-6",
                    children: [e.jsxs(T, {
                        variant: "ghost",
                        size: "sm",
                        onClick: () => n("/pedidos"),
                        className: "mr-4",
                        children: [e.jsx(Nr, {
                            className: "h-4 w-4 mr-2"
                        }), " Volver"]
                    }), e.jsx("h1", {
                        className: "text-3xl font-bold",
                        children: "Detalles del Pedido"
                    })]
                }), e.jsx(U, {
                    children: e.jsxs(q, {
                        className: "flex flex-col items-center py-10",
                        children: [e.jsx(zs, {
                            className: "h-12 w-12 text-red-500 mb-4"
                        }), e.jsx("h2", {
                            className: "text-xl font-semibold mb-2",
                            children: "Error al cargar el pedido"
                        }), e.jsx("p", {
                            className: "text-gray-600 mb-6",
                            children: "No se pudieron cargar los detalles del pedido. Por favor, intenta de nuevo más tarde."
                        }), e.jsx(T, {
                            onClick: () => window.location.reload(),
                            children: "Reintentar"
                        })]
                    })
                })]
            });
        const c = W1[i.paymentStatus] || W1.pendiente,
            d = G1[i.orderStatus] || bG[i.status] || G1.pendiente_verificar;
        return e.jsxs("div", {
            className: "container max-w-4xl mx-auto px-4 py-8",
            children: [e.jsxs("div", {
                className: "flex items-center mb-6",
                children: [e.jsxs(T, {
                    variant: "ghost",
                    size: "sm",
                    onClick: () => n("/pedidos"),
                    className: "mr-4",
                    children: [e.jsx(Nr, {
                        className: "h-4 w-4 mr-2"
                    }), " Volver"]
                }), e.jsxs("h1", {
                    className: "text-3xl font-bold",
                    children: ["Pedido #", i.id]
                })]
            }), e.jsxs("div", {
                className: "grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",
                children: [e.jsx(U, {
                    children: e.jsxs(q, {
                        className: "pt-6",
                        children: [e.jsxs("div", {
                            className: "flex items-center mb-4",
                            children: [e.jsx(Xc, {
                                className: "h-5 w-5 mr-2 text-gray-500"
                            }), e.jsx("h3", {
                                className: "font-semibold",
                                children: "Fecha del Pedido"
                            })]
                        }), e.jsx("p", {
                            children: Bt(new Date(i.createdAt), "PPP", {
                                locale: ks
                            })
                        }), e.jsx("p", {
                            className: "text-sm text-gray-500",
                            children: Bt(new Date(i.createdAt), "p", {
                                locale: ks
                            })
                        })]
                    })
                }), e.jsx(U, {
                    children: e.jsxs(q, {
                        className: "pt-6",
                        children: [e.jsxs("div", {
                            className: "flex items-center mb-4",
                            children: [e.jsx(Ot, {
                                className: "h-5 w-5 mr-2 text-gray-500"
                            }), e.jsx("h3", {
                                className: "font-semibold",
                                children: "Total del Pedido"
                            })]
                        }), e.jsx("p", {
                            className: "text-2xl font-bold",
                            children: jt(i.total, !1)
                        }), e.jsx("p", {
                            className: "text-sm text-gray-500",
                            children: "IVA incluido"
                        })]
                    })
                }), e.jsx(U, {
                    children: e.jsxs(q, {
                        className: "pt-6",
                        children: [e.jsxs("div", {
                            className: "flex items-center mb-4",
                            children: [e.jsx(er, {
                                className: "h-5 w-5 mr-2 text-gray-500"
                            }), e.jsx("h3", {
                                className: "font-semibold",
                                children: "Estados del Pedido"
                            })]
                        }), e.jsxs("div", {
                            className: "mb-3",
                            children: [e.jsx("p", {
                                className: "text-sm text-gray-600 mb-1",
                                children: "Estado del Pago:"
                            }), e.jsxs("div", {
                                className: `inline-flex items-center px-3 py-1 rounded-full text-sm ${c.color}`,
                                children: [c.icon, e.jsx("span", {
                                    className: "ml-2 font-medium",
                                    children: c.label
                                })]
                            })]
                        }), e.jsxs("div", {
                            children: [e.jsx("p", {
                                className: "text-sm text-gray-600 mb-1",
                                children: "Estado del Pedido:"
                            }), e.jsxs("div", {
                                className: `inline-flex items-center px-3 py-1 rounded-full text-sm ${d.color}`,
                                children: [d.icon, e.jsx("span", {
                                    className: "ml-2 font-medium",
                                    children: d.label
                                })]
                            }), d.description && e.jsx("p", {
                                className: "text-sm text-gray-500 mt-2",
                                children: d.description
                            })]
                        })]
                    })
                })]
            }), e.jsxs("div", {
                className: "grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",
                children: [e.jsxs(U, {
                    children: [e.jsx(ne, {
                        children: e.jsx(ae, {
                            children: "Información de Contacto"
                        })
                    }), e.jsxs(q, {
                        children: [e.jsx("p", {
                            className: "font-medium",
                            children: i.customerName
                        }), e.jsx("p", {
                            children: i.customerEmail
                        }), e.jsx("p", {
                            children: i.customerPhone
                        })]
                    })]
                }), e.jsxs(U, {
                    children: [e.jsx(ne, {
                        children: e.jsx(ae, {
                            children: "Dirección de Envío"
                        })
                    }), e.jsxs(q, {
                        children: [e.jsx("p", {
                            children: i.shippingAddress
                        }), e.jsxs("p", {
                            children: [i.shippingCity, i.shippingProvince ? `, ${i.shippingProvince}` : "", " ", i.shippingPostalCode]
                        }), e.jsx("p", {
                            children: i.shippingCountry
                        })]
                    })]
                })]
            }), (i.transportAgency || i.expeditionNumber || i.adminObservations) && e.jsxs(U, {
                className: "mb-6",
                children: [e.jsx(ne, {
                    children: e.jsxs(ae, {
                        className: "flex items-center gap-2",
                        children: [e.jsx(er, {
                            className: "h-5 w-5"
                        }), "Información de Transporte"]
                    })
                }), e.jsxs(q, {
                    className: "space-y-3",
                    children: [i.transportAgency && e.jsxs("div", {
                        children: [e.jsx("span", {
                            className: "font-medium text-gray-700",
                            children: "Agencia de transporte:"
                        }), e.jsx("p", {
                            className: "text-gray-900",
                            children: i.transportAgency
                        })]
                    }), i.expeditionNumber && e.jsxs("div", {
                        children: [e.jsx("span", {
                            className: "font-medium text-gray-700",
                            children: "Número de expedición:"
                        }), e.jsx("p", {
                            className: "text-gray-900 font-mono",
                            children: i.expeditionNumber
                        })]
                    }), i.adminObservations && e.jsxs("div", {
                        children: [e.jsx("span", {
                            className: "font-medium text-gray-700",
                            children: "Observaciones:"
                        }), e.jsx("p", {
                            className: "text-gray-900",
                            children: i.adminObservations
                        })]
                    }), i.shippingCost && e.jsxs("div", {
                        children: [e.jsx("span", {
                            className: "font-medium text-gray-700",
                            children: "Costo de envío:"
                        }), e.jsx("p", {
                            className: "text-gray-900",
                            children: jt(i.shippingCost, !1)
                        })]
                    })]
                })]
            }), i.documents && i.documents.length > 0 || i.invoicePdf ? e.jsxs(U, {
                className: "mb-6",
                children: [e.jsx(ne, {
                    children: e.jsxs(ae, {
                        className: "flex items-center gap-2",
                        children: [e.jsx(Kn, {
                            className: "h-5 w-5"
                        }), "Documentos del Pedido"]
                    })
                }), e.jsxs(q, {
                    className: "space-y-4",
                    children: [i.documents && i.documents.length > 0 && e.jsxs("div", {
                        children: [e.jsx("h4", {
                            className: "font-medium text-gray-700 mb-3",
                            children: "Documentos:"
                        }), e.jsx("div", {
                            className: "space-y-2",
                            children: i.documents.map((u, m) => e.jsxs("div", {
                                className: "flex items-center justify-between bg-gray-50 p-3 rounded-lg",
                                children: [e.jsxs("div", {
                                    className: "flex items-center",
                                    children: [e.jsx(Kn, {
                                        className: "w-4 h-4 mr-2 text-gray-500"
                                    }), e.jsx("span", {
                                        className: "text-sm",
                                        children: u.split("/").pop()
                                    })]
                                }), e.jsxs(T, {
                                    variant: "outline",
                                    size: "sm",
                                    onClick: () => window.open(u, "_blank"),
                                    children: [e.jsx(Or, {
                                        className: "w-4 h-4 mr-1"
                                    }), "Descargar"]
                                })]
                            }, m))
                        })]
                    }), i.invoicePdf && e.jsxs("div", {
                        children: [e.jsx("h4", {
                            className: "font-medium text-gray-700 mb-3",
                            children: "Factura:"
                        }), e.jsxs("div", {
                            className: "flex items-center justify-between bg-blue-50 p-3 rounded-lg",
                            children: [e.jsxs("div", {
                                className: "flex items-center",
                                children: [e.jsx(Kn, {
                                    className: "w-4 h-4 mr-2 text-blue-500"
                                }), e.jsx("span", {
                                    className: "text-sm font-medium",
                                    children: i.invoicePdf.split("/").pop()
                                })]
                            }), e.jsxs(T, {
                                variant: "outline",
                                size: "sm",
                                onClick: () => window.open(i.invoicePdf, "_blank"),
                                children: [e.jsx(Or, {
                                    className: "w-4 h-4 mr-1"
                                }), "Descargar"]
                            })]
                        })]
                    })]
                })]
            }) : null, e.jsxs(U, {
                className: "mb-6",
                children: [e.jsx(ne, {
                    children: e.jsx(ae, {
                        children: "Artículos del Pedido"
                    })
                }), e.jsx(q, {
                    children: i.items && i.items.length > 0 ? e.jsxs("div", {
                        className: "space-y-4",
                        children: [i.items.map((u, m) => e.jsxs("div", {
                            className: "flex items-start justify-between p-4 border rounded-lg",
                            children: [e.jsxs("div", {
                                className: "flex-1",
                                children: [e.jsxs("div", {
                                    className: "flex items-center gap-2 mb-2",
                                    children: [e.jsx(Ot, {
                                        className: "h-4 w-4 text-gray-500"
                                    }), e.jsx("h4", {
                                        className: "font-semibold",
                                        children: u.partName
                                    })]
                                }), e.jsxs("div", {
                                    className: "space-y-1 text-sm text-gray-600",
                                    children: [u.partFamily && e.jsxs("p", {
                                        children: [e.jsx("span", {
                                            className: "font-medium",
                                            children: "Familia:"
                                        }), " ", u.partFamily]
                                    }), u.partReference && e.jsxs("p", {
                                        children: [e.jsx("span", {
                                            className: "font-medium",
                                            children: "Referencia:"
                                        }), " ", u.partReference]
                                    }), (u.vehicleBrand || u.vehicleModel) && e.jsxs("p", {
                                        children: [e.jsx("span", {
                                            className: "font-medium",
                                            children: "Vehículo:"
                                        }), u.vehicleBrand && ` ${u.vehicleBrand}`, u.vehicleModel && ` ${u.vehicleModel}`, u.vehicleYear && ` (${u.vehicleYear})`]
                                    }), u.vehicleVersion && e.jsxs("p", {
                                        children: [e.jsx("span", {
                                            className: "font-medium",
                                            children: "Versión:"
                                        }), " ", u.vehicleVersion]
                                    })]
                                })]
                            }), e.jsxs("div", {
                                className: "text-right",
                                children: [e.jsxs("p", {
                                    className: "font-semibold",
                                    children: [jt(u.price, !1), " × ", u.quantity]
                                }), e.jsxs("p", {
                                    className: "text-sm text-gray-500",
                                    children: ["Total: ", jt((parseFloat(u.price) || 0) * u.quantity, !1)]
                                })]
                            })]
                        }, m)), e.jsx(Ca, {
                            className: "my-4"
                        }), e.jsxs("div", {
                            className: "flex justify-between items-center",
                            children: [e.jsx("span", {
                                className: "text-lg font-semibold",
                                children: "Total del Pedido:"
                            }), e.jsx("span", {
                                className: "text-lg font-bold",
                                children: jt(i.total, !1)
                            })]
                        })]
                    }) : e.jsxs("div", {
                        className: "text-center py-8 text-gray-500",
                        children: [e.jsx(Ot, {
                            className: "h-12 w-12 mx-auto mb-4 opacity-50"
                        }), e.jsx("p", {
                            children: "No se encontraron artículos en este pedido."
                        })]
                    })
                })]
            }), i.notes && e.jsxs(U, {
                children: [e.jsx(ne, {
                    children: e.jsx(ae, {
                        children: "Notas"
                    })
                }), e.jsx(q, {
                    children: e.jsx("p", {
                        className: "text-gray-600",
                        children: i.notes
                    })
                })]
            })]
        })
    };
function wG({params: t}) {
    const {toast: s} = st(),
        [, r] = ut(),
        [n, a] = h.useState(null),
        [i, o] = h.useState(!0),
        [l, c] = h.useState("");
    h.useEffect(() => {
        d();
        const j = new URLSearchParams(window.location.search);
        c(j.get("payment") || "")
    }, [t.orderId]);
    const d = async () => {
        try {
            const g = new URLSearchParams(window.location.search).get("sessionId"),
                x = by(),
                y = g || x;
            let v = `/api/orders/${t.orderId}`;
            y && (v += `?sessionId=${y}`);
            const f = await Re("GET", v);
            if (f.ok) {
                const b = await f.json();
                a(b)
            } else
                s({
                    title: "Error",
                    description: "No se pudo cargar la información del pedido",
                    variant: "destructive"
                })
        } catch (j) {
            console.error("Error loading order:", j),
            s({
                title: "Error",
                description: "No se pudo cargar la información del pedido",
                variant: "destructive"
            })
        } finally {
            o(!1)
        }
    };
    if (i)
        return e.jsx("div", {
            className: "container mx-auto px-4 py-8",
            children: e.jsx("div", {
                className: "text-center",
                children: "Cargando información del pedido..."
            })
        });
    if (!n)
        return e.jsx("div", {
            className: "container mx-auto px-4 py-8",
            children: e.jsx(U, {
                children: e.jsxs(q, {
                    className: "p-8 text-center",
                    children: [e.jsx("h2", {
                        className: "text-2xl font-bold mb-4",
                        children: "Pedido no encontrado"
                    }), e.jsx("p", {
                        className: "text-gray-600 mb-6",
                        children: "No se pudo encontrar el pedido solicitado"
                    }), e.jsx(T, {
                        onClick: () => r("/"),
                        children: "Volver al inicio"
                    })]
                })
            })
        });
    const u = j => new Date(j).toLocaleDateString("es-ES", {
            year: "numeric",
            month: "long",
            day: "numeric",
            hour: "2-digit",
            minute: "2-digit"
        }),
        m = () => {
            var j;
            if ((j = n.shippingMethod) != null && j.estimatedDays) {
                const g = new Date;
                return g.setDate(g.getDate() + n.shippingMethod.estimatedDays), g.toLocaleDateString("es-ES", {
                    year: "numeric",
                    month: "long",
                    day: "numeric"
                })
            }
            return "Por determinar"
        },
        p = j => ({
            stripe: "Tarjeta de Crédito/Débito",
            paypal: "PayPal",
            bank_transfer: "Transferencia Bancaria",
            redsys: "Tarjeta (Redsys)",
            cash: "Pago en Efectivo",
            cash_on_delivery: "Pago contra reembolso"
        })[j] || j;
    return e.jsx("div", {
        className: "container mx-auto px-4 py-8",
        children: e.jsxs("div", {
            className: "max-w-4xl mx-auto",
            children: [e.jsxs("div", {
                className: "text-center mb-8",
                children: [e.jsx(Rt, {
                    className: "w-16 h-16 text-green-600 mx-auto mb-4"
                }), e.jsx("h1", {
                    className: "text-3xl font-bold text-green-600 mb-2",
                    children: "¡Pedido confirmado!"
                }), e.jsxs("p", {
                    className: "text-gray-600",
                    children: ["Tu pedido #", n.orderNumber, " ha sido procesado correctamente"]
                }), e.jsxs("p", {
                    className: "text-sm text-gray-500 mt-2",
                    children: ["Realizado el ", u(n.createdAt)]
                })]
            }), e.jsxs("div", {
                className: "grid grid-cols-1 lg:grid-cols-3 gap-8",
                children: [e.jsxs("div", {
                    className: "lg:col-span-2 space-y-6",
                    children: [e.jsxs(U, {
                        children: [e.jsx(ne, {
                            children: e.jsx(ae, {
                                children: "Productos del pedido"
                            })
                        }), e.jsx(q, {
                            children: n.items && n.items.length > 0 ? e.jsx("div", {
                                className: "space-y-4",
                                children: n.items.map(j => e.jsx("div", {
                                    className: "border-b pb-4",
                                    children: e.jsxs("div", {
                                        className: "flex justify-between items-start",
                                        children: [e.jsxs("div", {
                                            className: "flex-1",
                                            children: [e.jsx("p", {
                                                className: "font-medium",
                                                children: j.partName
                                            }), e.jsxs("div", {
                                                className: "text-sm text-gray-600 space-y-1 mt-2",
                                                children: [j.partFamily && e.jsxs("p", {
                                                    children: ["Familia: ", j.partFamily]
                                                }), j.partReference && e.jsxs("p", {
                                                    children: ["Referencia: ", j.partReference]
                                                }), (j.vehicleBrand || j.vehicleModel) && e.jsxs("p", {
                                                    children: ["Vehículo:", j.vehicleBrand && ` ${j.vehicleBrand}`, j.vehicleModel && ` ${j.vehicleModel}`, j.vehicleYear && ` (${j.vehicleYear})`]
                                                }), j.vehicleVersion && e.jsxs("p", {
                                                    children: ["Versión: ", j.vehicleVersion]
                                                }), e.jsxs("p", {
                                                    children: ["Cantidad: ", j.quantity]
                                                })]
                                            })]
                                        }), e.jsxs("div", {
                                            className: "text-right",
                                            children: [e.jsxs("p", {
                                                className: "font-medium",
                                                children: [parseFloat(j.price).toFixed(2), " € × ", j.quantity]
                                            }), e.jsxs("p", {
                                                className: "text-sm text-gray-600",
                                                children: ["Total: ", (parseFloat(j.price) * j.quantity).toFixed(2), " €"]
                                            })]
                                        })]
                                    })
                                }, j.id))
                            }) : e.jsx("p", {
                                className: "text-gray-600",
                                children: "No se encontraron productos en este pedido"
                            })
                        })]
                    }), e.jsxs(U, {
                        children: [e.jsx(ne, {
                            children: e.jsxs(ae, {
                                className: "flex items-center gap-2",
                                children: [e.jsx(Lr, {
                                    className: "w-5 h-5"
                                }), "Información del cliente"]
                            })
                        }), e.jsx(q, {
                            className: "space-y-3",
                            children: e.jsxs("div", {
                                children: [e.jsx("p", {
                                    className: "font-medium",
                                    children: n.customerName
                                }), e.jsx("p", {
                                    className: "text-sm text-gray-600",
                                    children: n.customerEmail
                                }), e.jsx("p", {
                                    className: "text-sm text-gray-600",
                                    children: n.customerPhone
                                })]
                            })
                        })]
                    }), e.jsxs(U, {
                        children: [e.jsx(ne, {
                            children: e.jsxs(ae, {
                                className: "flex items-center gap-2",
                                children: [e.jsx(uo, {
                                    className: "w-5 h-5"
                                }), "Dirección de envío"]
                            })
                        }), e.jsxs(q, {
                            className: "space-y-3",
                            children: [e.jsxs("div", {
                                children: [e.jsx("p", {
                                    className: "font-medium",
                                    children: n.shippingAddress
                                }), e.jsxs("p", {
                                    className: "text-sm text-gray-600",
                                    children: [n.shippingCity, n.shippingProvince ? `, ${n.shippingProvince}` : "", " ", n.shippingPostalCode]
                                })]
                            }), n.shippingMethod && e.jsxs("div", {
                                className: "mt-4 p-3 bg-blue-50 rounded-lg",
                                children: [e.jsxs("div", {
                                    className: "flex items-center gap-2 mb-2",
                                    children: [e.jsx(er, {
                                        className: "w-4 h-4 text-blue-600"
                                    }), e.jsx("span", {
                                        className: "font-medium text-blue-600",
                                        children: n.shippingMethod.name
                                    })]
                                }), e.jsx("p", {
                                    className: "text-sm text-gray-600",
                                    children: n.shippingMethod.description
                                }), e.jsxs("p", {
                                    className: "text-sm text-blue-600 font-medium",
                                    children: ["Entrega estimada: ", m()]
                                })]
                            })]
                        })]
                    }), e.jsxs(U, {
                        children: [e.jsx(ne, {
                            children: e.jsxs(ae, {
                                className: "flex items-center gap-2",
                                children: [e.jsx(us, {
                                    className: "w-5 h-5"
                                }), "Información de pago"]
                            })
                        }), e.jsx(q, {
                            className: "space-y-3",
                            children: n.paymentMethod && e.jsxs("div", {
                                className: "space-y-4",
                                children: [e.jsxs("div", {
                                    className: "flex items-center gap-3",
                                    children: [n.paymentMethod.provider === "bank_transfer" && e.jsx(vp, {
                                        className: "w-5 h-5 text-green-600"
                                    }), n.paymentMethod.provider === "stripe" && e.jsx(us, {
                                        className: "w-5 h-5 text-blue-600"
                                    }), n.paymentMethod.provider === "paypal" && e.jsx(us, {
                                        className: "w-5 h-5 text-yellow-600"
                                    }), e.jsxs("div", {
                                        children: [e.jsx("p", {
                                            className: "font-medium",
                                            children: p(n.paymentMethod.provider)
                                        }), e.jsx(ye, {
                                            variant: "outline",
                                            className: "text-xs mt-1",
                                            children: n.paymentStatus === "pending" ? "Pendiente" : n.paymentStatus === "paid" ? "Pagado" : n.paymentStatus === "failed" ? "Fallido" : "Pendiente"
                                        })]
                                    })]
                                }), n.paymentMethod.provider === "bank_transfer" && e.jsxs("div", {
                                    className: "bg-blue-50 p-4 rounded-lg border border-blue-200",
                                    children: [e.jsx("h4", {
                                        className: "font-semibold text-blue-800 mb-3",
                                        children: "Datos para transferencia bancaria"
                                    }), e.jsxs("div", {
                                        className: "space-y-2 text-sm",
                                        children: [e.jsxs("div", {
                                            children: [e.jsx("span", {
                                                className: "font-medium",
                                                children: "Banco:"
                                            }), " ", n.paymentMethod.config.bank_name]
                                        }), e.jsxs("div", {
                                            children: [e.jsx("span", {
                                                className: "font-medium",
                                                children: "Número de cuenta:"
                                            }), " ", n.paymentMethod.config.account_number]
                                        }), e.jsxs("div", {
                                            children: [e.jsx("span", {
                                                className: "font-medium",
                                                children: "Concepto:"
                                            }), " Pedido #", n.orderNumber]
                                        }), e.jsxs("div", {
                                            children: [e.jsx("span", {
                                                className: "font-medium",
                                                children: "Importe:"
                                            }), " ", parseFloat(n.total).toFixed(2), " €"]
                                        })]
                                    }), e.jsx("div", {
                                        className: "mt-3 p-3 bg-blue-100 rounded border border-blue-300",
                                        children: e.jsxs("p", {
                                            className: "text-sm text-blue-700",
                                            children: [e.jsx("strong", {
                                                children: "Importante:"
                                            }), " Una vez realizada la transferencia, tu pedido será procesado. Guarda el justificante de la transferencia como comprobante."]
                                        })
                                    })]
                                }), n.paymentMethod.provider === "stripe" && e.jsxs("div", {
                                    className: "bg-green-50 p-4 rounded-lg border border-green-200",
                                    children: [e.jsx("h4", {
                                        className: "font-semibold text-green-800 mb-3",
                                        children: "Pago con tarjeta"
                                    }), e.jsxs("div", {
                                        className: "space-y-2 text-sm",
                                        children: [e.jsx("p", {
                                            className: "text-green-700",
                                            children: "Tu pedido ha sido creado correctamente. El pago se procesará de forma segura."
                                        }), e.jsx("div", {
                                            className: "mt-3 p-3 bg-green-100 rounded border border-green-300",
                                            children: e.jsxs("p", {
                                                className: "text-sm text-green-700",
                                                children: [e.jsx("strong", {
                                                    children: "Nota:"
                                                }), " Recibirás un email de confirmación una vez procesado el pago."]
                                            })
                                        })]
                                    })]
                                }), n.paymentMethod.provider === "paypal" && e.jsxs("div", {
                                    className: "bg-yellow-50 p-4 rounded-lg border border-yellow-200",
                                    children: [e.jsx("h4", {
                                        className: "font-semibold text-yellow-800 mb-3",
                                        children: "Pago con PayPal"
                                    }), e.jsxs("div", {
                                        className: "space-y-2 text-sm",
                                        children: [e.jsx("p", {
                                            className: "text-yellow-700",
                                            children: "Tu pedido ha sido creado correctamente. El pago se procesará a través de PayPal."
                                        }), e.jsx("div", {
                                            className: "mt-3 p-3 bg-yellow-100 rounded border border-yellow-300",
                                            children: e.jsxs("p", {
                                                className: "text-sm text-yellow-700",
                                                children: [e.jsx("strong", {
                                                    children: "Nota:"
                                                }), " Recibirás un email de confirmación una vez procesado el pago."]
                                            })
                                        })]
                                    })]
                                })]
                            })
                        })]
                    }), n.notes && e.jsxs(U, {
                        children: [e.jsx(ne, {
                            children: e.jsx(ae, {
                                children: "Notas del pedido"
                            })
                        }), e.jsx(q, {
                            children: e.jsx("p", {
                                className: "text-gray-700 whitespace-pre-wrap",
                                children: n.notes
                            })
                        })]
                    })]
                }), e.jsxs("div", {
                    className: "space-y-6",
                    children: [e.jsxs(U, {
                        children: [e.jsx(ne, {
                            children: e.jsx(ae, {
                                children: "Resumen del pedido"
                            })
                        }), e.jsxs(q, {
                            className: "space-y-4",
                            children: [e.jsxs("div", {
                                className: "flex justify-between",
                                children: [e.jsx("span", {
                                    children: "Subtotal"
                                }), e.jsxs("span", {
                                    children: [parseFloat(n.subtotal).toFixed(2), " €"]
                                })]
                            }), e.jsxs("div", {
                                className: "flex justify-between",
                                children: [e.jsx("span", {
                                    children: "Envío"
                                }), e.jsxs("span", {
                                    children: [parseFloat(n.shippingCost).toFixed(2), " €"]
                                })]
                            }), e.jsx(Ca, {}), e.jsxs("div", {
                                className: "flex justify-between font-semibold text-lg",
                                children: [e.jsx("span", {
                                    children: "Total"
                                }), e.jsxs("span", {
                                    children: [parseFloat(n.total).toFixed(2), " €"]
                                })]
                            })]
                        })]
                    }), e.jsxs(U, {
                        children: [e.jsx(ne, {
                            children: e.jsx(ae, {
                                children: "Estado del pedido"
                            })
                        }), e.jsxs(q, {
                            className: "space-y-3",
                            children: [e.jsxs("div", {
                                className: "flex items-center gap-2",
                                children: [e.jsx("div", {
                                    className: "w-2 h-2 bg-green-500 rounded-full"
                                }), e.jsx("span", {
                                    className: "text-sm",
                                    children: "Pedido confirmado"
                                })]
                            }), e.jsxs("div", {
                                className: "flex items-center gap-2",
                                children: [e.jsx("div", {
                                    className: "w-2 h-2 bg-yellow-500 rounded-full"
                                }), e.jsx("span", {
                                    className: "text-sm",
                                    children: "En proceso"
                                })]
                            }), e.jsxs("div", {
                                className: "flex items-center gap-2",
                                children: [e.jsx("div", {
                                    className: "w-2 h-2 bg-gray-300 rounded-full"
                                }), e.jsx("span", {
                                    className: "text-sm text-gray-500",
                                    children: "Enviado"
                                })]
                            }), e.jsxs("div", {
                                className: "flex items-center gap-2",
                                children: [e.jsx("div", {
                                    className: "w-2 h-2 bg-gray-300 rounded-full"
                                }), e.jsx("span", {
                                    className: "text-sm text-gray-500",
                                    children: "Entregado"
                                })]
                            })]
                        })]
                    }), e.jsxs("div", {
                        className: "space-y-3",
                        children: [e.jsxs(T, {
                            onClick: () => r("/"),
                            variant: "outline",
                            className: "w-full",
                            children: [e.jsx(Nr, {
                                className: "w-4 h-4 mr-2"
                            }), "Volver al catálogo"]
                        }), e.jsx(T, {
                            onClick: () => window.print(),
                            variant: "outline",
                            className: "w-full",
                            children: "Imprimir pedido"
                        })]
                    })]
                })]
            })]
        })
    })
}
const CG = Me.object({
        identifier: Me.string().min(3, "Ingresa un email o nombre de usuario válido"),
        password: Me.string().min(6, "La contraseña debe tener al menos 6 caracteres")
    }),
    SG = () => {
        const {login: t, isLoading: s} = Ts(),
            [, r] = ut(),
            n = mn({
                resolver: Sn(CG),
                defaultValues: {
                    identifier: "",
                    password: ""
                }
            }),
            a = async i => {
                try {
                    if (!i.identifier || !i.password) {
                        n.setError("identifier", {
                            message: "Usuario y contraseña son requeridos"
                        }),
                        n.setError("password", {
                            message: "Usuario y contraseña son requeridos"
                        });
                        return
                    }
                    const o = await t(i.identifier, i.password);
                    o.success ? o.shouldRedirect ? (console.log("🔄 Redirigiendo admin a dashboard via SPA..."), r("/admin/dashboard")) : r("/") : (n.setError("identifier", {
                        message: o.message || "Usuario o contraseña incorrectos"
                    }), n.setError("password", {
                        message: o.message || "Usuario o contraseña incorrectos"
                    }))
                } catch (o) {
                    console.error("Error en el formulario de login:", o),
                    n.setError("identifier", {
                        message: "Error de conexión. Intente nuevamente."
                    }),
                    n.setError("password", {
                        message: "Error de conexión. Intente nuevamente."
                    })
                }
            };
        return e.jsx("div", {
            className: "container mx-auto px-4 py-12 max-w-md",
            children: e.jsxs(U, {
                children: [e.jsxs(ne, {
                    className: "space-y-1",
                    children: [e.jsx(ae, {
                        className: "text-2xl font-bold text-center",
                        children: "Iniciar Sesión"
                    }), e.jsx(qt, {
                        className: "text-center",
                        children: "Ingresa tus credenciales para acceder a tu cuenta"
                    })]
                }), e.jsx(q, {
                    children: e.jsx(_n, {
                        ...n,
                        children: e.jsxs("form", {
                            onSubmit: n.handleSubmit(a),
                            className: "space-y-4",
                            children: [e.jsx(et, {
                                control: n.control,
                                name: "identifier",
                                render: ({field: i}) => e.jsxs(Ze, {
                                    children: [e.jsx(tt, {
                                        children: "Email o nombre de usuario"
                                    }), e.jsx(Xe, {
                                        children: e.jsx(te, {
                                            placeholder: "email@ejemplo.com o usuario",
                                            ...i
                                        })
                                    }), e.jsx(rt, {})]
                                })
                            }), e.jsx(et, {
                                control: n.control,
                                name: "password",
                                render: ({field: i}) => e.jsxs(Ze, {
                                    children: [e.jsx(tt, {
                                        children: "Contraseña"
                                    }), e.jsx(Xe, {
                                        children: e.jsx(te, {
                                            type: "password",
                                            placeholder: "••••••••",
                                            ...i
                                        })
                                    }), e.jsx(rt, {})]
                                })
                            }), e.jsx(T, {
                                type: "submit",
                                className: "w-full",
                                disabled: s,
                                children: s ? "Iniciando sesión..." : "Iniciar Sesión"
                            })]
                        })
                    })
                }), e.jsxs(_a, {
                    className: "flex flex-col gap-2",
                    children: [e.jsxs("div", {
                        className: "text-center text-sm",
                        children: ["¿No tienes una cuenta?", " ", e.jsx(ze, {
                            href: "/register",
                            className: "text-blue-600 hover:text-blue-800",
                            children: "Regístrate aquí"
                        })]
                    }), e.jsx("div", {
                        className: "text-center text-sm",
                        children: e.jsx(ze, {
                            href: "/checkout",
                            className: "text-gray-600 hover:text-gray-800",
                            children: "Continuar como invitado"
                        })
                    })]
                })]
            })
        })
    },
    EG = Me.object({
        username: Me.string().min(3, "El nombre de usuario debe tener al menos 3 caracteres"),
        email: Me.string().email("Ingresa un email válido"),
        password: Me.string().min(6, "La contraseña debe tener al menos 6 caracteres"),
        confirmPassword: Me.string(),
        firstName: Me.string().optional(),
        lastName: Me.string().optional()
    }).refine(t => t.password === t.confirmPassword, {
        message: "Las contraseñas no coinciden",
        path: ["confirmPassword"]
    }),
    kG = () => {
        const {register: t, isLoading: s} = Ts(),
            [, r] = ut(),
            {toast: n} = st(),
            a = mn({
                resolver: Sn(EG),
                defaultValues: {
                    username: "",
                    email: "",
                    password: "",
                    confirmPassword: "",
                    firstName: "",
                    lastName: ""
                }
            }),
            i = async o => {
                try {
                    const {confirmPassword: l, ...c} = o;
                    await t(c),
                    n({
                        title: "Registro exitoso",
                        description: "Tu cuenta ha sido creada correctamente. Puedes iniciar sesión ahora."
                    }),
                    r("/login")
                } catch (l) {
                    console.error("Error en el formulario de registro:", l)
                }
            };
        return e.jsx("div", {
            className: "container mx-auto px-4 py-8 max-w-md",
            children: e.jsxs(U, {
                children: [e.jsxs(ne, {
                    className: "space-y-1",
                    children: [e.jsx(ae, {
                        className: "text-2xl font-bold text-center",
                        children: "Crear Cuenta"
                    }), e.jsx(qt, {
                        className: "text-center",
                        children: "Ingresa tus datos para registrarte en la plataforma"
                    })]
                }), e.jsx(q, {
                    children: e.jsx(_n, {
                        ...a,
                        children: e.jsxs("form", {
                            onSubmit: a.handleSubmit(i),
                            className: "space-y-4",
                            children: [e.jsx(et, {
                                control: a.control,
                                name: "username",
                                render: ({field: o}) => e.jsxs(Ze, {
                                    children: [e.jsx(tt, {
                                        children: "Nombre de Usuario"
                                    }), e.jsx(Xe, {
                                        children: e.jsx(te, {
                                            placeholder: "usuario123",
                                            ...o
                                        })
                                    }), e.jsx(rt, {})]
                                })
                            }), e.jsx(et, {
                                control: a.control,
                                name: "email",
                                render: ({field: o}) => e.jsxs(Ze, {
                                    children: [e.jsx(tt, {
                                        children: "Email"
                                    }), e.jsx(Xe, {
                                        children: e.jsx(te, {
                                            placeholder: "tucorreo@ejemplo.com",
                                            ...o
                                        })
                                    }), e.jsx(rt, {})]
                                })
                            }), e.jsxs("div", {
                                className: "grid grid-cols-2 gap-4",
                                children: [e.jsx(et, {
                                    control: a.control,
                                    name: "firstName",
                                    render: ({field: o}) => e.jsxs(Ze, {
                                        children: [e.jsx(tt, {
                                            children: "Nombre"
                                        }), e.jsx(Xe, {
                                            children: e.jsx(te, {
                                                placeholder: "Juan",
                                                ...o
                                            })
                                        }), e.jsx(rt, {})]
                                    })
                                }), e.jsx(et, {
                                    control: a.control,
                                    name: "lastName",
                                    render: ({field: o}) => e.jsxs(Ze, {
                                        children: [e.jsx(tt, {
                                            children: "Apellido"
                                        }), e.jsx(Xe, {
                                            children: e.jsx(te, {
                                                placeholder: "Pérez",
                                                ...o
                                            })
                                        }), e.jsx(rt, {})]
                                    })
                                })]
                            }), e.jsx(et, {
                                control: a.control,
                                name: "password",
                                render: ({field: o}) => e.jsxs(Ze, {
                                    children: [e.jsx(tt, {
                                        children: "Contraseña"
                                    }), e.jsx(Xe, {
                                        children: e.jsx(te, {
                                            type: "password",
                                            placeholder: "••••••••",
                                            ...o
                                        })
                                    }), e.jsx(rt, {})]
                                })
                            }), e.jsx(et, {
                                control: a.control,
                                name: "confirmPassword",
                                render: ({field: o}) => e.jsxs(Ze, {
                                    children: [e.jsx(tt, {
                                        children: "Confirmar Contraseña"
                                    }), e.jsx(Xe, {
                                        children: e.jsx(te, {
                                            type: "password",
                                            placeholder: "••••••••",
                                            ...o
                                        })
                                    }), e.jsx(rt, {})]
                                })
                            }), e.jsx(T, {
                                type: "submit",
                                className: "w-full",
                                disabled: s,
                                children: s ? "Registrando..." : "Registrarse"
                            })]
                        })
                    })
                }), e.jsx(_a, {
                    className: "flex justify-center",
                    children: e.jsxs("div", {
                        className: "text-center text-sm",
                        children: ["¿Ya tienes una cuenta?", " ", e.jsx(ze, {
                            href: "/login",
                            className: "text-blue-600 hover:text-blue-800",
                            children: "Inicia sesión aquí"
                        })]
                    })
                })]
            })
        })
    },
    PG = Me.object({
        firstName: Me.string().min(1, "El nombre es requerido"),
        lastName: Me.string().min(1, "El apellido es requerido"),
        email: Me.string().email("Email inválido"),
        phone: Me.string().min(9, "Teléfono inválido").max(15, "Teléfono inválido")
    }),
    _G = Me.object({
        address: Me.string().min(1, "La dirección es requerida"),
        city: Me.string().min(1, "La ciudad es requerida"),
        postalCode: Me.string().min(5, "Código postal inválido"),
        province: Me.string().min(1, "La provincia es requerida")
    }),
    TG = () => {
        const {user: t, isLoading: s, updateProfile: r, logout: n} = Ts(),
            [a, i] = ut(),
            [o, l] = h.useState("profile"),
            [c, d] = h.useState([]),
            [u, m] = h.useState(!0);
        return h.useEffect(() => {
            (async () => {
                try {
                    const g = await (await fetch("/api/provinces")).json();
                    d(g)
                } catch (j) {
                    console.error("Error loading provinces:", j)
                } finally {
                    m(!1)
                }
            })()
        }, []), !s && !t ? e.jsx(oE, {
            to: "/login?redirect=panel"
        }) : s ? e.jsx("div", {
            className: "container mx-auto px-4 py-16 flex justify-center items-center min-h-[60vh]",
            children: e.jsxs("div", {
                className: "flex flex-col items-center",
                children: [e.jsx(Xt, {
                    className: "h-8 w-8 animate-spin text-primary"
                }), e.jsx("p", {
                    className: "mt-4 text-muted-foreground",
                    children: "Cargando información de usuario..."
                })]
            })
        }) : e.jsxs("div", {
            className: "container mx-auto px-4 py-8 max-w-6xl",
            children: [e.jsxs("div", {
                className: "flex flex-col md:flex-row justify-between items-start mb-8",
                children: [e.jsxs("div", {
                    children: [e.jsx("h1", {
                        className: "text-3xl font-bold",
                        children: "Panel de usuario"
                    }), e.jsx("p", {
                        className: "text-muted-foreground mt-2",
                        children: "Gestiona tu información personal y direcciones"
                    })]
                }), e.jsxs(T, {
                    variant: "outline",
                    className: "mt-4 md:mt-0",
                    onClick: () => {
                        n(),
                        i("/")
                    },
                    children: [e.jsx(ka, {
                        className: "h-4 w-4 mr-2"
                    }), "Cerrar sesión"]
                })]
            }), e.jsxs(ls, {
                value: o,
                onValueChange: l,
                className: "w-full",
                children: [e.jsxs(es, {
                    className: "grid grid-cols-2 w-full mb-8",
                    children: [e.jsxs(Ue, {
                        value: "profile",
                        className: "flex items-center",
                        children: [e.jsx(Lr, {
                            className: "h-4 w-4 mr-2"
                        }), "Perfil"]
                    }), e.jsxs(Ue, {
                        value: "addresses",
                        className: "flex items-center",
                        children: [e.jsx(uo, {
                            className: "h-4 w-4 mr-2"
                        }), "Direcciones"]
                    })]
                }), e.jsx($e, {
                    value: "profile",
                    children: e.jsx(AG, {
                        user: t,
                        updateProfile: r
                    })
                }), e.jsx($e, {
                    value: "addresses",
                    children: e.jsx(MG, {
                        user: t,
                        updateProfile: r,
                        provinces: c
                    })
                })]
            })]
        })
    },
    AG = ({user: t, updateProfile: s}) => {
        const [r, n] = h.useState(!1),
            a = mn({
                resolver: Sn(PG),
                defaultValues: {
                    firstName: (t == null ? void 0 : t.firstName) || "",
                    lastName: (t == null ? void 0 : t.lastName) || "",
                    email: (t == null ? void 0 : t.email) || "",
                    phone: (t == null ? void 0 : t.phone) || ""
                }
            }),
            i = async o => {
                try {
                    n(!0);
                    const l = await s(o);
                    l.success ? Ko({
                        title: "Perfil actualizado",
                        description: "Tu información personal ha sido actualizada correctamente"
                    }) : Ko({
                        title: "Error",
                        description: l.message || "No se pudo actualizar el perfil",
                        variant: "destructive"
                    })
                } catch (l) {
                    console.error("Error al actualizar perfil:", l),
                    Ko({
                        title: "Error",
                        description: "Ocurrió un error al actualizar tu perfil",
                        variant: "destructive"
                    })
                } finally {
                    n(!1)
                }
            };
        return e.jsxs(U, {
            children: [e.jsxs(ne, {
                children: [e.jsx(ae, {
                    children: "Información personal"
                }), e.jsx(qt, {
                    children: "Actualiza tu información personal y detalles de contacto"
                })]
            }), e.jsx(q, {
                children: e.jsx(_n, {
                    ...a,
                    children: e.jsxs("form", {
                        onSubmit: a.handleSubmit(i),
                        className: "space-y-6",
                        children: [e.jsxs("div", {
                            className: "grid grid-cols-1 md:grid-cols-2 gap-6",
                            children: [e.jsx(et, {
                                control: a.control,
                                name: "firstName",
                                render: ({field: o}) => e.jsxs(Ze, {
                                    children: [e.jsx(tt, {
                                        children: "Nombre"
                                    }), e.jsx(Xe, {
                                        children: e.jsx(te, {
                                            placeholder: "Tu nombre",
                                            ...o
                                        })
                                    }), e.jsx(rt, {})]
                                })
                            }), e.jsx(et, {
                                control: a.control,
                                name: "lastName",
                                render: ({field: o}) => e.jsxs(Ze, {
                                    children: [e.jsx(tt, {
                                        children: "Apellidos"
                                    }), e.jsx(Xe, {
                                        children: e.jsx(te, {
                                            placeholder: "Tus apellidos",
                                            ...o
                                        })
                                    }), e.jsx(rt, {})]
                                })
                            }), e.jsx(et, {
                                control: a.control,
                                name: "email",
                                render: ({field: o}) => e.jsxs(Ze, {
                                    children: [e.jsx(tt, {
                                        children: "Correo electrónico"
                                    }), e.jsx(Xe, {
                                        children: e.jsx(te, {
                                            type: "email",
                                            placeholder: "correo@ejemplo.com",
                                            ...o
                                        })
                                    }), e.jsx(rt, {})]
                                })
                            }), e.jsx(et, {
                                control: a.control,
                                name: "phone",
                                render: ({field: o}) => e.jsxs(Ze, {
                                    children: [e.jsx(tt, {
                                        children: "Teléfono"
                                    }), e.jsx(Xe, {
                                        children: e.jsx(te, {
                                            placeholder: "Teléfono de contacto",
                                            ...o
                                        })
                                    }), e.jsx(rt, {})]
                                })
                            })]
                        }), e.jsx(T, {
                            type: "submit",
                            disabled: r,
                            className: "w-full md:w-auto",
                            children: r ? e.jsxs(e.Fragment, {
                                children: ["Guardando...", e.jsx(Xt, {
                                    className: "ml-2 h-4 w-4 animate-spin"
                                })]
                            }) : "Guardar cambios"
                        })]
                    })
                })
            })]
        })
    },
    MG = ({user: t, updateProfile: s, provinces: r}) => {
        const [n, a] = h.useState(!1),
            i = mn({
                resolver: Sn(_G),
                defaultValues: {
                    address: (t == null ? void 0 : t.address) || "",
                    city: (t == null ? void 0 : t.city) || "",
                    postalCode: (t == null ? void 0 : t.postalCode) || "",
                    province: (t == null ? void 0 : t.province) || ""
                }
            }),
            o = async l => {
                try {
                    a(!0);
                    const c = await s(l);
                    c.success ? Ko({
                        title: "Dirección actualizada",
                        description: "Tu dirección ha sido actualizada correctamente"
                    }) : Ko({
                        title: "Error",
                        description: c.message || "No se pudo actualizar la dirección",
                        variant: "destructive"
                    })
                } catch (c) {
                    console.error("Error al actualizar dirección:", c),
                    Ko({
                        title: "Error",
                        description: "Ocurrió un error al actualizar tu dirección",
                        variant: "destructive"
                    })
                } finally {
                    a(!1)
                }
            };
        return e.jsxs(U, {
            children: [e.jsxs(ne, {
                children: [e.jsx(ae, {
                    children: "Dirección de envío"
                }), e.jsx(qt, {
                    children: "Actualiza tu dirección para recibir tus pedidos"
                })]
            }), e.jsx(q, {
                children: e.jsx(_n, {
                    ...i,
                    children: e.jsxs("form", {
                        onSubmit: i.handleSubmit(o),
                        className: "space-y-6",
                        children: [e.jsx(et, {
                            control: i.control,
                            name: "address",
                            render: ({field: l}) => e.jsxs(Ze, {
                                children: [e.jsx(tt, {
                                    children: "Dirección"
                                }), e.jsx(Xe, {
                                    children: e.jsx(te, {
                                        placeholder: "Calle, número, piso, etc.",
                                        ...l
                                    })
                                }), e.jsx(rt, {})]
                            })
                        }), e.jsxs("div", {
                            className: "grid grid-cols-1 md:grid-cols-3 gap-6",
                            children: [e.jsx(et, {
                                control: i.control,
                                name: "city",
                                render: ({field: l}) => e.jsxs(Ze, {
                                    children: [e.jsx(tt, {
                                        children: "Ciudad"
                                    }), e.jsx(Xe, {
                                        children: e.jsx(te, {
                                            placeholder: "Ciudad",
                                            ...l
                                        })
                                    }), e.jsx(rt, {})]
                                })
                            }), e.jsx(et, {
                                control: i.control,
                                name: "province",
                                render: ({field: l}) => e.jsxs(Ze, {
                                    children: [e.jsx(tt, {
                                        children: "Provincia"
                                    }), e.jsxs(He, {
                                        onValueChange: l.onChange,
                                        value: l.value,
                                        children: [e.jsx(Xe, {
                                            children: e.jsx(qe, {
                                                children: e.jsx(We, {
                                                    placeholder: "Selecciona provincia"
                                                })
                                            })
                                        }), e.jsx(Be, {
                                            children: r.map(c => e.jsx(Q, {
                                                value: c.name,
                                                children: c.name
                                            }, c.id))
                                        })]
                                    }), e.jsx(rt, {})]
                                })
                            }), e.jsx(et, {
                                control: i.control,
                                name: "postalCode",
                                render: ({field: l}) => e.jsxs(Ze, {
                                    children: [e.jsx(tt, {
                                        children: "Código postal"
                                    }), e.jsx(Xe, {
                                        children: e.jsx(te, {
                                            placeholder: "Código postal",
                                            ...l
                                        })
                                    }), e.jsx(rt, {})]
                                })
                            })]
                        }), e.jsx(T, {
                            type: "submit",
                            disabled: n,
                            className: "w-full md:w-auto",
                            children: n ? e.jsxs(e.Fragment, {
                                children: ["Guardando...", e.jsx(Xt, {
                                    className: "ml-2 h-4 w-4 animate-spin"
                                })]
                            }) : "Guardar dirección"
                        })]
                    })
                })
            })]
        })
    };
function _M(t, s) {
    return function() {
        return t.apply(s, arguments)
    }
}
const {toString: IG} = Object.prototype,
    {getPrototypeOf: xb} = Object,
    {iterator: lx, toStringTag: TM} = Symbol,
    cx = (t => s => {
        const r = IG.call(s);
        return t[r] || (t[r] = r.slice(8, -1).toLowerCase())
    })(Object.create(null)),
    aa = t => (t = t.toLowerCase(), s => cx(s) === t),
    dx = t => s => typeof s === t,
    {isArray: id} = Array,
    Yu = dx("undefined");
function RG(t) {
    return t !== null && !Yu(t) && t.constructor !== null && !Yu(t.constructor) && Gr(t.constructor.isBuffer) && t.constructor.isBuffer(t)
}
const AM = aa("ArrayBuffer");
function DG(t) {
    let s;
    return typeof ArrayBuffer < "u" && ArrayBuffer.isView ? s = ArrayBuffer.isView(t) : s = t && t.buffer && AM(t.buffer), s
}
const OG = dx("string"),
    Gr = dx("function"),
    MM = dx("number"),
    ux = t => t !== null && typeof t == "object",
    LG = t => t === !0 || t === !1,
    Uh = t => {
        if (cx(t) !== "object")
            return !1;
        const s = xb(t);
        return (s === null || s === Object.prototype || Object.getPrototypeOf(s) === null) && !(TM in t) && !(lx in t)
    },
    FG = aa("Date"),
    zG = aa("File"),
    $G = aa("Blob"),
    VG = aa("FileList"),
    UG = t => ux(t) && Gr(t.pipe),
    qG = t => {
        let s;
        return t && (typeof FormData == "function" && t instanceof FormData || Gr(t.append) && ((s = cx(t)) === "formdata" || s === "object" && Gr(t.toString) && t.toString() === "[object FormData]"))
    },
    BG = aa("URLSearchParams"),
    [HG, WG, GG, KG] = ["ReadableStream", "Request", "Response", "Headers"].map(aa),
    YG = t => t.trim ? t.trim() : t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "");
function Im(t, s, {allOwnKeys: r=!1}={}) {
    if (t === null || typeof t > "u")
        return;
    let n,
        a;
    if (typeof t != "object" && (t = [t]), id(t))
        for (n = 0, a = t.length; n < a; n++)
            s.call(null, t[n], n, t);
    else {
        const i = r ? Object.getOwnPropertyNames(t) : Object.keys(t),
            o = i.length;
        let l;
        for (n = 0; n < o; n++)
            l = i[n],
            s.call(null, t[l], l, t)
    }
}
function IM(t, s) {
    s = s.toLowerCase();
    const r = Object.keys(t);
    let n = r.length,
        a;
    for (; n-- > 0;)
        if (a = r[n], s === a.toLowerCase())
            return a;
    return null
}
const Fo = typeof globalThis < "u" ? globalThis : typeof self < "u" ? self : typeof window < "u" ? window : global,
    RM = t => !Yu(t) && t !== Fo;
function Ny() {
    const {caseless: t} = RM(this) && this || {},
        s = {},
        r = (n, a) => {
            const i = t && IM(s, a) || a;
            Uh(s[i]) && Uh(n) ? s[i] = Ny(s[i], n) : Uh(n) ? s[i] = Ny({}, n) : id(n) ? s[i] = n.slice() : s[i] = n
        };
    for (let n = 0, a = arguments.length; n < a; n++)
        arguments[n] && Im(arguments[n], r);
    return s
}
const QG = (t, s, r, {allOwnKeys: n}={}) => (Im(s, (a, i) => {
        r && Gr(a) ? t[i] = _M(a, r) : t[i] = a
    }, {
        allOwnKeys: n
    }), t),
    ZG = t => (t.charCodeAt(0) === 65279 && (t = t.slice(1)), t),
    XG = (t, s, r, n) => {
        t.prototype = Object.create(s.prototype, n),
        t.prototype.constructor = t,
        Object.defineProperty(t, "super", {
            value: s.prototype
        }),
        r && Object.assign(t.prototype, r)
    },
    JG = (t, s, r, n) => {
        let a,
            i,
            o;
        const l = {};
        if (s = s || {}, t == null)
            return s;
        do {
            for (a = Object.getOwnPropertyNames(t), i = a.length; i-- > 0;)
                o = a[i],
                (!n || n(o, t, s)) && !l[o] && (s[o] = t[o], l[o] = !0);
            t = r !== !1 && xb(t)
        } while (t && (!r || r(t, s)) && t !== Object.prototype);
        return s
    },
    eK = (t, s, r) => {
        t = String(t),
        (r === void 0 || r > t.length) && (r = t.length),
        r -= s.length;
        const n = t.indexOf(s, r);
        return n !== -1 && n === r
    },
    tK = t => {
        if (!t)
            return null;
        if (id(t))
            return t;
        let s = t.length;
        if (!MM(s))
            return null;
        const r = new Array(s);
        for (; s-- > 0;)
            r[s] = t[s];
        return r
    },
    sK = (t => s => t && s instanceof t)(typeof Uint8Array < "u" && xb(Uint8Array)),
    rK = (t, s) => {
        const n = (t && t[lx]).call(t);
        let a;
        for (; (a = n.next()) && !a.done;) {
            const i = a.value;
            s.call(t, i[0], i[1])
        }
    },
    nK = (t, s) => {
        let r;
        const n = [];
        for (; (r = t.exec(s)) !== null;)
            n.push(r);
        return n
    },
    aK = aa("HTMLFormElement"),
    iK = t => t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g, function(r, n, a) {
        return n.toUpperCase() + a
    }),
    K1 = (({hasOwnProperty: t}) => (s, r) => t.call(s, r))(Object.prototype),
    oK = aa("RegExp"),
    DM = (t, s) => {
        const r = Object.getOwnPropertyDescriptors(t),
            n = {};
        Im(r, (a, i) => {
            let o;
            (o = s(a, i, t)) !== !1 && (n[i] = o || a)
        }),
        Object.defineProperties(t, n)
    },
    lK = t => {
        DM(t, (s, r) => {
            if (Gr(t) && ["arguments", "caller", "callee"].indexOf(r) !== -1)
                return !1;
            const n = t[r];
            if (Gr(n)) {
                if (s.enumerable = !1, "writable" in s) {
                    s.writable = !1;
                    return
                }
                s.set || (s.set = () => {
                    throw Error("Can not rewrite read-only method '" + r + "'")
                })
            }
        })
    },
    cK = (t, s) => {
        const r = {},
            n = a => {
                a.forEach(i => {
                    r[i] = !0
                })
            };
        return id(t) ? n(t) : n(String(t).split(s)), r
    },
    dK = () => {},
    uK = (t, s) => t != null && Number.isFinite(t = +t) ? t : s;
function mK(t) {
    return !!(t && Gr(t.append) && t[TM] === "FormData" && t[lx])
}
const hK = t => {
        const s = new Array(10),
            r = (n, a) => {
                if (ux(n)) {
                    if (s.indexOf(n) >= 0)
                        return;
                    if (!("toJSON" in n)) {
                        s[a] = n;
                        const i = id(n) ? [] : {};
                        return Im(n, (o, l) => {
                            const c = r(o, a + 1);
                            !Yu(c) && (i[l] = c)
                        }), s[a] = void 0, i
                    }
                }
                return n
            };
        return r(t, 0)
    },
    pK = aa("AsyncFunction"),
    fK = t => t && (ux(t) || Gr(t)) && Gr(t.then) && Gr(t.catch),
    OM = ((t, s) => t ? setImmediate : s ? ((r, n) => (Fo.addEventListener("message", ({source: a, data: i}) => {
        a === Fo && i === r && n.length && n.shift()()
    }, !1), a => {
        n.push(a),
        Fo.postMessage(r, "*")
    }))(`axios@${Math.random()}`, []) : r => setTimeout(r))(typeof setImmediate == "function", Gr(Fo.postMessage)),
    xK = typeof queueMicrotask < "u" ? queueMicrotask.bind(Fo) : typeof process < "u" && process.nextTick || OM,
    gK = t => t != null && Gr(t[lx]),
    de = {
        isArray: id,
        isArrayBuffer: AM,
        isBuffer: RG,
        isFormData: qG,
        isArrayBufferView: DG,
        isString: OG,
        isNumber: MM,
        isBoolean: LG,
        isObject: ux,
        isPlainObject: Uh,
        isReadableStream: HG,
        isRequest: WG,
        isResponse: GG,
        isHeaders: KG,
        isUndefined: Yu,
        isDate: FG,
        isFile: zG,
        isBlob: $G,
        isRegExp: oK,
        isFunction: Gr,
        isStream: UG,
        isURLSearchParams: BG,
        isTypedArray: sK,
        isFileList: VG,
        forEach: Im,
        merge: Ny,
        extend: QG,
        trim: YG,
        stripBOM: ZG,
        inherits: XG,
        toFlatObject: JG,
        kindOf: cx,
        kindOfTest: aa,
        endsWith: eK,
        toArray: tK,
        forEachEntry: rK,
        matchAll: nK,
        isHTMLForm: aK,
        hasOwnProperty: K1,
        hasOwnProp: K1,
        reduceDescriptors: DM,
        freezeMethods: lK,
        toObjectSet: cK,
        toCamelCase: iK,
        noop: dK,
        toFiniteNumber: uK,
        findKey: IM,
        global: Fo,
        isContextDefined: RM,
        isSpecCompliantForm: mK,
        toJSONObject: hK,
        isAsyncFn: pK,
        isThenable: fK,
        setImmediate: OM,
        asap: xK,
        isIterable: gK
    };
function ht(t, s, r, n, a) {
    Error.call(this),
    Error.captureStackTrace ? Error.captureStackTrace(this, this.constructor) : this.stack = new Error().stack,
    this.message = t,
    this.name = "AxiosError",
    s && (this.code = s),
    r && (this.config = r),
    n && (this.request = n),
    a && (this.response = a, this.status = a.status ? a.status : null)
}
de.inherits(ht, Error, {
    toJSON: function() {
        return {
            message: this.message,
            name: this.name,
            description: this.description,
            number: this.number,
            fileName: this.fileName,
            lineNumber: this.lineNumber,
            columnNumber: this.columnNumber,
            stack: this.stack,
            config: de.toJSONObject(this.config),
            code: this.code,
            status: this.status
        }
    }
});
const LM = ht.prototype,
    FM = {};
["ERR_BAD_OPTION_VALUE", "ERR_BAD_OPTION", "ECONNABORTED", "ETIMEDOUT", "ERR_NETWORK", "ERR_FR_TOO_MANY_REDIRECTS", "ERR_DEPRECATED", "ERR_BAD_RESPONSE", "ERR_BAD_REQUEST", "ERR_CANCELED", "ERR_NOT_SUPPORT", "ERR_INVALID_URL"].forEach(t => {
    FM[t] = {
        value: t
    }
});
Object.defineProperties(ht, FM);
Object.defineProperty(LM, "isAxiosError", {
    value: !0
});
ht.from = (t, s, r, n, a, i) => {
    const o = Object.create(LM);
    return de.toFlatObject(t, o, function(c) {
        return c !== Error.prototype
    }, l => l !== "isAxiosError"), ht.call(o, t.message, s, r, n, a), o.cause = t, o.name = t.name, i && Object.assign(o, i), o
};
const vK = null;
function wy(t) {
    return de.isPlainObject(t) || de.isArray(t)
}
function zM(t) {
    return de.endsWith(t, "[]") ? t.slice(0, -2) : t
}
function Y1(t, s, r) {
    return t ? t.concat(s).map(function(a, i) {
        return a = zM(a), !r && i ? "[" + a + "]" : a
    }).join(r ? "." : "") : s
}
function yK(t) {
    return de.isArray(t) && !t.some(wy)
}
const jK = de.toFlatObject(de, {}, null, function(s) {
    return /^is[A-Z]/.test(s)
});
function mx(t, s, r) {
    if (!de.isObject(t))
        throw new TypeError("target must be an object");
    s = s || new FormData,
    r = de.toFlatObject(r, {
        metaTokens: !0,
        dots: !1,
        indexes: !1
    }, !1, function(x, y) {
        return !de.isUndefined(y[x])
    });
    const n = r.metaTokens,
        a = r.visitor || u,
        i = r.dots,
        o = r.indexes,
        c = (r.Blob || typeof Blob < "u" && Blob) && de.isSpecCompliantForm(s);
    if (!de.isFunction(a))
        throw new TypeError("visitor must be a function");
    function d(g) {
        if (g === null)
            return "";
        if (de.isDate(g))
            return g.toISOString();
        if (!c && de.isBlob(g))
            throw new ht("Blob is not supported. Use a Buffer instead.");
        return de.isArrayBuffer(g) || de.isTypedArray(g) ? c && typeof Blob == "function" ? new Blob([g]) : Buffer.from(g) : g
    }
    function u(g, x, y) {
        let v = g;
        if (g && !y && typeof g == "object") {
            if (de.endsWith(x, "{}"))
                x = n ? x : x.slice(0, -2),
                g = JSON.stringify(g);
            else if (de.isArray(g) && yK(g) || (de.isFileList(g) || de.endsWith(x, "[]")) && (v = de.toArray(g)))
                return x = zM(x), v.forEach(function(b, N) {
                    !(de.isUndefined(b) || b === null) && s.append(o === !0 ? Y1([x], N, i) : o === null ? x : x + "[]", d(b))
                }), !1
        }
        return wy(g) ? !0 : (s.append(Y1(y, x, i), d(g)), !1)
    }
    const m = [],
        p = Object.assign(jK, {
            defaultVisitor: u,
            convertValue: d,
            isVisitable: wy
        });
    function j(g, x) {
        if (!de.isUndefined(g)) {
            if (m.indexOf(g) !== -1)
                throw Error("Circular reference detected in " + x.join("."));
            m.push(g),
            de.forEach(g, function(v, f) {
                (!(de.isUndefined(v) || v === null) && a.call(s, v, de.isString(f) ? f.trim() : f, x, p)) === !0 && j(v, x ? x.concat(f) : [f])
            }),
            m.pop()
        }
    }
    if (!de.isObject(t))
        throw new TypeError("data must be an object");
    return j(t), s
}
function Q1(t) {
    const s = {
        "!": "%21",
        "'": "%27",
        "(": "%28",
        ")": "%29",
        "~": "%7E",
        "%20": "+",
        "%00": "\0"
    };
    return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g, function(n) {
        return s[n]
    })
}
function gb(t, s) {
    this._pairs = [],
    t && mx(t, this, s)
}
const $M = gb.prototype;
$M.append = function(s, r) {
    this._pairs.push([s, r])
};
$M.toString = function(s) {
    const r = s ? function(n) {
        return s.call(this, n, Q1)
    } : Q1;
    return this._pairs.map(function(a) {
        return r(a[0]) + "=" + r(a[1])
    }, "").join("&")
};
function bK(t) {
    return encodeURIComponent(t).replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%20/g, "+").replace(/%5B/gi, "[").replace(/%5D/gi, "]")
}
function VM(t, s, r) {
    if (!s)
        return t;
    const n = r && r.encode || bK;
    de.isFunction(r) && (r = {
        serialize: r
    });
    const a = r && r.serialize;
    let i;
    if (a ? i = a(s, r) : i = de.isURLSearchParams(s) ? s.toString() : new gb(s, r).toString(n), i) {
        const o = t.indexOf("#");
        o !== -1 && (t = t.slice(0, o)),
        t += (t.indexOf("?") === -1 ? "?" : "&") + i
    }
    return t
}
class Z1 {
    constructor()
    {
        this.handlers = []
    }
    use(s, r, n)
    {
        return this.handlers.push({
            fulfilled: s,
            rejected: r,
            synchronous: n ? n.synchronous : !1,
            runWhen: n ? n.runWhen : null
        }), this.handlers.length - 1
    }
    eject(s)
    {
        this.handlers[s] && (this.handlers[s] = null)
    }
    clear()
    {
        this.handlers && (this.handlers = [])
    }
    forEach(s)
    {
        de.forEach(this.handlers, function(n) {
            n !== null && s(n)
        })
    }
}
const UM = {
        silentJSONParsing: !0,
        forcedJSONParsing: !0,
        clarifyTimeoutError: !1
    },
    NK = typeof URLSearchParams < "u" ? URLSearchParams : gb,
    wK = typeof FormData < "u" ? FormData : null,
    CK = typeof Blob < "u" ? Blob : null,
    SK = {
        isBrowser: !0,
        classes: {
            URLSearchParams: NK,
            FormData: wK,
            Blob: CK
        },
        protocols: ["http", "https", "file", "blob", "url", "data"]
    },
    vb = typeof window < "u" && typeof document < "u",
    Cy = typeof navigator == "object" && navigator || void 0,
    EK = vb && (!Cy || ["ReactNative", "NativeScript", "NS"].indexOf(Cy.product) < 0),
    kK = typeof WorkerGlobalScope < "u" && self instanceof WorkerGlobalScope && typeof self.importScripts == "function",
    PK = vb && window.location.href || "http://localhost",
    _K = Object.freeze(Object.defineProperty({
        __proto__: null,
        hasBrowserEnv: vb,
        hasStandardBrowserEnv: EK,
        hasStandardBrowserWebWorkerEnv: kK,
        navigator: Cy,
        origin: PK
    }, Symbol.toStringTag, {
        value: "Module"
    })),
    lr = {
        ..._K,
        ...SK
    };
function TK(t, s) {
    return mx(t, new lr.classes.URLSearchParams, Object.assign({
        visitor: function(r, n, a, i) {
            return lr.isNode && de.isBuffer(r) ? (this.append(n, r.toString("base64")), !1) : i.defaultVisitor.apply(this, arguments)
        }
    }, s))
}
function AK(t) {
    return de.matchAll(/\w+|\[(\w*)]/g, t).map(s => s[0] === "[]" ? "" : s[1] || s[0])
}
function MK(t) {
    const s = {},
        r = Object.keys(t);
    let n;
    const a = r.length;
    let i;
    for (n = 0; n < a; n++)
        i = r[n],
        s[i] = t[i];
    return s
}
function qM(t) {
    function s(r, n, a, i) {
        let o = r[i++];
        if (o === "__proto__")
            return !0;
        const l = Number.isFinite(+o),
            c = i >= r.length;
        return o = !o && de.isArray(a) ? a.length : o, c ? (de.hasOwnProp(a, o) ? a[o] = [a[o], n] : a[o] = n, !l) : ((!a[o] || !de.isObject(a[o])) && (a[o] = []), s(r, n, a[o], i) && de.isArray(a[o]) && (a[o] = MK(a[o])), !l)
    }
    if (de.isFormData(t) && de.isFunction(t.entries)) {
        const r = {};
        return de.forEachEntry(t, (n, a) => {
            s(AK(n), a, r, 0)
        }), r
    }
    return null
}
function IK(t, s, r) {
    if (de.isString(t))
        try {
            return (s || JSON.parse)(t), de.trim(t)
        } catch (n) {
            if (n.name !== "SyntaxError")
                throw n
        }
    return (0, JSON.stringify)(t)
}
const Rm = {
    transitional: UM,
    adapter: ["xhr", "http", "fetch"],
    transformRequest: [function(s, r) {
        const n = r.getContentType() || "",
            a = n.indexOf("application/json") > -1,
            i = de.isObject(s);
        if (i && de.isHTMLForm(s) && (s = new FormData(s)), de.isFormData(s))
            return a ? JSON.stringify(qM(s)) : s;
        if (de.isArrayBuffer(s) || de.isBuffer(s) || de.isStream(s) || de.isFile(s) || de.isBlob(s) || de.isReadableStream(s))
            return s;
        if (de.isArrayBufferView(s))
            return s.buffer;
        if (de.isURLSearchParams(s))
            return r.setContentType("application/x-www-form-urlencoded;charset=utf-8", !1), s.toString();
        let l;
        if (i) {
            if (n.indexOf("application/x-www-form-urlencoded") > -1)
                return TK(s, this.formSerializer).toString();
            if ((l = de.isFileList(s)) || n.indexOf("multipart/form-data") > -1) {
                const c = this.env && this.env.FormData;
                return mx(l ? {
                    "files[]": s
                } : s, c && new c, this.formSerializer)
            }
        }
        return i || a ? (r.setContentType("application/json", !1), IK(s)) : s
    }],
    transformResponse: [function(s) {
        const r = this.transitional || Rm.transitional,
            n = r && r.forcedJSONParsing,
            a = this.responseType === "json";
        if (de.isResponse(s) || de.isReadableStream(s))
            return s;
        if (s && de.isString(s) && (n && !this.responseType || a)) {
            const o = !(r && r.silentJSONParsing) && a;
            try {
                return JSON.parse(s)
            } catch (l) {
                if (o)
                    throw l.name === "SyntaxError" ? ht.from(l, ht.ERR_BAD_RESPONSE, this, null, this.response) : l
            }
        }
        return s
    }],
    timeout: 0,
    xsrfCookieName: "XSRF-TOKEN",
    xsrfHeaderName: "X-XSRF-TOKEN",
    maxContentLength: -1,
    maxBodyLength: -1,
    env: {
        FormData: lr.classes.FormData,
        Blob: lr.classes.Blob
    },
    validateStatus: function(s) {
        return s >= 200 && s < 300
    },
    headers: {
        common: {
            Accept: "application/json, text/plain, */*",
            "Content-Type": void 0
        }
    }
};
de.forEach(["delete", "get", "head", "post", "put", "patch"], t => {
    Rm.headers[t] = {}
});
const RK = de.toObjectSet(["age", "authorization", "content-length", "content-type", "etag", "expires", "from", "host", "if-modified-since", "if-unmodified-since", "last-modified", "location", "max-forwards", "proxy-authorization", "referer", "retry-after", "user-agent"]),
    DK = t => {
        const s = {};
        let r,
            n,
            a;
        return t && t.split(`
`
        ).forEach(function(o) {
            a = o.indexOf(":"),
            r = o.substring(0, a).trim().toLowerCase(),
            n = o.substring(a + 1).trim(),
            !(!r || s[r] && RK[r]) && (r === "set-cookie" ? s[r] ? s[r].push(n) : s[r] = [n] : s[r] = s[r] ? s[r] + ", " + n : n)
        }), s
    },
    X1 = Symbol("internals");
function kd(t) {
    return t && String(t).trim().toLowerCase()
}
function qh(t) {
    return t === !1 || t == null ? t : de.isArray(t) ? t.map(qh) : String(t)
}
function OK(t) {
    const s = Object.create(null),
        r = /([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;
    let n;
    for (; n = r.exec(t);)
        s[n[1]] = n[2];
    return s
}
const LK = t => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());
function Eg(t, s, r, n, a) {
    if (de.isFunction(n))
        return n.call(this, s, r);
    if (a && (s = r), !!de.isString(s)) {
        if (de.isString(n))
            return s.indexOf(n) !== -1;
        if (de.isRegExp(n))
            return n.test(s)
    }
}
function FK(t) {
    return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g, (s, r, n) => r.toUpperCase() + n)
}
function zK(t, s) {
    const r = de.toCamelCase(" " + s);
    ["get", "set", "has"].forEach(n => {
        Object.defineProperty(t, n + r, {
            value: function(a, i, o) {
                return this[n].call(this, s, a, i, o)
            },
            configurable: !0
        })
    })
}
class Kr {
    constructor(s)
    {
        s && this.set(s)
    }
    set(s, r, n)
    {
        const a = this;
        function i(l, c, d) {
            const u = kd(c);
            if (!u)
                throw new Error("header name must be a non-empty string");
            const m = de.findKey(a, u);
            (!m || a[m] === void 0 || d === !0 || d === void 0 && a[m] !== !1) && (a[m || c] = qh(l))
        }
        const o = (l, c) => de.forEach(l, (d, u) => i(d, u, c));
        if (de.isPlainObject(s) || s instanceof this.constructor)
            o(s, r);
        else if (de.isString(s) && (s = s.trim()) && !LK(s))
            o(DK(s), r);
        else if (de.isObject(s) && de.isIterable(s)) {
            let l = {},
                c,
                d;
            for (const u of s) {
                if (!de.isArray(u))
                    throw TypeError("Object iterator must return a key-value pair");
                l[d = u[0]] = (c = l[d]) ? de.isArray(c) ? [...c, u[1]] : [c, u[1]] : u[1]
            }
            o(l, r)
        } else
            s != null && i(r, s, n);
        return this
    }
    get(s, r)
    {
        if (s = kd(s), s) {
            const n = de.findKey(this, s);
            if (n) {
                const a = this[n];
                if (!r)
                    return a;
                if (r === !0)
                    return OK(a);
                if (de.isFunction(r))
                    return r.call(this, a, n);
                if (de.isRegExp(r))
                    return r.exec(a);
                throw new TypeError("parser must be boolean|regexp|function")
            }
        }
    }
    has(s, r)
    {
        if (s = kd(s), s) {
            const n = de.findKey(this, s);
            return !!(n && this[n] !== void 0 && (!r || Eg(this, this[n], n, r)))
        }
        return !1
    }
    delete(s, r)
    {
        const n = this;
        let a = !1;
        function i(o) {
            if (o = kd(o), o) {
                const l = de.findKey(n, o);
                l && (!r || Eg(n, n[l], l, r)) && (delete n[l], a = !0)
            }
        }
        return de.isArray(s) ? s.forEach(i) : i(s), a
    }
    clear(s)
    {
        const r = Object.keys(this);
        let n = r.length,
            a = !1;
        for (; n--;) {
            const i = r[n];
            (!s || Eg(this, this[i], i, s, !0)) && (delete this[i], a = !0)
        }
        return a
    }
    normalize(s)
    {
        const r = this,
            n = {};
        return de.forEach(this, (a, i) => {
            const o = de.findKey(n, i);
            if (o) {
                r[o] = qh(a),
                delete r[i];
                return
            }
            const l = s ? FK(i) : String(i).trim();
            l !== i && delete r[i],
            r[l] = qh(a),
            n[l] = !0
        }), this
    }
    concat(...s)
    {
        return this.constructor.concat(this, ...s)
    }
    toJSON(s)
    {
        const r = Object.create(null);
        return de.forEach(this, (n, a) => {
            n != null && n !== !1 && (r[a] = s && de.isArray(n) ? n.join(", ") : n)
        }), r
    }
    [Symbol.iterator]()
    {
        return Object.entries(this.toJSON())[Symbol.iterator]()
    }
    toString()
    {
        return Object.entries(this.toJSON()).map(([s, r]) => s + ": " + r).join(`
`
        )
    }
    getSetCookie()
    {
        return this.get("set-cookie") || []
    }
    get [Symbol.toStringTag]()
    {
        return "AxiosHeaders"
    }
    static from(s)
    {
        return s instanceof this ? s : new this(s)
    }
    static concat(s, ...r)
    {
        const n = new this(s);
        return r.forEach(a => n.set(a)), n
    }
    static accessor(s)
    {
        const n = (this[X1] = this[X1] = {
                accessors: {}
            }).accessors,
            a = this.prototype;
        function i(o) {
            const l = kd(o);
            n[l] || (zK(a, o), n[l] = !0)
        }
        return de.isArray(s) ? s.forEach(i) : i(s), this
    }
}
Kr.accessor(["Content-Type", "Content-Length", "Accept", "Accept-Encoding", "User-Agent", "Authorization"]);
de.reduceDescriptors(Kr.prototype, ({value: t}, s) => {
    let r = s[0].toUpperCase() + s.slice(1);
    return {
        get: () => t,
        set(n) {
            this[r] = n
        }
    }
});
de.freezeMethods(Kr);
function kg(t, s) {
    const r = this || Rm,
        n = s || r,
        a = Kr.from(n.headers);
    let i = n.data;
    return de.forEach(t, function(l) {
        i = l.call(r, i, a.normalize(), s ? s.status : void 0)
    }), a.normalize(), i
}
function BM(t) {
    return !!(t && t.__CANCEL__)
}
function od(t, s, r) {
    ht.call(this, t ?? "canceled", ht.ERR_CANCELED, s, r),
    this.name = "CanceledError"
}
de.inherits(od, ht, {
    __CANCEL__: !0
});
function HM(t, s, r) {
    const n = r.config.validateStatus;
    !r.status || !n || n(r.status) ? t(r) : s(new ht("Request failed with status code " + r.status, [ht.ERR_BAD_REQUEST, ht.ERR_BAD_RESPONSE][Math.floor(r.status / 100) - 4], r.config, r.request, r))
}
function $K(t) {
    const s = /^([-+\w]{1,25})(:?\/\/|:)/.exec(t);
    return s && s[1] || ""
}
function VK(t, s) {
    t = t || 10;
    const r = new Array(t),
        n = new Array(t);
    let a = 0,
        i = 0,
        o;
    return s = s !== void 0 ? s : 1e3, function(c) {
        const d = Date.now(),
            u = n[i];
        o || (o = d),
        r[a] = c,
        n[a] = d;
        let m = i,
            p = 0;
        for (; m !== a;)
            p += r[m++],
            m = m % t;
        if (a = (a + 1) % t, a === i && (i = (i + 1) % t), d - o < s)
            return;
        const j = u && d - u;
        return j ? Math.round(p * 1e3 / j) : void 0
    }
}
function UK(t, s) {
    let r = 0,
        n = 1e3 / s,
        a,
        i;
    const o = (d, u=Date.now()) => {
        r = u,
        a = null,
        i && (clearTimeout(i), i = null),
        t.apply(null, d)
    };
    return [(...d) => {
        const u = Date.now(),
            m = u - r;
        m >= n ? o(d, u) : (a = d, i || (i = setTimeout(() => {
            i = null,
            o(a)
        }, n - m)))
    }, () => a && o(a)]
}
const ef = (t, s, r=3) => {
        let n = 0;
        const a = VK(50, 250);
        return UK(i => {
            const o = i.loaded,
                l = i.lengthComputable ? i.total : void 0,
                c = o - n,
                d = a(c),
                u = o <= l;
            n = o;
            const m = {
                loaded: o,
                total: l,
                progress: l ? o / l : void 0,
                bytes: c,
                rate: d || void 0,
                estimated: d && l && u ? (l - o) / d : void 0,
                event: i,
                lengthComputable: l != null,
                [s ? "download" : "upload"]: !0
            };
            t(m)
        }, r)
    },
    J1 = (t, s) => {
        const r = t != null;
        return [n => s[0]({
            lengthComputable: r,
            total: t,
            loaded: n
        }), s[1]]
    },
    e2 = t => (...s) => de.asap(() => t(...s)),
    qK = lr.hasStandardBrowserEnv ? ((t, s) => r => (r = new URL(r, lr.origin), t.protocol === r.protocol && t.host === r.host && (s || t.port === r.port)))(new URL(lr.origin), lr.navigator && /(msie|trident)/i.test(lr.navigator.userAgent)) : () => !0,
    BK = lr.hasStandardBrowserEnv ? {
        write(t, s, r, n, a, i) {
            const o = [t + "=" + encodeURIComponent(s)];
            de.isNumber(r) && o.push("expires=" + new Date(r).toGMTString()),
            de.isString(n) && o.push("path=" + n),
            de.isString(a) && o.push("domain=" + a),
            i === !0 && o.push("secure"),
            document.cookie = o.join("; ")
        },
        read(t) {
            const s = document.cookie.match(new RegExp("(^|;\\s*)(" + t + ")=([^;]*)"));
            return s ? decodeURIComponent(s[3]) : null
        },
        remove(t) {
            this.write(t, "", Date.now() - 864e5)
        }
    } : {
        write() {},
        read() {
            return null
        },
        remove() {}
    };
function HK(t) {
    return /^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)
}
function WK(t, s) {
    return s ? t.replace(/\/?\/$/, "") + "/" + s.replace(/^\/+/, "") : t
}
function WM(t, s, r) {
    let n = !HK(s);
    return t && (n || r == !1) ? WK(t, s) : s
}
const t2 = t => t instanceof Kr ? {
    ...t
} : t;
function xl(t, s) {
    s = s || {};
    const r = {};
    function n(d, u, m, p) {
        return de.isPlainObject(d) && de.isPlainObject(u) ? de.merge.call({
            caseless: p
        }, d, u) : de.isPlainObject(u) ? de.merge({}, u) : de.isArray(u) ? u.slice() : u
    }
    function a(d, u, m, p) {
        if (de.isUndefined(u)) {
            if (!de.isUndefined(d))
                return n(void 0, d, m, p)
        } else
            return n(d, u, m, p)
    }
    function i(d, u) {
        if (!de.isUndefined(u))
            return n(void 0, u)
    }
    function o(d, u) {
        if (de.isUndefined(u)) {
            if (!de.isUndefined(d))
                return n(void 0, d)
        } else
            return n(void 0, u)
    }
    function l(d, u, m) {
        if (m in s)
            return n(d, u);
        if (m in t)
            return n(void 0, d)
    }
    const c = {
        url: i,
        method: i,
        data: i,
        baseURL: o,
        transformRequest: o,
        transformResponse: o,
        paramsSerializer: o,
        timeout: o,
        timeoutMessage: o,
        withCredentials: o,
        withXSRFToken: o,
        adapter: o,
        responseType: o,
        xsrfCookieName: o,
        xsrfHeaderName: o,
        onUploadProgress: o,
        onDownloadProgress: o,
        decompress: o,
        maxContentLength: o,
        maxBodyLength: o,
        beforeRedirect: o,
        transport: o,
        httpAgent: o,
        httpsAgent: o,
        cancelToken: o,
        socketPath: o,
        responseEncoding: o,
        validateStatus: l,
        headers: (d, u, m) => a(t2(d), t2(u), m, !0)
    };
    return de.forEach(Object.keys(Object.assign({}, t, s)), function(u) {
        const m = c[u] || a,
            p = m(t[u], s[u], u);
        de.isUndefined(p) && m !== l || (r[u] = p)
    }), r
}
const GM = t => {
        const s = xl({}, t);
        let {data: r, withXSRFToken: n, xsrfHeaderName: a, xsrfCookieName: i, headers: o, auth: l} = s;
        s.headers = o = Kr.from(o),
        s.url = VM(WM(s.baseURL, s.url, s.allowAbsoluteUrls), t.params, t.paramsSerializer),
        l && o.set("Authorization", "Basic " + btoa((l.username || "") + ":" + (l.password ? unescape(encodeURIComponent(l.password)) : "")));
        let c;
        if (de.isFormData(r)) {
            if (lr.hasStandardBrowserEnv || lr.hasStandardBrowserWebWorkerEnv)
                o.setContentType(void 0);
            else if ((c = o.getContentType()) !== !1) {
                const [d, ...u] = c ? c.split(";").map(m => m.trim()).filter(Boolean) : [];
                o.setContentType([d || "multipart/form-data", ...u].join("; "))
            }
        }
        if (lr.hasStandardBrowserEnv && (n && de.isFunction(n) && (n = n(s)), n || n !== !1 && qK(s.url))) {
            const d = a && i && BK.read(i);
            d && o.set(a, d)
        }
        return s
    },
    GK = typeof XMLHttpRequest < "u",
    KK = GK && function(t) {
        return new Promise(function(r, n) {
            const a = GM(t);
            let i = a.data;
            const o = Kr.from(a.headers).normalize();
            let {responseType: l, onUploadProgress: c, onDownloadProgress: d} = a,
                u,
                m,
                p,
                j,
                g;
            function x() {
                j && j(),
                g && g(),
                a.cancelToken && a.cancelToken.unsubscribe(u),
                a.signal && a.signal.removeEventListener("abort", u)
            }
            let y = new XMLHttpRequest;
            y.open(a.method.toUpperCase(), a.url, !0),
            y.timeout = a.timeout;
            function v() {
                if (!y)
                    return;
                const b = Kr.from("getAllResponseHeaders" in y && y.getAllResponseHeaders()),
                    w = {
                        data: !l || l === "text" || l === "json" ? y.responseText : y.response,
                        status: y.status,
                        statusText: y.statusText,
                        headers: b,
                        config: t,
                        request: y
                    };
                HM(function(E) {
                    r(E),
                    x()
                }, function(E) {
                    n(E),
                    x()
                }, w),
                y = null
            }
            "onloadend" in y ? y.onloadend = v : y.onreadystatechange = function() {
                !y || y.readyState !== 4 || y.status === 0 && !(y.responseURL && y.responseURL.indexOf("file:") === 0) || setTimeout(v)
            },
            y.onabort = function() {
                y && (n(new ht("Request aborted", ht.ECONNABORTED, t, y)), y = null)
            },
            y.onerror = function() {
                n(new ht("Network Error", ht.ERR_NETWORK, t, y)),
                y = null
            },
            y.ontimeout = function() {
                let N = a.timeout ? "timeout of " + a.timeout + "ms exceeded" : "timeout exceeded";
                const w = a.transitional || UM;
                a.timeoutErrorMessage && (N = a.timeoutErrorMessage),
                n(new ht(N, w.clarifyTimeoutError ? ht.ETIMEDOUT : ht.ECONNABORTED, t, y)),
                y = null
            },
            i === void 0 && o.setContentType(null),
            "setRequestHeader" in y && de.forEach(o.toJSON(), function(N, w) {
                y.setRequestHeader(w, N)
            }),
            de.isUndefined(a.withCredentials) || (y.withCredentials = !!a.withCredentials),
            l && l !== "json" && (y.responseType = a.responseType),
            d && ([p, g] = ef(d, !0), y.addEventListener("progress", p)),
            c && y.upload && ([m, j] = ef(c), y.upload.addEventListener("progress", m), y.upload.addEventListener("loadend", j)),
            (a.cancelToken || a.signal) && (u = b => {
                y && (n(!b || b.type ? new od(null, t, y) : b), y.abort(), y = null)
            }, a.cancelToken && a.cancelToken.subscribe(u), a.signal && (a.signal.aborted ? u() : a.signal.addEventListener("abort", u)));
            const f = $K(a.url);
            if (f && lr.protocols.indexOf(f) === -1) {
                n(new ht("Unsupported protocol " + f + ":", ht.ERR_BAD_REQUEST, t));
                return
            }
            y.send(i || null)
        })
    },
    YK = (t, s) => {
        const {length: r} = t = t ? t.filter(Boolean) : [];
        if (s || r) {
            let n = new AbortController,
                a;
            const i = function(d) {
                if (!a) {
                    a = !0,
                    l();
                    const u = d instanceof Error ? d : this.reason;
                    n.abort(u instanceof ht ? u : new od(u instanceof Error ? u.message : u))
                }
            };
            let o = s && setTimeout(() => {
                o = null,
                i(new ht(`timeout ${s} of ms exceeded`, ht.ETIMEDOUT))
            }, s);
            const l = () => {
                t && (o && clearTimeout(o), o = null, t.forEach(d => {
                    d.unsubscribe ? d.unsubscribe(i) : d.removeEventListener("abort", i)
                }), t = null)
            };
            t.forEach(d => d.addEventListener("abort", i));
            const {signal: c} = n;
            return c.unsubscribe = () => de.asap(l), c
        }
    },
    QK = function* (t, s) {
        let r = t.byteLength;
        if (r < s) {
            yield t;
            return
        }
        let n = 0,
            a;
        for (; n < r;)
            a = n + s,
            yield t.slice(n, a),
            n = a
    },
    ZK = async function* (t, s) {
        for await (const r of XK(t))
            yield *QK(r, s)
    },
    XK = async function* (t) {
        if (t[Symbol.asyncIterator]) {
            yield *t;
            return
        }
        const s = t.getReader();
        try {
            for (;;) {
                const {done: r, value: n} = await s.read();
                if (r)
                    break;
                yield n
            }
        } finally {
            await s.cancel()
        }
    },
    s2 = (t, s, r, n) => {
        const a = ZK(t, s);
        let i = 0,
            o,
            l = c => {
                o || (o = !0, n && n(c))
            };
        return new ReadableStream({
            async pull(c) {
                try {
                    const {done: d, value: u} = await a.next();
                    if (d) {
                        l(),
                        c.close();
                        return
                    }
                    let m = u.byteLength;
                    if (r) {
                        let p = i += m;
                        r(p)
                    }
                    c.enqueue(new Uint8Array(u))
                } catch (d) {
                    throw l(d), d
                }
            },
            cancel(c) {
                return l(c), a.return()
            }
        }, {
            highWaterMark: 2
        })
    },
    hx = typeof fetch == "function" && typeof Request == "function" && typeof Response == "function",
    KM = hx && typeof ReadableStream == "function",
    JK = hx && (typeof TextEncoder == "function" ? (t => s => t.encode(s))(new TextEncoder) : async t => new Uint8Array(await new Response(t).arrayBuffer())),
    YM = (t, ...s) => {
        try {
            return !!t(...s)
        } catch {
            return !1
        }
    },
    eY = KM && YM(() => {
        let t = !1;
        const s = new Request(lr.origin, {
            body: new ReadableStream,
            method: "POST",
            get duplex() {
                return t = !0, "half"
            }
        }).headers.has("Content-Type");
        return t && !s
    }),
    r2 = 64 * 1024,
    Sy = KM && YM(() => de.isReadableStream(new Response("").body)),
    tf = {
        stream: Sy && (t => t.body)
    };
hx && (t => {
    ["text", "arrayBuffer", "blob", "formData", "stream"].forEach(s => {
        !tf[s] && (tf[s] = de.isFunction(t[s]) ? r => r[s]() : (r, n) => {
            throw new ht(`Response type '${s}' is not supported`, ht.ERR_NOT_SUPPORT, n)
        })
    })
})(new Response);
const tY = async t => {
        if (t == null)
            return 0;
        if (de.isBlob(t))
            return t.size;
        if (de.isSpecCompliantForm(t))
            return (await new Request(lr.origin, {
                method: "POST",
                body: t
            }).arrayBuffer()).byteLength;
        if (de.isArrayBufferView(t) || de.isArrayBuffer(t))
            return t.byteLength;
        if (de.isURLSearchParams(t) && (t = t + ""), de.isString(t))
            return (await JK(t)).byteLength
    },
    sY = async (t, s) => {
        const r = de.toFiniteNumber(t.getContentLength());
        return r ?? tY(s)
    },
    rY = hx && (async t => {
        let {url: s, method: r, data: n, signal: a, cancelToken: i, timeout: o, onDownloadProgress: l, onUploadProgress: c, responseType: d, headers: u, withCredentials: m="same-origin", fetchOptions: p} = GM(t);
        d = d ? (d + "").toLowerCase() : "text";
        let j = YK([a, i && i.toAbortSignal()], o),
            g;
        const x = j && j.unsubscribe && (() => {
            j.unsubscribe()
        });
        let y;
        try {
            if (c && eY && r !== "get" && r !== "head" && (y = await sY(u, n)) !== 0) {
                let w = new Request(s, {
                        method: "POST",
                        body: n,
                        duplex: "half"
                    }),
                    C;
                if (de.isFormData(n) && (C = w.headers.get("content-type")) && u.setContentType(C), w.body) {
                    const [E, k] = J1(y, ef(e2(c)));
                    n = s2(w.body, r2, E, k)
                }
            }
            de.isString(m) || (m = m ? "include" : "omit");
            const v = "credentials" in Request.prototype;
            g = new Request(s, {
                ...p,
                signal: j,
                method: r.toUpperCase(),
                headers: u.normalize().toJSON(),
                body: n,
                duplex: "half",
                credentials: v ? m : void 0
            });
            let f = await fetch(g);
            const b = Sy && (d === "stream" || d === "response");
            if (Sy && (l || b && x)) {
                const w = {};
                ["status", "statusText", "headers"].forEach(R => {
                    w[R] = f[R]
                });
                const C = de.toFiniteNumber(f.headers.get("content-length")),
                    [E, k] = l && J1(C, ef(e2(l), !0)) || [];
                f = new Response(s2(f.body, r2, E, () => {
                    k && k(),
                    x && x()
                }), w)
            }
            d = d || "text";
            let N = await tf[de.findKey(tf, d) || "text"](f, t);
            return !b && x && x(), await new Promise((w, C) => {
                HM(w, C, {
                    data: N,
                    headers: Kr.from(f.headers),
                    status: f.status,
                    statusText: f.statusText,
                    config: t,
                    request: g
                })
            })
        } catch (v) {
            throw x && x(), v && v.name === "TypeError" && /Load failed|fetch/i.test(v.message) ? Object.assign(new ht("Network Error", ht.ERR_NETWORK, t, g), {
                cause: v.cause || v
            }) : ht.from(v, v && v.code, t, g)
        }
    }),
    Ey = {
        http: vK,
        xhr: KK,
        fetch: rY
    };
de.forEach(Ey, (t, s) => {
    if (t) {
        try {
            Object.defineProperty(t, "name", {
                value: s
            })
        } catch {}
        Object.defineProperty(t, "adapterName", {
            value: s
        })
    }
});
const n2 = t => `- ${t}`,
    nY = t => de.isFunction(t) || t === null || t === !1,
    QM = {
        getAdapter: t => {
            t = de.isArray(t) ? t : [t];
            const {length: s} = t;
            let r,
                n;
            const a = {};
            for (let i = 0; i < s; i++) {
                r = t[i];
                let o;
                if (n = r, !nY(r) && (n = Ey[(o = String(r)).toLowerCase()], n === void 0))
                    throw new ht(`Unknown adapter '${o}'`);
                if (n)
                    break;
                a[o || "#" + i] = n
            }
            if (!n) {
                const i = Object.entries(a).map(([l, c]) => `adapter ${l} ` + (c === !1 ? "is not supported by the environment" : "is not available in the build"));
                let o = s ? i.length > 1 ? `since :
`
                + i.map(n2).join(`
`
                ) : " " + n2(i[0]) : "as no adapter specified";
                throw new ht("There is no suitable adapter to dispatch the request " + o, "ERR_NOT_SUPPORT")
            }
            return n
        },
        adapters: Ey
    };
function Pg(t) {
    if (t.cancelToken && t.cancelToken.throwIfRequested(), t.signal && t.signal.aborted)
        throw new od(null, t)
}
function a2(t) {
    return Pg(t), t.headers = Kr.from(t.headers), t.data = kg.call(t, t.transformRequest), ["post", "put", "patch"].indexOf(t.method) !== -1 && t.headers.setContentType("application/x-www-form-urlencoded", !1), QM.getAdapter(t.adapter || Rm.adapter)(t).then(function(n) {
        return Pg(t), n.data = kg.call(t, t.transformResponse, n), n.headers = Kr.from(n.headers), n
    }, function(n) {
        return BM(n) || (Pg(t), n && n.response && (n.response.data = kg.call(t, t.transformResponse, n.response), n.response.headers = Kr.from(n.response.headers))), Promise.reject(n)
    })
}
const ZM = "1.9.0",
    px = {};
["object", "boolean", "number", "function", "string", "symbol"].forEach((t, s) => {
    px[t] = function(n) {
        return typeof n === t || "a" + (s < 1 ? "n " : " ") + t
    }
});
const i2 = {};
px.transitional = function(s, r, n) {
    function a(i, o) {
        return "[Axios v" + ZM + "] Transitional option '" + i + "'" + o + (n ? ". " + n : "")
    }
    return (i, o, l) => {
        if (s === !1)
            throw new ht(a(o, " has been removed" + (r ? " in " + r : "")), ht.ERR_DEPRECATED);
        return r && !i2[o] && (i2[o] = !0, console.warn(a(o, " has been deprecated since v" + r + " and will be removed in the near future"))), s ? s(i, o, l) : !0
    }
};
px.spelling = function(s) {
    return (r, n) => (console.warn(`${n} is likely a misspelling of ${s}`), !0)
};
function aY(t, s, r) {
    if (typeof t != "object")
        throw new ht("options must be an object", ht.ERR_BAD_OPTION_VALUE);
    const n = Object.keys(t);
    let a = n.length;
    for (; a-- > 0;) {
        const i = n[a],
            o = s[i];
        if (o) {
            const l = t[i],
                c = l === void 0 || o(l, i, t);
            if (c !== !0)
                throw new ht("option " + i + " must be " + c, ht.ERR_BAD_OPTION_VALUE);
            continue
        }
        if (r !== !0)
            throw new ht("Unknown option " + i, ht.ERR_BAD_OPTION)
    }
}
const Bh = {
        assertOptions: aY,
        validators: px
    },
    la = Bh.validators;
class Zo {
    constructor(s)
    {
        this.defaults = s || {},
        this.interceptors = {
            request: new Z1,
            response: new Z1
        }
    }
    async request(s, r)
    {
        try {
            return await this._request(s, r)
        } catch (n) {
            if (n instanceof Error) {
                let a = {};
                Error.captureStackTrace ? Error.captureStackTrace(a) : a = new Error;
                const i = a.stack ? a.stack.replace(/^.+\n/, "") : "";
                try {
                    n.stack ? i && !String(n.stack).endsWith(i.replace(/^.+\n.+\n/, "")) && (n.stack += `
`
                    + i) : n.stack = i
                } catch {}
            }
            throw n
        }
    }
    _request(s, r)
    {
        typeof s == "string" ? (r = r || {}, r.url = s) : r = s || {},
        r = xl(this.defaults, r);
        const {transitional: n, paramsSerializer: a, headers: i} = r;
        n !== void 0 && Bh.assertOptions(n, {
            silentJSONParsing: la.transitional(la.boolean),
            forcedJSONParsing: la.transitional(la.boolean),
            clarifyTimeoutError: la.transitional(la.boolean)
        }, !1),
        a != null && (de.isFunction(a) ? r.paramsSerializer = {
            serialize: a
        } : Bh.assertOptions(a, {
            encode: la.function,
            serialize: la.function
        }, !0)),
        r.allowAbsoluteUrls !== void 0 || (this.defaults.allowAbsoluteUrls !== void 0 ? r.allowAbsoluteUrls = this.defaults.allowAbsoluteUrls : r.allowAbsoluteUrls = !0),
        Bh.assertOptions(r, {
            baseUrl: la.spelling("baseURL"),
            withXsrfToken: la.spelling("withXSRFToken")
        }, !0),
        r.method = (r.method || this.defaults.method || "get").toLowerCase();
        let o = i && de.merge(i.common, i[r.method]);
        i && de.forEach(["delete", "get", "head", "post", "put", "patch", "common"], g => {
            delete i[g]
        }),
        r.headers = Kr.concat(o, i);
        const l = [];
        let c = !0;
        this.interceptors.request.forEach(function(x) {
            typeof x.runWhen == "function" && x.runWhen(r) === !1 || (c = c && x.synchronous, l.unshift(x.fulfilled, x.rejected))
        });
        const d = [];
        this.interceptors.response.forEach(function(x) {
            d.push(x.fulfilled, x.rejected)
        });
        let u,
            m = 0,
            p;
        if (!c) {
            const g = [a2.bind(this), void 0];
            for (g.unshift.apply(g, l), g.push.apply(g, d), p = g.length, u = Promise.resolve(r); m < p;)
                u = u.then(g[m++], g[m++]);
            return u
        }
        p = l.length;
        let j = r;
        for (m = 0; m < p;) {
            const g = l[m++],
                x = l[m++];
            try {
                j = g(j)
            } catch (y) {
                x.call(this, y);
                break
            }
        }
        try {
            u = a2.call(this, j)
        } catch (g) {
            return Promise.reject(g)
        }
        for (m = 0, p = d.length; m < p;)
            u = u.then(d[m++], d[m++]);
        return u
    }
    getUri(s)
    {
        s = xl(this.defaults, s);
        const r = WM(s.baseURL, s.url, s.allowAbsoluteUrls);
        return VM(r, s.params, s.paramsSerializer)
    }
}
de.forEach(["delete", "get", "head", "options"], function(s) {
    Zo.prototype[s] = function(r, n) {
        return this.request(xl(n || {}, {
            method: s,
            url: r,
            data: (n || {}).data
        }))
    }
});
de.forEach(["post", "put", "patch"], function(s) {
    function r(n) {
        return function(i, o, l) {
            return this.request(xl(l || {}, {
                method: s,
                headers: n ? {
                    "Content-Type": "multipart/form-data"
                } : {},
                url: i,
                data: o
            }))
        }
    }
    Zo.prototype[s] = r(),
    Zo.prototype[s + "Form"] = r(!0)
});
class yb {
    constructor(s)
    {
        if (typeof s != "function")
            throw new TypeError("executor must be a function.");
        let r;
        this.promise = new Promise(function(i) {
            r = i
        });
        const n = this;
        this.promise.then(a => {
            if (!n._listeners)
                return;
            let i = n._listeners.length;
            for (; i-- > 0;)
                n._listeners[i](a);
            n._listeners = null
        }),
        this.promise.then = a => {
            let i;
            const o = new Promise(l => {
                n.subscribe(l),
                i = l
            }).then(a);
            return o.cancel = function() {
                n.unsubscribe(i)
            }, o
        },
        s(function(i, o, l) {
            n.reason || (n.reason = new od(i, o, l), r(n.reason))
        })
    }
    throwIfRequested()
    {
        if (this.reason)
            throw this.reason
    }
    subscribe(s)
    {
        if (this.reason) {
            s(this.reason);
            return
        }
        this._listeners ? this._listeners.push(s) : this._listeners = [s]
    }
    unsubscribe(s)
    {
        if (!this._listeners)
            return;
        const r = this._listeners.indexOf(s);
        r !== -1 && this._listeners.splice(r, 1)
    }
    toAbortSignal()
    {
        const s = new AbortController,
            r = n => {
                s.abort(n)
            };
        return this.subscribe(r), s.signal.unsubscribe = () => this.unsubscribe(r), s.signal
    }
    static source()
    {
        let s;
        return {
            token: new yb(function(a) {
                s = a
            }),
            cancel: s
        }
    }
}
function iY(t) {
    return function(r) {
        return t.apply(null, r)
    }
}
function oY(t) {
    return de.isObject(t) && t.isAxiosError === !0
}
const ky = {
    Continue: 100,
    SwitchingProtocols: 101,
    Processing: 102,
    EarlyHints: 103,
    Ok: 200,
    Created: 201,
    Accepted: 202,
    NonAuthoritativeInformation: 203,
    NoContent: 204,
    ResetContent: 205,
    PartialContent: 206,
    MultiStatus: 207,
    AlreadyReported: 208,
    ImUsed: 226,
    MultipleChoices: 300,
    MovedPermanently: 301,
    Found: 302,
    SeeOther: 303,
    NotModified: 304,
    UseProxy: 305,
    Unused: 306,
    TemporaryRedirect: 307,
    PermanentRedirect: 308,
    BadRequest: 400,
    Unauthorized: 401,
    PaymentRequired: 402,
    Forbidden: 403,
    NotFound: 404,
    MethodNotAllowed: 405,
    NotAcceptable: 406,
    ProxyAuthenticationRequired: 407,
    RequestTimeout: 408,
    Conflict: 409,
    Gone: 410,
    LengthRequired: 411,
    PreconditionFailed: 412,
    PayloadTooLarge: 413,
    UriTooLong: 414,
    UnsupportedMediaType: 415,
    RangeNotSatisfiable: 416,
    ExpectationFailed: 417,
    ImATeapot: 418,
    MisdirectedRequest: 421,
    UnprocessableEntity: 422,
    Locked: 423,
    FailedDependency: 424,
    TooEarly: 425,
    UpgradeRequired: 426,
    PreconditionRequired: 428,
    TooManyRequests: 429,
    RequestHeaderFieldsTooLarge: 431,
    UnavailableForLegalReasons: 451,
    InternalServerError: 500,
    NotImplemented: 501,
    BadGateway: 502,
    ServiceUnavailable: 503,
    GatewayTimeout: 504,
    HttpVersionNotSupported: 505,
    VariantAlsoNegotiates: 506,
    InsufficientStorage: 507,
    LoopDetected: 508,
    NotExtended: 510,
    NetworkAuthenticationRequired: 511
};
Object.entries(ky).forEach(([t, s]) => {
    ky[s] = t
});
function XM(t) {
    const s = new Zo(t),
        r = _M(Zo.prototype.request, s);
    return de.extend(r, Zo.prototype, s, {
        allOwnKeys: !0
    }), de.extend(r, s, null, {
        allOwnKeys: !0
    }), r.create = function(a) {
        return XM(xl(t, a))
    }, r
}
const Ns = XM(Rm);
Ns.Axios = Zo;
Ns.CanceledError = od;
Ns.CancelToken = yb;
Ns.isCancel = BM;
Ns.VERSION = ZM;
Ns.toFormData = mx;
Ns.AxiosError = ht;
Ns.Cancel = Ns.CanceledError;
Ns.all = function(s) {
    return Promise.all(s)
};
Ns.spread = iY;
Ns.isAxiosError = oY;
Ns.mergeConfig = xl;
Ns.AxiosHeaders = Kr;
Ns.formToJSON = t => qM(de.isHTMLForm(t) ? new FormData(t) : t);
Ns.getAdapter = QM.getAdapter;
Ns.HttpStatusCode = ky;
Ns.default = Ns;
function o2() {
    const {toast: t} = st(),
        [s, r] = h.useState(!1),
        [n, a] = h.useState(null),
        [i, o] = h.useState(null),
        [l, c] = h.useState("vehicle-search"),
        [d, u] = h.useState({
            codVersion: "01060072",
            puertas: "3",
            anyoInicio: "1994",
            anyoFin: "1999",
            rvCode: "4394G"
        }),
        [m, p] = h.useState(""),
        j = b => {
            const {name: N, value: w} = b.target;
            u(C => ({
                ...C,
                [N]: w
            }))
        },
        g = b => {
            p(b.target.value)
        },
        x = async b => {
            b.preventDefault(),
            r(!0),
            a(null);
            try {
                const N = {
                    codVersion: d.codVersion || void 0,
                    puertas: d.puertas ? parseInt(d.puertas) : void 0,
                    anyoInicio: d.anyoInicio ? parseInt(d.anyoInicio) : void 0,
                    anyoFin: d.anyoFin ? parseInt(d.anyoFin) : void 0,
                    rvCode: d.rvCode || void 0
                };
                console.log("Enviando payload:", N);
                const w = await Ns.post("/api/test/vehicle-matching", N);
                a(w.data),
                w.data.success ? t({
                    title: "¡Éxito!",
                    description: "Se encontró un vehículo coincidente.",
                    variant: "default"
                }) : t({
                    title: "No se encontraron coincidencias",
                    description: "No se encontró ningún vehículo con los criterios especificados.",
                    variant: "destructive"
                })
            } catch (N) {
                console.error("Error al realizar la prueba:", N),
                t({
                    title: "Error",
                    description: "Ocurrió un error al realizar la prueba de matching.",
                    variant: "destructive"
                })
            } finally {
                r(!1)
            }
        },
        y = () => {
            u({
                codVersion: "Stella",
                puertas: "3",
                anyoInicio: "1999",
                anyoFin: "1999",
                rvCode: ""
            }),
            t({
                title: "Datos cargados",
                description: "Se han cargado los datos de prueba para búsqueda.",
                variant: "default"
            })
        },
        v = async b => {
            if (b.preventDefault(), r(!0), o(null), !m || isNaN(parseInt(m))) {
                t({
                    title: "Error de validación",
                    description: "Por favor, ingresa un ID de pieza válido",
                    variant: "destructive"
                }),
                r(!1);
                return
            }
            try {
                const N = {
                    partId: parseInt(m)
                };
                console.log("Enviando part ID:", N);
                const w = await Ns.post("/api/test/part-vehicle-matching", N);
                o(w.data),
                w.data.success ? t({
                    title: "¡Éxito!",
                    description: `Se encontraron ${w.data.count} vehículos compatibles con la pieza.`,
                    variant: "default"
                }) : t({
                    title: "No se encontraron coincidencias",
                    description: w.data.message || "No se encontraron vehículos compatibles con esta pieza.",
                    variant: "destructive"
                })
            } catch (N) {
                console.error("Error al realizar la prueba:", N),
                t({
                    title: "Error",
                    description: "Ocurrió un error al realizar el matching de pieza con vehículos.",
                    variant: "destructive"
                })
            } finally {
                r(!1)
            }
        },
        f = () => {
            setTimeout(() => {
                l === "vehicle-search" && x({
                    preventDefault: () => {}
                })
            }, 500)
        };
    return h.useEffect(() => {
        f()
    }, []), e.jsxs("div", {
        className: "container mx-auto py-8",
        children: [e.jsx("h1", {
            className: "text-3xl font-bold mb-4",
            children: "Prueba de Matching de Vehículos"
        }), e.jsxs("div", {
            className: "bg-blue-50 p-4 rounded-lg mb-6 border border-blue-200",
            children: [e.jsx("h2", {
                className: "text-xl font-semibold text-blue-800 mb-2",
                children: "¡Algoritmo de matching simplificado!"
            }), e.jsx("p", {
                className: "mb-2 text-gray-700",
                children: "Hemos actualizado el algoritmo de matching para enfocarse solo en los campos esenciales:"
            }), e.jsxs("ul", {
                className: "list-disc pl-5 text-gray-700 mb-2",
                children: [e.jsx("li", {
                    children: "Búsqueda por código de referencia único (rvCode)"
                }), e.jsx("li", {
                    children: "Búsqueda por versión del vehículo (codVersion)"
                }), e.jsx("li", {
                    children: "Filtrado por rango de años (anyoInicio - anyoFin)"
                }), e.jsx("li", {
                    children: "Filtrado por número de puertas"
                })]
            }), e.jsx("p", {
                className: "text-gray-700",
                children: "Puedes usar cualquier combinación de estos campos para encontrar vehículos compatibles."
            })]
        }), e.jsxs(ls, {
            defaultValue: "vehicle-search",
            className: "mb-6",
            onValueChange: c,
            value: l,
            children: [e.jsxs(es, {
                className: "grid w-full grid-cols-2",
                children: [e.jsx(Ue, {
                    value: "vehicle-search",
                    children: "Búsqueda de Vehículos"
                }), e.jsx(Ue, {
                    value: "part-matching",
                    children: "Matching de Piezas"
                })]
            }), e.jsx($e, {
                value: "vehicle-search",
                children: e.jsxs("div", {
                    className: "border-t pt-4",
                    children: [e.jsx("p", {
                        className: "mb-6 text-gray-600",
                        children: "Esta opción te permite probar la búsqueda de vehículos compatible con los criterios especificados. Rellena solo los campos que necesites para la búsqueda."
                    }), e.jsxs("div", {
                        className: "grid grid-cols-1 md:grid-cols-2 gap-6",
                        children: [e.jsxs(U, {
                            children: [e.jsxs(ne, {
                                children: [e.jsx(ae, {
                                    children: "Datos de prueba"
                                }), e.jsx(qt, {
                                    children: "Introduce los criterios de búsqueda deseados para encontrar un vehículo coincidente"
                                })]
                            }), e.jsx(q, {
                                children: e.jsxs("form", {
                                    onSubmit: x,
                                    className: "space-y-4",
                                    children: [e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            htmlFor: "codVersion",
                                            children: "Código Versión"
                                        }), e.jsx(te, {
                                            id: "codVersion",
                                            name: "codVersion",
                                            value: d.codVersion,
                                            onChange: j,
                                            placeholder: "Ejemplo: 01060072"
                                        })]
                                    }), e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            htmlFor: "puertas",
                                            children: "Número de Puertas"
                                        }), e.jsx(te, {
                                            id: "puertas",
                                            name: "puertas",
                                            type: "number",
                                            value: d.puertas,
                                            onChange: j,
                                            placeholder: "Ejemplo: 3"
                                        })]
                                    }), e.jsxs("div", {
                                        className: "grid grid-cols-2 gap-4",
                                        children: [e.jsxs("div", {
                                            className: "space-y-2",
                                            children: [e.jsx(V, {
                                                htmlFor: "anyoInicio",
                                                children: "Año Inicio"
                                            }), e.jsx(te, {
                                                id: "anyoInicio",
                                                name: "anyoInicio",
                                                type: "number",
                                                value: d.anyoInicio,
                                                onChange: j,
                                                placeholder: "Ejemplo: 1994"
                                            })]
                                        }), e.jsxs("div", {
                                            className: "space-y-2",
                                            children: [e.jsx(V, {
                                                htmlFor: "anyoFin",
                                                children: "Año Fin"
                                            }), e.jsx(te, {
                                                id: "anyoFin",
                                                name: "anyoFin",
                                                type: "number",
                                                value: d.anyoFin,
                                                onChange: j,
                                                placeholder: "Ejemplo: 1999"
                                            })]
                                        })]
                                    }), e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            htmlFor: "rvCode",
                                            children: "Código RV"
                                        }), e.jsx(te, {
                                            id: "rvCode",
                                            name: "rvCode",
                                            value: d.rvCode,
                                            onChange: j,
                                            placeholder: "Ejemplo: 4394G"
                                        })]
                                    })]
                                })
                            }), e.jsxs(_a, {
                                className: "flex justify-between",
                                children: [e.jsx(T, {
                                    variant: "outline",
                                    onClick: y,
                                    children: "Cargar ejemplo"
                                }), e.jsx(T, {
                                    onClick: x,
                                    disabled: s,
                                    children: s ? "Buscando..." : "Probar matching"
                                })]
                            })]
                        }), e.jsxs(U, {
                            children: [e.jsxs(ne, {
                                children: [e.jsx(ae, {
                                    children: "Resultado"
                                }), e.jsx(qt, {
                                    children: "Aquí se mostrará el resultado de la búsqueda"
                                })]
                            }), e.jsx(q, {
                                children: n ? e.jsxs("div", {
                                    className: "space-y-4",
                                    children: [e.jsxs("div", {
                                        className: "p-4 rounded-md bg-gray-50",
                                        children: [e.jsx("p", {
                                            className: "font-semibold",
                                            children: n.success ? e.jsx("span", {
                                                className: "text-green-600",
                                                children: "✓ Vehículo encontrado"
                                            }) : e.jsx("span", {
                                                className: "text-red-600",
                                                children: "✗ No se encontró ningún vehículo"
                                            })
                                        }), n.success && n.matchedVehicle && e.jsxs("div", {
                                            className: "mt-4 space-y-2",
                                            children: [e.jsxs("p", {
                                                children: [e.jsx("span", {
                                                    className: "font-semibold",
                                                    children: "ID:"
                                                }), " ", n.matchedVehicle.id]
                                            }), e.jsxs("p", {
                                                children: [e.jsx("span", {
                                                    className: "font-semibold",
                                                    children: "Marca:"
                                                }), " ", n.matchedVehicle.marca]
                                            }), e.jsxs("p", {
                                                children: [e.jsx("span", {
                                                    className: "font-semibold",
                                                    children: "Modelo:"
                                                }), " ", n.matchedVehicle.modelo]
                                            }), e.jsxs("p", {
                                                children: [e.jsx("span", {
                                                    className: "font-semibold",
                                                    children: "Versión:"
                                                }), " ", n.matchedVehicle.version]
                                            }), e.jsxs("p", {
                                                children: [e.jsx("span", {
                                                    className: "font-semibold",
                                                    children: "Año:"
                                                }), " ", n.matchedVehicle.anyo]
                                            }), n.totalMatches > 1 && e.jsxs("p", {
                                                className: "text-blue-600",
                                                children: [e.jsx("span", {
                                                    className: "font-semibold",
                                                    children: "Nota:"
                                                }), " Se encontraron ", n.totalMatches, " vehículos que coinciden. Se muestra el primero."]
                                            })]
                                        }), !n.success && e.jsx("p", {
                                            className: "mt-2",
                                            children: "No se encontró ningún vehículo que coincida con los criterios proporcionados."
                                        })]
                                    }), e.jsxs("div", {
                                        children: [e.jsx("p", {
                                            className: "text-sm font-semibold mb-1",
                                            children: "Datos de respuesta completos:"
                                        }), e.jsx("pre", {
                                            className: "p-2 bg-gray-100 rounded-md overflow-auto text-xs",
                                            children: JSON.stringify(n, null, 2)
                                        })]
                                    })]
                                }) : e.jsx("div", {
                                    className: "flex justify-center items-center h-48 text-gray-400",
                                    children: "Aquí se mostrarán los resultados del matching"
                                })
                            })]
                        })]
                    })]
                })
            }), e.jsx($e, {
                value: "part-matching",
                children: e.jsxs("div", {
                    className: "border-t pt-4",
                    children: [e.jsx("p", {
                        className: "mb-6 text-gray-600",
                        children: "Esta opción te permite probar la funcionalidad de matching entre piezas y vehículos. Introduce el ID de una pieza para encontrar todos los vehículos compatibles."
                    }), e.jsxs("div", {
                        className: "grid grid-cols-1 md:grid-cols-2 gap-6",
                        children: [e.jsxs(U, {
                            children: [e.jsxs(ne, {
                                children: [e.jsx(ae, {
                                    children: "Matching de Pieza"
                                }), e.jsx(qt, {
                                    children: "Introduce el ID de una pieza para encontrar vehículos compatibles"
                                })]
                            }), e.jsx(q, {
                                children: e.jsx("form", {
                                    onSubmit: v,
                                    className: "space-y-4",
                                    children: e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            htmlFor: "partId",
                                            children: "ID de Pieza"
                                        }), e.jsx(te, {
                                            id: "partId",
                                            name: "partId",
                                            type: "number",
                                            value: m,
                                            onChange: g,
                                            placeholder: "Ejemplo: 1234"
                                        }), e.jsx("p", {
                                            className: "text-sm text-gray-500",
                                            children: "El sistema buscará vehículos compatibles basados en los campos de matching de la pieza (codVersion, puertas, anyoInicio, anyoFin, rvCode)."
                                        })]
                                    })
                                })
                            }), e.jsx(_a, {
                                className: "flex justify-end",
                                children: e.jsx(T, {
                                    onClick: v,
                                    disabled: s,
                                    children: s ? "Buscando..." : "Buscar vehículos compatibles"
                                })
                            })]
                        }), e.jsxs(U, {
                            children: [e.jsxs(ne, {
                                children: [e.jsx(ae, {
                                    children: "Vehículos Compatibles"
                                }), e.jsx(qt, {
                                    children: "Aquí se mostrarán los vehículos compatibles con la pieza"
                                })]
                            }), e.jsx(q, {
                                children: i ? e.jsxs("div", {
                                    className: "space-y-4",
                                    children: [e.jsxs("div", {
                                        className: "p-4 rounded-md bg-gray-50",
                                        children: [e.jsx("p", {
                                            className: "font-semibold",
                                            children: i.success ? e.jsxs("span", {
                                                className: "text-green-600",
                                                children: ["✓ Se encontraron ", i.count, " vehículos compatibles"]
                                            }) : e.jsx("span", {
                                                className: "text-red-600",
                                                children: "✗ No se encontraron vehículos compatibles"
                                            })
                                        }), i.success && i.data && i.data.length > 0 && e.jsxs("div", {
                                            className: "mt-4",
                                            children: [e.jsx("p", {
                                                className: "font-semibold mb-2",
                                                children: "Vehículos compatibles:"
                                            }), e.jsx("div", {
                                                className: "max-h-64 overflow-y-auto",
                                                children: i.data.map((b, N) => e.jsxs("div", {
                                                    className: "mb-4 p-3 bg-white rounded border border-gray-200",
                                                    children: [e.jsxs("p", {
                                                        className: "text-sm text-gray-500",
                                                        children: ["Vehículo #", N + 1]
                                                    }), e.jsxs("p", {
                                                        children: [e.jsx("span", {
                                                            className: "font-semibold",
                                                            children: "ID:"
                                                        }), " ", b.id]
                                                    }), e.jsxs("p", {
                                                        children: [e.jsx("span", {
                                                            className: "font-semibold",
                                                            children: "Marca:"
                                                        }), " ", b.marca]
                                                    }), e.jsxs("p", {
                                                        children: [e.jsx("span", {
                                                            className: "font-semibold",
                                                            children: "Modelo:"
                                                        }), " ", b.modelo]
                                                    }), e.jsxs("p", {
                                                        children: [e.jsx("span", {
                                                            className: "font-semibold",
                                                            children: "Versión:"
                                                        }), " ", b.version]
                                                    }), e.jsxs("p", {
                                                        children: [e.jsx("span", {
                                                            className: "font-semibold",
                                                            children: "Año:"
                                                        }), " ", b.anyo]
                                                    })]
                                                }, b.id))
                                            })]
                                        }), !i.success && e.jsx("p", {
                                            className: "mt-2",
                                            children: "No se encontraron vehículos compatibles con la pieza proporcionada."
                                        })]
                                    }), e.jsxs("div", {
                                        children: [e.jsx("p", {
                                            className: "text-sm font-semibold mb-1",
                                            children: "Datos de respuesta completos:"
                                        }), e.jsx("pre", {
                                            className: "p-2 bg-gray-100 rounded-md overflow-auto text-xs",
                                            children: JSON.stringify(i, null, 2)
                                        })]
                                    })]
                                }) : e.jsx("div", {
                                    className: "flex justify-center items-center h-48 text-gray-400",
                                    children: "Aquí se mostrarán los vehículos compatibles"
                                })
                            })]
                        })]
                    })]
                })
            })]
        })]
    })
}
function lY() {
    const [t, s] = h.useState(null),
        [r, n] = h.useState(!0);
    return h.useEffect(() => {
        (async () => {
            try {
                console.log("TEST: Cargando módulos de pago...");
                const i = await fetch("/api/admin/payment-modules");
                console.log("TEST: Response status:", i.status),
                console.log("TEST: Response ok:", i.ok);
                const o = await i.json();
                console.log("TEST: Data received:", o),
                console.log("TEST: Data type:", typeof o),
                console.log("TEST: Is array?", Array.isArray(o)),
                Array.isArray(o) && (console.log("TEST: Data length:", o.length), console.log("TEST: First module:", o[0])),
                s(o),
                n(!1)
            } catch (i) {
                console.error("TEST: Error:", i),
                s({
                    error: i.message
                }),
                n(!1)
            }
        })()
    }, []), r ? e.jsxs("div", {
        style: {
            padding: "20px"
        },
        children: [e.jsx("h1", {
            children: "Test Payment Modules"
        }), e.jsx("p", {
            children: "Loading..."
        })]
    }) : e.jsxs("div", {
        style: {
            padding: "20px"
        },
        children: [e.jsx("h1", {
            children: "Test Payment Modules"
        }), t && t.error ? e.jsxs("div", {
            style: {
                color: "red"
            },
            children: [e.jsx("h2", {
                children: "Error!"
            }), e.jsx("p", {
                children: t.error
            })]
        }) : Array.isArray(t) ? e.jsxs("div", {
            style: {
                color: "green"
            },
            children: [e.jsx("h2", {
                children: "Success!"
            }), e.jsxs("p", {
                children: ["Modules loaded: ", t.length]
            }), e.jsx("pre", {
                style: {
                    background: "#f0f0f0",
                    padding: "10px",
                    overflow: "auto"
                },
                children: JSON.stringify(t, null, 2)
            })]
        }) : e.jsxs("div", {
            style: {
                color: "orange"
            },
            children: [e.jsx("h2", {
                children: "Unexpected data type"
            }), e.jsx("p", {
                children: "Data is not an array"
            }), e.jsx("pre", {
                style: {
                    background: "#f0f0f0",
                    padding: "10px",
                    overflow: "auto"
                },
                children: JSON.stringify(t, null, 2)
            })]
        })]
    })
}
function cY() {
    return e.jsx("div", {
        className: "min-h-screen w-full flex items-center justify-center bg-gray-50",
        children: e.jsx(U, {
            className: "w-full max-w-md mx-4",
            children: e.jsxs(q, {
                className: "pt-6",
                children: [e.jsxs("div", {
                    className: "flex mb-4 gap-2",
                    children: [e.jsx(zr, {
                        className: "h-8 w-8 text-red-500"
                    }), e.jsx("h1", {
                        className: "text-2xl font-bold text-gray-900",
                        children: "404 Page Not Found"
                    })]
                }), e.jsx("p", {
                    className: "mt-4 text-sm text-gray-600",
                    children: "Did you forget to add the page to the router?"
                })]
            })
        })
    })
}
function _t({path: t, component: s}) {
    const {user: r, isLoading: n} = Ts();
    return n ? e.jsx(Nt, {
        path: t,
        children: () => e.jsx("div", {
            className: "flex items-center justify-center min-h-screen",
            children: e.jsx(Xt, {
                className: "h-8 w-8 animate-spin text-border"
            })
        })
    }) : r ? e.jsx(Nt, {
        path: t,
        component: s
    }) : e.jsx(Nt, {
        path: t,
        children: () => e.jsx(oE, {
            to: "/login"
        })
    })
}
const dY = () => {
        const {toast: t} = st(),
            [s, r] = h.useState(!1),
            [n, a] = h.useState(!1),
            {data: i, isLoading: o, refetch: l} = Te({
                queryKey: ["/api/google-merchant/stats"],
                queryFn: () => fetch("/api/google-merchant/stats").then(j => j.json())
            }),
            c = async () => {
                try {
                    r(!0),
                    t({
                        title: "Generando feed",
                        description: "Creando archivo XML para Google Merchant Center..."
                    });
                    const j = await fetch("/api/google-merchant/feed.xml");
                    if (!j.ok)
                        throw new Error("Error al generar el feed");
                    const g = await j.blob(),
                        x = window.URL.createObjectURL(g),
                        y = document.createElement("a");
                    y.href = x,
                    y.download = `google-merchant-feed-${new Date().toISOString().split("T")[0]}.xml`,
                    document.body.appendChild(y),
                    y.click(),
                    document.body.removeChild(y),
                    window.URL.revokeObjectURL(x),
                    t({
                        title: "Feed descargado",
                        description: "El archivo XML se ha descargado correctamente"
                    })
                } catch (j) {
                    console.error("Error al descargar feed:", j),
                    t({
                        title: "Error",
                        description: "No se pudo descargar el feed XML",
                        variant: "destructive"
                    })
                } finally {
                    r(!1)
                }
            },
            d = async () => {
                try {
                    const j = await fetch("/api/google-merchant/preview");
                    if (!j.ok)
                        throw new Error("Error al generar vista previa");
                    const g = await j.text(),
                        x = window.open();
                    x && (x.document.write(`
          <html>
            <head>
              <title>Vista previa - Google Merchant Feed</title>
              <style>
                body { font-family: monospace; padding: 20px; }
                pre { white-space: pre-wrap; background: #f5f5f5; padding: 15px; border-radius: 5px; }
              </style>
            </head>
            <body>
              <h2>Vista previa del Feed XML (primeros 10 productos)</h2>
              <pre>${









                    g.replace(/</g, "&lt;").replace(/>/g, "&gt;")}</pre>
            </body>
          </html>
        `


                    ), x.document.close())
                } catch (j) {
                    console.error("Error al mostrar vista previa:", j),
                    t({
                        title: "Error",
                        description: "No se pudo mostrar la vista previa",
                        variant: "destructive"
                    })
                }
            },
            u = () => {
                const j = `${window.location.origin}/api/google-merchant/feed.xml`;
                navigator.clipboard.writeText(j),
                a(!0),
                t({
                    title: "URL copiada",
                    description: "La URL del feed se ha copiado al portapapeles"
                }),
                setTimeout(() => a(!1), 2e3)
            },
            m = `${window.location.origin}/api/google-merchant/feed.xml`,
            p = i == null ? void 0 : i.data;
        return e.jsx("div", {
            className: "min-h-screen bg-gray-50",
            children: e.jsxs("div", {
                className: "container mx-auto px-4 py-8",
                children: [e.jsxs("div", {
                    className: "text-center mb-8",
                    children: [e.jsx("h1", {
                        className: "text-4xl font-montserrat font-bold text-gray-900 mb-4",
                        children: "Google Merchant Center"
                    }), e.jsx("p", {
                        className: "text-xl text-gray-600 max-w-3xl mx-auto",
                        children: "Sincroniza automáticamente tu inventario de piezas de recambio con Google Shopping"
                    })]
                }), e.jsxs("div", {
                    className: "max-w-6xl mx-auto space-y-6",
                    children: [p && e.jsxs(U, {
                        children: [e.jsx(ne, {
                            children: e.jsxs(ae, {
                                className: "flex items-center gap-2",
                                children: [e.jsx(Lj, {
                                    className: "h-5 w-5"
                                }), "Estadísticas del Feed"]
                            })
                        }), e.jsx(q, {
                            children: e.jsxs("div", {
                                className: "grid grid-cols-2 md:grid-cols-4 gap-4",
                                children: [e.jsxs("div", {
                                    className: "text-center p-6 bg-blue-50 rounded-lg",
                                    children: [e.jsx("div", {
                                        className: "flex items-center justify-center mb-3",
                                        children: e.jsx(ln, {
                                            className: "h-8 w-8 text-blue-600"
                                        })
                                    }), e.jsx("div", {
                                        className: "text-3xl font-bold text-blue-600 mb-1",
                                        children: p.totalParts.toLocaleString()
                                    }), e.jsx("div", {
                                        className: "text-sm text-gray-600",
                                        children: "Total Piezas"
                                    })]
                                }), e.jsxs("div", {
                                    className: "text-center p-6 bg-green-50 rounded-lg",
                                    children: [e.jsx("div", {
                                        className: "flex items-center justify-center mb-3",
                                        children: e.jsx(zE, {
                                            className: "h-8 w-8 text-green-600"
                                        })
                                    }), e.jsx("div", {
                                        className: "text-3xl font-bold text-green-600 mb-1",
                                        children: p.partsWithPrice.toLocaleString()
                                    }), e.jsx("div", {
                                        className: "text-sm text-gray-600",
                                        children: "Con Precio"
                                    })]
                                }), e.jsxs("div", {
                                    className: "text-center p-6 bg-purple-50 rounded-lg",
                                    children: [e.jsx("div", {
                                        className: "flex items-center justify-center mb-3",
                                        children: e.jsx(qs, {
                                            className: "h-8 w-8 text-purple-600"
                                        })
                                    }), e.jsx("div", {
                                        className: "text-3xl font-bold text-purple-600 mb-1",
                                        children: p.partsWithImages.toLocaleString()
                                    }), e.jsx("div", {
                                        className: "text-sm text-gray-600",
                                        children: "Con Imágenes"
                                    })]
                                }), e.jsxs("div", {
                                    className: "text-center p-6 bg-orange-50 rounded-lg",
                                    children: [e.jsx("div", {
                                        className: "flex items-center justify-center mb-3",
                                        children: e.jsx(Rt, {
                                            className: "h-8 w-8 text-orange-600"
                                        })
                                    }), e.jsx("div", {
                                        className: "text-3xl font-bold text-orange-600 mb-1",
                                        children: p.validParts.toLocaleString()
                                    }), e.jsx("div", {
                                        className: "text-sm text-gray-600",
                                        children: "Válidas para Feed"
                                    })]
                                })]
                            })
                        })]
                    }), e.jsxs(U, {
                        children: [e.jsx(ne, {
                            children: e.jsxs(ae, {
                                className: "flex items-center gap-2",
                                children: [e.jsx(ju, {
                                    className: "h-5 w-5"
                                }), "URL del Feed XML"]
                            })
                        }), e.jsxs(q, {
                            className: "space-y-4",
                            children: [e.jsx("div", {
                                className: "p-4 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",
                                children: e.jsxs("div", {
                                    className: "flex items-center gap-3",
                                    children: [e.jsx("code", {
                                        className: "flex-1 text-sm font-mono bg-white p-3 rounded border",
                                        children: m
                                    }), e.jsx(T, {
                                        onClick: u,
                                        variant: "outline",
                                        size: "sm",
                                        className: "flex-shrink-0",
                                        children: n ? e.jsx(Rt, {
                                            className: "h-4 w-4 text-green-600"
                                        }) : e.jsx(kO, {
                                            className: "h-4 w-4"
                                        })
                                    })]
                                })
                            }), e.jsxs("div", {
                                className: "flex items-start gap-2 p-3 bg-blue-50 rounded-lg",
                                children: [e.jsx(yp, {
                                    className: "h-5 w-5 text-blue-600 mt-0.5"
                                }), e.jsxs("div", {
                                    className: "text-sm text-blue-800",
                                    children: [e.jsx("strong", {
                                        children: "Esta URL es pública"
                                    }), " y se actualiza automáticamente cada vez que cambia tu inventario. Úsala directamente en Google Merchant Center para mantener tu catálogo sincronizado."]
                                })]
                            })]
                        })]
                    }), e.jsxs(U, {
                        children: [e.jsx(ne, {
                            children: e.jsx(ae, {
                                children: "Acciones"
                            })
                        }), e.jsx(q, {
                            children: e.jsxs("div", {
                                className: "flex flex-wrap gap-3",
                                children: [e.jsxs(T, {
                                    onClick: c,
                                    disabled: s,
                                    className: "flex items-center gap-2",
                                    children: [s ? e.jsx(xt, {
                                        className: "h-4 w-4 animate-spin"
                                    }) : e.jsx(Or, {
                                        className: "h-4 w-4"
                                    }), "Descargar Feed XML"]
                                }), e.jsxs(T, {
                                    variant: "outline",
                                    onClick: d,
                                    className: "flex items-center gap-2",
                                    children: [e.jsx(bs, {
                                        className: "h-4 w-4"
                                    }), "Vista Previa"]
                                }), e.jsxs(T, {
                                    variant: "outline",
                                    onClick: () => l(),
                                    className: "flex items-center gap-2",
                                    children: [e.jsx(xt, {
                                        className: "h-4 w-4"
                                    }), "Actualizar Estadísticas"]
                                }), e.jsxs(T, {
                                    variant: "outline",
                                    onClick: () => window.open(m, "_blank"),
                                    className: "flex items-center gap-2",
                                    children: [e.jsx(ju, {
                                        className: "h-4 w-4"
                                    }), "Abrir Feed XML"]
                                })]
                            })
                        })]
                    }), e.jsxs(U, {
                        children: [e.jsx(ne, {
                            children: e.jsx(ae, {
                                children: "Configuración en Google Merchant Center"
                            })
                        }), e.jsx(q, {
                            className: "space-y-4",
                            children: e.jsxs("ol", {
                                className: "space-y-3 text-sm",
                                children: [e.jsxs("li", {
                                    className: "flex gap-3",
                                    children: [e.jsx("span", {
                                        className: "flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-bold",
                                        children: "1"
                                    }), e.jsxs("span", {
                                        children: ["Accede a tu cuenta de ", e.jsx("strong", {
                                            children: "Google Merchant Center"
                                        })]
                                    })]
                                }), e.jsxs("li", {
                                    className: "flex gap-3",
                                    children: [e.jsx("span", {
                                        className: "flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-bold",
                                        children: "2"
                                    }), e.jsxs("span", {
                                        children: ["Ve a ", e.jsx("strong", {
                                            children: '"Productos"'
                                        }), " → ", e.jsx("strong", {
                                            children: '"Feeds"'
                                        })]
                                    })]
                                }), e.jsxs("li", {
                                    className: "flex gap-3",
                                    children: [e.jsx("span", {
                                        className: "flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-bold",
                                        children: "3"
                                    }), e.jsxs("span", {
                                        children: ["Haz clic en ", e.jsx("strong", {
                                            children: '"+ Agregar feed"'
                                        })]
                                    })]
                                }), e.jsxs("li", {
                                    className: "flex gap-3",
                                    children: [e.jsx("span", {
                                        className: "flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-bold",
                                        children: "4"
                                    }), e.jsxs("span", {
                                        children: ["Selecciona ", e.jsx("strong", {
                                            children: '"Programado"'
                                        }), " como método de entrada"]
                                    })]
                                }), e.jsxs("li", {
                                    className: "flex gap-3",
                                    children: [e.jsx("span", {
                                        className: "flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-bold",
                                        children: "5"
                                    }), e.jsx("span", {
                                        children: "Pega la URL del feed XML mostrada arriba"
                                    })]
                                }), e.jsxs("li", {
                                    className: "flex gap-3",
                                    children: [e.jsx("span", {
                                        className: "flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-bold",
                                        children: "6"
                                    }), e.jsxs("span", {
                                        children: ["Configura la frecuencia de actualización (", e.jsx("strong", {
                                            children: "recomendado: diaria"
                                        }), ")"]
                                    })]
                                })]
                            })
                        })]
                    }), p && e.jsxs(U, {
                        children: [e.jsx(ne, {
                            children: e.jsx(ae, {
                                children: "Calidad del Feed"
                            })
                        }), e.jsxs(q, {
                            className: "space-y-4",
                            children: [e.jsxs("div", {
                                className: "space-y-3",
                                children: [e.jsxs("div", {
                                    className: "flex justify-between items-center p-3 bg-gray-50 rounded-lg",
                                    children: [e.jsx("span", {
                                        className: "font-medium",
                                        children: "Productos con precio válido:"
                                    }), e.jsxs(ye, {
                                        variant: p.partsWithPrice / p.totalParts > .8 ? "default" : "destructive",
                                        children: [Math.round(p.partsWithPrice / p.totalParts * 100), "%"]
                                    })]
                                }), e.jsxs("div", {
                                    className: "flex justify-between items-center p-3 bg-gray-50 rounded-lg",
                                    children: [e.jsx("span", {
                                        className: "font-medium",
                                        children: "Productos con imágenes:"
                                    }), e.jsxs(ye, {
                                        variant: p.partsWithImages / p.totalParts > .7 ? "default" : "destructive",
                                        children: [Math.round(p.partsWithImages / p.totalParts * 100), "%"]
                                    })]
                                })]
                            }), (p.partsWithPrice / p.totalParts < .8 || p.partsWithImages / p.totalParts < .7) && e.jsxs("div", {
                                className: "flex items-start gap-2 p-3 bg-yellow-50 rounded-lg",
                                children: [e.jsx(zr, {
                                    className: "h-5 w-5 text-yellow-600 mt-0.5"
                                }), e.jsxs("div", {
                                    className: "text-sm text-yellow-800",
                                    children: [e.jsx("strong", {
                                        children: "Recomendación:"
                                    }), " Para mejorar la calidad del feed, asegúrate de que todas las piezas tengan precios válidos e imágenes. Esto aumentará la visibilidad en Google Shopping."]
                                })]
                            })]
                        })]
                    })]
                })]
            })
        })
    },
    uY = ({importHistory: t, onControlImport: s, onDeleteAllHistory: r}) => {
        const n = c => {
                switch (c) {
                case "completed":
                    return e.jsx(Rt, {
                        className: "h-4 w-4 text-green-500"
                    });
                case "failed":
                    return e.jsx(Ea, {
                        className: "h-4 w-4 text-red-500"
                    });
                case "in_progress":
                case "processing":
                case "running":
                    return e.jsx(xt, {
                        className: "h-4 w-4 text-blue-500 animate-spin"
                    });
                case "paused":
                    return e.jsx(_v, {
                        className: "h-4 w-4 text-yellow-500"
                    });
                default:
                    return e.jsx(zs, {
                        className: "h-4 w-4 text-gray-500"
                    })
                }
            },
            a = c => {
                const d = {
                    completed: "default",
                    failed: "destructive",
                    in_progress: "secondary",
                    processing: "secondary",
                    running: "secondary",
                    paused: "outline"
                };
                return e.jsxs(ye, {
                    variant: d[c] || "outline",
                    className: "flex items-center gap-1",
                    children: [n(c), c]
                })
            },
            i = c => {
                switch (c) {
                case "vehicles":
                    return "Vehículos";
                case "parts":
                    return "Piezas";
                case "all":
                    return "Todo";
                default:
                    return c
                }
            },
            o = t.filter(c => c.status === "in_progress" || c.status === "processing" || c.status === "running"),
            l = t.filter(c => c.status === "completed" || c.status === "failed" || c.status === "paused");
        return e.jsxs("div", {
            className: "space-y-6",
            children: [o.length > 0 && e.jsxs(U, {
                children: [e.jsx(ne, {
                    children: e.jsxs(ae, {
                        className: "flex items-center gap-2",
                        children: [e.jsx(xt, {
                            className: "h-5 w-5 animate-spin"
                        }), "Importaciones en Curso (", o.length, ")"]
                    })
                }), e.jsx(q, {
                    className: "space-y-4",
                    children: o.map(c => e.jsxs("div", {
                        className: "p-4 border rounded-lg space-y-3",
                        children: [e.jsxs("div", {
                            className: "flex justify-between items-start",
                            children: [e.jsxs("div", {
                                className: "space-y-1",
                                children: [e.jsxs("div", {
                                    className: "flex items-center gap-2",
                                    children: [e.jsxs("h4", {
                                        className: "font-medium",
                                        children: [i(c.type), " - ", c.isFullImport ? "Completa" : "Incremental"]
                                    }), a(c.status)]
                                }), e.jsxs("p", {
                                    className: "text-sm text-muted-foreground",
                                    children: ["Iniciada: ", Bt(new Date(c.startTime), "dd/MM/yyyy HH:mm", {
                                        locale: ks
                                    })]
                                }), c.processingItem && e.jsx("p", {
                                    className: "text-sm text-blue-600",
                                    children: c.processingItem
                                })]
                            }), e.jsxs("div", {
                                className: "flex gap-1",
                                children: [e.jsx(T, {
                                    size: "sm",
                                    variant: "outline",
                                    onClick: () => s(c.id, "pause"),
                                    children: e.jsx(_v, {
                                        className: "h-3 w-3"
                                    })
                                }), e.jsx(T, {
                                    size: "sm",
                                    variant: "destructive",
                                    onClick: () => s(c.id, "cancel"),
                                    children: e.jsx(UO, {
                                        className: "h-3 w-3"
                                    })
                                })]
                            })]
                        }), c.progress !== void 0 && e.jsxs("div", {
                            className: "space-y-2",
                            children: [e.jsxs("div", {
                                className: "flex justify-between text-sm",
                                children: [e.jsx("span", {
                                    children: "Progreso"
                                }), e.jsxs("span", {
                                    children: [Math.round(c.progress), "%"]
                                })]
                            }), e.jsx(Yp, {
                                value: c.progress,
                                className: "h-2"
                            })]
                        }), c.processedItems !== void 0 && c.totalItems !== void 0 && e.jsxs("div", {
                            className: "grid grid-cols-3 gap-4 text-sm",
                            children: [e.jsxs("div", {
                                children: [e.jsx("span", {
                                    className: "text-muted-foreground",
                                    children: "Procesados:"
                                }), e.jsxs("p", {
                                    className: "font-medium",
                                    children: [c.processedItems, "/", c.totalItems]
                                })]
                            }), e.jsxs("div", {
                                children: [e.jsx("span", {
                                    className: "text-muted-foreground",
                                    children: "Nuevos:"
                                }), e.jsx("p", {
                                    className: "font-medium text-green-600",
                                    children: c.newItems || 0
                                })]
                            }), e.jsxs("div", {
                                children: [e.jsx("span", {
                                    className: "text-muted-foreground",
                                    children: "Actualizados:"
                                }), e.jsx("p", {
                                    className: "font-medium text-blue-600",
                                    children: c.updatedItems || 0
                                })]
                            })]
                        })]
                    }, c.id))
                })]
            }), e.jsxs(U, {
                children: [e.jsx(ne, {
                    children: e.jsxs("div", {
                        className: "flex justify-between items-center",
                        children: [e.jsx(ae, {
                            children: "Historial de Importaciones"
                        }), r && l.length > 0 && e.jsxs(T, {
                            size: "sm",
                            variant: "destructive",
                            onClick: r,
                            children: [e.jsx(Jt, {
                                className: "h-3 w-3 mr-1"
                            }), "Eliminar Todo"]
                        })]
                    })
                }), e.jsx(q, {
                    className: "space-y-4",
                    children: l.length === 0 ? e.jsx("p", {
                        className: "text-muted-foreground text-center py-4",
                        children: "No hay importaciones completadas"
                    }) : l.map(c => e.jsx("div", {
                        className: "p-4 border rounded-lg",
                        children: e.jsxs("div", {
                            className: "flex justify-between items-start",
                            children: [e.jsxs("div", {
                                className: "space-y-1",
                                children: [e.jsxs("div", {
                                    className: "flex items-center gap-2",
                                    children: [e.jsxs("h4", {
                                        className: "font-medium",
                                        children: [i(c.type), " - ", c.isFullImport ? "Completa" : "Incremental"]
                                    }), a(c.status)]
                                }), e.jsxs("p", {
                                    className: "text-sm text-muted-foreground",
                                    children: [Bt(new Date(c.startTime), "dd/MM/yyyy HH:mm", {
                                        locale: ks
                                    }), c.endTime && e.jsxs(e.Fragment, {
                                        children: [" - ", Bt(new Date(c.endTime), "HH:mm", {
                                            locale: ks
                                        })]
                                    })]
                                }), (c.newItems !== void 0 || c.updatedItems !== void 0) && e.jsxs("div", {
                                    className: "flex gap-4 text-sm",
                                    children: [c.newItems !== void 0 && e.jsxs("span", {
                                        className: "text-green-600",
                                        children: ["+", c.newItems, " nuevos"]
                                    }), c.updatedItems !== void 0 && e.jsxs("span", {
                                        className: "text-blue-600",
                                        children: ["~", c.updatedItems, " actualizados"]
                                    })]
                                }), c.errors && c.errors.length > 0 && e.jsxs("div", {
                                    className: "text-sm text-red-600",
                                    children: [c.errors.length, " error(es)"]
                                })]
                            }), e.jsxs("div", {
                                className: "flex gap-1",
                                children: [c.status === "paused" && e.jsx(T, {
                                    size: "sm",
                                    variant: "outline",
                                    onClick: () => s(c.id, "resume"),
                                    children: e.jsx(zO, {
                                        className: "h-3 w-3"
                                    })
                                }), e.jsx(T, {
                                    size: "sm",
                                    variant: "ghost",
                                    onClick: () => {
                                        console.log("Intentando eliminar importación:", c.id, c),
                                        c.id ? s(c.id, "delete") : console.error("ID de importación no encontrado:", c)
                                    },
                                    className: "text-red-600 hover:text-red-700",
                                    children: e.jsx(Jt, {
                                        className: "h-3 w-3"
                                    })
                                })]
                            })]
                        })
                    }, c.id))
                })]
            })]
        })
    },
    mY = () => {
        const [, t] = ut(),
            {toast: s} = st(),
            {user: r, logout: n} = Ts(),
            [a, i] = h.useState({
                vehiclesIncremental: !1,
                vehiclesComplete: !1,
                partsIncremental: !1,
                partsComplete: !1,
                allComplete: !1,
                allIncremental: !1,
                updateCounters: !1
            }),
            [o, l] = h.useState([]),
            [c, d] = h.useState({
                type: "vehicles",
                frequency: "12h",
                active: !0,
                isFullImport: !1,
                days: ["monday", "tuesday", "wednesday", "thursday", "friday"]
            }),
            [u, m] = h.useState(null),
            [p, j] = h.useState({
                fromDate: void 0,
                fullImport: !1,
                batchSize: 1e3,
                autoRecovery: !0
            }),
            [g, x] = h.useState([]),
            [y, v] = h.useState(!0),
            [f, b] = h.useState(!0),
            [N, w] = h.useState("import");
        h.useState(!1),
        h.useState(null);
        const {data: C, isLoading: E, refetch: k} = Te({
                queryKey: ["/api/import/history"],
                queryFn: () => ss.getHistory(20),
                refetchInterval: f ? 5e3 : !1
            }),
            {data: R, isLoading: H, refetch: z} = Te({
                queryKey: ["/api/import/schedule"],
                queryFn: () => ss.getSchedules(),
                refetchInterval: f ? 1e4 : !1
            }),
            {data: A, refetch: $, error: G} = Te({
                queryKey: ["/api/import/stats"],
                queryFn: () => ss.getImportStats(),
                refetchInterval: f ? 3e4 : !1,
                retry: 3,
                retryDelay: L => Math.min(1e3 * 2 ** L, 3e4)
            });
        h.useEffect(() => {
            R && l(R)
        }, [R]),
        h.useEffect(() => {
            if (!C)
                return;
            const L = C.some(ee => ee.status === "in_progress" || ee.status === "processing");
            v(L),
            x(C.filter(ee => ee.status === "in_progress" || ee.status === "processing"))
        }, [C]);
        const F = async () => {
                try {
                    await n(),
                    t("/admin")
                } catch (L) {
                    console.error("Error al cerrar sesión:", L),
                    s({
                        title: "Error",
                        description: "No se pudo cerrar la sesión",
                        variant: "destructive"
                    })
                }
            },
            _ = async (L, ee=!1) => {
                try {
                    const ce = S(L, ee);
                    i(pe => ({
                        ...pe,
                        [ce]: !0
                    }));
                    const le = {
                        fromDate: !ee && p.fromDate ? Bt(p.fromDate, "yyyy-MM-dd") : void 0,
                        fullImport: ee,
                        batchSize: p.batchSize,
                        autoRecovery: p.autoRecovery
                    };
                    await ss.startOptimizedImport(L, le),
                    s({
                        title: "Importación iniciada",
                        description: `La importación ${ee ? "completa" : "incremental"} de ${L === "vehicles" ? "vehículos" : L === "parts" ? "piezas" : "vehículos y piezas"} ha comenzado`
                    }),
                    w("monitor"),
                    k(),
                    $()
                } catch (ce) {
                    console.error("Error al iniciar importación:", ce),
                    s({
                        title: "Error",
                        description: "No se pudo iniciar la importación",
                        variant: "destructive"
                    })
                } finally {
                    setTimeout(() => {
                        const ce = S(L, ee);
                        i(le => ({
                            ...le,
                            [ce]: !1
                        }))
                    }, 2e3)
                }
            },
            S = (L, ee) => L === "vehicles" ? ee ? "vehiclesComplete" : "vehiclesIncremental" : L === "parts" ? ee ? "partsComplete" : "partsIncremental" : ee ? "allComplete" : "allIncremental",
            I = async () => {
                try {
                    i(ce => ({
                        ...ce,
                        updateCounters: !0
                    }));
                    const L = await fetch("/api/import/update-vehicle-counters", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json"
                        },
                        credentials: "include"
                    });
                    if (!L.ok)
                        throw new Error("Error al actualizar contadores");
                    const ee = await L.json();
                    s({
                        title: "Contadores actualizados",
                        description: "Los contadores de piezas en vehículos se han actualizado correctamente"
                    }),
                    $(),
                    k()
                } catch (L) {
                    console.error("Error al actualizar contadores:", L),
                    s({
                        title: "Error",
                        description: "No se pudieron actualizar los contadores de piezas",
                        variant: "destructive"
                    })
                } finally {
                    i(L => ({
                        ...L,
                        updateCounters: !1
                    }))
                }
            },
            W = async () => {
                try {
                    await ss.createSchedule(c);
                    const L = c.isFullImport ? "completa" : "incremental";
                    s({
                        title: "Programación creada",
                        description: `Importación ${L} de ${c.type} programada cada ${c.frequency}`
                    }),
                    z(),
                    d({
                        type: "vehicles",
                        frequency: "12h",
                        active: !0,
                        isFullImport: !1,
                        days: ["monday", "tuesday", "wednesday", "thursday", "friday"]
                    })
                } catch (L) {
                    console.error("Error al programar importación:", L),
                    s({
                        title: "Error",
                        description: "No se pudo programar la importación",
                        variant: "destructive"
                    })
                }
            },
            oe = async (L, ee) => {
                try {
                    await ss.updateScheduleConfig(L, ee),
                    s({
                        title: "Programación actualizada",
                        description: "La programación ha sido actualizada correctamente"
                    }),
                    z(),
                    m(null)
                } catch (ce) {
                    console.error("Error al actualizar programación:", ce),
                    s({
                        title: "Error",
                        description: "No se pudo actualizar la programación",
                        variant: "destructive"
                    })
                }
            },
            O = L => {
                m(L)
            },
            M = () => {
                m(null)
            },
            re = async (L, ee) => {
                try {
                    if (console.log(`Ejecutando acción ${ee} para importación ID: ${L}`), ee === "pause")
                        await ss.pauseImportOperation(L);
                    else if (ee === "resume")
                        await ss.resumeImportOperation(L);
                    else if (ee === "cancel")
                        await ss.cancelImportOperation(L);
                    else if (ee === "delete") {
                        const le = await ss.deleteImportFromHistory(L);
                        console.log("Resultado de eliminación:", le)
                    }
                    const ce = {
                        pause: "pausada",
                        resume: "reanudada",
                        cancel: "cancelada",
                        delete: "eliminada"
                    }[ee];
                    s({
                        title: "Importación " + ce,
                        description: `La importación ha sido ${ce} correctamente`
                    }),
                    k()
                } catch (ce) {
                    console.error(`Error al ${ee} importación:`, ce),
                    console.error("Error details:", ce),
                    s({
                        title: "Error",
                        description: ce instanceof Error ? ce.message : `No se pudo ${ee} la importación`,
                        variant: "destructive"
                    })
                }
            },
            ue = async () => {
                try {
                    await ss.deleteAllImportHistory(),
                    s({
                        title: "Historial eliminado",
                        description: "Todo el historial de importaciones ha sido eliminado correctamente"
                    }),
                    k(),
                    $()
                } catch (L) {
                    console.error("Error al eliminar historial:", L),
                    s({
                        title: "Error",
                        description: "No se pudo eliminar el historial de importaciones",
                        variant: "destructive"
                    })
                }
            },
            Y = async () => {
                try {
                    await ss.clearImportStatistics(),
                    s({
                        title: "Estadísticas limpiadas",
                        description: "Las estadísticas de importación han sido reiniciadas"
                    }),
                    $()
                } catch (L) {
                    console.error("Error al limpiar estadísticas:", L),
                    s({
                        title: "Error",
                        description: "No se pudieron limpiar las estadísticas",
                        variant: "destructive"
                    })
                }
            },
            he = async (L, ee) => {
                try {
                    await ss.updateScheduleConfig(L, {
                        active: ee
                    }),
                    s({
                        title: ee ? "Programación activada" : "Programación desactivada",
                        description: `La programación ha sido ${ee ? "activada" : "desactivada"}`
                    }),
                    z()
                } catch (ce) {
                    console.error("Error al actualizar programación:", ce),
                    s({
                        title: "Error",
                        description: "No se pudo actualizar la programación",
                        variant: "destructive"
                    })
                }
            },
            D = async L => {
                try {
                    await ss.deleteSchedule(L),
                    z(),
                    s({
                        title: "Programación eliminada",
                        description: "La programación ha sido eliminada correctamente"
                    })
                } catch (ee) {
                    console.error("Error al eliminar programación:", ee),
                    s({
                        title: "Error",
                        description: "No se pudo eliminar la programación",
                        variant: "destructive"
                    })
                }
            },
            K = L => {
                switch (L) {
                case "completed":
                    return e.jsx(Rt, {
                        className: "h-4 w-4 text-green-500"
                    });
                case "failed":
                    return e.jsx(Ea, {
                        className: "h-4 w-4 text-red-500"
                    });
                case "in_progress":
                    return e.jsx(xt, {
                        className: "h-4 w-4 text-blue-500 animate-spin"
                    });
                case "paused":
                    return e.jsx(_v, {
                        className: "h-4 w-4 text-yellow-500"
                    });
                default:
                    return e.jsx(zs, {
                        className: "h-4 w-4 text-gray-500"
                    })
                }
            };
        return H ? e.jsx("div", {
            className: "flex items-center justify-center min-h-screen",
            children: e.jsx("div", {
                className: "animate-spin h-12 w-12 border-4 border-primary border-t-transparent rounded-full"
            })
        }) : e.jsxs("div", {
            className: "flex min-h-screen bg-gray-100",
            children: [e.jsx($s, {}), e.jsxs("div", {
                className: "flex-1 p-8",
                children: [e.jsxs("div", {
                    className: "flex justify-between items-center mb-8",
                    children: [e.jsxs("div", {
                        children: [e.jsx("h1", {
                            className: "text-3xl font-montserrat font-bold",
                            children: "Importación Optimizada"
                        }), e.jsxs("p", {
                            className: "text-muted-foreground",
                            children: ["Sistema avanzado de importación y sincronización de datos", f && e.jsxs("span", {
                                className: "ml-2 inline-flex items-center text-green-600 font-medium",
                                children: [e.jsx(xt, {
                                    className: "h-3 w-3 mr-1 animate-spin"
                                }), "Actualización automática activa"]
                            })]
                        })]
                    }), e.jsxs(T, {
                        variant: "outline",
                        onClick: F,
                        children: [e.jsx(ka, {
                            className: "mr-2 h-4 w-4"
                        }), "Cerrar sesión"]
                    })]
                }), g.length > 0 && e.jsxs(cr, {
                    className: "mb-6 border-blue-200 bg-blue-50",
                    children: [e.jsx(xt, {
                        className: "h-4 w-4 animate-spin"
                    }), e.jsxs(dr, {
                        children: ["Hay ", g.length, " importación(es) en curso.", f ? " La página se actualiza automáticamente cada 5 segundos." : " Active la actualización automática en Configuración para monitoreo en tiempo real."]
                    })]
                }), e.jsxs(ls, {
                    value: N,
                    onValueChange: w,
                    className: "space-y-6",
                    children: [e.jsxs(es, {
                        className: "grid w-full grid-cols-4",
                        children: [e.jsx(Ue, {
                            value: "import",
                            children: "Importación"
                        }), e.jsx(Ue, {
                            value: "schedule",
                            children: "Programación"
                        }), e.jsx(Ue, {
                            value: "monitor",
                            children: "Monitoreo"
                        }), e.jsx(Ue, {
                            value: "config",
                            children: "Configuración"
                        })]
                    }), e.jsxs($e, {
                        value: "import",
                        className: "space-y-6",
                        children: [e.jsxs("div", {
                            className: "grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",
                            children: [e.jsx(K0, {}), e.jsx(H0, {})]
                        }), e.jsxs(U, {
                            children: [e.jsx(ne, {
                                children: e.jsxs(ae, {
                                    className: "flex items-center gap-2",
                                    children: [e.jsx(Hs, {
                                        className: "h-5 w-5"
                                    }), "Configuración de Importación"]
                                })
                            }), e.jsxs(q, {
                                className: "space-y-4",
                                children: [e.jsxs("div", {
                                    className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                                    children: [e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            children: "Importar desde (fecha)"
                                        }), e.jsx(cb, {
                                            value: p.fromDate,
                                            onChange: L => j(ee => ({
                                                ...ee,
                                                fromDate: L
                                            }))
                                        })]
                                    }), e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            children: "Tamaño de lote"
                                        }), e.jsxs(He, {
                                            value: p.batchSize.toString(),
                                            onValueChange: L => j(ee => ({
                                                ...ee,
                                                batchSize: parseInt(L)
                                            })),
                                            children: [e.jsx(qe, {
                                                children: e.jsx(We, {})
                                            }), e.jsxs(Be, {
                                                children: [e.jsx(Q, {
                                                    value: "500",
                                                    children: "500 elementos"
                                                }), e.jsx(Q, {
                                                    value: "1000",
                                                    children: "1000 elementos"
                                                }), e.jsx(Q, {
                                                    value: "2000",
                                                    children: "2000 elementos"
                                                })]
                                            })]
                                        })]
                                    })]
                                }), e.jsxs("div", {
                                    className: "flex items-center space-x-2",
                                    children: [e.jsx(St, {
                                        id: "fullImport",
                                        checked: p.fullImport,
                                        onCheckedChange: L => j(ee => ({
                                            ...ee,
                                            fullImport: L
                                        }))
                                    }), e.jsx(V, {
                                        htmlFor: "fullImport",
                                        children: "Importación completa (todos los datos)"
                                    })]
                                }), e.jsxs("div", {
                                    className: "flex items-center space-x-2",
                                    children: [e.jsx(St, {
                                        id: "autoRecovery",
                                        checked: p.autoRecovery,
                                        onCheckedChange: L => j(ee => ({
                                            ...ee,
                                            autoRecovery: L
                                        }))
                                    }), e.jsx(V, {
                                        htmlFor: "autoRecovery",
                                        children: "Recuperación automática de errores"
                                    })]
                                })]
                            })]
                        }), e.jsxs("div", {
                            className: "grid grid-cols-1 md:grid-cols-3 gap-6",
                            children: [e.jsxs(U, {
                                children: [e.jsx(ne, {
                                    children: e.jsxs(ae, {
                                        className: "flex items-center gap-2",
                                        children: [e.jsx(li, {
                                            className: "h-5 w-5"
                                        }), "Vehículos"]
                                    })
                                }), e.jsxs(q, {
                                    className: "space-y-4",
                                    children: [e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsxs(T, {
                                            onClick: () => _("vehicles", !1),
                                            disabled: a.vehiclesIncremental || a.vehiclesComplete,
                                            className: "w-full",
                                            children: [a.vehiclesIncremental ? e.jsx(xt, {
                                                className: "mr-2 h-4 w-4 animate-spin"
                                            }) : e.jsx(Or, {
                                                className: "mr-2 h-4 w-4"
                                            }), "Importación Incremental"]
                                        }), e.jsxs(T, {
                                            onClick: () => _("vehicles", !0),
                                            disabled: a.vehiclesIncremental || a.vehiclesComplete,
                                            variant: "outline",
                                            className: "w-full",
                                            children: [a.vehiclesComplete ? e.jsx(xt, {
                                                className: "mr-2 h-4 w-4 animate-spin"
                                            }) : e.jsx(Or, {
                                                className: "mr-2 h-4 w-4"
                                            }), "Importación Completa"]
                                        })]
                                    }), (A == null ? void 0 : A.vehicles) && e.jsxs("div", {
                                        className: "text-sm text-muted-foreground",
                                        children: [e.jsxs("p", {
                                            children: ["Total: ", A.vehicles.totalItems]
                                        }), e.jsxs("p", {
                                            children: ["Nuevos: ", A.vehicles.newItems]
                                        }), e.jsxs("p", {
                                            children: ["Actualizados: ", A.vehicles.updatedItems]
                                        })]
                                    })]
                                })]
                            }), e.jsxs(U, {
                                children: [e.jsx(ne, {
                                    children: e.jsxs(ae, {
                                        className: "flex items-center gap-2",
                                        children: [e.jsx(li, {
                                            className: "h-5 w-5"
                                        }), "Piezas"]
                                    })
                                }), e.jsxs(q, {
                                    className: "space-y-4",
                                    children: [e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsxs(T, {
                                            onClick: () => _("parts", !1),
                                            disabled: a.partsIncremental || a.partsComplete,
                                            className: "w-full",
                                            children: [a.partsIncremental ? e.jsx(xt, {
                                                className: "mr-2 h-4 w-4 animate-spin"
                                            }) : e.jsx(Or, {
                                                className: "mr-2 h-4 w-4"
                                            }), "Importación Incremental"]
                                        }), e.jsxs(T, {
                                            onClick: () => _("parts", !0),
                                            disabled: a.partsIncremental || a.partsComplete,
                                            variant: "outline",
                                            className: "w-full",
                                            children: [a.partsComplete ? e.jsx(xt, {
                                                className: "mr-2 h-4 w-4 animate-spin"
                                            }) : e.jsx(Or, {
                                                className: "mr-2 h-4 w-4"
                                            }), "Importación Completa"]
                                        })]
                                    }), (A == null ? void 0 : A.parts) && e.jsxs("div", {
                                        className: "text-sm text-muted-foreground",
                                        children: [e.jsxs("p", {
                                            children: ["Total: ", A.parts.totalItems]
                                        }), e.jsxs("p", {
                                            children: ["Nuevas: ", A.parts.newItems]
                                        }), e.jsxs("p", {
                                            children: ["Actualizadas: ", A.parts.updatedItems]
                                        })]
                                    })]
                                })]
                            }), e.jsxs(U, {
                                children: [e.jsx(ne, {
                                    children: e.jsxs(ae, {
                                        className: "flex items-center gap-2",
                                        children: [e.jsx(li, {
                                            className: "h-5 w-5"
                                        }), "Todo"]
                                    })
                                }), e.jsxs(q, {
                                    className: "space-y-4",
                                    children: [e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsxs(T, {
                                            onClick: () => _("all", !1),
                                            disabled: a.allIncremental || a.allComplete,
                                            className: "w-full",
                                            children: [a.allIncremental ? e.jsx(xt, {
                                                className: "mr-2 h-4 w-4 animate-spin"
                                            }) : e.jsx(Or, {
                                                className: "mr-2 h-4 w-4"
                                            }), "Importación Incremental"]
                                        }), e.jsxs(T, {
                                            onClick: () => _("all", !0),
                                            disabled: a.allIncremental || a.allComplete,
                                            variant: "outline",
                                            className: "w-full",
                                            children: [a.allComplete ? e.jsx(xt, {
                                                className: "mr-2 h-4 w-4 animate-spin"
                                            }) : e.jsx(Or, {
                                                className: "mr-2 h-4 w-4"
                                            }), "Importación Completa"]
                                        })]
                                    }), e.jsx("div", {
                                        className: "text-sm text-muted-foreground",
                                        children: e.jsx("p", {
                                            children: "Importa vehículos y piezas en secuencia optimizada"
                                        })
                                    })]
                                })]
                            }), e.jsxs(U, {
                                children: [e.jsx(ne, {
                                    children: e.jsxs(ae, {
                                        className: "flex items-center gap-2",
                                        children: [e.jsx(xt, {
                                            className: "h-5 w-5"
                                        }), "Mantenimiento"]
                                    })
                                }), e.jsxs(q, {
                                    className: "space-y-4",
                                    children: [e.jsx("div", {
                                        className: "space-y-2",
                                        children: e.jsxs(T, {
                                            onClick: I,
                                            disabled: a.updateCounters,
                                            variant: "secondary",
                                            className: "w-full",
                                            children: [a.updateCounters ? e.jsx(xt, {
                                                className: "mr-2 h-4 w-4 animate-spin"
                                            }) : e.jsx(xt, {
                                                className: "mr-2 h-4 w-4"
                                            }), "Actualizar Contadores"]
                                        })
                                    }), e.jsx("div", {
                                        className: "text-sm text-muted-foreground",
                                        children: e.jsx("p", {
                                            children: "Actualiza los contadores de piezas en vehículos"
                                        })
                                    })]
                                })]
                            })]
                        })]
                    }), e.jsxs($e, {
                        value: "schedule",
                        className: "space-y-6",
                        children: [e.jsxs(U, {
                            children: [e.jsx(ne, {
                                children: e.jsxs(ae, {
                                    className: "flex items-center gap-2",
                                    children: [e.jsx(Bs, {
                                        className: "h-5 w-5"
                                    }), "Nueva Programación"]
                                })
                            }), e.jsx(q, {
                                className: "space-y-4",
                                children: e.jsxs("div", {
                                    className: "grid grid-cols-1 md:grid-cols-4 gap-4",
                                    children: [e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            children: "Tipo de importación"
                                        }), e.jsxs(He, {
                                            value: c.type,
                                            onValueChange: L => d(ee => ({
                                                ...ee,
                                                type: L
                                            })),
                                            children: [e.jsx(qe, {
                                                children: e.jsx(We, {})
                                            }), e.jsxs(Be, {
                                                children: [e.jsx(Q, {
                                                    value: "vehicles",
                                                    children: "Vehículos"
                                                }), e.jsx(Q, {
                                                    value: "parts",
                                                    children: "Piezas"
                                                }), e.jsx(Q, {
                                                    value: "all",
                                                    children: "Todo"
                                                })]
                                            })]
                                        })]
                                    }), e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            children: "Modalidad"
                                        }), e.jsxs(He, {
                                            value: c.isFullImport ? "complete" : "incremental",
                                            onValueChange: L => d(ee => ({
                                                ...ee,
                                                isFullImport: L === "complete"
                                            })),
                                            children: [e.jsx(qe, {
                                                children: e.jsx(We, {})
                                            }), e.jsxs(Be, {
                                                children: [e.jsx(Q, {
                                                    value: "incremental",
                                                    children: e.jsxs("div", {
                                                        className: "flex flex-col",
                                                        children: [e.jsx("span", {
                                                            className: "font-medium",
                                                            children: "Incremental"
                                                        }), e.jsx("span", {
                                                            className: "text-xs text-muted-foreground",
                                                            children: "Últimos 7 días"
                                                        })]
                                                    })
                                                }), e.jsx(Q, {
                                                    value: "complete",
                                                    children: e.jsxs("div", {
                                                        className: "flex flex-col",
                                                        children: [e.jsx("span", {
                                                            className: "font-medium",
                                                            children: "Completa"
                                                        }), e.jsx("span", {
                                                            className: "text-xs text-muted-foreground",
                                                            children: "Todos los datos"
                                                        })]
                                                    })
                                                })]
                                            })]
                                        })]
                                    }), e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            children: "Frecuencia"
                                        }), e.jsxs(He, {
                                            value: c.frequency,
                                            onValueChange: L => d(ee => ({
                                                ...ee,
                                                frequency: L
                                            })),
                                            children: [e.jsx(qe, {
                                                children: e.jsx(We, {})
                                            }), e.jsxs(Be, {
                                                children: [e.jsx(Q, {
                                                    value: "1h",
                                                    children: "Cada hora"
                                                }), e.jsx(Q, {
                                                    value: "6h",
                                                    children: "Cada 6 horas"
                                                }), e.jsx(Q, {
                                                    value: "12h",
                                                    children: "Cada 12 horas"
                                                }), e.jsx(Q, {
                                                    value: "24h",
                                                    children: "Diariamente"
                                                }), e.jsx(Q, {
                                                    value: "7d",
                                                    children: "Semanalmente"
                                                })]
                                            })]
                                        })]
                                    }), e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            children: "Hora de inicio"
                                        }), e.jsx(te, {
                                            type: "time",
                                            value: c.startTime || "02:00",
                                            onChange: L => d(ee => ({
                                                ...ee,
                                                startTime: L.target.value
                                            })),
                                            className: "w-full"
                                        }), e.jsx("p", {
                                            className: "text-xs text-muted-foreground",
                                            children: "Hora específica para iniciar las sincronizaciones programadas (formato 24h)"
                                        })]
                                    }), (c.frequency === "24h" || c.frequency === "7d") && e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            children: "Días de la semana"
                                        }), e.jsx("div", {
                                            className: "grid grid-cols-3 gap-2",
                                            children: [{
                                                value: "monday",
                                                label: "Lun"
                                            }, {
                                                value: "tuesday",
                                                label: "Mar"
                                            }, {
                                                value: "wednesday",
                                                label: "Mié"
                                            }, {
                                                value: "thursday",
                                                label: "Jue"
                                            }, {
                                                value: "friday",
                                                label: "Vie"
                                            }, {
                                                value: "saturday",
                                                label: "Sáb"
                                            }, {
                                                value: "sunday",
                                                label: "Dom"
                                            }].map(L => {
                                                var ee;
                                                return e.jsxs("div", {
                                                    className: "flex items-center space-x-2",
                                                    children: [e.jsx(yi, {
                                                        id: L.value,
                                                        checked: ((ee = c.days) == null ? void 0 : ee.includes(L.value)) || !1,
                                                        onCheckedChange: ce => {
                                                            const le = c.days || [];
                                                            d(ce ? {
                                                                ...c,
                                                                days: [...le, L.value]
                                                            } : {
                                                                ...c,
                                                                days: le.filter(Se => Se !== L.value)
                                                            })
                                                        }
                                                    }), e.jsx(V, {
                                                        htmlFor: L.value,
                                                        className: "text-sm",
                                                        children: L.label
                                                    })]
                                                }, L.value)
                                            })
                                        })]
                                    }), e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            children: " "
                                        }), e.jsxs(T, {
                                            onClick: W,
                                            className: "w-full",
                                            children: [e.jsx(ur, {
                                                className: "mr-2 h-4 w-4"
                                            }), "Programar"]
                                        })]
                                    })]
                                })
                            })]
                        }), e.jsxs(U, {
                            children: [e.jsx(ne, {
                                children: e.jsx(ae, {
                                    children: "Programaciones Activas"
                                })
                            }), e.jsx(q, {
                                children: e.jsxs("div", {
                                    className: "space-y-4",
                                    children: [o.map(L => e.jsx("div", {
                                        className: "p-4 border rounded-lg",
                                        children: u && u.id === L.id ? e.jsxs("div", {
                                            className: "space-y-4",
                                            children: [e.jsxs("div", {
                                                className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                                                children: [e.jsxs("div", {
                                                    className: "space-y-2",
                                                    children: [e.jsx(V, {
                                                        children: "Frecuencia"
                                                    }), e.jsxs(He, {
                                                        value: u.frequency,
                                                        onValueChange: ee => m({
                                                            ...u,
                                                            frequency: ee
                                                        }),
                                                        children: [e.jsx(qe, {
                                                            children: e.jsx(We, {})
                                                        }), e.jsxs(Be, {
                                                            children: [e.jsx(Q, {
                                                                value: "1h",
                                                                children: "Cada hora"
                                                            }), e.jsx(Q, {
                                                                value: "6h",
                                                                children: "Cada 6 horas"
                                                            }), e.jsx(Q, {
                                                                value: "12h",
                                                                children: "Cada 12 horas"
                                                            }), e.jsx(Q, {
                                                                value: "24h",
                                                                children: "Diariamente"
                                                            }), e.jsx(Q, {
                                                                value: "7d",
                                                                children: "Semanalmente"
                                                            })]
                                                        })]
                                                    })]
                                                }), e.jsxs("div", {
                                                    className: "space-y-2",
                                                    children: [e.jsx(V, {
                                                        children: "Tipo de importación"
                                                    }), e.jsxs(He, {
                                                        value: u.isFullImport ? "complete" : "incremental",
                                                        onValueChange: ee => m({
                                                            ...u,
                                                            isFullImport: ee === "complete"
                                                        }),
                                                        children: [e.jsx(qe, {
                                                            children: e.jsx(We, {})
                                                        }), e.jsxs(Be, {
                                                            children: [e.jsx(Q, {
                                                                value: "incremental",
                                                                children: "Incremental"
                                                            }), e.jsx(Q, {
                                                                value: "complete",
                                                                children: "Completa"
                                                            })]
                                                        })]
                                                    })]
                                                })]
                                            }), e.jsxs("div", {
                                                className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                                                children: [e.jsxs("div", {
                                                    className: "space-y-2",
                                                    children: [e.jsx(V, {
                                                        children: "Hora de inicio"
                                                    }), e.jsx(te, {
                                                        type: "time",
                                                        value: u.startTime || "02:00",
                                                        onChange: ee => m({
                                                            ...u,
                                                            startTime: ee.target.value
                                                        }),
                                                        className: "w-full"
                                                    }), e.jsx("p", {
                                                        className: "text-xs text-muted-foreground",
                                                        children: "Hora específica para iniciar las sincronizaciones programadas (formato 24h)"
                                                    })]
                                                }), e.jsxs("div", {
                                                    className: "space-y-2",
                                                    children: [e.jsx(V, {
                                                        children: "Estado"
                                                    }), e.jsxs("div", {
                                                        className: "flex items-center space-x-2",
                                                        children: [e.jsx(St, {
                                                            checked: u.active,
                                                            onCheckedChange: ee => m({
                                                                ...u,
                                                                active: ee
                                                            })
                                                        }), e.jsx(V, {
                                                            children: u.active ? "Activa" : "Inactiva"
                                                        })]
                                                    })]
                                                })]
                                            }), (u.frequency === "24h" || u.frequency === "7d") && e.jsxs("div", {
                                                className: "space-y-2",
                                                children: [e.jsx(V, {
                                                    children: "Días de la semana"
                                                }), e.jsx("div", {
                                                    className: "grid grid-cols-4 gap-2",
                                                    children: [{
                                                        value: "monday",
                                                        label: "Lun"
                                                    }, {
                                                        value: "tuesday",
                                                        label: "Mar"
                                                    }, {
                                                        value: "wednesday",
                                                        label: "Mié"
                                                    }, {
                                                        value: "thursday",
                                                        label: "Jue"
                                                    }, {
                                                        value: "friday",
                                                        label: "Vie"
                                                    }, {
                                                        value: "saturday",
                                                        label: "Sáb"
                                                    }, {
                                                        value: "sunday",
                                                        label: "Dom"
                                                    }].map(ee => {
                                                        var ce;
                                                        return e.jsxs("div", {
                                                            className: "flex items-center space-x-2",
                                                            children: [e.jsx(yi, {
                                                                id: `edit-${ee.value}`,
                                                                checked: ((ce = u.days) == null ? void 0 : ce.includes(ee.value)) || !1,
                                                                onCheckedChange: le => {
                                                                    const Se = u.days || [];
                                                                    m(le ? {
                                                                        ...u,
                                                                        days: [...Se, ee.value]
                                                                    } : {
                                                                        ...u,
                                                                        days: Se.filter(pe => pe !== ee.value)
                                                                    })
                                                                }
                                                            }), e.jsx(V, {
                                                                htmlFor: `edit-${ee.value}`,
                                                                className: "text-sm",
                                                                children: ee.label
                                                            })]
                                                        }, ee.value)
                                                    })
                                                })]
                                            }), e.jsxs("div", {
                                                className: "flex items-center gap-2",
                                                children: [e.jsxs(T, {
                                                    onClick: () => oe(L.id, u),
                                                    className: "bg-primary hover:bg-primary/90",
                                                    children: [e.jsx(Rt, {
                                                        className: "mr-2 h-4 w-4"
                                                    }), "Guardar"]
                                                }), e.jsxs(T, {
                                                    variant: "outline",
                                                    onClick: M,
                                                    children: [e.jsx(Ea, {
                                                        className: "mr-2 h-4 w-4"
                                                    }), "Cancelar"]
                                                })]
                                            })]
                                        }) : e.jsxs("div", {
                                            className: "flex items-center justify-between",
                                            children: [e.jsxs("div", {
                                                className: "flex items-center gap-4",
                                                children: [e.jsxs("div", {
                                                    className: "flex items-center gap-2",
                                                    children: [K(L.active ? "completed" : "paused"), e.jsx(ye, {
                                                        variant: L.active ? "default" : "secondary",
                                                        children: L.type.toUpperCase()
                                                    }), e.jsx(ye, {
                                                        variant: L.isFullImport ? "destructive" : "outline",
                                                        children: L.isFullImport ? "Completa" : "Incremental"
                                                    })]
                                                }), e.jsxs("div", {
                                                    children: [e.jsxs("p", {
                                                        className: "font-medium",
                                                        children: ["Cada ", L.frequency]
                                                    }), e.jsxs("p", {
                                                        className: "text-sm text-muted-foreground",
                                                        children: [L.isFullImport ? "Todos los datos" : "Últimos 7 días", L.lastRun && ` • Última: ${new Date(L.lastRun).toLocaleString()}`, L.nextRun && ` • Próxima: ${new Date(L.nextRun).toLocaleString()}`]
                                                    }), L.days && L.days.length > 0 && e.jsxs("p", {
                                                        className: "text-sm text-muted-foreground",
                                                        children: ["Días: ", L.days.map(ee => ({
                                                            monday: "Lun",
                                                            tuesday: "Mar",
                                                            wednesday: "Mié",
                                                            thursday: "Jue",
                                                            friday: "Vie",
                                                            saturday: "Sáb",
                                                            sunday: "Dom"
                                                        })[ee]).join(", ")]
                                                    })]
                                                })]
                                            }), e.jsxs("div", {
                                                className: "flex items-center gap-2",
                                                children: [e.jsxs(T, {
                                                    variant: "outline",
                                                    size: "sm",
                                                    onClick: () => O(L),
                                                    className: "text-blue-600 hover:text-blue-700",
                                                    children: [e.jsx(Hs, {
                                                        className: "h-4 w-4 mr-1"
                                                    }), "Editar"]
                                                }), e.jsx(St, {
                                                    checked: L.active,
                                                    onCheckedChange: ee => he(L.id, ee)
                                                }), e.jsx(T, {
                                                    variant: "outline",
                                                    size: "sm",
                                                    onClick: () => D(L.id),
                                                    className: "text-red-600 hover:text-red-700",
                                                    children: e.jsx(Jt, {
                                                        className: "h-4 w-4"
                                                    })
                                                })]
                                            })]
                                        })
                                    }, L.id)), o.length === 0 && e.jsx("p", {
                                        className: "text-center text-muted-foreground py-8",
                                        children: "No hay programaciones configuradas"
                                    })]
                                })
                            })]
                        })]
                    }), e.jsx($e, {
                        value: "monitor",
                        className: "space-y-6",
                        children: e.jsx(uY, {
                            importHistory: C || [],
                            onControlImport: re,
                            onDeleteAllHistory: ue
                        })
                    }), e.jsx($e, {
                        value: "config",
                        className: "space-y-6",
                        children: e.jsxs("div", {
                            className: "grid grid-cols-1 md:grid-cols-2 gap-6",
                            children: [e.jsxs(U, {
                                children: [e.jsx(ne, {
                                    children: e.jsx(ae, {
                                        children: "Configuración del Sistema"
                                    })
                                }), e.jsxs(q, {
                                    className: "space-y-4",
                                    children: [e.jsxs("div", {
                                        className: "flex items-center space-x-2",
                                        children: [e.jsx(St, {
                                            id: "autoRefreshEnabled",
                                            checked: f,
                                            onCheckedChange: b
                                        }), e.jsxs(V, {
                                            htmlFor: "autoRefreshEnabled",
                                            children: ["Actualización automática de datos", e.jsx("span", {
                                                className: "block text-xs text-muted-foreground",
                                                children: "Actualiza automáticamente el historial y estado de las importaciones"
                                            })]
                                        })]
                                    }), e.jsx(Ca, {}), e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            children: "Intervalo de actualización automática"
                                        }), e.jsxs(He, {
                                            defaultValue: "5000",
                                            children: [e.jsx(qe, {
                                                children: e.jsx(We, {})
                                            }), e.jsxs(Be, {
                                                children: [e.jsx(Q, {
                                                    value: "2000",
                                                    children: "2 segundos"
                                                }), e.jsx(Q, {
                                                    value: "5000",
                                                    children: "5 segundos"
                                                }), e.jsx(Q, {
                                                    value: "10000",
                                                    children: "10 segundos"
                                                }), e.jsx(Q, {
                                                    value: "30000",
                                                    children: "30 segundos"
                                                })]
                                            })]
                                        })]
                                    }), e.jsx(Ca, {}), e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            children: "Tiempo límite de importación"
                                        }), e.jsxs(He, {
                                            defaultValue: "3600",
                                            children: [e.jsx(qe, {
                                                children: e.jsx(We, {})
                                            }), e.jsxs(Be, {
                                                children: [e.jsx(Q, {
                                                    value: "1800",
                                                    children: "30 minutos"
                                                }), e.jsx(Q, {
                                                    value: "3600",
                                                    children: "1 hora"
                                                }), e.jsx(Q, {
                                                    value: "7200",
                                                    children: "2 horas"
                                                }), e.jsx(Q, {
                                                    value: "14400",
                                                    children: "4 horas"
                                                })]
                                            })]
                                        })]
                                    })]
                                })]
                            }), e.jsxs(U, {
                                children: [e.jsx(ne, {
                                    children: e.jsxs("div", {
                                        className: "flex justify-between items-center",
                                        children: [e.jsx(ae, {
                                            children: "Estadísticas Generales"
                                        }), e.jsxs(T, {
                                            size: "sm",
                                            variant: "outline",
                                            onClick: Y,
                                            className: "text-orange-600 hover:text-orange-700",
                                            children: [e.jsx(Jt, {
                                                className: "h-3 w-3 mr-1"
                                            }), "Limpiar Estadísticas"]
                                        })]
                                    })
                                }), e.jsx(q, {
                                    children: A && e.jsxs("div", {
                                        className: "space-y-4",
                                        children: [e.jsxs("div", {
                                            className: "grid grid-cols-2 gap-4",
                                            children: [e.jsxs("div", {
                                                className: "text-center",
                                                children: [e.jsx("p", {
                                                    className: "text-2xl font-bold",
                                                    children: A.totalImports || 0
                                                }), e.jsx("p", {
                                                    className: "text-sm text-muted-foreground",
                                                    children: "Importaciones totales"
                                                })]
                                            }), e.jsxs("div", {
                                                className: "text-center",
                                                children: [e.jsxs("p", {
                                                    className: "text-2xl font-bold",
                                                    children: [A.successRate || 0, "%"]
                                                }), e.jsx("p", {
                                                    className: "text-sm text-muted-foreground",
                                                    children: "Tasa de éxito"
                                                })]
                                            })]
                                        }), e.jsx(Ca, {}), e.jsxs("div", {
                                            className: "space-y-2",
                                            children: [e.jsxs("p", {
                                                className: "text-sm",
                                                children: [e.jsx("span", {
                                                    className: "font-medium",
                                                    children: "Última importación:"
                                                }), " ", A.lastImport ? new Date(A.lastImport).toLocaleString() : "Nunca"]
                                            }), e.jsxs("p", {
                                                className: "text-sm",
                                                children: [e.jsx("span", {
                                                    className: "font-medium",
                                                    children: "Próxima programada:"
                                                }), " ", A.nextScheduled ? new Date(A.nextScheduled).toLocaleString() : "No programada"]
                                            })]
                                        })]
                                    })
                                })]
                            })]
                        })
                    })]
                })]
            })]
        })
    };
function JM({content: t, onChange: s, placeholder: r, className: n}) {
    const a = h.useRef(null),
        [i, o] = h.useState(!1),
        [l, c] = h.useState(t);
    h.useEffect(() => {
        if (c(t), a.current && a.current.innerHTML !== t) {
            const f = di.sanitize(t, {
                ALLOWED_TAGS: ["p", "br", "strong", "em", "u", "h1", "h2", "h3", "h4", "h5", "h6", "ul", "ol", "li", "a", "img", "div"],
                ALLOWED_ATTR: ["href", "target", "rel", "src", "alt", "style", "class"],
                ALLOWED_URI_REGEXP: /^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i
            });
            a.current.innerHTML = f
        }
    }, [t]);
    const d = () => {
            if (a.current) {
                const f = a.current.innerHTML;
                c(f),
                s(f)
            }
        },
        u = f => {
            if (c(f), s(f), a.current) {
                const b = di.sanitize(f, {
                    ALLOWED_TAGS: ["p", "br", "strong", "em", "u", "h1", "h2", "h3", "h4", "h5", "h6", "ul", "ol", "li", "a", "img", "div"],
                    ALLOWED_ATTR: ["href", "target", "rel", "src", "alt", "style", "class"],
                    ALLOWED_URI_REGEXP: /^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i
                });
                a.current.innerHTML = b
            }
        },
        m = (f, b) => {
            var N;
            try {
                document.queryCommandSupported && document.queryCommandSupported(f) ? document.execCommand(f, !1, b) : p(f, b)
            } catch (w) {
                console.warn("Error executing command:", f, w),
                p(f, b)
            }
            (N = a.current) == null || N.focus(),
            d()
        },
        p = (f, b) => {
            if (!a.current)
                return;
            const N = window.getSelection();
            if (!N || N.rangeCount === 0)
                return;
            const w = N.getRangeAt(0);
            switch (f) {
            case "bold":
                j("strong");
                break;
            case "italic":
                j("em");
                break;
            case "underline":
                j("u");
                break;
            case "createLink":
                if (b) {
                    const C = document.createElement("a");
                    C.href = b,
                    C.target = "_blank",
                    C.rel = "noopener noreferrer";
                    try {
                        w.surroundContents(C)
                    } catch {
                        w.deleteContents(),
                        w.insertNode(C)
                    }
                }
                break;
            case "insertImage":
                if (b) {
                    const C = document.createElement("img");
                    C.src = b,
                    C.style.maxWidth = "100%",
                    C.style.height = "auto",
                    w.insertNode(C)
                }
                break;
            case "insertUnorderedList":
                g("ul");
                break;
            default:
                if (f.startsWith("justify")) {
                    const C = f.replace("justify", "").toLowerCase(),
                        E = document.createElement("div");
                    E.style.textAlign = C === "left" ? "left" : C === "center" ? "center" : "right";
                    try {
                        w.surroundContents(E)
                    } catch {
                        w.deleteContents(),
                        w.insertNode(E)
                    }
                }
                break
            }
        },
        j = f => {
            const b = window.getSelection();
            if (!b || b.rangeCount === 0)
                return;
            const N = b.getRangeAt(0),
                w = N.toString();
            if (w) {
                const C = document.createElement(f);
                C.textContent = w,
                N.deleteContents(),
                N.insertNode(C)
            }
        },
        g = f => {
            const b = window.getSelection();
            if (!b || b.rangeCount === 0)
                return;
            const N = b.getRangeAt(0),
                w = N.toString();
            if (w) {
                const C = document.createElement(f),
                    E = document.createElement("li");
                E.textContent = w,
                C.appendChild(E),
                N.deleteContents(),
                N.insertNode(C)
            }
        },
        x = () => {
            const f = prompt("Ingrese la URL:");
            f && m("createLink", f)
        },
        y = () => {
            const f = prompt("Ingrese la URL de la imagen:");
            f && m("insertImage", f)
        },
        v = [{
            icon: yO,
            command: "bold",
            title: "Negrita"
        }, {
            icon: RO,
            command: "italic",
            title: "Cursiva"
        }, {
            icon: KO,
            command: "underline",
            title: "Subrayado"
        }, {
            icon: fO,
            command: "justifyLeft",
            title: "Alinear izquierda"
        }, {
            icon: pO,
            command: "justifyCenter",
            title: "Centrar"
        }, {
            icon: xO,
            command: "justifyRight",
            title: "Alinear derecha"
        }, {
            icon: Sf,
            command: "insertUnorderedList",
            title: "Lista"
        }];
    return e.jsx("div", {
        className: me("border rounded-lg overflow-hidden", n),
        children: e.jsxs(ls, {
            defaultValue: "visual",
            className: "w-full",
            children: [e.jsxs(es, {
                className: "grid w-full grid-cols-2",
                children: [e.jsx(Ue, {
                    value: "visual",
                    children: "Editor Visual"
                }), e.jsx(Ue, {
                    value: "html",
                    children: "Código HTML"
                })]
            }), e.jsxs($e, {
                value: "visual",
                className: "m-0",
                children: [e.jsxs("div", {
                    className: "border-b bg-gray-50 p-2 flex flex-wrap gap-1",
                    children: [v.map(f => e.jsx(T, {
                        variant: "ghost",
                        size: "sm",
                        className: "h-8 w-8 p-0",
                        onClick: () => m(f.command),
                        title: f.title,
                        type: "button",
                        children: e.jsx(f.icon, {
                            className: "h-4 w-4"
                        })
                    }, f.command)), e.jsx("div", {
                        className: "w-px h-6 bg-gray-300 mx-1"
                    }), e.jsx(T, {
                        variant: "ghost",
                        size: "sm",
                        className: "h-8 w-8 p-0",
                        onClick: x,
                        title: "Insertar enlace",
                        type: "button",
                        children: e.jsx(OO, {
                            className: "h-4 w-4"
                        })
                    }), e.jsx(T, {
                        variant: "ghost",
                        size: "sm",
                        className: "h-8 w-8 p-0",
                        onClick: y,
                        title: "Insertar imagen",
                        type: "button",
                        children: e.jsx(qs, {
                            className: "h-4 w-4"
                        })
                    }), e.jsx("div", {
                        className: "w-px h-6 bg-gray-300 mx-1"
                    }), e.jsxs("select", {
                        onChange: f => m("formatBlock", f.target.value),
                        className: "h-8 px-2 text-sm border rounded",
                        defaultValue: "",
                        children: [e.jsx("option", {
                            value: "",
                            children: "Formato"
                        }), e.jsx("option", {
                            value: "h1",
                            children: "Título 1"
                        }), e.jsx("option", {
                            value: "h2",
                            children: "Título 2"
                        }), e.jsx("option", {
                            value: "h3",
                            children: "Título 3"
                        }), e.jsx("option", {
                            value: "p",
                            children: "Párrafo"
                        })]
                    })]
                }), e.jsxs("div", {
                    className: "relative",
                    children: [e.jsx("div", {
                        ref: a,
                        contentEditable: !0,
                        onInput: d,
                        onFocus: () => o(!0),
                        onBlur: () => o(!1),
                        className: me("min-h-[300px] p-4 outline-none prose prose-sm max-w-none", "focus:ring-2 focus:ring-blue-500 focus:ring-inset", !t && !i && "text-gray-400"),
                        style: {
                            whiteSpace: "pre-wrap",
                            wordWrap: "break-word"
                        },
                        suppressContentEditableWarning: !0
                    }), !t && !i && e.jsx("div", {
                        className: "absolute top-4 left-4 text-gray-400 pointer-events-none",
                        children: r || "Escriba el contenido aquí..."
                    })]
                })]
            }), e.jsx($e, {
                value: "html",
                className: "m-0",
                children: e.jsx(Ut, {
                    value: l,
                    onChange: f => u(f.target.value),
                    placeholder: "Ingrese el código HTML aquí...",
                    className: "min-h-[400px] font-mono text-sm border-0 rounded-none resize-none"
                })
            })]
        })
    })
}
function hY() {
    const [t, s] = h.useState("pages"),
        [r, n] = h.useState(null),
        [a, i] = h.useState(null),
        [o, l] = h.useState({}),
        [c, d] = h.useState({}),
        [u, m] = h.useState(!1),
        [p, j] = h.useState(!1),
        {toast: g} = st(),
        x = pr(),
        {data: y, isLoading: v} = Te({
            queryKey: ["/api/admin/cms/pages"],
            queryFn: async () => {
                const A = await fetch("/api/admin/cms/pages", {
                    credentials: "include"
                });
                if (!A.ok)
                    throw new Error("Error al cargar páginas");
                return A.json()
            }
        }),
        {data: f, isLoading: b} = Te({
            queryKey: ["/api/admin/cms/footer-blocks"],
            queryFn: async () => {
                const A = await fetch("/api/admin/cms/footer-blocks", {
                    credentials: "include"
                });
                if (!A.ok)
                    throw new Error("Error al cargar bloques");
                return A.json()
            }
        }),
        {data: N, isLoading: w, error: C} = Te({
            queryKey: ["/api/cms/site-settings"],
            queryFn: async () => {
                const A = await fetch("/api/cms/site-settings", {
                    credentials: "include"
                });
                if (!A.ok)
                    throw new Error("Error al cargar configuraciones");
                return A.json()
            }
        }),
        E = async () => {
            try {
                const A = r ? "PUT" : "POST",
                    $ = r ? `/api/admin/cms/pages/${r.id}` : "/api/admin/cms/pages";
                if (!(await fetch($, {
                    method: A,
                    headers: {
                        "Content-Type": "application/json"
                    },
                    credentials: "include",
                    body: JSON.stringify(o)
                })).ok)
                    throw new Error("Error al guardar página");
                x.invalidateQueries({
                    queryKey: ["/api/admin/cms/pages"]
                }),
                n(null),
                l({}),
                m(!1),
                g({
                    title: r ? "Página actualizada exitosamente" : "Página creada exitosamente"
                })
            } catch {
                g({
                    title: "Error al guardar página",
                    variant: "destructive"
                })
            }
        },
        k = async A => {
            try {
                if (!(await fetch(`/api/admin/cms/pages/${A}`, {
                    method: "DELETE",
                    credentials: "include"
                })).ok)
                    throw new Error("Error al eliminar página");
                x.invalidateQueries({
                    queryKey: ["/api/admin/cms/pages"]
                }),
                g({
                    title: "Página eliminada exitosamente"
                })
            } catch {
                g({
                    title: "Error al eliminar página",
                    variant: "destructive"
                })
            }
        },
        R = async () => {
            try {
                const A = a ? "PUT" : "POST",
                    $ = a ? `/api/admin/cms/footer-blocks/${a.id}` : "/api/admin/cms/footer-blocks";
                if (!(await fetch($, {
                    method: A,
                    headers: {
                        "Content-Type": "application/json"
                    },
                    credentials: "include",
                    body: JSON.stringify(c)
                })).ok)
                    throw new Error("Error al guardar bloque");
                x.invalidateQueries({
                    queryKey: ["/api/admin/cms/footer-blocks"]
                }),
                i(null),
                d({}),
                j(!1),
                g({
                    title: a ? "Bloque actualizado exitosamente" : "Bloque creado exitosamente"
                })
            } catch {
                g({
                    title: "Error al guardar bloque",
                    variant: "destructive"
                })
            }
        },
        H = async A => {
            try {
                if (!(await fetch(`/api/admin/cms/footer-blocks/${A}`, {
                    method: "DELETE",
                    credentials: "include"
                })).ok)
                    throw new Error("Error al eliminar bloque");
                x.invalidateQueries({
                    queryKey: ["/api/admin/cms/footer-blocks"]
                }),
                g({
                    title: "Bloque eliminado exitosamente"
                })
            } catch {
                g({
                    title: "Error al eliminar bloque",
                    variant: "destructive"
                })
            }
        },
        z = async (A, $) => {
            try {
                if (!(await fetch(`/api/cms/site-settings/${A}`, {
                    method: "PUT",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    credentials: "include",
                    body: JSON.stringify({
                        value: $
                    })
                })).ok)
                    throw new Error("Error al actualizar configuración");
                x.invalidateQueries({
                    queryKey: ["/api/cms/site-settings"]
                }),
                g({
                    title: "Configuración actualizada exitosamente"
                })
            } catch {
                g({
                    title: "Error al actualizar configuración",
                    variant: "destructive"
                })
            }
        };
    return e.jsxs("div", {
        className: "flex min-h-screen bg-background",
        children: [e.jsx($s, {
            activeTab: "admin_cms"
        }), e.jsxs("div", {
            className: "flex-1 p-6",
            children: [e.jsx("h1", {
                className: "text-3xl font-bold mb-8",
                children: "Sistema de Gestión de Contenido"
            }), e.jsxs("div", {
                className: "flex space-x-2 mb-6 border-b pb-4",
                children: [e.jsx(T, {
                    variant: t === "pages" ? "default" : "outline",
                    onClick: () => s("pages"),
                    children: "Páginas"
                }), e.jsx(T, {
                    variant: t === "footer" ? "default" : "outline",
                    onClick: () => s("footer"),
                    children: "Footer"
                }), e.jsx(T, {
                    variant: t === "settings" ? "default" : "outline",
                    onClick: () => s("settings"),
                    children: "Configuraciones"
                })]
            }), t === "pages" && e.jsxs("div", {
                className: "space-y-6",
                children: [e.jsxs("div", {
                    className: "flex justify-between items-center",
                    children: [e.jsx("h2", {
                        className: "text-2xl font-semibold",
                        children: "Gestión de Páginas"
                    }), e.jsxs(T, {
                        onClick: () => {
                            m(!0),
                            l({
                                title: "",
                                slug: "",
                                content: "",
                                metaDescription: "",
                                isPublished: !0,
                                isEditable: !0,
                                pageType: "static"
                            })
                        },
                        children: [e.jsx(on, {
                            className: "w-4 h-4 mr-2"
                        }), "Nueva Página"]
                    })]
                }), e.jsxs("div", {
                    className: "grid grid-cols-1 lg:grid-cols-2 gap-6",
                    children: [e.jsxs(U, {
                        children: [e.jsx(ne, {
                            children: e.jsx(ae, {
                                children: "Páginas Existentes"
                            })
                        }), e.jsx(q, {
                            className: "space-y-4",
                            children: v ? e.jsx("div", {
                                children: "Cargando páginas..."
                            }) : y == null ? void 0 : y.map(A => e.jsxs("div", {
                                className: "flex items-center justify-between p-4 border rounded-lg",
                                children: [e.jsxs("div", {
                                    className: "space-y-1",
                                    children: [e.jsx("h3", {
                                        className: "font-medium",
                                        children: A.title
                                    }), e.jsxs("p", {
                                        className: "text-sm text-muted-foreground",
                                        children: ["/", A.slug]
                                    }), e.jsxs("div", {
                                        className: "flex gap-2",
                                        children: [e.jsx(ye, {
                                            variant: A.isPublished ? "default" : "secondary",
                                            children: A.isPublished ? "Publicada" : "Borrador"
                                        }), e.jsx(ye, {
                                            variant: "outline",
                                            children: A.pageType
                                        })]
                                    })]
                                }), e.jsxs("div", {
                                    className: "flex gap-2",
                                    children: [e.jsx(T, {
                                        size: "sm",
                                        variant: "outline",
                                        onClick: () => {
                                            n(A),
                                            l(A),
                                            m(!1)
                                        },
                                        children: e.jsx(Br, {
                                            className: "w-4 h-4"
                                        })
                                    }), A.isEditable && e.jsx(T, {
                                        size: "sm",
                                        variant: "destructive",
                                        onClick: () => k(A.id),
                                        children: e.jsx(Jt, {
                                            className: "w-4 h-4"
                                        })
                                    })]
                                })]
                            }, A.id))
                        })]
                    }), (r || u) && e.jsxs(U, {
                        children: [e.jsx(ne, {
                            children: e.jsx(ae, {
                                children: u ? "Nueva Página" : `Editando: ${r == null ? void 0 : r.title}`
                            })
                        }), e.jsxs(q, {
                            className: "space-y-4",
                            children: [e.jsxs("div", {
                                className: "space-y-2",
                                children: [e.jsx(V, {
                                    htmlFor: "title",
                                    children: "Título"
                                }), e.jsx(te, {
                                    id: "title",
                                    value: o.title || "",
                                    onChange: A => l({
                                        ...o,
                                        title: A.target.value
                                    }),
                                    placeholder: "Título de la página"
                                })]
                            }), e.jsxs("div", {
                                className: "space-y-2",
                                children: [e.jsx(V, {
                                    htmlFor: "slug",
                                    children: "Slug (URL)"
                                }), e.jsx(te, {
                                    id: "slug",
                                    value: o.slug || "",
                                    onChange: A => l({
                                        ...o,
                                        slug: A.target.value
                                    }),
                                    placeholder: "url-de-la-pagina"
                                })]
                            }), e.jsxs("div", {
                                className: "space-y-2",
                                children: [e.jsx(V, {
                                    htmlFor: "content",
                                    children: "Contenido"
                                }), e.jsx(JM, {
                                    content: o.content || "",
                                    onChange: A => l({
                                        ...o,
                                        content: A
                                    }),
                                    placeholder: "Escriba el contenido de la página aquí...",
                                    className: "min-h-[400px]"
                                })]
                            }), e.jsxs("div", {
                                className: "flex items-center space-x-2",
                                children: [e.jsx(St, {
                                    id: "isPublished",
                                    checked: o.isPublished || !1,
                                    onCheckedChange: A => l({
                                        ...o,
                                        isPublished: A
                                    })
                                }), e.jsx(V, {
                                    htmlFor: "isPublished",
                                    children: "Página publicada"
                                })]
                            }), e.jsxs("div", {
                                className: "flex gap-2",
                                children: [e.jsxs(T, {
                                    onClick: E,
                                    children: [e.jsx(wn, {
                                        className: "w-4 h-4 mr-2"
                                    }), "Guardar"]
                                }), e.jsxs(T, {
                                    variant: "outline",
                                    onClick: () => {
                                        n(null),
                                        l({}),
                                        m(!1)
                                    },
                                    children: [e.jsx(tr, {
                                        className: "w-4 h-4 mr-2"
                                    }), "Cancelar"]
                                })]
                            })]
                        })]
                    })]
                })]
            }), t === "footer" && e.jsxs("div", {
                className: "space-y-6",
                children: [e.jsxs("div", {
                    className: "flex justify-between items-center",
                    children: [e.jsx("h2", {
                        className: "text-2xl font-semibold",
                        children: "Gestión del Footer"
                    }), e.jsxs(T, {
                        onClick: () => {
                            j(!0),
                            d({
                                title: "",
                                content: "",
                                blockType: "text",
                                sortOrder: 0,
                                isActive: !0
                            })
                        },
                        children: [e.jsx(on, {
                            className: "w-4 h-4 mr-2"
                        }), "Nuevo Bloque"]
                    })]
                }), e.jsxs("div", {
                    className: "grid grid-cols-1 lg:grid-cols-2 gap-6",
                    children: [e.jsxs(U, {
                        children: [e.jsx(ne, {
                            children: e.jsx(ae, {
                                children: "Bloques del Footer"
                            })
                        }), e.jsx(q, {
                            className: "space-y-4",
                            children: b ? e.jsx("div", {
                                children: "Cargando bloques..."
                            }) : f == null ? void 0 : f.map(A => e.jsxs("div", {
                                className: "flex items-center justify-between p-4 border rounded-lg",
                                children: [e.jsxs("div", {
                                    className: "space-y-1",
                                    children: [e.jsx("h3", {
                                        className: "font-medium",
                                        children: A.title
                                    }), e.jsx("p", {
                                        className: "text-sm text-muted-foreground line-clamp-2",
                                        children: A.content
                                    }), e.jsx(ye, {
                                        variant: A.isActive ? "default" : "secondary",
                                        children: A.isActive ? "Activo" : "Inactivo"
                                    })]
                                }), e.jsxs("div", {
                                    className: "flex gap-2",
                                    children: [e.jsx(T, {
                                        size: "sm",
                                        variant: "outline",
                                        onClick: () => {
                                            i(A),
                                            d(A),
                                            j(!1)
                                        },
                                        children: e.jsx(Br, {
                                            className: "w-4 h-4"
                                        })
                                    }), e.jsx(T, {
                                        size: "sm",
                                        variant: "destructive",
                                        onClick: () => H(A.id),
                                        children: e.jsx(Jt, {
                                            className: "w-4 h-4"
                                        })
                                    })]
                                })]
                            }, A.id))
                        })]
                    }), (a || p) && e.jsxs(U, {
                        children: [e.jsx(ne, {
                            children: e.jsx(ae, {
                                children: p ? "Nuevo Bloque" : `Editando: ${a == null ? void 0 : a.title}`
                            })
                        }), e.jsxs(q, {
                            className: "space-y-4",
                            children: [e.jsxs("div", {
                                className: "space-y-2",
                                children: [e.jsx(V, {
                                    htmlFor: "block-title",
                                    children: "Título"
                                }), e.jsx(te, {
                                    id: "block-title",
                                    value: c.title || "",
                                    onChange: A => d({
                                        ...c,
                                        title: A.target.value
                                    }),
                                    placeholder: "Título del bloque"
                                })]
                            }), e.jsxs("div", {
                                className: "space-y-2",
                                children: [e.jsx(V, {
                                    htmlFor: "block-content",
                                    children: "Contenido"
                                }), e.jsx(Ut, {
                                    id: "block-content",
                                    value: c.content || "",
                                    onChange: A => d({
                                        ...c,
                                        content: A.target.value
                                    }),
                                    placeholder: "Contenido del bloque",
                                    rows: 6
                                })]
                            }), e.jsxs("div", {
                                className: "flex gap-2",
                                children: [e.jsxs(T, {
                                    onClick: R,
                                    children: [e.jsx(wn, {
                                        className: "w-4 h-4 mr-2"
                                    }), "Guardar"]
                                }), e.jsxs(T, {
                                    variant: "outline",
                                    onClick: () => {
                                        i(null),
                                        d({}),
                                        j(!1)
                                    },
                                    children: [e.jsx(tr, {
                                        className: "w-4 h-4 mr-2"
                                    }), "Cancelar"]
                                })]
                            })]
                        })]
                    })]
                })]
            }), t === "settings" && e.jsxs("div", {
                className: "space-y-6",
                children: [e.jsx("h2", {
                    className: "text-2xl font-semibold",
                    children: "Configuraciones del Sitio"
                }), e.jsxs("div", {
                    className: "grid grid-cols-1 lg:grid-cols-2 gap-6",
                    children: [e.jsxs(U, {
                        children: [e.jsx(ne, {
                            children: e.jsxs(ae, {
                                className: "flex items-center gap-2",
                                children: [e.jsx(Hs, {
                                    className: "w-5 h-5"
                                }), "Configuración del Header"]
                            })
                        }), e.jsx(q, {
                            className: "space-y-4",
                            children: w ? e.jsx("div", {
                                children: "Cargando configuraciones..."
                            }) : N == null ? void 0 : N.filter(A => A.category === "header").map(A => e.jsxs("div", {
                                className: "space-y-2",
                                children: [e.jsxs("div", {
                                    className: "flex items-center justify-between",
                                    children: [e.jsx("div", {
                                        children: e.jsx(V, {
                                            htmlFor: A.key,
                                            children: A.description || A.key
                                        })
                                    }), e.jsx(ye, {
                                        variant: "outline",
                                        children: "header"
                                    })]
                                }), A.type === "boolean" ? e.jsxs("div", {
                                    className: "flex items-center space-x-2",
                                    children: [e.jsx(St, {
                                        id: A.key,
                                        defaultChecked: A.value === "true",
                                        onCheckedChange: $ => {
                                            z(A.key, $.toString())
                                        }
                                    }), e.jsx(V, {
                                        htmlFor: A.key,
                                        children: A.value === "true" ? "Activado" : "Desactivado"
                                    })]
                                }) : e.jsx(te, {
                                    id: A.key,
                                    defaultValue: A.value,
                                    onBlur: $ => {
                                        $.target.value !== A.value && z(A.key, $.target.value)
                                    },
                                    className: "bg-gray-50"
                                })]
                            }, A.id))
                        })]
                    }), e.jsxs(U, {
                        children: [e.jsx(ne, {
                            children: e.jsxs(ae, {
                                className: "flex items-center gap-2",
                                children: [e.jsx(Rj, {
                                    className: "w-5 h-5"
                                }), "Configuración General"]
                            })
                        }), e.jsx(q, {
                            className: "space-y-4",
                            children: w ? e.jsx("div", {
                                children: "Cargando configuraciones..."
                            }) : N == null ? void 0 : N.filter(A => A.category === "general").map(A => e.jsxs("div", {
                                className: "space-y-2",
                                children: [e.jsxs("div", {
                                    className: "flex items-center justify-between",
                                    children: [e.jsx("div", {
                                        children: e.jsx(V, {
                                            htmlFor: A.key,
                                            children: A.description || A.key
                                        })
                                    }), e.jsx(ye, {
                                        variant: "outline",
                                        children: "general"
                                    })]
                                }), A.type === "json" ? e.jsx(Ut, {
                                    id: A.key,
                                    defaultValue: A.value,
                                    onBlur: $ => {
                                        $.target.value !== A.value && z(A.key, $.target.value)
                                    },
                                    rows: 4,
                                    className: "bg-gray-50 font-mono text-sm"
                                }) : e.jsx(te, {
                                    id: A.key,
                                    defaultValue: A.value,
                                    onBlur: $ => {
                                        $.target.value !== A.value && z(A.key, $.target.value)
                                    },
                                    className: "bg-gray-50"
                                })]
                            }, A.id))
                        })]
                    }), e.jsxs(U, {
                        children: [e.jsx(ne, {
                            children: e.jsxs(ae, {
                                className: "flex items-center gap-2",
                                children: [e.jsx(Xn, {
                                    className: "w-5 h-5"
                                }), "Información de Contacto"]
                            })
                        }), e.jsx(q, {
                            className: "space-y-4",
                            children: N == null ? void 0 : N.filter(A => A.category === "contact").map(A => e.jsxs("div", {
                                className: "space-y-2",
                                children: [e.jsxs("div", {
                                    className: "flex items-center justify-between",
                                    children: [e.jsx("div", {
                                        children: e.jsx(V, {
                                            htmlFor: A.key,
                                            children: A.description || A.key
                                        })
                                    }), e.jsx(ye, {
                                        variant: "outline",
                                        children: "contacto"
                                    })]
                                }), e.jsx(te, {
                                    id: A.key,
                                    type: A.type === "email" ? "email" : "text",
                                    defaultValue: A.value,
                                    onBlur: $ => {
                                        $.target.value !== A.value && z(A.key, $.target.value)
                                    },
                                    className: "bg-gray-50"
                                })]
                            }, A.id))
                        })]
                    }), e.jsxs(U, {
                        children: [e.jsx(ne, {
                            children: e.jsxs(ae, {
                                className: "flex items-center gap-2",
                                children: [e.jsx(HE, {
                                    className: "w-5 h-5"
                                }), "Configuración del Footer"]
                            })
                        }), e.jsx(q, {
                            className: "space-y-4",
                            children: N == null ? void 0 : N.filter(A => A.category === "footer").map(A => e.jsxs("div", {
                                className: "space-y-2",
                                children: [e.jsxs("div", {
                                    className: "flex items-center justify-between",
                                    children: [e.jsx("div", {
                                        children: e.jsx(V, {
                                            htmlFor: A.key,
                                            children: A.description || A.key
                                        })
                                    }), e.jsx(ye, {
                                        variant: "outline",
                                        children: "footer"
                                    })]
                                }), A.type === "json" ? e.jsx(Ut, {
                                    id: A.key,
                                    defaultValue: A.value,
                                    onBlur: $ => {
                                        $.target.value !== A.value && z(A.key, $.target.value)
                                    },
                                    rows: 4,
                                    className: "bg-gray-50 font-mono text-sm"
                                }) : e.jsx(te, {
                                    id: A.key,
                                    defaultValue: A.value,
                                    onBlur: $ => {
                                        $.target.value !== A.value && z(A.key, $.target.value)
                                    },
                                    className: "bg-gray-50"
                                })]
                            }, A.id))
                        })]
                    })]
                }), e.jsxs(U, {
                    children: [e.jsx(ne, {
                        children: e.jsxs(ae, {
                            className: "flex items-center gap-2",
                            children: [e.jsx(Ls, {
                                className: "w-5 h-5"
                            }), "Configuración de Formularios"]
                        })
                    }), e.jsx(q, {
                        children: e.jsx("div", {
                            className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                            children: N == null ? void 0 : N.filter(A => A.category === "forms").map(A => e.jsxs("div", {
                                className: "space-y-2",
                                children: [e.jsxs("div", {
                                    className: "flex items-center justify-between",
                                    children: [e.jsx("div", {
                                        children: e.jsx(V, {
                                            htmlFor: A.key,
                                            children: A.description || A.key
                                        })
                                    }), e.jsx(ye, {
                                        variant: "outline",
                                        children: "formularios"
                                    })]
                                }), e.jsx(te, {
                                    id: A.key,
                                    type: "email",
                                    defaultValue: A.value,
                                    onBlur: $ => {
                                        $.target.value !== A.value && z(A.key, $.target.value)
                                    },
                                    className: "bg-gray-50"
                                })]
                            }, A.id))
                        })
                    })]
                })]
            })]
        })]
    })
}
function pY() {
    const [, t] = ut(),
        [s, r] = h.useState(null),
        [n, a] = h.useState(""),
        [i, o] = h.useState(!1),
        l = () => {
            if (!s)
                return;
            if (o(!0), s.formHtml) {
                const p = document.createElement("div"),
                    x = new DOMParser().parseFromString(s.formHtml, "text/html").querySelector("form");
                x && p.appendChild(x.cloneNode(!0));
                const y = p.querySelector("form");
                if (y) {
                    y.style.display = "none",
                    document.body.appendChild(y),
                    y.querySelector('input[name="Ds_SignatureVersion"]'),
                    y.querySelector('input[name="Ds_MerchantParameters"]'),
                    y.querySelector('input[name="Ds_Signature"]'),
                    y.submit(),
                    sessionStorage.removeItem("redsysPaymentData");
                    return
                }
            }
            const c = document.createElement("form");
            c.method = "POST",
            c.action = s.actionUrl,
            c.acceptCharset = "UTF-8",
            c.enctype = "application/x-www-form-urlencoded",
            c.style.display = "none";
            const d = document.createElement("input");
            d.type = "hidden",
            d.name = "Ds_SignatureVersion",
            d.value = "HMAC_SHA256_V1",
            c.appendChild(d);
            const u = document.createElement("input");
            u.type = "hidden",
            u.name = "Ds_MerchantParameters",
            u.value = s.merchantParameters,
            c.appendChild(u);
            const m = document.createElement("input");
            m.type = "hidden",
            m.name = "Ds_Signature",
            m.value = s.signature,
            c.appendChild(m),
            document.body.appendChild(c),
            c.submit(),
            sessionStorage.removeItem("redsysPaymentData")
        };
    return h.useEffect(() => {
        const c = sessionStorage.getItem("redsysPaymentData");
        if (!c) {
            a("No se encontraron datos de pago. Redirigiendo al checkout..."),
            setTimeout(() => t("/checkout"), 3e3);
            return
        }
        try {
            const d = JSON.parse(c);
            r(d),
            setTimeout(() => {
                l()
            }, 1500)
        } catch {
            a("Error al procesar los datos de pago")
        }
    }, [t]), n ? e.jsx("div", {
        className: "min-h-screen flex items-center justify-center bg-gray-50",
        children: e.jsx("div", {
            className: "max-w-md w-full bg-white rounded-lg shadow-md p-6",
            children: e.jsxs("div", {
                className: "text-center",
                children: [e.jsx("div", {
                    className: "w-12 h-12 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",
                    children: e.jsx("svg", {
                        className: "w-6 h-6 text-red-600",
                        fill: "none",
                        stroke: "currentColor",
                        viewBox: "0 0 24 24",
                        children: e.jsx("path", {
                            strokeLinecap: "round",
                            strokeLinejoin: "round",
                            strokeWidth: 2,
                            d: "M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.082 16.5c-.77.833.192 2.5 1.732 2.5z"
                        })
                    })
                }), e.jsx("h2", {
                    className: "text-xl font-semibold text-gray-900 mb-2",
                    children: "Error en el proceso de pago"
                }), e.jsx("p", {
                    className: "text-gray-600 mb-4",
                    children: n
                }), e.jsx("button", {
                    onClick: () => t("/checkout"),
                    className: "w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",
                    children: "Volver al checkout"
                })]
            })
        })
    }) : s ? e.jsx("div", {
        className: "min-h-screen flex items-center justify-center bg-gray-50",
        children: e.jsx("div", {
            className: "max-w-md w-full bg-white rounded-lg shadow-md p-6",
            children: e.jsxs("div", {
                className: "text-center",
                children: [e.jsx("div", {
                    className: "w-12 h-12 mx-auto mb-4 bg-blue-100 rounded-full flex items-center justify-center",
                    children: e.jsx("svg", {
                        className: "w-6 h-6 text-blue-600",
                        fill: "none",
                        stroke: "currentColor",
                        viewBox: "0 0 24 24",
                        children: e.jsx("path", {
                            strokeLinecap: "round",
                            strokeLinejoin: "round",
                            strokeWidth: 2,
                            d: "M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"
                        })
                    })
                }), e.jsx("h2", {
                    className: "text-xl font-semibold text-gray-900 mb-2",
                    children: "Redirigiendo al pago seguro"
                }), e.jsx("p", {
                    className: "text-gray-600 mb-4",
                    children: "Estás siendo redirigido a la pasarela de pago segura de Redsys para completar tu compra."
                }), e.jsx("div", {
                    className: "bg-gray-50 rounded-lg p-4 mb-6",
                    children: e.jsxs("div", {
                        className: "text-sm text-gray-600 mb-2",
                        children: [e.jsxs("div", {
                            className: "flex justify-between",
                            children: [e.jsx("span", {
                                children: "Pedido:"
                            }), e.jsx("span", {
                                className: "font-medium",
                                children: s.reference || s.orderNumber || "N/A"
                            })]
                        }), e.jsxs("div", {
                            className: "flex justify-between",
                            children: [e.jsx("span", {
                                children: "Importe:"
                            }), e.jsxs("span", {
                                className: "font-medium",
                                children: [s.totalAmount ? s.totalAmount.toFixed(2) : s.amount ? (s.amount / 100).toFixed(2) : "0.00", "€"]
                            })]
                        })]
                    })
                }), i ? e.jsx("div", {
                    className: "w-full bg-green-600 text-white py-3 px-4 rounded-lg font-medium",
                    children: e.jsxs("div", {
                        className: "flex items-center justify-center",
                        children: [e.jsx("div", {
                            className: "animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"
                        }), "Redirigiendo a Redsys..."]
                    })
                }) : e.jsx("button", {
                    onClick: l,
                    className: "w-full bg-red-600 text-white py-3 px-4 rounded-lg hover:bg-red-700 transition-colors font-medium",
                    children: "Continuar con el pago en Redsys"
                }), e.jsx("p", {
                    className: "text-xs text-gray-500 mt-4",
                    children: "Si no eres redirigido automáticamente, haz clic en el botón de arriba."
                })]
            })
        })
    }) : e.jsx("div", {
        className: "min-h-screen flex items-center justify-center bg-gray-50",
        children: e.jsxs("div", {
            className: "text-center",
            children: [e.jsx("div", {
                className: "animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"
            }), e.jsx("p", {
                className: "text-gray-600",
                children: "Preparando el pago..."
            })]
        })
    })
}
function fY() {
    const [t, s] = h.useState("pages"),
        [r, n] = h.useState(null),
        [a, i] = h.useState(null),
        [o, l] = h.useState({}),
        [c, d] = h.useState({}),
        [u, m] = h.useState(!1),
        [p, j] = h.useState(!1),
        [g, x] = h.useState({}),
        [y, v] = h.useState({}),
        {toast: f} = st(),
        b = pr(),
        {data: N, isLoading: w} = Te({
            queryKey: ["/api/admin/cms/pages"],
            queryFn: async () => {
                const _ = await fetch("/api/admin/cms/pages", {
                    credentials: "include"
                });
                if (!_.ok)
                    throw new Error("Error al cargar páginas");
                return _.json()
            }
        }),
        {data: C, isLoading: E} = Te({
            queryKey: ["/api/admin/cms/footer-blocks"],
            queryFn: async () => {
                const _ = await fetch("/api/admin/cms/footer-blocks", {
                    credentials: "include"
                });
                if (!_.ok)
                    throw new Error("Error al cargar bloques");
                return _.json()
            }
        }),
        {data: k, isLoading: R} = Te({
            queryKey: ["/api/cms/site-settings"],
            queryFn: async () => {
                const _ = await fetch("/api/cms/site-settings", {
                    credentials: "include"
                });
                if (!_.ok)
                    throw new Error("Error al cargar configuraciones");
                return _.json()
            }
        }),
        H = async (_, S) => {
            x(I => ({
                ...I,
                [_]: !0
            }));
            try {
                if (!(await fetch(`/api/cms/site-settings/${_}`, {
                    method: "PUT",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    credentials: "include",
                    body: JSON.stringify({
                        value: S
                    })
                })).ok)
                    throw new Error("Error al actualizar configuración");
                b.invalidateQueries({
                    queryKey: ["/api/cms/site-settings"]
                }),
                v(W => {
                    const oe = {
                        ...W
                    };
                    return delete oe[_], oe
                }),
                f({
                    title: "Configuración guardada",
                    description: "Los cambios se han guardado correctamente"
                })
            } catch {
                f({
                    title: "Error al guardar",
                    description: "No se pudo guardar la configuración",
                    variant: "destructive"
                })
            } finally {
                x(I => ({
                    ...I,
                    [_]: !1
                }))
            }
        },
        z = (_, S) => {
            v(I => ({
                ...I,
                [_]: S
            }))
        },
        A = async () => {
            x(_ => ({
                ..._,
                page: !0
            }));
            try {
                const _ = r ? "PUT" : "POST",
                    S = r ? `/api/admin/cms/pages/${r.id}` : "/api/admin/cms/pages";
                if (!(await fetch(S, {
                    method: _,
                    headers: {
                        "Content-Type": "application/json"
                    },
                    credentials: "include",
                    body: JSON.stringify(o)
                })).ok)
                    throw new Error("Error al guardar página");
                b.invalidateQueries({
                    queryKey: ["/api/admin/cms/pages"]
                }),
                n(null),
                l({}),
                m(!1),
                f({
                    title: r ? "Página actualizada" : "Página creada"
                })
            } catch {
                f({
                    title: "Error al guardar página",
                    variant: "destructive"
                })
            } finally {
                x(_ => ({
                    ..._,
                    page: !1
                }))
            }
        },
        $ = async () => {
            x(_ => ({
                ..._,
                block: !0
            }));
            try {
                const _ = a ? "PUT" : "POST",
                    S = a ? `/api/admin/cms/footer-blocks/${a.id}` : "/api/admin/cms/footer-blocks";
                if (!(await fetch(S, {
                    method: _,
                    headers: {
                        "Content-Type": "application/json"
                    },
                    credentials: "include",
                    body: JSON.stringify(c)
                })).ok)
                    throw new Error("Error al guardar bloque");
                b.invalidateQueries({
                    queryKey: ["/api/admin/cms/footer-blocks"]
                }),
                i(null),
                d({}),
                j(!1),
                f({
                    title: a ? "Bloque actualizado" : "Bloque creado"
                })
            } catch {
                f({
                    title: "Error al guardar bloque",
                    variant: "destructive"
                })
            } finally {
                x(_ => ({
                    ..._,
                    block: !1
                }))
            }
        },
        G = async _ => {
            try {
                if (!(await fetch(`/api/admin/cms/footer-blocks/${_}`, {
                    method: "DELETE",
                    credentials: "include"
                })).ok)
                    throw new Error("Error al eliminar bloque");
                b.invalidateQueries({
                    queryKey: ["/api/admin/cms/footer-blocks"]
                }),
                f({
                    title: "Bloque eliminado"
                })
            } catch {
                f({
                    title: "Error al eliminar bloque",
                    variant: "destructive"
                })
            }
        },
        F = _ => {
            var oe;
            const S = y[_.key] !== void 0,
                I = S ? y[_.key] : _.value,
                W = g[_.key];
            return e.jsxs("div", {
                className: "space-y-3 p-4 border rounded-lg bg-gray-50",
                children: [e.jsxs("div", {
                    className: "flex items-center justify-between",
                    children: [e.jsxs("div", {
                        className: "flex-1",
                        children: [e.jsx(V, {
                            htmlFor: _.key,
                            className: "text-sm font-medium",
                            children: _.description || _.key
                        }), e.jsxs("div", {
                            className: "flex items-center gap-2 mt-1",
                            children: [e.jsx(ye, {
                                variant: "outline",
                                className: "text-xs",
                                children: _.category
                            }), e.jsx(ye, {
                                variant: "outline",
                                className: "text-xs",
                                children: _.type
                            })]
                        })]
                    }), S && e.jsx(T, {
                        size: "sm",
                        onClick: () => H(_.key, I),
                        disabled: W,
                        className: "ml-2",
                        children: W ? e.jsx("div", {
                            className: "w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"
                        }) : e.jsx(wn, {
                            className: "w-4 h-4"
                        })
                    })]
                }), _.type === "boolean" ? e.jsxs("div", {
                    className: "flex items-center space-x-2",
                    children: [e.jsx(St, {
                        id: _.key,
                        checked: I === "true",
                        onCheckedChange: O => {
                            z(_.key, O.toString())
                        },
                        disabled: W
                    }), e.jsx(V, {
                        htmlFor: _.key,
                        className: "text-sm",
                        children: I === "true" ? "Activado" : "Desactivado"
                    })]
                }) : _.type === "json" ? e.jsx(Ut, {
                    id: _.key,
                    value: I,
                    onChange: O => z(_.key, O.target.value),
                    disabled: W,
                    rows: 4,
                    className: "font-mono text-sm",
                    placeholder: "Formato JSON válido"
                }) : _.type === "email" ? e.jsx(te, {
                    id: _.key,
                    type: "email",
                    value: I,
                    onChange: O => z(_.key, O.target.value),
                    disabled: W,
                    placeholder: "correo@ejemplo.com"
                }) : e.jsx(te, {
                    id: _.key,
                    value: I,
                    onChange: O => z(_.key, O.target.value),
                    disabled: W,
                    placeholder: `Ingrese ${((oe = _.description) == null ? void 0 : oe.toLowerCase()) || _.key}`
                })]
            }, _.id)
        };
    return e.jsxs("div", {
        className: "flex min-h-screen bg-background",
        children: [e.jsx($s, {
            activeTab: "admin_cms"
        }), e.jsxs("div", {
            className: "flex-1 p-6",
            children: [e.jsxs("div", {
                className: "mb-8",
                children: [e.jsx("h1", {
                    className: "text-3xl font-bold mb-2",
                    children: "Sistema de Gestión de Contenido"
                }), e.jsx("p", {
                    className: "text-muted-foreground",
                    children: "Gestiona páginas, bloques del footer y configuraciones del sitio web"
                })]
            }), e.jsxs(ls, {
                value: t,
                onValueChange: s,
                className: "w-full",
                children: [e.jsxs(es, {
                    className: "grid w-full grid-cols-4",
                    children: [e.jsxs(Ue, {
                        value: "pages",
                        className: "flex items-center gap-2",
                        children: [e.jsx(Kn, {
                            className: "w-4 h-4"
                        }), "Páginas"]
                    }), e.jsxs(Ue, {
                        value: "header",
                        className: "flex items-center gap-2",
                        children: [e.jsx(Bs, {
                            className: "w-4 h-4"
                        }), "Header"]
                    }), e.jsxs(Ue, {
                        value: "footer",
                        className: "flex items-center gap-2",
                        children: [e.jsx(HE, {
                            className: "w-4 h-4"
                        }), "Footer"]
                    }), e.jsxs(Ue, {
                        value: "settings",
                        className: "flex items-center gap-2",
                        children: [e.jsx(Hs, {
                            className: "w-4 h-4"
                        }), "Configuraciones"]
                    })]
                }), e.jsxs($e, {
                    value: "pages",
                    className: "space-y-6",
                    children: [e.jsxs("div", {
                        className: "flex justify-between items-center",
                        children: [e.jsx("h2", {
                            className: "text-2xl font-semibold",
                            children: "Gestión de Páginas"
                        }), e.jsxs(T, {
                            onClick: () => {
                                m(!0),
                                l({
                                    slug: "",
                                    title: "",
                                    content: "",
                                    metaDescription: "",
                                    isPublished: !1,
                                    isEditable: !0,
                                    pageType: "content"
                                })
                            },
                            children: [e.jsx(on, {
                                className: "w-4 h-4 mr-2"
                            }), "Nueva Página"]
                        })]
                    }), e.jsxs("div", {
                        className: "grid grid-cols-1 lg:grid-cols-2 gap-6",
                        children: [e.jsxs(U, {
                            children: [e.jsx(ne, {
                                children: e.jsx(ae, {
                                    children: "Páginas del Sitio"
                                })
                            }), e.jsx(q, {
                                className: "space-y-4",
                                children: w ? e.jsx("div", {
                                    children: "Cargando páginas..."
                                }) : N == null ? void 0 : N.map(_ => e.jsxs("div", {
                                    className: "flex items-center justify-between p-4 border rounded-lg",
                                    children: [e.jsxs("div", {
                                        className: "space-y-1",
                                        children: [e.jsx("h3", {
                                            className: "font-medium",
                                            children: _.title
                                        }), e.jsxs("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: ["/", _.slug]
                                        }), e.jsx(ye, {
                                            variant: _.isPublished ? "default" : "secondary",
                                            children: _.isPublished ? "Publicado" : "Borrador"
                                        })]
                                    }), e.jsx("div", {
                                        className: "flex gap-2",
                                        children: e.jsx(T, {
                                            size: "sm",
                                            variant: "outline",
                                            onClick: () => {
                                                n(_),
                                                l(_),
                                                m(!1)
                                            },
                                            children: e.jsx(Br, {
                                                className: "w-4 h-4"
                                            })
                                        })
                                    })]
                                }, _.id))
                            })]
                        }), (r || u) && e.jsxs(U, {
                            children: [e.jsx(ne, {
                                children: e.jsx(ae, {
                                    children: u ? "Nueva Página" : `Editando: ${r == null ? void 0 : r.title}`
                                })
                            }), e.jsxs(q, {
                                className: "space-y-4",
                                children: [e.jsxs("div", {
                                    className: "grid grid-cols-2 gap-4",
                                    children: [e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            htmlFor: "page-title",
                                            children: "Título"
                                        }), e.jsx(te, {
                                            id: "page-title",
                                            value: o.title || "",
                                            onChange: _ => l({
                                                ...o,
                                                title: _.target.value
                                            }),
                                            placeholder: "Título de la página"
                                        })]
                                    }), e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            htmlFor: "page-slug",
                                            children: "URL (slug)"
                                        }), e.jsx(te, {
                                            id: "page-slug",
                                            value: o.slug || "",
                                            onChange: _ => l({
                                                ...o,
                                                slug: _.target.value
                                            }),
                                            placeholder: "url-de-la-pagina"
                                        })]
                                    })]
                                }), e.jsxs("div", {
                                    className: "space-y-2",
                                    children: [e.jsx(V, {
                                        htmlFor: "page-meta",
                                        children: "Meta descripción"
                                    }), e.jsx(Ut, {
                                        id: "page-meta",
                                        value: o.metaDescription || "",
                                        onChange: _ => l({
                                            ...o,
                                            metaDescription: _.target.value
                                        }),
                                        placeholder: "Descripción para SEO (máx. 160 caracteres)",
                                        maxLength: 160
                                    })]
                                }), e.jsxs("div", {
                                    className: "space-y-2",
                                    children: [e.jsx(V, {
                                        htmlFor: "page-content",
                                        children: "Contenido"
                                    }), e.jsx(JM, {
                                        content: o.content || "",
                                        onChange: _ => l({
                                            ...o,
                                            content: _
                                        }),
                                        placeholder: "Escriba el contenido de la página aquí...",
                                        className: "min-h-[400px]"
                                    })]
                                }), e.jsxs("div", {
                                    className: "flex items-center space-x-2",
                                    children: [e.jsx(St, {
                                        id: "isPublished",
                                        checked: o.isPublished || !1,
                                        onCheckedChange: _ => l({
                                            ...o,
                                            isPublished: _
                                        })
                                    }), e.jsx(V, {
                                        htmlFor: "isPublished",
                                        children: "Página publicada"
                                    })]
                                }), e.jsxs("div", {
                                    className: "flex gap-2",
                                    children: [e.jsxs(T, {
                                        onClick: A,
                                        disabled: g.page,
                                        children: [g.page ? e.jsx("div", {
                                            className: "w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"
                                        }) : e.jsx(wn, {
                                            className: "w-4 h-4 mr-2"
                                        }), "Guardar"]
                                    }), e.jsxs(T, {
                                        variant: "outline",
                                        onClick: () => {
                                            n(null),
                                            l({}),
                                            m(!1)
                                        },
                                        children: [e.jsx(tr, {
                                            className: "w-4 h-4 mr-2"
                                        }), "Cancelar"]
                                    })]
                                })]
                            })]
                        })]
                    })]
                }), e.jsxs($e, {
                    value: "footer",
                    className: "space-y-6",
                    children: [e.jsxs("div", {
                        className: "flex justify-between items-center",
                        children: [e.jsx("h2", {
                            className: "text-2xl font-semibold",
                            children: "Gestión del Footer"
                        }), e.jsxs(T, {
                            onClick: () => {
                                j(!0),
                                d({
                                    title: "",
                                    content: "",
                                    blockType: "text",
                                    sortOrder: 0,
                                    isActive: !0
                                })
                            },
                            children: [e.jsx(on, {
                                className: "w-4 h-4 mr-2"
                            }), "Nuevo Bloque"]
                        })]
                    }), e.jsxs("div", {
                        className: "grid grid-cols-1 lg:grid-cols-2 gap-6",
                        children: [e.jsxs(U, {
                            children: [e.jsx(ne, {
                                children: e.jsx(ae, {
                                    children: "Bloques del Footer"
                                })
                            }), e.jsx(q, {
                                className: "space-y-4",
                                children: E ? e.jsx("div", {
                                    children: "Cargando bloques..."
                                }) : C == null ? void 0 : C.map(_ => e.jsxs("div", {
                                    className: "flex items-center justify-between p-4 border rounded-lg",
                                    children: [e.jsxs("div", {
                                        className: "space-y-1",
                                        children: [e.jsx("h3", {
                                            className: "font-medium",
                                            children: _.title
                                        }), e.jsx("p", {
                                            className: "text-sm text-muted-foreground line-clamp-2",
                                            children: _.content
                                        }), e.jsx(ye, {
                                            variant: _.isActive ? "default" : "secondary",
                                            children: _.isActive ? "Activo" : "Inactivo"
                                        })]
                                    }), e.jsxs("div", {
                                        className: "flex gap-2",
                                        children: [e.jsx(T, {
                                            size: "sm",
                                            variant: "outline",
                                            onClick: () => {
                                                i(_),
                                                d(_),
                                                j(!1)
                                            },
                                            children: e.jsx(Br, {
                                                className: "w-4 h-4"
                                            })
                                        }), e.jsx(T, {
                                            size: "sm",
                                            variant: "destructive",
                                            onClick: () => G(_.id),
                                            children: e.jsx(Jt, {
                                                className: "w-4 h-4"
                                            })
                                        })]
                                    })]
                                }, _.id))
                            })]
                        }), (a || p) && e.jsxs(U, {
                            children: [e.jsx(ne, {
                                children: e.jsx(ae, {
                                    children: p ? "Nuevo Bloque" : `Editando: ${a == null ? void 0 : a.title}`
                                })
                            }), e.jsxs(q, {
                                className: "space-y-4",
                                children: [e.jsxs("div", {
                                    className: "space-y-2",
                                    children: [e.jsx(V, {
                                        htmlFor: "block-title",
                                        children: "Título"
                                    }), e.jsx(te, {
                                        id: "block-title",
                                        value: c.title || "",
                                        onChange: _ => d({
                                            ...c,
                                            title: _.target.value
                                        }),
                                        placeholder: "Título del bloque"
                                    })]
                                }), e.jsxs("div", {
                                    className: "space-y-2",
                                    children: [e.jsx(V, {
                                        htmlFor: "block-content",
                                        children: "Contenido"
                                    }), e.jsx(Ut, {
                                        id: "block-content",
                                        value: c.content || "",
                                        onChange: _ => d({
                                            ...c,
                                            content: _.target.value
                                        }),
                                        placeholder: "Contenido del bloque",
                                        rows: 6
                                    })]
                                }), e.jsxs("div", {
                                    className: "grid grid-cols-2 gap-4",
                                    children: [e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            htmlFor: "block-type",
                                            children: "Tipo de Bloque"
                                        }), e.jsx(te, {
                                            id: "block-type",
                                            value: c.blockType || "",
                                            onChange: _ => d({
                                                ...c,
                                                blockType: _.target.value
                                            }),
                                            placeholder: "text, links, hours, etc."
                                        })]
                                    }), e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsx(V, {
                                            htmlFor: "block-order",
                                            children: "Orden"
                                        }), e.jsx(te, {
                                            id: "block-order",
                                            type: "number",
                                            value: c.sortOrder || 0,
                                            onChange: _ => d({
                                                ...c,
                                                sortOrder: parseInt(_.target.value)
                                            })
                                        })]
                                    })]
                                }), e.jsxs("div", {
                                    className: "flex items-center space-x-2",
                                    children: [e.jsx(St, {
                                        id: "block-active",
                                        checked: c.isActive || !1,
                                        onCheckedChange: _ => d({
                                            ...c,
                                            isActive: _
                                        })
                                    }), e.jsx(V, {
                                        htmlFor: "block-active",
                                        children: "Bloque activo"
                                    })]
                                }), e.jsxs("div", {
                                    className: "flex gap-2",
                                    children: [e.jsxs(T, {
                                        onClick: $,
                                        disabled: g.block,
                                        children: [g.block ? e.jsx("div", {
                                            className: "w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"
                                        }) : e.jsx(wn, {
                                            className: "w-4 h-4 mr-2"
                                        }), "Guardar"]
                                    }), e.jsxs(T, {
                                        variant: "outline",
                                        onClick: () => {
                                            i(null),
                                            d({}),
                                            j(!1)
                                        },
                                        children: [e.jsx(tr, {
                                            className: "w-4 h-4 mr-2"
                                        }), "Cancelar"]
                                    })]
                                })]
                            })]
                        })]
                    })]
                }), e.jsxs($e, {
                    value: "header",
                    className: "space-y-6",
                    children: [e.jsxs("div", {
                        className: "mb-6",
                        children: [e.jsx("h2", {
                            className: "text-2xl font-semibold mb-2",
                            children: "Configuración del Header"
                        }), e.jsx("p", {
                            className: "text-muted-foreground",
                            children: "Gestiona los horarios de atención, información de contacto y otros elementos del header."
                        })]
                    }), R ? e.jsx("div", {
                        className: "flex items-center justify-center p-8",
                        children: e.jsx("div", {
                            className: "animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"
                        })
                    }) : e.jsxs("div", {
                        className: "grid grid-cols-1 lg:grid-cols-2 gap-6",
                        children: [e.jsxs(U, {
                            children: [e.jsx(ne, {
                                children: e.jsxs(ae, {
                                    className: "flex items-center gap-2",
                                    children: [e.jsx(Bs, {
                                        className: "w-5 h-5"
                                    }), "Horarios de Atención"]
                                })
                            }), e.jsx(q, {
                                className: "space-y-4",
                                children: k == null ? void 0 : k.filter(_ => _.category === "header" && _.key.includes("hours")).map(F)
                            })]
                        }), e.jsxs(U, {
                            children: [e.jsx(ne, {
                                children: e.jsxs(ae, {
                                    className: "flex items-center gap-2",
                                    children: [e.jsx(Xn, {
                                        className: "w-5 h-5"
                                    }), "Contacto del Header"]
                                })
                            }), e.jsx(q, {
                                className: "space-y-4",
                                children: k == null ? void 0 : k.filter(_ => _.category === "header" && !_.key.includes("hours")).map(F)
                            })]
                        })]
                    })]
                }), e.jsxs($e, {
                    value: "settings",
                    className: "space-y-6",
                    children: [e.jsxs("div", {
                        className: "mb-6",
                        children: [e.jsx("h2", {
                            className: "text-2xl font-semibold mb-2",
                            children: "Configuraciones del Sitio"
                        }), e.jsx("p", {
                            className: "text-muted-foreground",
                            children: "Gestiona todas las configuraciones del sitio web de forma centralizada. Los cambios se guardan automáticamente al hacer clic en el botón guardar."
                        })]
                    }), R ? e.jsx("div", {
                        className: "flex items-center justify-center p-8",
                        children: e.jsx("div", {
                            className: "animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"
                        })
                    }) : e.jsxs("div", {
                        className: "grid grid-cols-1 lg:grid-cols-2 gap-6",
                        children: [e.jsxs(U, {
                            children: [e.jsx(ne, {
                                children: e.jsxs(ae, {
                                    className: "flex items-center gap-2",
                                    children: [e.jsx(Rj, {
                                        className: "w-5 h-5"
                                    }), "Configuración General"]
                                })
                            }), e.jsx(q, {
                                className: "space-y-4",
                                children: k == null ? void 0 : k.filter(_ => _.category === "general").map(F)
                            })]
                        }), e.jsxs(U, {
                            children: [e.jsx(ne, {
                                children: e.jsxs(ae, {
                                    className: "flex items-center gap-2",
                                    children: [e.jsx(Xn, {
                                        className: "w-5 h-5"
                                    }), "Información de Contacto"]
                                })
                            }), e.jsx(q, {
                                className: "space-y-4",
                                children: k == null ? void 0 : k.filter(_ => _.category === "contact").map(F)
                            })]
                        })]
                    }), (k == null ? void 0 : k.filter(_ => _.category === "forms").length) > 0 && e.jsxs(U, {
                        children: [e.jsx(ne, {
                            children: e.jsxs(ae, {
                                className: "flex items-center gap-2",
                                children: [e.jsx(Ls, {
                                    className: "w-5 h-5"
                                }), "Configuración de Formularios"]
                            })
                        }), e.jsx(q, {
                            children: e.jsx("div", {
                                className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                                children: k == null ? void 0 : k.filter(_ => _.category === "forms").map(F)
                            })
                        })]
                    })]
                })]
            })]
        })]
    })
}
function xY() {
    return e.jsxs("div", {
        className: "container mx-auto py-8",
        children: [e.jsx("h1", {
            className: "text-3xl font-bold mb-8",
            children: "Test de 5 Tabs"
        }), e.jsxs(ls, {
            defaultValue: "tab1",
            className: "space-y-6 mb-12",
            children: [e.jsxs(es, {
                className: "grid w-full grid-cols-5",
                children: [e.jsx(Ue, {
                    value: "tab1",
                    children: "Tab 1"
                }), e.jsx(Ue, {
                    value: "tab2",
                    children: "Tab 2"
                }), e.jsx(Ue, {
                    value: "tab3",
                    children: "Tab 3"
                }), e.jsx(Ue, {
                    value: "tab4",
                    className: "bg-green-200 text-green-800 font-bold",
                    children: "🔧 TAB 4"
                }), e.jsx(Ue, {
                    value: "tab5",
                    children: "Tab 5"
                })]
            }), e.jsx($e, {
                value: "tab1",
                children: e.jsxs(U, {
                    children: [e.jsx(ne, {
                        children: e.jsx(ae, {
                            children: "Tab 1 Content"
                        })
                    }), e.jsx(q, {
                        children: e.jsx("p", {
                            children: "Contenido del tab 1"
                        })
                    })]
                })
            }), e.jsx($e, {
                value: "tab2",
                children: e.jsxs(U, {
                    children: [e.jsx(ne, {
                        children: e.jsx(ae, {
                            children: "Tab 2 Content"
                        })
                    }), e.jsx(q, {
                        children: e.jsx("p", {
                            children: "Contenido del tab 2"
                        })
                    })]
                })
            }), e.jsx($e, {
                value: "tab3",
                children: e.jsxs(U, {
                    children: [e.jsx(ne, {
                        children: e.jsx(ae, {
                            children: "Tab 3 Content"
                        })
                    }), e.jsx(q, {
                        children: e.jsx("p", {
                            children: "Contenido del tab 3"
                        })
                    })]
                })
            }), e.jsx($e, {
                value: "tab4",
                children: e.jsxs(U, {
                    children: [e.jsx(ne, {
                        children: e.jsx(ae, {
                            children: "🔧 Tab 4 Sistema - FUNCIONA!"
                        })
                    }), e.jsx(q, {
                        children: e.jsx("div", {
                            className: "bg-green-100 p-4 rounded",
                            children: e.jsx("p", {
                                className: "text-green-800 font-semibold",
                                children: "✅ Si puedes ver este contenido, el tab Sistema funciona correctamente!"
                            })
                        })
                    })]
                })
            }), e.jsx($e, {
                value: "tab5",
                children: e.jsxs(U, {
                    children: [e.jsx(ne, {
                        children: e.jsx(ae, {
                            children: "Tab 5 Content"
                        })
                    }), e.jsx(q, {
                        children: e.jsx("p", {
                            children: "Contenido del tab 5"
                        })
                    })]
                })
            })]
        }), e.jsx("h2", {
            className: "text-2xl font-bold mb-4",
            children: "Test Adicional"
        }), e.jsxs(ls, {
            defaultValue: "test1",
            className: "space-y-6",
            children: [e.jsxs(es, {
                className: "grid w-full grid-cols-2",
                children: [e.jsx(Ue, {
                    value: "test1",
                    children: "Test 1"
                }), e.jsx(Ue, {
                    value: "test2",
                    children: "Test 2"
                })]
            }), e.jsx($e, {
                value: "test1",
                children: e.jsxs(U, {
                    children: [e.jsx(ne, {
                        children: e.jsx(ae, {
                            children: "Test Simple Funciona"
                        })
                    }), e.jsx(q, {
                        children: e.jsx("p", {
                            children: "Este es un test simple con 2 tabs"
                        })
                    })]
                })
            }), e.jsx($e, {
                value: "test2",
                children: e.jsxs(U, {
                    children: [e.jsx(ne, {
                        children: e.jsx(ae, {
                            children: "Test 2 También Funciona"
                        })
                    }), e.jsx(q, {
                        children: e.jsx("p", {
                            children: "Si puedes ver esto, los tabs básicos funcionan bien"
                        })
                    })]
                })
            })]
        })]
    })
}
var eI = {
        exports: {}
    },
    gY = "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",
    vY = gY,
    yY = vY;
function tI() {}
function sI() {}
sI.resetWarningCache = tI;
var jY = function() {
    function t(n, a, i, o, l, c) {
        if (c !== yY) {
            var d = new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");
            throw d.name = "Invariant Violation", d
        }
    }
    t.isRequired = t;
    function s() {
        return t
    }
    var r = {
        array: t,
        bigint: t,
        bool: t,
        func: t,
        number: t,
        object: t,
        string: t,
        symbol: t,
        any: t,
        arrayOf: s,
        element: t,
        elementType: t,
        instanceOf: s,
        node: t,
        objectOf: s,
        oneOf: s,
        oneOfType: s,
        shape: s,
        exact: s,
        checkPropTypes: sI,
        resetWarningCache: tI
    };
    return r.PropTypes = r, r
};
eI.exports = jY();
var bY = eI.exports;
const ts = Ty(bY);
function l2(t, s) {
    var r = Object.keys(t);
    if (Object.getOwnPropertySymbols) {
        var n = Object.getOwnPropertySymbols(t);
        s && (n = n.filter(function(a) {
            return Object.getOwnPropertyDescriptor(t, a).enumerable
        })),
        r.push.apply(r, n)
    }
    return r
}
function c2(t) {
    for (var s = 1; s < arguments.length; s++) {
        var r = arguments[s] != null ? arguments[s] : {};
        s % 2 ? l2(Object(r), !0).forEach(function(n) {
            rI(t, n, r[n])
        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : l2(Object(r)).forEach(function(n) {
            Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n))
        })
    }
    return t
}
function Hh(t) {
    "@babel/helpers - typeof";
    return typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? Hh = function(s) {
        return typeof s
    } : Hh = function(s) {
        return s && typeof Symbol == "function" && s.constructor === Symbol && s !== Symbol.prototype ? "symbol" : typeof s
    }, Hh(t)
}
function rI(t, s, r) {
    return s in t ? Object.defineProperty(t, s, {
        value: r,
        enumerable: !0,
        configurable: !0,
        writable: !0
    }) : t[s] = r, t
}
function NY(t, s) {
    if (t == null)
        return {};
    var r = {},
        n = Object.keys(t),
        a,
        i;
    for (i = 0; i < n.length; i++)
        a = n[i],
        !(s.indexOf(a) >= 0) && (r[a] = t[a]);
    return r
}
function wY(t, s) {
    if (t == null)
        return {};
    var r = NY(t, s),
        n,
        a;
    if (Object.getOwnPropertySymbols) {
        var i = Object.getOwnPropertySymbols(t);
        for (a = 0; a < i.length; a++)
            n = i[a],
            !(s.indexOf(n) >= 0) && Object.prototype.propertyIsEnumerable.call(t, n) && (r[n] = t[n])
    }
    return r
}
function nI(t, s) {
    return CY(t) || SY(t, s) || EY(t, s) || kY()
}
function CY(t) {
    if (Array.isArray(t))
        return t
}
function SY(t, s) {
    var r = t && (typeof Symbol < "u" && t[Symbol.iterator] || t["@@iterator"]);
    if (r != null) {
        var n = [],
            a = !0,
            i = !1,
            o,
            l;
        try {
            for (r = r.call(t); !(a = (o = r.next()).done) && (n.push(o.value), !(s && n.length === s)); a = !0)
                ;
        } catch (c) {
            i = !0,
            l = c
        } finally {
            try {
                !a && r.return != null && r.return()
            } finally {
                if (i)
                    throw l
            }
        }
        return n
    }
}
function EY(t, s) {
    if (t) {
        if (typeof t == "string")
            return d2(t, s);
        var r = Object.prototype.toString.call(t).slice(8, -1);
        if (r === "Object" && t.constructor && (r = t.constructor.name), r === "Map" || r === "Set")
            return Array.from(t);
        if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))
            return d2(t, s)
    }
}
function d2(t, s) {
    (s == null || s > t.length) && (s = t.length);
    for (var r = 0, n = new Array(s); r < s; r++)
        n[r] = t[r];
    return n
}
function kY() {
    throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`
    )
}
var Xr = function(s, r, n) {
        var a = !!n,
            i = ke.useRef(n);
        ke.useEffect(function() {
            i.current = n
        }, [n]),
        ke.useEffect(function() {
            if (!a || !s)
                return function() {};
            var o = function() {
                i.current && i.current.apply(i, arguments)
            };
            return s.on(r, o), function() {
                s.off(r, o)
            }
        }, [a, r, s, i])
    },
    Py = function(s) {
        var r = ke.useRef(s);
        return ke.useEffect(function() {
            r.current = s
        }, [s]), r.current
    },
    Wc = function(s) {
        return s !== null && Hh(s) === "object"
    },
    PY = function(s) {
        return Wc(s) && typeof s.then == "function"
    },
    _Y = function(s) {
        return Wc(s) && typeof s.elements == "function" && typeof s.createToken == "function" && typeof s.createPaymentMethod == "function" && typeof s.confirmCardPayment == "function"
    },
    u2 = "[object Object]",
    TY = function t(s, r) {
        if (!Wc(s) || !Wc(r))
            return s === r;
        var n = Array.isArray(s),
            a = Array.isArray(r);
        if (n !== a)
            return !1;
        var i = Object.prototype.toString.call(s) === u2,
            o = Object.prototype.toString.call(r) === u2;
        if (i !== o)
            return !1;
        if (!i && !n)
            return s === r;
        var l = Object.keys(s),
            c = Object.keys(r);
        if (l.length !== c.length)
            return !1;
        for (var d = {}, u = 0; u < l.length; u += 1)
            d[l[u]] = !0;
        for (var m = 0; m < c.length; m += 1)
            d[c[m]] = !0;
        var p = Object.keys(d);
        if (p.length !== l.length)
            return !1;
        var j = s,
            g = r,
            x = function(v) {
                return t(j[v], g[v])
            };
        return p.every(x)
    },
    aI = function(s, r, n) {
        return Wc(s) ? Object.keys(s).reduce(function(a, i) {
            var o = !Wc(r) || !TY(s[i], r[i]);
            return n.includes(i) ? (o && console.warn("Unsupported prop change: options.".concat(i, " is not a mutable property.")), a) : o ? c2(c2({}, a || {}), {}, rI({}, i, s[i])) : a
        }, null) : null
    },
    iI = "Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",
    m2 = function(s) {
        var r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : iI;
        if (s === null || _Y(s))
            return s;
        throw new Error(r)
    },
    AY = function(s) {
        var r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : iI;
        if (PY(s))
            return {
                tag: "async",
                stripePromise: Promise.resolve(s).then(function(a) {
                    return m2(a, r)
                })
            };
        var n = m2(s, r);
        return n === null ? {
            tag: "empty"
        } : {
            tag: "sync",
            stripe: n
        }
    },
    MY = function(s) {
        !s || !s._registerWrapper || !s.registerAppInfo || (s._registerWrapper({
            name: "react-stripe-js",
            version: "3.7.0"
        }), s.registerAppInfo({
            name: "react-stripe-js",
            version: "3.7.0",
            url: "https://stripe.com/docs/stripe-js/react"
        }))
    },
    fx = ke.createContext(null);
fx.displayName = "ElementsContext";
var oI = function(s, r) {
        if (!s)
            throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r, " in an <Elements> provider."));
        return s
    },
    lI = function(s) {
        var r = s.stripe,
            n = s.options,
            a = s.children,
            i = ke.useMemo(function() {
                return AY(r)
            }, [r]),
            o = ke.useState(function() {
                return {
                    stripe: i.tag === "sync" ? i.stripe : null,
                    elements: i.tag === "sync" ? i.stripe.elements(n) : null
                }
            }),
            l = nI(o, 2),
            c = l[0],
            d = l[1];
        ke.useEffect(function() {
            var p = !0,
                j = function(x) {
                    d(function(y) {
                        return y.stripe ? y : {
                            stripe: x,
                            elements: x.elements(n)
                        }
                    })
                };
            return i.tag === "async" && !c.stripe ? i.stripePromise.then(function(g) {
                g && p && j(g)
            }) : i.tag === "sync" && !c.stripe && j(i.stripe), function() {
                p = !1
            }
        }, [i, c, n]);
        var u = Py(r);
        ke.useEffect(function() {
            u !== null && u !== r && console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")
        }, [u, r]);
        var m = Py(n);
        return ke.useEffect(function() {
            if (c.elements) {
                var p = aI(n, m, ["clientSecret", "fonts"]);
                p && c.elements.update(p)
            }
        }, [n, m, c.elements]), ke.useEffect(function() {
            MY(c.stripe)
        }, [c.stripe]), ke.createElement(fx.Provider, {
            value: c
        }, a)
    };
lI.propTypes = {
    stripe: ts.any,
    options: ts.object
};
var IY = function(s) {
        var r = ke.useContext(fx);
        return oI(r, s)
    },
    RY = function() {
        var s = IY("calls useElements()"),
            r = s.elements;
        return r
    };
ts.func.isRequired;
var cI = ke.createContext(null);
cI.displayName = "CheckoutSdkContext";
var DY = function(s, r) {
        if (!s)
            throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(r, " in an <CheckoutProvider> provider."));
        return s
    },
    OY = ke.createContext(null);
OY.displayName = "CheckoutContext";
ts.any,
ts.shape({
    fetchClientSecret: ts.func.isRequired,
    elementsOptions: ts.object
}).isRequired;
var _y = function(s) {
        var r = ke.useContext(cI),
            n = ke.useContext(fx);
        if (r && n)
            throw new Error("You cannot wrap the part of your app that ".concat(s, " in both <CheckoutProvider> and <Elements> providers."));
        return r ? DY(r, s) : oI(n, s)
    },
    LY = ["mode"],
    FY = function(s) {
        return s.charAt(0).toUpperCase() + s.slice(1)
    },
    As = function(s, r) {
        var n = "".concat(FY(s), "Element"),
            a = function(c) {
                var d = c.id,
                    u = c.className,
                    m = c.options,
                    p = m === void 0 ? {} : m,
                    j = c.onBlur,
                    g = c.onFocus,
                    x = c.onReady,
                    y = c.onChange,
                    v = c.onEscape,
                    f = c.onClick,
                    b = c.onLoadError,
                    N = c.onLoaderStart,
                    w = c.onNetworksChange,
                    C = c.onConfirm,
                    E = c.onCancel,
                    k = c.onShippingAddressChange,
                    R = c.onShippingRateChange,
                    H = _y("mounts <".concat(n, ">")),
                    z = "elements" in H ? H.elements : null,
                    A = "checkoutSdk" in H ? H.checkoutSdk : null,
                    $ = ke.useState(null),
                    G = nI($, 2),
                    F = G[0],
                    _ = G[1],
                    S = ke.useRef(null),
                    I = ke.useRef(null);
                Xr(F, "blur", j),
                Xr(F, "focus", g),
                Xr(F, "escape", v),
                Xr(F, "click", f),
                Xr(F, "loaderror", b),
                Xr(F, "loaderstart", N),
                Xr(F, "networkschange", w),
                Xr(F, "confirm", C),
                Xr(F, "cancel", E),
                Xr(F, "shippingaddresschange", k),
                Xr(F, "shippingratechange", R),
                Xr(F, "change", y);
                var W;
                x && (s === "expressCheckout" ? W = x : W = function() {
                    x(F)
                }),
                Xr(F, "ready", W),
                ke.useLayoutEffect(function() {
                    if (S.current === null && I.current !== null && (z || A)) {
                        var O = null;
                        if (A)
                            switch (s) {
                            case "payment":
                                O = A.createPaymentElement(p);
                                break;
                            case "address":
                                if ("mode" in p) {
                                    var M = p.mode,
                                        re = wY(p, LY);
                                    if (M === "shipping")
                                        O = A.createShippingAddressElement(re);
                                    else if (M === "billing")
                                        O = A.createBillingAddressElement(re);
                                    else
                                        throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")
                                } else
                                    throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");
                                break;
                            case "expressCheckout":
                                O = A.createExpressCheckoutElement(p);
                                break;
                            case "currencySelector":
                                O = A.createCurrencySelectorElement();
                                break;
                            default:
                                throw new Error("Invalid Element type ".concat(n, ". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))
                            }
                        else
                            z && (O = z.create(s, p));
                        S.current = O,
                        _(O),
                        O && O.mount(I.current)
                    }
                }, [z, A, p]);
                var oe = Py(p);
                return ke.useEffect(function() {
                    if (S.current) {
                        var O = aI(p, oe, ["paymentRequest"]);
                        O && "update" in S.current && S.current.update(O)
                    }
                }, [p, oe]), ke.useLayoutEffect(function() {
                    return function() {
                        if (S.current && typeof S.current.destroy == "function")
                            try {
                                S.current.destroy(),
                                S.current = null
                            } catch {}
                    }
                }, []), ke.createElement("div", {
                    id: d,
                    className: u,
                    ref: I
                })
            },
            i = function(c) {
                _y("mounts <".concat(n, ">"));
                var d = c.id,
                    u = c.className;
                return ke.createElement("div", {
                    id: d,
                    className: u
                })
            },
            o = r ? i : a;
        return o.propTypes = {
            id: ts.string,
            className: ts.string,
            onChange: ts.func,
            onBlur: ts.func,
            onFocus: ts.func,
            onReady: ts.func,
            onEscape: ts.func,
            onClick: ts.func,
            onLoadError: ts.func,
            onLoaderStart: ts.func,
            onNetworksChange: ts.func,
            onConfirm: ts.func,
            onCancel: ts.func,
            onShippingAddressChange: ts.func,
            onShippingRateChange: ts.func,
            options: ts.object
        }, o.displayName = n, o.__elementType = s, o
    },
    Ms = typeof window > "u",
    zY = ke.createContext(null);
zY.displayName = "EmbeddedCheckoutProviderContext";
var $Y = function() {
    var s = _y("calls useStripe()"),
        r = s.stripe;
    return r
};
As("auBankAccount", Ms);
As("card", Ms);
As("cardNumber", Ms);
As("cardExpiry", Ms);
As("cardCvc", Ms);
As("fpxBank", Ms);
As("iban", Ms);
As("idealBank", Ms);
As("p24Bank", Ms);
As("epsBank", Ms);
var VY = As("payment", Ms);
As("expressCheckout", Ms);
As("currencySelector", Ms);
As("paymentRequestButton", Ms);
As("linkAuthentication", Ms);
As("address", Ms);
As("shippingAddress", Ms);
As("paymentMethodMessaging", Ms);
As("affirmMessage", Ms);
As("afterpayClearpayMessage", Ms);
var dI = "basil",
    UY = function(s) {
        return s === 3 ? "v3" : s
    },
    uI = "https://js.stripe.com",
    qY = "".concat(uI, "/").concat(dI, "/stripe.js"),
    BY = /^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,
    HY = /^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,
    h2 = "loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",
    WY = function(s) {
        return BY.test(s) || HY.test(s)
    },
    GY = function() {
        for (var s = document.querySelectorAll('script[src^="'.concat(uI, '"]')), r = 0; r < s.length; r++) {
            var n = s[r];
            if (WY(n.src))
                return n
        }
        return null
    },
    p2 = function(s) {
        var r = "",
            n = document.createElement("script");
        n.src = "".concat(qY).concat(r);
        var a = document.head || document.body;
        if (!a)
            throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");
        return a.appendChild(n), n
    },
    KY = function(s, r) {
        !s || !s._registerWrapper || s._registerWrapper({
            name: "stripe-js",
            version: "7.4.0",
            startTime: r
        })
    },
    Pd = null,
    ph = null,
    fh = null,
    YY = function(s) {
        return function(r) {
            s(new Error("Failed to load Stripe.js", {
                cause: r
            }))
        }
    },
    QY = function(s, r) {
        return function() {
            window.Stripe ? s(window.Stripe) : r(new Error("Stripe.js not available"))
        }
    },
    ZY = function(s) {
        return Pd !== null ? Pd : (Pd = new Promise(function(r, n) {
            if (typeof window > "u" || typeof document > "u") {
                r(null);
                return
            }
            if (window.Stripe && s && console.warn(h2), window.Stripe) {
                r(window.Stripe);
                return
            }
            try {
                var a = GY();
                if (a && s)
                    console.warn(h2);
                else if (!a)
                    a = p2(s);
                else if (a && fh !== null && ph !== null) {
                    var i;
                    a.removeEventListener("load", fh),
                    a.removeEventListener("error", ph),
                    (i = a.parentNode) === null || i === void 0 || i.removeChild(a),
                    a = p2(s)
                }
                fh = QY(r, n),
                ph = YY(n),
                a.addEventListener("load", fh),
                a.addEventListener("error", ph)
            } catch (o) {
                n(o);
                return
            }
        }), Pd.catch(function(r) {
            return Pd = null, Promise.reject(r)
        }))
    },
    XY = function(s, r, n) {
        if (s === null)
            return null;
        var a = r[0],
            i = a.match(/^pk_test/),
            o = UY(s.version),
            l = dI;
        i && o !== l && console.warn("Stripe.js@".concat(o, " was loaded on the page, but @stripe/stripe-js@").concat("7.4.0", " expected Stripe.js@").concat(l, ". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));
        var c = s.apply(void 0, r);
        return KY(c, n), c
    },
    _d,
    mI = !1,
    hI = function() {
        return _d || (_d = ZY(null).catch(function(s) {
                return _d = null, Promise.reject(s)
            }), _d)
    };
Promise.resolve().then(function() {
    return hI()
}).catch(function(t) {
    mI || console.warn(t)
});
var JY = function() {
    for (var s = arguments.length, r = new Array(s), n = 0; n < s; n++)
        r[n] = arguments[n];
    mI = !0;
    var a = Date.now();
    return hI().then(function(i) {
        return XY(i, r, a)
    })
};
let f2 = null;
const eQ = ({clientSecret: t, sessionId: s}) => {
    const r = $Y(),
        n = RY(),
        {toast: a} = st();
    Tn();
    const [i, o] = h.useState(!1),
        l = async c => {
            if (c.preventDefault(), !(!r || !n)) {
                o(!0);
                try {
                    const {error: d} = await r.confirmPayment({
                        elements: n,
                        confirmParams: {
                            return_url: `${window.location.origin}/payment/stripe/success?session_id=${s}`
                        }
                    });
                    d && a({
                        title: "Error en el pago",
                        description: d.message,
                        variant: "destructive"
                    })
                } catch {
                    a({
                        title: "Error en el pago",
                        description: "Hubo un problema al procesar el pago",
                        variant: "destructive"
                    })
                } finally {
                    o(!1)
                }
            }
        };
    return e.jsxs(U, {
        className: "w-full max-w-md mx-auto",
        children: [e.jsxs(ne, {
            children: [e.jsx(ae, {
                children: "Pago con Stripe"
            }), e.jsx(qt, {
                children: "Completa tu pago de forma segura"
            })]
        }), e.jsx(q, {
            children: e.jsxs("form", {
                onSubmit: l,
                className: "space-y-4",
                children: [e.jsx(VY, {}), e.jsx(T, {
                    type: "submit",
                    disabled: !r || i,
                    className: "w-full",
                    children: i ? e.jsxs(e.Fragment, {
                        children: [e.jsx(Xt, {
                            className: "mr-2 h-4 w-4 animate-spin"
                        }), "Procesando..."]
                    }) : "Pagar ahora"
                })]
            })
        })]
    })
};
function tQ() {
    const [t] = ut(),
        [, s] = Tn(),
        {toast: r} = st(),
        [n, a] = h.useState(""),
        [i, o] = h.useState(""),
        [l, c] = h.useState("");
    return h.useEffect(() => {
        (async () => {
            try {
                const m = await (await Re("GET", "/api/payment-modules/stripe/config")).json();
                if (!m.publicKey)
                    throw new Error("Stripe no configurado");
                c(m.publicKey),
                f2 = JY(m.publicKey);
                const p = new URLSearchParams(t.split("?")[1]),
                    j = p.get("client_secret"),
                    g = p.get("session_id");
                if (!j || !g)
                    throw new Error("Faltan parámetros de pago");
                a(j),
                o(g)
            } catch (u) {
                console.error("Error initializing Stripe:", u),
                r({
                    title: "Error",
                    description: "Error al inicializar Stripe",
                    variant: "destructive"
                }),
                s("/checkout")
            }
        })()
    }, [t, s, r]), n ? e.jsx("div", {
        className: "min-h-screen bg-gray-50 py-12 px-4",
        children: e.jsx("div", {
            className: "max-w-md mx-auto",
            children: e.jsx(lI, {
                stripe: f2,
                options: {
                    clientSecret: n
                },
                children: e.jsx(eQ, {
                    clientSecret: n,
                    sessionId: i
                })
            })
        })
    }) : e.jsx("div", {
        className: "min-h-screen flex items-center justify-center",
        children: e.jsx("div", {
            className: "animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"
        })
    })
}
function sQ() {
    const [t] = ut(),
        [, s] = Tn(),
        {toast: r} = st(),
        [n, a] = h.useState(!0);
    return h.useEffect(() => {
        (async () => {
            try {
                const o = new URLSearchParams(t.split("?")[1]),
                    l = o.get("session_id"),
                    c = o.get("payment_intent");
                if (!l || !c)
                    throw new Error("Missing required parameters");
                const d = JSON.parse(sessionStorage.getItem("pending_order_data") || "{}");
                if (!d.customerEmail)
                    throw new Error("No pending order data found");
                const u = await Re("POST", "/api/orders/local", {
                    ...d,
                    paymentTransactionId: c,
                    paymentStatus: "completed"
                });
                if (u.ok) {
                    const m = await u.json();
                    sessionStorage.removeItem("pending_order_data"),
                    s(`/order-confirmation/${m.id}?payment=stripe&sessionId=${l}`)
                } else
                    throw new Error("Failed to create order")
            } catch (o) {
                console.error("Error processing payment success:", o),
                r({
                    title: "Error",
                    description: "Hubo un problema al procesar tu pago. Por favor contacta con nosotros.",
                    variant: "destructive"
                }),
                s("/checkout")
            } finally {
                a(!1)
            }
        })()
    }, [t, s, r]), n ? e.jsx("div", {
        className: "min-h-screen bg-gray-50 py-12 px-4",
        children: e.jsx("div", {
            className: "max-w-md mx-auto",
            children: e.jsxs(U, {
                children: [e.jsxs(ne, {
                    children: [e.jsxs(ae, {
                        className: "flex items-center",
                        children: [e.jsx(Xt, {
                            className: "mr-2 h-5 w-5 animate-spin"
                        }), "Procesando pago..."]
                    }), e.jsx(qt, {
                        children: "Estamos confirmando tu pago con Stripe"
                    })]
                }), e.jsx(q, {
                    children: e.jsxs("div", {
                        className: "text-center py-8",
                        children: [e.jsx("div", {
                            className: "animate-spin w-12 h-12 border-4 border-primary border-t-transparent rounded-full mx-auto"
                        }), e.jsx("p", {
                            className: "mt-4 text-gray-600",
                            children: "Por favor, no cierres esta ventana..."
                        })]
                    })
                })]
            })
        })
    }) : e.jsx("div", {
        className: "min-h-screen bg-gray-50 py-12 px-4",
        children: e.jsx("div", {
            className: "max-w-md mx-auto",
            children: e.jsxs(U, {
                children: [e.jsxs(ne, {
                    children: [e.jsxs(ae, {
                        className: "flex items-center text-green-600",
                        children: [e.jsx(Rt, {
                            className: "mr-2 h-5 w-5"
                        }), "Pago exitoso"]
                    }), e.jsx(qt, {
                        children: "Tu pago ha sido procesado correctamente"
                    })]
                }), e.jsx(q, {
                    children: e.jsx("div", {
                        className: "text-center py-8",
                        children: e.jsx("p", {
                            className: "text-gray-600",
                            children: "Redirigiendo a la confirmación del pedido..."
                        })
                    })
                })]
            })
        })
    })
}
const rQ = ({amount: t, sessionId: s}) => {
    const {toast: r} = st(),
        [, n] = Tn(),
        [a, i] = h.useState(!0),
        o = async () => {
            try {
                const m = await Re("POST", "/api/paypal/order", {
                    amount: parseFloat(t),
                    currency: "EUR",
                    intent: "CAPTURE"
                });
                if (m.ok)
                    return {
                        orderId: (await m.json()).id
                    };
                throw new Error("Failed to create PayPal order")
            } catch (m) {
                throw console.error("Error creating PayPal order:", m), m
            }
        },
        l = async m => {
            try {
                const p = await Re("POST", `/api/paypal/order/${m}/capture`);
                if (p.ok)
                    return await p.json();
                throw new Error("Failed to capture PayPal order")
            } catch (p) {
                throw console.error("Error capturing PayPal order:", p), p
            }
        },
        c = async m => {
            try {
                const p = await l(m.orderId);
                if (p.status === "COMPLETED") {
                    const j = JSON.parse(sessionStorage.getItem("pending_order_data") || "{}"),
                        g = await Re("POST", "/api/orders/local", {
                            ...j,
                            paymentTransactionId: p.id,
                            paymentStatus: "completed"
                        });
                    if (g.ok) {
                        const x = await g.json();
                        sessionStorage.removeItem("pending_order_data"),
                        n(`/order-confirmation/${x.id}?payment=paypal&sessionId=${s}`)
                    }
                }
            } catch {
                r({
                    title: "Error en el pago",
                    description: "Hubo un problema al procesar tu pago con PayPal",
                    variant: "destructive"
                })
            }
        },
        d = () => {
            r({
                title: "Pago cancelado",
                description: "El pago con PayPal fue cancelado",
                variant: "default"
            }),
            n("/checkout")
        },
        u = m => {
            console.error("PayPal error:", m),
            r({
                title: "Error en el pago",
                description: "Hubo un error al procesar el pago con PayPal",
                variant: "destructive"
            })
        };
    return h.useEffect(() => {
        const m = async () => {
                try {
                    if (window.paypal)
                        await p();
                    else {
                        const j = document.createElement("script");
                        j.src = "https://www.paypal.com/web-sdk/v6/core",
                        j.async = !0,
                        j.onload = () => p(),
                        document.body.appendChild(j)
                    }
                } catch (j) {
                    console.error("Failed to load PayPal SDK", j),
                    i(!1)
                }
            },
            p = async () => {
                try {
                    const g = await (await Re("GET", "/api/paypal/setup")).json(),
                        y = (await window.paypal.createInstance({
                            clientToken: g.clientToken,
                            components: ["paypal-payments"]
                        })).createPayPalOneTimePaymentSession({
                            onApprove: c,
                            onCancel: d,
                            onError: u
                        }),
                        v = async () => {
                            try {
                                const b = o();
                                await y.start({
                                    paymentFlow: "auto"
                                }, b)
                            } catch (b) {
                                console.error("PayPal checkout error:", b),
                                u(b)
                            }
                        },
                        f = document.getElementById("paypal-button");
                    f && f.addEventListener("click", v),
                    i(!1)
                } catch (j) {
                    console.error("PayPal initialization error:", j),
                    i(!1)
                }
            };
        m()
    }, []), a ? e.jsxs("div", {
        className: "flex items-center justify-center py-8",
        children: [e.jsx(Xt, {
            className: "h-8 w-8 animate-spin"
        }), e.jsx("span", {
            className: "ml-2",
            children: "Cargando PayPal..."
        })]
    }) : e.jsxs("div", {
        className: "space-y-4",
        children: [e.jsx("div", {
            className: "text-center",
            children: e.jsxs("p", {
                className: "text-lg font-semibold",
                children: ["Total a pagar: ", t, " €"]
            })
        }), e.jsx("div", {
            className: "flex justify-center",
            children: e.jsx("button", {
                id: "paypal-button",
                className: "bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg transition-colors",
                children: "Pagar con PayPal"
            })
        })]
    })
};
function nQ() {
    const [t] = ut(),
        [, s] = Tn(),
        {toast: r} = st(),
        [n, a] = h.useState(""),
        [i, o] = h.useState("");
    return h.useEffect(() => {
        const l = new URLSearchParams(t.split("?")[1]),
            c = l.get("amount"),
            d = l.get("session_id");
        if (!c || !d) {
            r({
                title: "Error",
                description: "Faltan parámetros de pago",
                variant: "destructive"
            }),
            s("/checkout");
            return
        }
        a(c),
        o(d)
    }, [t, s, r]), n ? e.jsx("div", {
        className: "min-h-screen bg-gray-50 py-12 px-4",
        children: e.jsx("div", {
            className: "max-w-md mx-auto",
            children: e.jsxs(U, {
                children: [e.jsxs(ne, {
                    children: [e.jsx(ae, {
                        children: "Pago con PayPal"
                    }), e.jsx(qt, {
                        children: "Completa tu pago de forma segura con PayPal"
                    })]
                }), e.jsxs(q, {
                    children: [e.jsx(rQ, {
                        amount: n,
                        sessionId: i
                    }), e.jsx("div", {
                        className: "mt-6 text-center",
                        children: e.jsxs(T, {
                            variant: "outline",
                            onClick: () => s("/checkout"),
                            className: "w-full",
                            children: [e.jsx(Nr, {
                                className: "mr-2 h-4 w-4"
                            }), "Volver al checkout"]
                        })
                    })]
                })]
            })
        })
    }) : e.jsx("div", {
        className: "min-h-screen flex items-center justify-center",
        children: e.jsx("div", {
            className: "animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"
        })
    })
}
const aQ = () => {
        const [t] = ut(),
            [s, r] = h.useState(null),
            {clearCart: n} = bl();
        return h.useEffect(() => {
            const a = new URLSearchParams(window.location.search),
                i = a.get("orderId");
            a.get("cleared"),
            i && (r(i), n(), sessionStorage.removeItem("redsysPaymentData"), sessionStorage.removeItem("backup_cart_data"), sessionStorage.removeItem("pendingPaymentData"))
        }, [t, n]), e.jsx("div", {
            className: "container mx-auto px-4 py-12",
            children: e.jsx("div", {
                className: "max-w-2xl mx-auto",
                children: e.jsxs(U, {
                    className: "border-green-200 bg-green-50",
                    children: [e.jsxs(ne, {
                        className: "text-center pb-4",
                        children: [e.jsx("div", {
                            className: "flex justify-center mb-4",
                            children: e.jsx("div", {
                                className: "w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",
                                children: e.jsx(Rt, {
                                    className: "w-8 h-8 text-green-600"
                                })
                            })
                        }), e.jsx(ae, {
                            className: "text-2xl text-green-800",
                            children: "¡Pago Procesado Exitosamente!"
                        })]
                    }), e.jsxs(q, {
                        className: "text-center space-y-6",
                        children: [e.jsxs("div", {
                            children: [e.jsx("p", {
                                className: "text-green-700 font-medium",
                                children: "Su pago con tarjeta ha sido procesado correctamente"
                            }), s && e.jsxs("p", {
                                className: "text-sm text-green-600 mt-2",
                                children: ["Número de pedido: #", s]
                            })]
                        }), e.jsx("div", {
                            className: "bg-white rounded-lg p-4 border border-green-200",
                            children: e.jsxs("div", {
                                className: "grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",
                                children: [e.jsxs("div", {
                                    className: "flex items-center justify-center space-x-2",
                                    children: [e.jsx(us, {
                                        className: "w-4 h-4 text-green-600"
                                    }), e.jsx("span", {
                                        children: "Pago Confirmado"
                                    })]
                                }), e.jsxs("div", {
                                    className: "flex items-center justify-center space-x-2",
                                    children: [e.jsx(Ot, {
                                        className: "w-4 h-4 text-blue-600"
                                    }), e.jsx("span", {
                                        children: "Procesando Pedido"
                                    })]
                                }), e.jsxs("div", {
                                    className: "flex items-center justify-center space-x-2",
                                    children: [e.jsx(er, {
                                        className: "w-4 h-4 text-gray-600"
                                    }), e.jsx("span", {
                                        children: "Preparando Envío"
                                    })]
                                })]
                            })
                        }), e.jsxs("div", {
                            className: "bg-blue-50 border border-blue-200 rounded-lg p-4",
                            children: [e.jsx("h3", {
                                className: "font-semibold text-blue-800 mb-2",
                                children: "¿Qué sucede ahora?"
                            }), e.jsxs("ul", {
                                className: "text-sm text-blue-700 space-y-1 text-left",
                                children: [e.jsx("li", {
                                    children: "• Recibirá un email de confirmación en breve"
                                }), e.jsx("li", {
                                    children: "• Procesaremos su pedido en las próximas 24 horas"
                                }), e.jsx("li", {
                                    children: "• Le notificaremos cuando el pedido esté listo para envío"
                                }), e.jsx("li", {
                                    children: "• Puede seguir el estado de su pedido en su panel de usuario"
                                })]
                            })]
                        }), e.jsxs("div", {
                            className: "flex flex-col sm:flex-row gap-3 justify-center",
                            children: [s ? e.jsx(ze, {
                                to: `/order-confirmation/${s}`,
                                children: e.jsx(T, {
                                    className: "bg-green-600 hover:bg-green-700",
                                    children: "Ver Detalles del Pedido"
                                })
                            }) : e.jsx(ze, {
                                to: "/pedidos",
                                children: e.jsx(T, {
                                    className: "bg-green-600 hover:bg-green-700",
                                    children: "Ver Mis Pedidos"
                                })
                            }), e.jsx(ze, {
                                to: "/",
                                children: e.jsx(T, {
                                    variant: "outline",
                                    children: "Volver al Inicio"
                                })
                            })]
                        }), e.jsx("div", {
                            className: "text-xs text-gray-500 pt-4 border-t border-green-200",
                            children: "Pago procesado de forma segura por Redsys"
                        })]
                    })]
                })
            })
        })
    },
    iQ = () => {
        const [t] = ut(),
            [s, r] = h.useState(null),
            [n, a] = h.useState(""),
            {items: i, setItems: o} = bl();
        h.useEffect(() => {
            const c = new URLSearchParams(window.location.search),
                d = c.get("code"),
                u = c.get("message");
            if (r(d), i.length === 0) {
                const m = sessionStorage.getItem("backup_cart_data");
                if (m)
                    try {
                        const p = JSON.parse(m);
                        Array.isArray(p) && p.length > 0 && o(p)
                    } catch {}
            }
            a(u ? decodeURIComponent(u) : d ? {
                101: "Tarjeta caducada",
                102: "Tarjeta en lista de excepción transitoria o bajo sospecha de fraude",
                106: "Número de intentos de PIN excedido",
                125: "Tarjeta no efectiva",
                129: "Código de seguridad (CVV) incorrecto",
                180: "Tarjeta no válida",
                184: "Error en la autenticación del titular",
                190: "Denegación del emisor sin especificar motivo",
                201: "Tarjeta caducada",
                202: "Tarjeta en lista de excepción transitoria o bajo sospecha de fraude",
                912: "Emisor no disponible",
                913: "Pedido repetido",
                944: "Sesión incorrecta",
                950: "Operación de devolución no permitida",
                9915: "A petición del usuario se ha cancelado el pago"
            }[d] || "Error no especificado en el procesamiento del pago" : "Error en el procesamiento del pago")
        }, [t]);
        const l = c => c && {
            101: "Verifique la fecha de caducidad de su tarjeta o use otra tarjeta.",
            102: "Contacte con su banco para verificar el estado de su tarjeta.",
            106: "Ha superado el número de intentos permitidos. Espere e intente más tarde.",
            125: "Su tarjeta no está activada. Contacte con su banco.",
            129: "Verifique el código de seguridad (CVV) de su tarjeta.",
            180: "Verifique los datos de su tarjeta e intente nuevamente.",
            184: "Error en la verificación. Asegúrese de introducir los datos correctos.",
            190: "Su banco ha denegado la operación. Contacte con su entidad bancaria.",
            912: "Servicio temporalmente no disponible. Intente más tarde.",
            9915: "Ha cancelado el pago. Puede intentarlo nuevamente cuando guste."
        }[c] || "Intente realizar el pago nuevamente o contacte con nosotros.";
        return e.jsx("div", {
            className: "container mx-auto px-4 py-12",
            children: e.jsx("div", {
                className: "max-w-2xl mx-auto",
                children: e.jsxs(U, {
                    className: "border-red-200 bg-red-50",
                    children: [e.jsxs(ne, {
                        className: "text-center pb-4",
                        children: [e.jsx("div", {
                            className: "flex justify-center mb-4",
                            children: e.jsx("div", {
                                className: "w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",
                                children: e.jsx(Ea, {
                                    className: "w-8 h-8 text-red-600"
                                })
                            })
                        }), e.jsx(ae, {
                            className: "text-2xl text-red-800",
                            children: "Error en el Procesamiento del Pago"
                        })]
                    }), e.jsxs(q, {
                        className: "space-y-6",
                        children: [e.jsxs("div", {
                            className: "text-center",
                            children: [e.jsx("p", {
                                className: "text-red-700 font-medium mb-2",
                                children: "No se pudo completar su pago con tarjeta"
                            }), s && e.jsxs("p", {
                                className: "text-sm text-red-600",
                                children: ["Código de error: ", s]
                            })]
                        }), e.jsxs(cr, {
                            className: "border-red-200 bg-red-50",
                            children: [e.jsx(Ea, {
                                className: "h-4 w-4"
                            }), e.jsxs(dr, {
                                className: "text-red-800",
                                children: [e.jsx("strong", {
                                    children: "Motivo:"
                                }), " ", n]
                            })]
                        }), e.jsxs("div", {
                            className: "bg-white rounded-lg p-4 border border-red-200",
                            children: [e.jsx("h3", {
                                className: "font-semibold text-red-800 mb-2",
                                children: "Solución recomendada:"
                            }), e.jsx("p", {
                                className: "text-sm text-red-700",
                                children: l(s)
                            })]
                        }), e.jsxs("div", {
                            className: "bg-blue-50 border border-blue-200 rounded-lg p-4",
                            children: [e.jsx("h3", {
                                className: "font-semibold text-blue-800 mb-2",
                                children: "Métodos de pago alternativos:"
                            }), e.jsxs("ul", {
                                className: "text-sm text-blue-700 space-y-1",
                                children: [e.jsx("li", {
                                    children: "• Transferencia bancaria"
                                }), e.jsx("li", {
                                    children: "• PayPal"
                                }), e.jsx("li", {
                                    children: "• Pago en efectivo (recogida en tienda)"
                                })]
                            })]
                        }), e.jsxs("div", {
                            className: "flex flex-col sm:flex-row gap-3 justify-center",
                            children: [e.jsx(ze, {
                                to: "/checkout",
                                children: e.jsxs(T, {
                                    className: "bg-blue-600 hover:bg-blue-700",
                                    children: [e.jsx(xt, {
                                        className: "w-4 h-4 mr-2"
                                    }), "Intentar Nuevamente"]
                                })
                            }), e.jsx(ze, {
                                to: "/contacto",
                                children: e.jsxs(T, {
                                    variant: "outline",
                                    children: [e.jsx(Xn, {
                                        className: "w-4 h-4 mr-2"
                                    }), "Contactar Soporte"]
                                })
                            })]
                        }), e.jsxs("div", {
                            className: "bg-gray-50 border border-gray-200 rounded-lg p-4",
                            children: [e.jsxs("h3", {
                                className: "font-semibold text-gray-800 mb-2 flex items-center",
                                children: [e.jsx(Ls, {
                                    className: "w-4 h-4 mr-2"
                                }), "¿Necesita ayuda?"]
                            }), e.jsxs("div", {
                                className: "text-sm text-gray-600 space-y-1",
                                children: [e.jsxs("p", {
                                    children: ["Teléfono: ", e.jsx("strong", {
                                        children: "958 79 08 58"
                                    })]
                                }), e.jsxs("p", {
                                    children: ["Email: ", e.jsx("strong", {
                                        children: "info@desguacesmurcia.com"
                                    })]
                                }), e.jsx("p", {
                                    children: "Horario: Lunes a Viernes 9:00-18:00"
                                })]
                            })]
                        }), e.jsx("div", {
                            className: "text-xs text-gray-500 text-center pt-4 border-t border-red-200",
                            children: "Los pagos son procesados de forma segura por Redsys"
                        })]
                    })]
                })
            })
        })
    },
    x2 = {
        pending: "bg-yellow-500",
        processing: "bg-blue-500",
        shipped: "bg-purple-500",
        delivered: "bg-green-500",
        cancelled: "bg-red-500"
    },
    g2 = {
        pending: "Pendiente",
        processing: "Procesando",
        shipped: "Enviado",
        delivered: "Entregado",
        cancelled: "Cancelado"
    };
function v2() {
    const [t, s] = h.useState(""),
        [r, n] = h.useState(null),
        {data: a, isLoading: i} = Te({
            queryKey: ["/api/admin/orders"],
            staleTime: 3e4
        }),
        {data: o, isLoading: l} = Te({
            queryKey: ["/api/admin/clients"],
            staleTime: 3e4
        }),
        c = (a == null ? void 0 : a.filter(m => m.customerName.toLowerCase().includes(t.toLowerCase()) || m.customerEmail.toLowerCase().includes(t.toLowerCase()) || m.orderNumber.toLowerCase().includes(t.toLowerCase()))) || [],
        d = (o == null ? void 0 : o.filter(m => m.firstName.toLowerCase().includes(t.toLowerCase()) || m.lastName.toLowerCase().includes(t.toLowerCase()) || m.email.toLowerCase().includes(t.toLowerCase()) || m.username.toLowerCase().includes(t.toLowerCase()))) || [],
        u = {
            totalOrders: (a == null ? void 0 : a.length) || 0,
            totalClients: (o == null ? void 0 : o.length) || 0,
            pendingOrders: (a == null ? void 0 : a.filter(m => m.status === "pending").length) || 0,
            totalRevenue: (a == null ? void 0 : a.reduce((m, p) => m + p.totalAmount, 0)) || 0,
            recentOrders: (a == null ? void 0 : a.slice(0, 5)) || [],
            recentClients: (o == null ? void 0 : o.slice(0, 5)) || []
        };
    return e.jsxs("div", {
        className: "container mx-auto px-4 py-8 max-w-7xl",
        children: [e.jsxs("div", {
            className: "mb-8",
            children: [e.jsx("h1", {
                className: "text-3xl font-bold text-gray-900 mb-2",
                children: "Panel de Gestión"
            }), e.jsx("p", {
                className: "text-gray-600",
                children: "Gestión de pedidos y clientes"
            })]
        }), e.jsxs("div", {
            className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",
            children: [e.jsxs(U, {
                children: [e.jsxs(ne, {
                    className: "flex flex-row items-center justify-between space-y-0 pb-2",
                    children: [e.jsx(ae, {
                        className: "text-sm font-medium",
                        children: "Total Pedidos"
                    }), e.jsx(VO, {
                        className: "h-4 w-4 text-muted-foreground"
                    })]
                }), e.jsx(q, {
                    children: e.jsx("div", {
                        className: "text-2xl font-bold",
                        children: u.totalOrders
                    })
                })]
            }), e.jsxs(U, {
                children: [e.jsxs(ne, {
                    className: "flex flex-row items-center justify-between space-y-0 pb-2",
                    children: [e.jsx(ae, {
                        className: "text-sm font-medium",
                        children: "Total Clientes"
                    }), e.jsx(ci, {
                        className: "h-4 w-4 text-muted-foreground"
                    })]
                }), e.jsx(q, {
                    children: e.jsx("div", {
                        className: "text-2xl font-bold",
                        children: u.totalClients
                    })
                })]
            }), e.jsxs(U, {
                children: [e.jsxs(ne, {
                    className: "flex flex-row items-center justify-between space-y-0 pb-2",
                    children: [e.jsx(ae, {
                        className: "text-sm font-medium",
                        children: "Pedidos Pendientes"
                    }), e.jsx(Bs, {
                        className: "h-4 w-4 text-muted-foreground"
                    })]
                }), e.jsx(q, {
                    children: e.jsx("div", {
                        className: "text-2xl font-bold",
                        children: u.pendingOrders
                    })
                })]
            }), e.jsxs(U, {
                children: [e.jsxs(ne, {
                    className: "flex flex-row items-center justify-between space-y-0 pb-2",
                    children: [e.jsx(ae, {
                        className: "text-sm font-medium",
                        children: "Ingresos Totales"
                    }), e.jsx(Lj, {
                        className: "h-4 w-4 text-muted-foreground"
                    })]
                }), e.jsx(q, {
                    children: e.jsx("div", {
                        className: "text-2xl font-bold",
                        children: jt(u.totalRevenue, !1)
                    })
                })]
            })]
        }), e.jsx("div", {
            className: "mb-6",
            children: e.jsxs("div", {
                className: "relative",
                children: [e.jsx(Cr, {
                    className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"
                }), e.jsx(te, {
                    placeholder: "Buscar pedidos o clientes...",
                    value: t,
                    onChange: m => s(m.target.value),
                    className: "pl-10"
                })]
            })
        }), e.jsxs(ls, {
            defaultValue: "orders",
            className: "space-y-6",
            children: [e.jsxs(es, {
                className: "grid w-full grid-cols-2",
                children: [e.jsx(Ue, {
                    value: "orders",
                    children: "Pedidos"
                }), e.jsx(Ue, {
                    value: "clients",
                    children: "Clientes"
                })]
            }), e.jsx($e, {
                value: "orders",
                className: "space-y-6",
                children: e.jsxs(U, {
                    children: [e.jsxs(ne, {
                        children: [e.jsx(ae, {
                            children: "Gestión de Pedidos"
                        }), e.jsx(qt, {
                            children: "Visualiza y gestiona todos los pedidos de la tienda"
                        })]
                    }), e.jsx(q, {
                        children: i ? e.jsx("div", {
                            className: "text-center py-8",
                            children: "Cargando pedidos..."
                        }) : e.jsx("div", {
                            className: "space-y-4",
                            children: c.length === 0 ? e.jsx("div", {
                                className: "text-center py-8 text-gray-500",
                                children: t ? "No se encontraron pedidos con esa búsqueda" : "No hay pedidos registrados"
                            }) : c.map(m => e.jsxs("div", {
                                className: "flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",
                                children: [e.jsxs("div", {
                                    className: "flex-1",
                                    children: [e.jsxs("div", {
                                        className: "flex items-center gap-3 mb-2",
                                        children: [e.jsxs("span", {
                                            className: "font-medium",
                                            children: ["#", m.orderNumber]
                                        }), e.jsx(ye, {
                                            variant: "secondary",
                                            className: `${x2[m.status]} text-white`,
                                            children: g2[m.status]
                                        })]
                                    }), e.jsxs("div", {
                                        className: "text-sm text-gray-600 space-y-1",
                                        children: [e.jsxs("div", {
                                            children: [e.jsx("strong", {
                                                children: "Cliente:"
                                            }), " ", m.customerName]
                                        }), e.jsxs("div", {
                                            children: [e.jsx("strong", {
                                                children: "Email:"
                                            }), " ", m.customerEmail]
                                        }), e.jsxs("div", {
                                            children: [e.jsx("strong", {
                                                children: "Total:"
                                            }), " ", jt(m.totalAmount, !1)]
                                        }), e.jsxs("div", {
                                            children: [e.jsx("strong", {
                                                children: "Artículos:"
                                            }), " ", m.totalItems]
                                        }), e.jsxs("div", {
                                            children: [e.jsx("strong", {
                                                children: "Fecha:"
                                            }), " ", new Date(m.createdAt).toLocaleDateString("es-ES")]
                                        })]
                                    })]
                                }), e.jsxs(T, {
                                    variant: "outline",
                                    size: "sm",
                                    onClick: () => n(m),
                                    children: [e.jsx(bs, {
                                        className: "h-4 w-4 mr-2"
                                    }), "Ver Detalles"]
                                })]
                            }, m.id))
                        })
                    })]
                })
            }), e.jsx($e, {
                value: "clients",
                className: "space-y-6",
                children: e.jsxs(U, {
                    children: [e.jsxs(ne, {
                        children: [e.jsx(ae, {
                            children: "Gestión de Clientes"
                        }), e.jsx(qt, {
                            children: "Visualiza y gestiona información de clientes registrados"
                        })]
                    }), e.jsx(q, {
                        children: l ? e.jsx("div", {
                            className: "text-center py-8",
                            children: "Cargando clientes..."
                        }) : e.jsx("div", {
                            className: "space-y-4",
                            children: d.length === 0 ? e.jsx("div", {
                                className: "text-center py-8 text-gray-500",
                                children: t ? "No se encontraron clientes con esa búsqueda" : "No hay clientes registrados"
                            }) : d.map(m => e.jsx("div", {
                                className: "flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",
                                children: e.jsxs("div", {
                                    className: "flex-1",
                                    children: [e.jsxs("div", {
                                        className: "flex items-center gap-3 mb-2",
                                        children: [e.jsxs("span", {
                                            className: "font-medium",
                                            children: [m.firstName, " ", m.lastName]
                                        }), e.jsx(ye, {
                                            variant: "outline",
                                            children: m.role === "customer" ? "Cliente" : m.role
                                        })]
                                    }), e.jsxs("div", {
                                        className: "text-sm text-gray-600 space-y-1",
                                        children: [e.jsxs("div", {
                                            children: [e.jsx("strong", {
                                                children: "Usuario:"
                                            }), " ", m.username]
                                        }), e.jsxs("div", {
                                            children: [e.jsx("strong", {
                                                children: "Email:"
                                            }), " ", m.email]
                                        }), e.jsxs("div", {
                                            children: [e.jsx("strong", {
                                                children: "Teléfono:"
                                            }), " ", m.phone || "No disponible"]
                                        }), e.jsxs("div", {
                                            children: [e.jsx("strong", {
                                                children: "Ciudad:"
                                            }), " ", m.city || "No disponible"]
                                        }), e.jsxs("div", {
                                            children: [e.jsx("strong", {
                                                children: "Pedidos:"
                                            }), " ", m.orderCount]
                                        }), e.jsxs("div", {
                                            children: [e.jsx("strong", {
                                                children: "Registrado:"
                                            }), " ", new Date(m.createdAt).toLocaleDateString("es-ES")]
                                        }), m.lastOrderDate && e.jsxs("div", {
                                            children: [e.jsx("strong", {
                                                children: "Último pedido:"
                                            }), " ", new Date(m.lastOrderDate).toLocaleDateString("es-ES")]
                                        })]
                                    })]
                                })
                            }, m.id))
                        })
                    })]
                })
            })]
        }), r && e.jsx("div", {
            className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",
            children: e.jsx("div", {
                className: "bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",
                children: e.jsxs("div", {
                    className: "p-6",
                    children: [e.jsxs("div", {
                        className: "flex items-center justify-between mb-4",
                        children: [e.jsxs("h2", {
                            className: "text-xl font-bold",
                            children: ["Detalles del Pedido #", r.orderNumber]
                        }), e.jsx(T, {
                            variant: "ghost",
                            onClick: () => n(null),
                            children: "✕"
                        })]
                    }), e.jsxs("div", {
                        className: "space-y-4",
                        children: [e.jsxs("div", {
                            children: [e.jsx("h3", {
                                className: "font-semibold mb-2",
                                children: "Información del Cliente"
                            }), e.jsxs("div", {
                                className: "text-sm space-y-1",
                                children: [e.jsxs("div", {
                                    children: [e.jsx("strong", {
                                        children: "Nombre:"
                                    }), " ", r.customerName]
                                }), e.jsxs("div", {
                                    children: [e.jsx("strong", {
                                        children: "Email:"
                                    }), " ", r.customerEmail]
                                })]
                            })]
                        }), e.jsxs("div", {
                            children: [e.jsx("h3", {
                                className: "font-semibold mb-2",
                                children: "Información del Pedido"
                            }), e.jsxs("div", {
                                className: "text-sm space-y-1",
                                children: [e.jsxs("div", {
                                    children: [e.jsx("strong", {
                                        children: "Estado:"
                                    }), e.jsx(ye, {
                                        className: `ml-2 ${x2[r.status]} text-white`,
                                        children: g2[r.status]
                                    })]
                                }), e.jsxs("div", {
                                    children: [e.jsx("strong", {
                                        children: "Total:"
                                    }), " ", jt(r.totalAmount, !1)]
                                }), e.jsxs("div", {
                                    children: [e.jsx("strong", {
                                        children: "Artículos:"
                                    }), " ", r.totalItems]
                                }), e.jsxs("div", {
                                    children: [e.jsx("strong", {
                                        children: "Fecha:"
                                    }), " ", new Date(r.createdAt).toLocaleDateString("es-ES")]
                                }), r.paymentMethodName && e.jsxs("div", {
                                    children: [e.jsx("strong", {
                                        children: "Método de pago:"
                                    }), " ", r.paymentMethodName]
                                })]
                            })]
                        })]
                    })]
                })
            })
        })]
    })
}
const oQ = ({popup: t, onClose: s, onSuccess: r}) => {
        const {toast: n} = st(),
            [a, i] = h.useState({
                title: "",
                content: "",
                image: "",
                type: "info",
                position: "center",
                trigger: "immediate",
                triggerValue: 0,
                displayFrequency: "always",
                startDate: "",
                endDate: "",
                isActive: !0,
                priority: 1,
                targetPages: [],
                excludePages: [],
                buttonText: "Cerrar",
                buttonAction: "close",
                buttonUrl: "",
                showCloseButton: !0,
                backdropClose: !0
            }),
            [o, l] = h.useState(""),
            [c, d] = h.useState(""),
            [u, m] = h.useState(null),
            [p, j] = h.useState(""),
            g = b => {
                var w;
                const N = (w = b.target.files) == null ? void 0 : w[0];
                if (N) {
                    if (!N.type.startsWith("image/")) {
                        n({
                            title: "Error",
                            description: "Por favor selecciona un archivo de imagen",
                            variant: "destructive"
                        });
                        return
                    }
                    if (N.size > 5 * 1024 * 1024) {
                        n({
                            title: "Error",
                            description: "La imagen debe ser menor a 5MB",
                            variant: "destructive"
                        });
                        return
                    }
                    m(N);
                    const C = new FileReader;
                    C.onload = E => {
                        var k;
                        j((k = E.target) == null ? void 0 : k.result)
                    },
                    C.readAsDataURL(N)
                }
            };
        h.useEffect(() => {
            t && (i({
                title: t.title,
                content: t.content,
                image: t.image || "",
                type: t.type,
                position: t.position,
                trigger: t.trigger,
                triggerValue: t.triggerValue,
                displayFrequency: t.displayFrequency,
                startDate: t.startDate ? t.startDate.split("T")[0] : "",
                endDate: t.endDate ? t.endDate.split("T")[0] : "",
                isActive: t.isActive,
                priority: t.priority,
                targetPages: t.targetPages || [],
                excludePages: t.excludePages || [],
                buttonText: t.buttonText,
                buttonAction: t.buttonAction,
                buttonUrl: t.buttonUrl || "",
                showCloseButton: t.showCloseButton,
                backdropClose: t.backdropClose
            }), l((t.targetPages || []).join(`
`
            )), d((t.excludePages || []).join(`
`
            )), j(t.image || ""))
        }, [t]);
        const x = async b => {
                const N = new FormData;
                N.append("image", b);
                const w = await fetch("/api/upload/image", {
                    method: "POST",
                    body: N
                });
                if (!w.ok)
                    throw new Error("Error al subir la imagen");
                return (await w.json()).url
            },
            y = nt({
                mutationFn: async b => {
                    const N = t ? `/api/popups/${t.id}` : "/api/popups",
                        C = await fetch(N, {
                            method: t ? "PUT" : "POST",
                            headers: {
                                "Content-Type": "application/json"
                            },
                            body: JSON.stringify(b)
                        });
                    if (!C.ok) {
                        const E = await C.json();
                        throw new Error(E.error || "Error al guardar el pop-up")
                    }
                    return C.json()
                },
                onSuccess: () => {
                    n({
                        title: "Éxito",
                        description: `Pop-up ${t ? "actualizado" : "creado"} correctamente`
                    }),
                    r()
                },
                onError: b => {
                    n({
                        title: "Error",
                        description: b.message,
                        variant: "destructive"
                    })
                }
            }),
            v = async b => {
                if (b.preventDefault(), !a.title.trim()) {
                    n({
                        title: "Error",
                        description: "El título es obligatorio",
                        variant: "destructive"
                    });
                    return
                }
                if (!a.content.trim()) {
                    n({
                        title: "Error",
                        description: "El contenido es obligatorio",
                        variant: "destructive"
                    });
                    return
                }
                try {
                    let N = a.image;
                    u && (N = await x(u));
                    const w = o.trim() ? o.split(`
`
                        ).map(k => k.trim()).filter(k => k.length > 0) : [],
                        C = c.trim() ? c.split(`
`
                        ).map(k => k.trim()).filter(k => k.length > 0) : [],
                        E = {
                            ...a,
                            image: N,
                            targetPages: w.length > 0 ? w : null,
                            excludePages: C.length > 0 ? C : null,
                            startDate: a.startDate ? new Date(a.startDate).toISOString() : null,
                            endDate: a.endDate ? new Date(a.endDate).toISOString() : null
                        };
                    y.mutate(E)
                } catch {
                    n({
                        title: "Error",
                        description: "Error al subir la imagen",
                        variant: "destructive"
                    })
                }
            },
            f = (b, N) => {
                i(w => ({
                    ...w,
                    [b]: N
                }))
            };
        return e.jsx("div", {
            className: "fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center p-4",
            children: e.jsxs("div", {
                className: "bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",
                children: [e.jsxs("div", {
                    className: "sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center",
                    children: [e.jsx("h2", {
                        className: "text-xl font-semibold",
                        children: t ? "Editar Pop-up" : "Nuevo Pop-up"
                    }), e.jsx(T, {
                        variant: "ghost",
                        size: "sm",
                        onClick: s,
                        children: e.jsx(tr, {
                            className: "h-4 w-4"
                        })
                    })]
                }), e.jsxs("form", {
                    onSubmit: v,
                    className: "p-6",
                    children: [e.jsxs(ls, {
                        defaultValue: "basic",
                        className: "space-y-6",
                        children: [e.jsxs(es, {
                            className: "grid w-full grid-cols-4",
                            children: [e.jsx(Ue, {
                                value: "basic",
                                children: "Básico"
                            }), e.jsx(Ue, {
                                value: "behavior",
                                children: "Comportamiento"
                            }), e.jsx(Ue, {
                                value: "targeting",
                                children: "Segmentación"
                            }), e.jsx(Ue, {
                                value: "advanced",
                                children: "Avanzado"
                            })]
                        }), e.jsx($e, {
                            value: "basic",
                            className: "space-y-4",
                            children: e.jsxs(U, {
                                children: [e.jsx(ne, {
                                    children: e.jsxs(ae, {
                                        className: "flex items-center gap-2",
                                        children: [e.jsx(Hs, {
                                            className: "h-5 w-5"
                                        }), "Información Básica"]
                                    })
                                }), e.jsxs(q, {
                                    className: "space-y-4",
                                    children: [e.jsxs("div", {
                                        children: [e.jsx(V, {
                                            htmlFor: "title",
                                            children: "Título *"
                                        }), e.jsx(te, {
                                            id: "title",
                                            value: a.title,
                                            onChange: b => f("title", b.target.value),
                                            placeholder: "Título del pop-up",
                                            required: !0
                                        })]
                                    }), e.jsxs("div", {
                                        children: [e.jsx(V, {
                                            htmlFor: "content",
                                            children: "Contenido * (HTML permitido)"
                                        }), e.jsx(Ut, {
                                            id: "content",
                                            value: a.content,
                                            onChange: b => f("content", b.target.value),
                                            placeholder: "Contenido del pop-up. Puedes usar HTML básico como <b>, <i>, <a>, etc.",
                                            rows: 6,
                                            required: !0
                                        })]
                                    }), e.jsxs("div", {
                                        children: [e.jsx(V, {
                                            htmlFor: "image",
                                            children: "Imagen (opcional)"
                                        }), e.jsxs("div", {
                                            className: "space-y-2",
                                            children: [e.jsxs("div", {
                                                className: "flex items-center gap-2",
                                                children: [e.jsx("input", {
                                                    type: "file",
                                                    id: "image",
                                                    accept: "image/*",
                                                    onChange: g,
                                                    className: "hidden"
                                                }), e.jsxs(T, {
                                                    type: "button",
                                                    variant: "outline",
                                                    onClick: () => {
                                                        var b;
                                                        return (b = document.getElementById("image")) == null ? void 0 : b.click()
                                                    },
                                                    className: "flex items-center gap-2",
                                                    children: [e.jsx(li, {
                                                        className: "h-4 w-4"
                                                    }), "Subir imagen"]
                                                }), p && e.jsx(T, {
                                                    type: "button",
                                                    variant: "outline",
                                                    size: "sm",
                                                    onClick: () => {
                                                        j(""),
                                                        m(null),
                                                        i(b => ({
                                                            ...b,
                                                            image: ""
                                                        }))
                                                    },
                                                    children: e.jsx(tr, {
                                                        className: "h-4 w-4"
                                                    })
                                                })]
                                            }), p && e.jsx("div", {
                                                className: "border rounded-lg p-2",
                                                children: e.jsx("img", {
                                                    src: p,
                                                    alt: "Preview",
                                                    className: "max-w-full max-h-32 object-contain rounded"
                                                })
                                            }), e.jsx("p", {
                                                className: "text-sm text-gray-500",
                                                children: "Formatos soportados: JPEG, PNG, GIF. Tamaño máximo: 5MB"
                                            })]
                                        })]
                                    }), e.jsxs("div", {
                                        className: "grid grid-cols-2 gap-4",
                                        children: [e.jsxs("div", {
                                            children: [e.jsx(V, {
                                                htmlFor: "type",
                                                children: "Tipo"
                                            }), e.jsxs(He, {
                                                value: a.type,
                                                onValueChange: b => f("type", b),
                                                children: [e.jsx(qe, {
                                                    children: e.jsx(We, {})
                                                }), e.jsxs(Be, {
                                                    children: [e.jsx(Q, {
                                                        value: "info",
                                                        children: "Información"
                                                    }), e.jsx(Q, {
                                                        value: "warning",
                                                        children: "Advertencia"
                                                    }), e.jsx(Q, {
                                                        value: "promotion",
                                                        children: "Promoción"
                                                    }), e.jsx(Q, {
                                                        value: "announcement",
                                                        children: "Anuncio"
                                                    })]
                                                })]
                                            })]
                                        }), e.jsxs("div", {
                                            children: [e.jsx(V, {
                                                htmlFor: "position",
                                                children: "Posición"
                                            }), e.jsxs(He, {
                                                value: a.position,
                                                onValueChange: b => f("position", b),
                                                children: [e.jsx(qe, {
                                                    children: e.jsx(We, {})
                                                }), e.jsxs(Be, {
                                                    children: [e.jsx(Q, {
                                                        value: "center",
                                                        children: "Centro"
                                                    }), e.jsx(Q, {
                                                        value: "top",
                                                        children: "Arriba"
                                                    }), e.jsx(Q, {
                                                        value: "bottom",
                                                        children: "Abajo"
                                                    }), e.jsx(Q, {
                                                        value: "corner",
                                                        children: "Esquina"
                                                    })]
                                                })]
                                            })]
                                        })]
                                    }), e.jsxs("div", {
                                        children: [e.jsx(V, {
                                            htmlFor: "priority",
                                            children: "Prioridad (1-10)"
                                        }), e.jsx(te, {
                                            id: "priority",
                                            type: "number",
                                            min: "1",
                                            max: "10",
                                            value: a.priority,
                                            onChange: b => f("priority", parseInt(b.target.value))
                                        })]
                                    })]
                                })]
                            })
                        }), e.jsx($e, {
                            value: "behavior",
                            className: "space-y-4",
                            children: e.jsxs(U, {
                                children: [e.jsx(ne, {
                                    children: e.jsxs(ae, {
                                        className: "flex items-center gap-2",
                                        children: [e.jsx(Bs, {
                                            className: "h-5 w-5"
                                        }), "Comportamiento"]
                                    })
                                }), e.jsxs(q, {
                                    className: "space-y-4",
                                    children: [e.jsxs("div", {
                                        className: "grid grid-cols-2 gap-4",
                                        children: [e.jsxs("div", {
                                            children: [e.jsx(V, {
                                                htmlFor: "trigger",
                                                children: "Activador"
                                            }), e.jsxs(He, {
                                                value: a.trigger,
                                                onValueChange: b => f("trigger", b),
                                                children: [e.jsx(qe, {
                                                    children: e.jsx(We, {})
                                                }), e.jsxs(Be, {
                                                    children: [e.jsx(Q, {
                                                        value: "immediate",
                                                        children: "Inmediato"
                                                    }), e.jsx(Q, {
                                                        value: "delay",
                                                        children: "Retraso"
                                                    }), e.jsx(Q, {
                                                        value: "scroll",
                                                        children: "Al hacer scroll"
                                                    }), e.jsx(Q, {
                                                        value: "exit",
                                                        children: "Al intentar salir"
                                                    })]
                                                })]
                                            })]
                                        }), (a.trigger === "delay" || a.trigger === "scroll") && e.jsxs("div", {
                                            children: [e.jsx(V, {
                                                htmlFor: "triggerValue",
                                                children: a.trigger === "delay" ? "Segundos de retraso" : "Porcentaje de scroll"
                                            }), e.jsx(te, {
                                                id: "triggerValue",
                                                type: "number",
                                                min: "0",
                                                max: a.trigger === "scroll" ? "100" : void 0,
                                                value: a.triggerValue,
                                                onChange: b => f("triggerValue", parseInt(b.target.value))
                                            })]
                                        })]
                                    }), e.jsxs("div", {
                                        children: [e.jsx(V, {
                                            htmlFor: "displayFrequency",
                                            children: "Frecuencia de visualización"
                                        }), e.jsxs(He, {
                                            value: a.displayFrequency,
                                            onValueChange: b => f("displayFrequency", b),
                                            children: [e.jsx(qe, {
                                                children: e.jsx(We, {})
                                            }), e.jsxs(Be, {
                                                children: [e.jsx(Q, {
                                                    value: "always",
                                                    children: "Siempre"
                                                }), e.jsx(Q, {
                                                    value: "once_per_session",
                                                    children: "Una vez por sesión"
                                                }), e.jsx(Q, {
                                                    value: "once_per_user",
                                                    children: "Una vez por usuario"
                                                }), e.jsx(Q, {
                                                    value: "daily",
                                                    children: "Una vez al día"
                                                })]
                                            })]
                                        })]
                                    }), e.jsxs("div", {
                                        className: "grid grid-cols-3 gap-4",
                                        children: [e.jsxs("div", {
                                            children: [e.jsx(V, {
                                                htmlFor: "buttonText",
                                                children: "Texto del botón"
                                            }), e.jsx(te, {
                                                id: "buttonText",
                                                value: a.buttonText,
                                                onChange: b => f("buttonText", b.target.value),
                                                placeholder: "Texto del botón"
                                            })]
                                        }), e.jsxs("div", {
                                            children: [e.jsx(V, {
                                                htmlFor: "buttonAction",
                                                children: "Acción del botón"
                                            }), e.jsxs(He, {
                                                value: a.buttonAction,
                                                onValueChange: b => f("buttonAction", b),
                                                children: [e.jsx(qe, {
                                                    children: e.jsx(We, {})
                                                }), e.jsxs(Be, {
                                                    children: [e.jsx(Q, {
                                                        value: "close",
                                                        children: "Cerrar"
                                                    }), e.jsx(Q, {
                                                        value: "redirect",
                                                        children: "Redireccionar"
                                                    }), e.jsx(Q, {
                                                        value: "external",
                                                        children: "Enlace externo"
                                                    })]
                                                })]
                                            })]
                                        }), (a.buttonAction === "redirect" || a.buttonAction === "external") && e.jsxs("div", {
                                            children: [e.jsx(V, {
                                                htmlFor: "buttonUrl",
                                                children: "URL del botón"
                                            }), e.jsx(te, {
                                                id: "buttonUrl",
                                                type: "url",
                                                value: a.buttonUrl,
                                                onChange: b => f("buttonUrl", b.target.value),
                                                placeholder: "https://..."
                                            })]
                                        })]
                                    }), e.jsxs("div", {
                                        className: "flex items-center space-x-4",
                                        children: [e.jsxs("div", {
                                            className: "flex items-center space-x-2",
                                            children: [e.jsx(St, {
                                                id: "showCloseButton",
                                                checked: a.showCloseButton,
                                                onCheckedChange: b => f("showCloseButton", b)
                                            }), e.jsx(V, {
                                                htmlFor: "showCloseButton",
                                                children: "Mostrar botón cerrar"
                                            })]
                                        }), e.jsxs("div", {
                                            className: "flex items-center space-x-2",
                                            children: [e.jsx(St, {
                                                id: "backdropClose",
                                                checked: a.backdropClose,
                                                onCheckedChange: b => f("backdropClose", b)
                                            }), e.jsx(V, {
                                                htmlFor: "backdropClose",
                                                children: "Cerrar al hacer clic fuera"
                                            })]
                                        })]
                                    })]
                                })]
                            })
                        }), e.jsx($e, {
                            value: "targeting",
                            className: "space-y-4",
                            children: e.jsxs(U, {
                                children: [e.jsx(ne, {
                                    children: e.jsxs(ae, {
                                        className: "flex items-center gap-2",
                                        children: [e.jsx(Oj, {
                                            className: "h-5 w-5"
                                        }), "Segmentación de Páginas"]
                                    })
                                }), e.jsxs(q, {
                                    className: "space-y-4",
                                    children: [e.jsxs("div", {
                                        children: [e.jsx(V, {
                                            htmlFor: "targetPages",
                                            children: "Páginas objetivo (una por línea)"
                                        }), e.jsx(Ut, {
                                            id: "targetPages",
                                            value: o,
                                            onChange: b => l(b.target.value),
                                            placeholder: `/
/piezas
/vehiculos
/contacto`


                                            ,
                                            rows: 4
                                        }), e.jsx("p", {
                                            className: "text-sm text-gray-500 mt-1",
                                            children: "Si está vacío, se mostrará en todas las páginas. Ejemplos: /, /piezas, /vehiculos"
                                        })]
                                    }), e.jsxs("div", {
                                        children: [e.jsx(V, {
                                            htmlFor: "excludePages",
                                            children: "Páginas excluidas (una por línea)"
                                        }), e.jsx(Ut, {
                                            id: "excludePages",
                                            value: c,
                                            onChange: b => d(b.target.value),
                                            placeholder: `/admin
/login
/checkout`

                                            ,
                                            rows: 4
                                        }), e.jsx("p", {
                                            className: "text-sm text-gray-500 mt-1",
                                            children: "Páginas donde NO se mostrará el pop-up. Ejemplos: /admin, /login"
                                        })]
                                    })]
                                })]
                            })
                        }), e.jsx($e, {
                            value: "advanced",
                            className: "space-y-4",
                            children: e.jsxs(U, {
                                children: [e.jsx(ne, {
                                    children: e.jsxs(ae, {
                                        className: "flex items-center gap-2",
                                        children: [e.jsx(ur, {
                                            className: "h-5 w-5"
                                        }), "Configuración Avanzada"]
                                    })
                                }), e.jsxs(q, {
                                    className: "space-y-4",
                                    children: [e.jsxs("div", {
                                        className: "grid grid-cols-2 gap-4",
                                        children: [e.jsxs("div", {
                                            children: [e.jsx(V, {
                                                htmlFor: "startDate",
                                                children: "Fecha de inicio"
                                            }), e.jsx(te, {
                                                id: "startDate",
                                                type: "date",
                                                value: a.startDate,
                                                onChange: b => f("startDate", b.target.value)
                                            })]
                                        }), e.jsxs("div", {
                                            children: [e.jsx(V, {
                                                htmlFor: "endDate",
                                                children: "Fecha de fin"
                                            }), e.jsx(te, {
                                                id: "endDate",
                                                type: "date",
                                                value: a.endDate,
                                                onChange: b => f("endDate", b.target.value)
                                            })]
                                        })]
                                    }), e.jsxs("div", {
                                        className: "flex items-center space-x-2",
                                        children: [e.jsx(St, {
                                            id: "isActive",
                                            checked: a.isActive,
                                            onCheckedChange: b => f("isActive", b)
                                        }), e.jsx(V, {
                                            htmlFor: "isActive",
                                            children: "Pop-up activo"
                                        })]
                                    })]
                                })]
                            })
                        })]
                    }), e.jsxs("div", {
                        className: "flex justify-end space-x-2 pt-6 border-t",
                        children: [e.jsx(T, {
                            type: "button",
                            variant: "outline",
                            onClick: s,
                            children: "Cancelar"
                        }), e.jsx(T, {
                            type: "submit",
                            disabled: y.isPending,
                            children: y.isPending ? "Guardando..." : t ? "Actualizar" : "Crear"
                        })]
                    })]
                })]
            })
        })
    },
    lQ = ({popupId: t, onClose: s}) => {
        const {data: r, isLoading: n} = Te({
            queryKey: [`/api/popups/${t}/stats`],
            queryFn: async () => {
                const o = await fetch(`/api/popups/${t}/stats`);
                if (!o.ok)
                    throw new Error("Error al obtener estadísticas");
                return o.json()
            }
        });
        if (n)
            return e.jsx("div", {
                className: "fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center",
                children: e.jsxs("div", {
                    className: "bg-white rounded-lg p-8",
                    children: [e.jsx("div", {
                        className: "animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"
                    }), e.jsx("p", {
                        className: "mt-2 text-gray-600",
                        children: "Cargando estadísticas..."
                    })]
                })
            });
        const {summary: a={}, stats: i=[]} = r || {};
        return e.jsx("div", {
            className: "fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center p-4",
            children: e.jsxs("div", {
                className: "bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",
                children: [e.jsxs("div", {
                    className: "sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center",
                    children: [e.jsxs("h2", {
                        className: "text-xl font-semibold flex items-center gap-2",
                        children: [e.jsx(yu, {
                            className: "h-5 w-5"
                        }), "Estadísticas del Pop-up"]
                    }), e.jsx(T, {
                        variant: "ghost",
                        size: "sm",
                        onClick: s,
                        children: e.jsx(tr, {
                            className: "h-4 w-4"
                        })
                    })]
                }), e.jsxs("div", {
                    className: "p-6 space-y-6",
                    children: [e.jsxs("div", {
                        className: "grid grid-cols-2 md:grid-cols-4 gap-4",
                        children: [e.jsx(U, {
                            children: e.jsxs(q, {
                                className: "p-4 text-center",
                                children: [e.jsx("div", {
                                    className: "flex items-center justify-center mb-2",
                                    children: e.jsx(bs, {
                                        className: "h-8 w-8 text-blue-600"
                                    })
                                }), e.jsx("div", {
                                    className: "text-2xl font-bold text-gray-900",
                                    children: a.totalViews || 0
                                }), e.jsx("div", {
                                    className: "text-sm text-gray-600",
                                    children: "Visualizaciones"
                                })]
                            })
                        }), e.jsx(U, {
                            children: e.jsxs(q, {
                                className: "p-4 text-center",
                                children: [e.jsx("div", {
                                    className: "flex items-center justify-center mb-2",
                                    children: e.jsx(Pv, {
                                        className: "h-8 w-8 text-green-600"
                                    })
                                }), e.jsx("div", {
                                    className: "text-2xl font-bold text-gray-900",
                                    children: a.totalClicks || 0
                                }), e.jsx("div", {
                                    className: "text-sm text-gray-600",
                                    children: "Clics"
                                })]
                            })
                        }), e.jsx(U, {
                            children: e.jsxs(q, {
                                className: "p-4 text-center",
                                children: [e.jsx("div", {
                                    className: "flex items-center justify-center mb-2",
                                    children: e.jsx(Ea, {
                                        className: "h-8 w-8 text-red-600"
                                    })
                                }), e.jsx("div", {
                                    className: "text-2xl font-bold text-gray-900",
                                    children: a.totalCloses || 0
                                }), e.jsx("div", {
                                    className: "text-sm text-gray-600",
                                    children: "Cierres"
                                })]
                            })
                        }), e.jsx(U, {
                            children: e.jsxs(q, {
                                className: "p-4 text-center",
                                children: [e.jsx("div", {
                                    className: "flex items-center justify-center mb-2",
                                    children: e.jsx(yu, {
                                        className: "h-8 w-8 text-purple-600"
                                    })
                                }), e.jsx("div", {
                                    className: "text-2xl font-bold text-gray-900",
                                    children: a.clickRate ? `${a.clickRate.toFixed(1)}%` : "0%"
                                }), e.jsx("div", {
                                    className: "text-sm text-gray-600",
                                    children: "Tasa de clics"
                                })]
                            })
                        })]
                    }), a.totalViews > 0 && e.jsxs(U, {
                        children: [e.jsx(ne, {
                            children: e.jsx(ae, {
                                children: "Métricas de Rendimiento"
                            })
                        }), e.jsx(q, {
                            children: e.jsxs("div", {
                                className: "grid grid-cols-2 gap-4",
                                children: [e.jsxs("div", {
                                    children: [e.jsx("div", {
                                        className: "text-sm text-gray-600",
                                        children: "Tasa de interacción"
                                    }), e.jsxs("div", {
                                        className: "text-lg font-semibold",
                                        children: [((a.totalClicks + a.totalCloses) / a.totalViews * 100).toFixed(1), "%"]
                                    })]
                                }), e.jsxs("div", {
                                    children: [e.jsx("div", {
                                        className: "text-sm text-gray-600",
                                        children: "Tasa de cierre"
                                    }), e.jsx("div", {
                                        className: "text-lg font-semibold",
                                        children: a.closeRate ? `${a.closeRate.toFixed(1)}%` : "0%"
                                    })]
                                })]
                            })
                        })]
                    }), e.jsxs(U, {
                        children: [e.jsx(ne, {
                            children: e.jsx(ae, {
                                children: "Historial de Interacciones"
                            })
                        }), e.jsx(q, {
                            children: i.length === 0 ? e.jsx("div", {
                                className: "text-center py-8 text-gray-500",
                                children: "No hay datos de interacciones disponibles"
                            }) : e.jsx("div", {
                                className: "space-y-2 max-h-64 overflow-y-auto",
                                children: i.map((o, l) => e.jsxs("div", {
                                    className: "flex items-center justify-between p-3 bg-gray-50 rounded-lg",
                                    children: [e.jsxs("div", {
                                        className: "flex items-center gap-3",
                                        children: [o.action === "viewed" && e.jsx(bs, {
                                            className: "h-4 w-4 text-blue-600"
                                        }), o.action === "clicked" && e.jsx(Pv, {
                                            className: "h-4 w-4 text-green-600"
                                        }), o.action === "closed" && e.jsx(Ea, {
                                            className: "h-4 w-4 text-red-600"
                                        }), o.action === "ignored" && e.jsx("div", {
                                            className: "h-4 w-4 rounded-full bg-gray-400"
                                        }), e.jsxs("div", {
                                            children: [e.jsxs("div", {
                                                className: "font-medium",
                                                children: [o.action === "viewed" && "Visualizado", o.action === "clicked" && "Botón presionado", o.action === "closed" && "Cerrado", o.action === "ignored" && "Ignorado"]
                                            }), e.jsxs("div", {
                                                className: "text-sm text-gray-600",
                                                children: [o.page, " • ", o.sessionId ? `Sesión: ${o.sessionId.slice(0, 8)}...` : "Usuario anónimo"]
                                            })]
                                        })]
                                    }), e.jsx("div", {
                                        className: "text-sm text-gray-500",
                                        children: new Date(o.createdAt).toLocaleString()
                                    })]
                                }, l))
                            })
                        })]
                    }), e.jsxs(U, {
                        children: [e.jsx(ne, {
                            children: e.jsx(ae, {
                                children: "Páginas más activas"
                            })
                        }), e.jsx(q, {
                            children: (() => {
                                const o = i.reduce((c, d) => (c[d.page] = (c[d.page] || 0) + 1, c), {}),
                                    l = Object.entries(o).sort(([, c], [, d]) => d - c).slice(0, 5);
                                return l.length > 0 ? e.jsx("div", {
                                    className: "space-y-2",
                                    children: l.map(([c, d]) => e.jsxs("div", {
                                        className: "flex justify-between items-center",
                                        children: [e.jsx("span", {
                                            className: "text-sm font-mono",
                                            children: c
                                        }), e.jsxs("span", {
                                            className: "text-sm text-gray-600",
                                            children: [d, " interacciones"]
                                        })]
                                    }, c))
                                }) : e.jsx("div", {
                                    className: "text-center py-4 text-gray-500",
                                    children: "No hay datos de páginas disponibles"
                                })
                            })()
                        })]
                    })]
                })]
            })
        })
    },
    cQ = () => {
        var f,
            b;
        const [t, s] = h.useState(!1),
            [r, n] = h.useState(null),
            [a, i] = h.useState(null),
            {toast: o} = st(),
            l = pr(),
            {data: c, isLoading: d} = Te({
                queryKey: ["/api/popups"],
                queryFn: async () => {
                    const N = await fetch("/api/popups");
                    if (!N.ok)
                        throw new Error("Error al obtener pop-ups");
                    return N.json()
                }
            }),
            u = nt({
                mutationFn: async N => {
                    const w = await fetch(`/api/popups/${N}/toggle`, {
                        method: "PATCH"
                    });
                    if (!w.ok)
                        throw new Error("Error al cambiar estado del pop-up");
                    return w.json()
                },
                onSuccess: N => {
                    l.invalidateQueries({
                        queryKey: ["/api/popups"]
                    }),
                    o({
                        title: "Éxito",
                        description: N.message
                    })
                },
                onError: () => {
                    o({
                        title: "Error",
                        description: "No se pudo cambiar el estado del pop-up",
                        variant: "destructive"
                    })
                }
            }),
            m = nt({
                mutationFn: async N => {
                    const w = await fetch(`/api/popups/${N}`, {
                        method: "DELETE"
                    });
                    if (!w.ok)
                        throw new Error("Error al eliminar pop-up");
                    return w.json()
                },
                onSuccess: () => {
                    l.invalidateQueries({
                        queryKey: ["/api/popups"]
                    }),
                    o({
                        title: "Éxito",
                        description: "Pop-up eliminado correctamente"
                    })
                },
                onError: () => {
                    o({
                        title: "Error",
                        description: "No se pudo eliminar el pop-up",
                        variant: "destructive"
                    })
                }
            }),
            p = N => {
                n(N),
                s(!0)
            },
            j = N => {
                window.confirm("¿Estás seguro de que quieres eliminar este pop-up?") && m.mutate(N)
            },
            g = () => {
                s(!1),
                n(null)
            },
            x = N => {
                switch (N) {
                case "warning":
                    return "bg-yellow-100 text-yellow-800";
                case "promotion":
                    return "bg-green-100 text-green-800";
                case "announcement":
                    return "bg-blue-100 text-blue-800";
                case "info":
                default:
                    return "bg-gray-100 text-gray-800"
                }
            },
            y = (N, w) => {
                switch (N) {
                case "immediate":
                    return "Inmediato";
                case "delay":
                    return `Después de ${w}s`;
                case "scroll":
                    return `Al scroll ${w}%`;
                case "exit":
                    return "Al intentar salir";
                default:
                    return N
                }
            },
            v = N => {
                switch (N) {
                case "always":
                    return "Siempre";
                case "once_per_session":
                    return "Una vez por sesión";
                case "once_per_user":
                    return "Una vez por usuario";
                case "daily":
                    return "Una vez al día";
                default:
                    return N
                }
            };
        return d ? e.jsx(ja, {
            children: e.jsx("div", {
                className: "flex items-center justify-center h-64",
                children: e.jsxs("div", {
                    className: "text-center",
                    children: [e.jsx("div", {
                        className: "animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"
                    }), e.jsx("p", {
                        className: "mt-2 text-gray-600",
                        children: "Cargando pop-ups..."
                    })]
                })
            })
        }) : e.jsx(ja, {
            children: e.jsxs("div", {
                className: "space-y-6",
                children: [e.jsxs("div", {
                    className: "flex justify-between items-center",
                    children: [e.jsxs("div", {
                        children: [e.jsx("h1", {
                            className: "text-2xl font-bold text-gray-900",
                            children: "Gestión de Pop-ups"
                        }), e.jsx("p", {
                            className: "text-gray-600",
                            children: "Administra los pop-ups que se muestran en tu sitio web"
                        })]
                    }), e.jsxs(T, {
                        onClick: () => s(!0),
                        children: [e.jsx(on, {
                            className: "h-4 w-4 mr-2"
                        }), "Nuevo Pop-up"]
                    })]
                }), e.jsx("div", {
                    className: "grid gap-6",
                    children: ((f = c == null ? void 0 : c.popups) == null ? void 0 : f.length) === 0 ? e.jsx(U, {
                        children: e.jsxs(q, {
                            className: "text-center py-12",
                            children: [e.jsx("p", {
                                className: "text-gray-500 mb-4",
                                children: "No hay pop-ups configurados"
                            }), e.jsxs(T, {
                                onClick: () => s(!0),
                                children: [e.jsx(on, {
                                    className: "h-4 w-4 mr-2"
                                }), "Crear primer pop-up"]
                            })]
                        })
                    }) : (b = c == null ? void 0 : c.popups) == null ? void 0 : b.map(N => {
                        var w,
                            C,
                            E,
                            k;
                        return e.jsxs(U, {
                            className: N.isActive ? "border-green-200" : "border-gray-200",
                            children: [e.jsx(ne, {
                                children: e.jsxs("div", {
                                    className: "flex items-start justify-between",
                                    children: [e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsxs("div", {
                                            className: "flex items-center gap-2",
                                            children: [e.jsx(ae, {
                                                className: "text-lg",
                                                children: N.title
                                            }), e.jsx(ye, {
                                                className: x(N.type),
                                                children: N.type
                                            }), e.jsx(ye, {
                                                variant: N.isActive ? "default" : "secondary",
                                                children: N.isActive ? "Activo" : "Inactivo"
                                            })]
                                        }), e.jsxs("div", {
                                            className: "flex flex-wrap gap-2 text-sm text-gray-600",
                                            children: [e.jsxs("span", {
                                                children: ["📍 ", N.position]
                                            }), e.jsxs("span", {
                                                children: ["⚡ ", y(N.trigger, N.triggerValue)]
                                            }), e.jsxs("span", {
                                                children: ["🔄 ", v(N.displayFrequency)]
                                            }), e.jsxs("span", {
                                                children: ["🎯 Prioridad: ", N.priority]
                                            })]
                                        })]
                                    }), e.jsxs("div", {
                                        className: "flex gap-2",
                                        children: [e.jsx(T, {
                                            size: "sm",
                                            variant: "outline",
                                            onClick: () => i(N.id),
                                            children: e.jsx(yu, {
                                                className: "h-4 w-4"
                                            })
                                        }), e.jsx(T, {
                                            size: "sm",
                                            variant: "outline",
                                            onClick: () => u.mutate(N.id),
                                            children: N.isActive ? e.jsx(UE, {
                                                className: "h-4 w-4"
                                            }) : e.jsx(bs, {
                                                className: "h-4 w-4"
                                            })
                                        }), e.jsx(T, {
                                            size: "sm",
                                            variant: "outline",
                                            onClick: () => p(N),
                                            children: e.jsx(Br, {
                                                className: "h-4 w-4"
                                            })
                                        }), e.jsx(T, {
                                            size: "sm",
                                            variant: "outline",
                                            onClick: () => j(N.id),
                                            children: e.jsx(Jt, {
                                                className: "h-4 w-4"
                                            })
                                        })]
                                    })]
                                })
                            }), e.jsxs(q, {
                                children: [e.jsx("div", {
                                    className: "text-sm text-gray-600 mb-4 prose prose-sm max-w-none",
                                    dangerouslySetInnerHTML: {
                                        __html: di.sanitize(N.content.slice(0, 200) + (N.content.length > 200 ? "..." : ""), {
                                            ALLOWED_TAGS: ["p", "br", "strong", "em", "a", "div", "span"],
                                            ALLOWED_ATTR: ["href", "target", "rel"]
                                        })
                                    }
                                }), N.image && e.jsx("div", {
                                    className: "mb-4",
                                    children: e.jsx("img", {
                                        src: N.image,
                                        alt: N.title,
                                        className: "w-full max-w-xs h-32 object-cover rounded-md border"
                                    })
                                }), (((w = N.targetPages) == null ? void 0 : w.length) || ((C = N.excludePages) == null ? void 0 : C.length)) && e.jsxs("div", {
                                    className: "space-y-2 text-xs",
                                    children: [((E = N.targetPages) == null ? void 0 : E.length) > 0 && e.jsxs("div", {
                                        children: [e.jsx("span", {
                                            className: "font-medium text-green-700",
                                            children: "Páginas objetivo:"
                                        }), e.jsx("span", {
                                            className: "ml-2 text-gray-600",
                                            children: N.targetPages.join(", ")
                                        })]
                                    }), ((k = N.excludePages) == null ? void 0 : k.length) > 0 && e.jsxs("div", {
                                        children: [e.jsx("span", {
                                            className: "font-medium text-red-700",
                                            children: "Páginas excluidas:"
                                        }), e.jsx("span", {
                                            className: "ml-2 text-gray-600",
                                            children: N.excludePages.join(", ")
                                        })]
                                    })]
                                }), e.jsxs("div", {
                                    className: "mt-4 flex justify-between text-xs text-gray-500",
                                    children: [e.jsxs("span", {
                                        children: ["Creado: ", new Date(N.createdAt).toLocaleDateString()]
                                    }), e.jsxs("span", {
                                        children: ["Actualizado: ", new Date(N.updatedAt).toLocaleDateString()]
                                    })]
                                })]
                            })]
                        }, N.id)
                    })
                }), t && e.jsx(oQ, {
                    popup: r,
                    onClose: g,
                    onSuccess: () => {
                        g(),
                        l.invalidateQueries({
                            queryKey: ["/api/popups"]
                        })
                    }
                }), a && e.jsx(lQ, {
                    popupId: a,
                    onClose: () => i(null)
                })]
            })
        })
    },
    dQ = () => {
        var f,
            b;
        const [t, s] = h.useState(""),
            [r, n] = h.useState(null),
            {toast: a} = st(),
            i = pr(),
            {data: o, isLoading: l} = Te({
                queryKey: ["/api/backup/list"],
                queryFn: async () => {
                    const N = await fetch("/api/backup/list", {
                        credentials: "include"
                    });
                    if (!N.ok)
                        throw new Error("Error al obtener backups");
                    return N.json()
                }
            }),
            c = nt({
                mutationFn: async N => {
                    const w = await fetch("/api/backup/create", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json"
                        },
                        credentials: "include",
                        body: JSON.stringify({
                            name: N || void 0
                        })
                    });
                    if (!w.ok)
                        throw new Error("Error creando backup de base de datos");
                    return w.json()
                },
                onSuccess: N => {
                    i.invalidateQueries({
                        queryKey: ["/api/backup/list"]
                    }),
                    a({
                        title: "Éxito",
                        description: N.message
                    }),
                    s("")
                },
                onError: N => {
                    a({
                        title: "Error",
                        description: N.message,
                        variant: "destructive"
                    })
                }
            }),
            d = nt({
                mutationFn: async ({backupId: N}) => {
                    const w = await fetch(`/api/backup/restore/${N}`, {
                        method: "POST",
                        credentials: "include"
                    });
                    if (!w.ok)
                        throw new Error("Error restaurando base de datos");
                    return w.json()
                },
                onSuccess: N => {
                    a({
                        title: "Éxito",
                        description: N.message
                    })
                },
                onError: N => {
                    a({
                        title: "Error",
                        description: N.message,
                        variant: "destructive"
                    })
                }
            }),
            u = nt({
                mutationFn: async N => {
                    const w = await fetch(`/api/backup/${N}`, {
                        method: "DELETE",
                        credentials: "include"
                    });
                    if (!w.ok)
                        throw new Error("Error eliminando backup");
                    return w.json()
                },
                onSuccess: N => {
                    i.invalidateQueries({
                        queryKey: ["/api/backup/list"]
                    }),
                    a({
                        title: "Éxito",
                        description: N.message
                    })
                },
                onError: N => {
                    a({
                        title: "Error",
                        description: N.message,
                        variant: "destructive"
                    })
                }
            }),
            m = nt({
                mutationFn: async N => {
                    const w = new FormData;
                    w.append("backup", N);
                    const C = await fetch("/api/backup/upload", {
                        method: "POST",
                        credentials: "include",
                        body: w
                    });
                    if (!C.ok)
                        throw new Error("Error subiendo backup");
                    return C.json()
                },
                onSuccess: N => {
                    i.invalidateQueries({
                        queryKey: ["/api/backup/list"]
                    }),
                    a({
                        title: "Éxito",
                        description: N.message
                    }),
                    n(null)
                },
                onError: N => {
                    a({
                        title: "Error",
                        description: N.message,
                        variant: "destructive"
                    })
                }
            }),
            p = N => {
                window.confirm("¿Estás seguro de que quieres restaurar la base de datos? Esta acción sobrescribirá los datos actuales.") && d.mutate({
                    backupId: N.id
                })
            },
            j = N => {
                window.confirm(`¿Estás seguro de que quieres eliminar el backup "${N.name}"?`) && u.mutate(N.id)
            },
            g = N => {
                var C;
                const w = (C = N.target.files) == null ? void 0 : C[0];
                w && n(w)
            },
            x = () => e.jsx(Gn, {
                className: "h-4 w-4"
            }),
            y = () => "bg-blue-100 text-blue-800",
            v = () => "Base de Datos";
        return l ? e.jsx(ja, {
            children: e.jsx("div", {
                className: "flex items-center justify-center h-64",
                children: e.jsxs("div", {
                    className: "text-center",
                    children: [e.jsx("div", {
                        className: "animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"
                    }), e.jsx("p", {
                        className: "mt-2 text-gray-600",
                        children: "Cargando backups..."
                    })]
                })
            })
        }) : e.jsx(ja, {
            children: e.jsxs("div", {
                className: "space-y-6",
                children: [e.jsxs("div", {
                    children: [e.jsx("h1", {
                        className: "text-2xl font-bold text-gray-900",
                        children: "Gestión de Backups"
                    }), e.jsx("p", {
                        className: "text-gray-600",
                        children: "Crea y restaura copias de seguridad de tu sistema"
                    })]
                }), e.jsxs("div", {
                    className: "grid md:grid-cols-2 gap-6",
                    children: [e.jsxs(U, {
                        children: [e.jsx(ne, {
                            children: e.jsxs(ae, {
                                className: "flex items-center gap-2",
                                children: [e.jsx(Ot, {
                                    className: "h-5 w-5"
                                }), "Crear Backup"]
                            })
                        }), e.jsxs(q, {
                            className: "space-y-4",
                            children: [e.jsxs("div", {
                                children: [e.jsx(V, {
                                    htmlFor: "backupName",
                                    children: "Nombre del backup (opcional)"
                                }), e.jsx(te, {
                                    id: "backupName",
                                    value: t,
                                    onChange: N => s(N.target.value),
                                    placeholder: "Mi backup personalizado"
                                })]
                            }), e.jsx("div", {
                                className: "grid grid-cols-1 gap-2",
                                children: e.jsxs(T, {
                                    onClick: () => c.mutate(t),
                                    disabled: c.isPending,
                                    className: "w-full",
                                    children: [e.jsx(Gn, {
                                        className: "h-4 w-4 mr-2"
                                    }), c.isPending ? "Creando..." : "Crear Backup de Base de Datos"]
                                })
                            })]
                        })]
                    }), e.jsxs(U, {
                        children: [e.jsx(ne, {
                            children: e.jsxs(ae, {
                                className: "flex items-center gap-2",
                                children: [e.jsx(li, {
                                    className: "h-5 w-5"
                                }), "Subir Backup"]
                            })
                        }), e.jsxs(q, {
                            className: "space-y-4",
                            children: [e.jsxs("div", {
                                children: [e.jsx(V, {
                                    htmlFor: "uploadFile",
                                    children: "Seleccionar archivo SQL (.sql)"
                                }), e.jsx(te, {
                                    id: "uploadFile",
                                    type: "file",
                                    accept: ".sql",
                                    onChange: g
                                })]
                            }), r && e.jsxs("div", {
                                className: "p-3 bg-gray-50 rounded-md",
                                children: [e.jsxs("p", {
                                    className: "text-sm text-gray-600",
                                    children: ["Archivo seleccionado: ", e.jsx("strong", {
                                        children: r.name
                                    })]
                                }), e.jsxs("p", {
                                    className: "text-xs text-gray-500",
                                    children: ["Tamaño: ", (r.size / 1024 / 1024).toFixed(2), " MB"]
                                })]
                            }), e.jsxs(T, {
                                onClick: () => r && m.mutate(r),
                                disabled: !r || m.isPending,
                                className: "w-full",
                                children: [e.jsx(li, {
                                    className: "h-4 w-4 mr-2"
                                }), m.isPending ? "Subiendo..." : "Subir Backup"]
                            })]
                        })]
                    })]
                }), e.jsxs(U, {
                    children: [e.jsx(ne, {
                        children: e.jsxs("div", {
                            className: "flex justify-between items-center",
                            children: [e.jsx(ae, {
                                children: "Backups Disponibles"
                            }), e.jsxs(T, {
                                variant: "outline",
                                size: "sm",
                                onClick: () => i.invalidateQueries({
                                    queryKey: ["/api/backup/list"]
                                }),
                                children: [e.jsx(xt, {
                                    className: "h-4 w-4 mr-2"
                                }), "Actualizar"]
                            })]
                        })
                    }), e.jsx(q, {
                        children: ((f = o == null ? void 0 : o.backups) == null ? void 0 : f.length) === 0 ? e.jsxs("div", {
                            className: "text-center py-8",
                            children: [e.jsx(Ot, {
                                className: "h-12 w-12 mx-auto text-gray-400 mb-4"
                            }), e.jsx("p", {
                                className: "text-gray-500",
                                children: "No hay backups disponibles"
                            }), e.jsx("p", {
                                className: "text-sm text-gray-400",
                                children: "Crea tu primer backup usando las opciones de arriba"
                            })]
                        }) : e.jsx("div", {
                            className: "space-y-4",
                            children: (b = o == null ? void 0 : o.backups) == null ? void 0 : b.map(N => e.jsx("div", {
                                className: "border rounded-lg p-4 hover:bg-gray-50 transition-colors",
                                children: e.jsxs("div", {
                                    className: "flex items-start justify-between",
                                    children: [e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsxs("div", {
                                            className: "flex items-center gap-2",
                                            children: [e.jsxs("div", {
                                                className: "flex items-center gap-2",
                                                children: [x(), e.jsx("h3", {
                                                    className: "font-medium",
                                                    children: N.name
                                                })]
                                            }), e.jsx(ye, {
                                                className: y(),
                                                children: v()
                                            })]
                                        }), e.jsx("p", {
                                            className: "text-sm text-gray-600",
                                            children: N.description
                                        }), e.jsxs("div", {
                                            className: "flex gap-4 text-xs text-gray-500",
                                            children: [e.jsxs("span", {
                                                className: "flex items-center gap-1",
                                                children: [e.jsx(Bs, {
                                                    className: "h-3 w-3"
                                                }), new Date(N.createdAt).toLocaleString()]
                                            }), e.jsxs("span", {
                                                children: ["Tamaño: ", N.sizeFormatted]
                                            })]
                                        })]
                                    }), e.jsxs("div", {
                                        className: "flex gap-2",
                                        children: [e.jsxs(T, {
                                            size: "sm",
                                            variant: "outline",
                                            onClick: () => window.open(`/api/backup/download/${N.id}`, "_blank"),
                                            children: [e.jsx(Ot, {
                                                className: "h-4 w-4 mr-1"
                                            }), "Descargar"]
                                        }), e.jsxs(T, {
                                            size: "sm",
                                            onClick: () => p(N),
                                            disabled: d.isPending,
                                            children: [e.jsx(Rt, {
                                                className: "h-4 w-4 mr-1"
                                            }), "Restaurar"]
                                        }), e.jsx(T, {
                                            size: "sm",
                                            variant: "outline",
                                            onClick: () => j(N),
                                            disabled: u.isPending,
                                            children: e.jsx(Jt, {
                                                className: "h-4 w-4"
                                            })
                                        })]
                                    })]
                                })
                            }, N.id))
                        })
                    })]
                }), e.jsx(U, {
                    className: "border-yellow-200",
                    children: e.jsx(q, {
                        className: "pt-6",
                        children: e.jsxs("div", {
                            className: "flex gap-3",
                            children: [e.jsx(zs, {
                                className: "h-5 w-5 text-yellow-600 mt-0.5"
                            }), e.jsxs("div", {
                                className: "space-y-2",
                                children: [e.jsx("h4", {
                                    className: "font-medium text-yellow-800",
                                    children: "Información importante:"
                                }), e.jsxs("ul", {
                                    className: "text-sm text-yellow-700 space-y-1",
                                    children: [e.jsx("li", {
                                        children: "• Los backups incluyen solo la base de datos PostgreSQL"
                                    }), e.jsx("li", {
                                        children: "• Las restauraciones sobrescribirán los datos actuales"
                                    }), e.jsx("li", {
                                        children: "• Se recomienda crear un backup antes de restaurar"
                                    }), e.jsx("li", {
                                        children: "• Puedes descargar los backups para almacenarlos de forma segura"
                                    })]
                                })]
                            })]
                        })
                    })
                })]
            })
        })
    },
    uQ = () => {
        const [t, s] = h.useState(""),
            [r, n] = h.useState("all"),
            [a, i] = h.useState("all"),
            [o, l] = h.useState(null),
            [c, d] = h.useState(!1),
            [u, m] = h.useState([]),
            {toast: p} = st(),
            j = pr(),
            g = F => {
                try {
                    const _ = new Date(F);
                    return isNaN(_.getTime()) ? "Fecha inválida" : yq(_, {
                        addSuffix: !0,
                        locale: ks
                    })
                } catch (_) {
                    return console.warn("Error formatting date:", F, _), "Fecha inválida"
                }
            },
            {data: x=[], isLoading: y} = Te({
                queryKey: ["/api/admin/messages", t, r, a],
                queryFn: async () => {
                    const F = new URLSearchParams;
                    t && F.set("search", t),
                    r !== "all" && F.set("status", r),
                    a !== "all" && F.set("type", a);
                    const _ = await fetch(`/api/admin/messages?${F}`);
                    if (!_.ok)
                        throw new Error("Error al cargar mensajes");
                    return _.json()
                }
            }),
            {data: v} = Te({
                queryKey: ["/api/admin/messages/stats"],
                queryFn: async () => {
                    const F = await fetch("/api/admin/messages/stats");
                    if (!F.ok)
                        throw new Error("Error al cargar estadísticas");
                    return F.json()
                }
            }),
            f = nt({
                mutationFn: async F => {
                    const _ = await fetch(`/api/admin/messages/${F}/read`, {
                        method: "PUT"
                    });
                    if (!_.ok)
                        throw new Error("Error al marcar como leído");
                    return _.json()
                },
                onSuccess: () => {
                    j.invalidateQueries({
                        queryKey: ["/api/admin/messages"]
                    }),
                    j.invalidateQueries({
                        queryKey: ["/api/admin/messages/stats"]
                    }),
                    p({
                        title: "Éxito",
                        description: "Mensaje marcado como leído"
                    })
                }
            }),
            b = nt({
                mutationFn: async F => {
                    const _ = await fetch(`/api/admin/messages/${F}/archive`, {
                        method: "PUT"
                    });
                    if (!_.ok)
                        throw new Error("Error al archivar mensaje");
                    return _.json()
                },
                onSuccess: () => {
                    j.invalidateQueries({
                        queryKey: ["/api/admin/messages"]
                    }),
                    j.invalidateQueries({
                        queryKey: ["/api/admin/messages/stats"]
                    }),
                    p({
                        title: "Éxito",
                        description: "Mensaje archivado"
                    })
                }
            }),
            N = nt({
                mutationFn: async F => {
                    const _ = await fetch(`/api/admin/messages/${F}`, {
                        method: "DELETE"
                    });
                    if (!_.ok)
                        throw new Error("Error al eliminar mensaje");
                    return _.json()
                },
                onSuccess: () => {
                    j.invalidateQueries({
                        queryKey: ["/api/admin/messages"]
                    }),
                    j.invalidateQueries({
                        queryKey: ["/api/admin/messages/stats"]
                    }),
                    d(!1),
                    p({
                        title: "Éxito",
                        description: "Mensaje eliminado"
                    })
                }
            }),
            w = nt({
                mutationFn: async F => {
                    const _ = await fetch("/api/admin/messages/bulk", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json"
                        },
                        body: JSON.stringify({
                            action: "delete",
                            messageIds: F
                        })
                    });
                    if (!_.ok)
                        throw new Error("Error al eliminar mensajes");
                    return _.json()
                },
                onSuccess: () => {
                    j.invalidateQueries({
                        queryKey: ["/api/admin/messages"]
                    }),
                    j.invalidateQueries({
                        queryKey: ["/api/admin/messages/stats"]
                    }),
                    m([]),
                    p({
                        title: "Éxito",
                        description: "Mensajes eliminados"
                    })
                }
            }),
            C = (F, _) => {
                m(_ ? S => [...S, F] : S => S.filter(I => I !== F))
            },
            E = F => {
                m(F ? G.map(_ => _.id) : [])
            },
            k = () => {
                if (u.length === 0)
                    return;
                const F = `¿Estás seguro de que quieres eliminar ${u.length} mensaje${u.length > 1 ? "s" : ""}? Esta acción no se puede deshacer.`;
                confirm(F) && w.mutate(u)
            },
            R = F => {
                switch (F) {
                case "contact":
                    return "Contacto";
                case "valuation":
                    return "Tasación";
                case "quote":
                    return "Presupuesto";
                default:
                    return F
                }
            },
            H = F => {
                switch (F) {
                case "contact":
                    return aw;
                case "valuation":
                    return Ss;
                case "quote":
                    return Kn;
                default:
                    return Ls
                }
            },
            z = F => {
                switch (F) {
                case "unread":
                    return "bg-red-100 text-red-800";
                case "read":
                    return "bg-blue-100 text-blue-800";
                case "archived":
                    return "bg-gray-100 text-gray-800";
                default:
                    return "bg-gray-100 text-gray-800"
                }
            },
            A = F => {
                switch (F) {
                case "unread":
                    return "Sin leer";
                case "read":
                    return "Leído";
                case "archived":
                    return "Archivado";
                default:
                    return F
                }
            },
            $ = F => {
                l(F),
                d(!0),
                F.status === "unread" && f.mutate(F.id)
            },
            G = x;
        return y ? e.jsx(ja, {
            children: e.jsx("div", {
                className: "flex items-center justify-center min-h-[400px]",
                children: e.jsx("div", {
                    className: "animate-spin h-12 w-12 border-4 border-primary border-t-transparent rounded-full"
                })
            })
        }) : e.jsx(ja, {
            children: e.jsxs("div", {
                className: "space-y-6",
                children: [e.jsx("div", {
                    className: "flex justify-between items-center",
                    children: e.jsxs("div", {
                        children: [e.jsx("h1", {
                            className: "text-2xl font-bold text-gray-900",
                            children: "Mensajes Recibidos"
                        }), e.jsx("p", {
                            className: "text-gray-600",
                            children: "Gestiona los mensajes de contacto y solicitudes de tasación"
                        })]
                    })
                }), v && e.jsxs("div", {
                    className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",
                    children: [e.jsx(U, {
                        children: e.jsx(q, {
                            className: "p-4",
                            children: e.jsxs("div", {
                                className: "flex items-center space-x-2",
                                children: [e.jsx(Ls, {
                                    className: "h-5 w-5 text-blue-500"
                                }), e.jsxs("div", {
                                    children: [e.jsx("p", {
                                        className: "text-sm text-gray-600",
                                        children: "Total"
                                    }), e.jsx("p", {
                                        className: "text-2xl font-bold",
                                        children: v.total
                                    })]
                                })]
                            })
                        })
                    }), e.jsx(U, {
                        children: e.jsx(q, {
                            className: "p-4",
                            children: e.jsxs("div", {
                                className: "flex items-center space-x-2",
                                children: [e.jsx(LO, {
                                    className: "h-5 w-5 text-red-500"
                                }), e.jsxs("div", {
                                    children: [e.jsx("p", {
                                        className: "text-sm text-gray-600",
                                        children: "Sin leer"
                                    }), e.jsx("p", {
                                        className: "text-2xl font-bold text-red-600",
                                        children: v.unread
                                    })]
                                })]
                            })
                        })
                    }), e.jsx(U, {
                        children: e.jsx(q, {
                            className: "p-4",
                            children: e.jsxs("div", {
                                className: "flex items-center space-x-2",
                                children: [e.jsx(Ss, {
                                    className: "h-5 w-5 text-green-500"
                                }), e.jsxs("div", {
                                    children: [e.jsx("p", {
                                        className: "text-sm text-gray-600",
                                        children: "Tasaciones"
                                    }), e.jsx("p", {
                                        className: "text-2xl font-bold",
                                        children: v.valuation
                                    })]
                                })]
                            })
                        })
                    }), e.jsx(U, {
                        children: e.jsx(q, {
                            className: "p-4",
                            children: e.jsxs("div", {
                                className: "flex items-center space-x-2",
                                children: [e.jsx(aw, {
                                    className: "h-5 w-5 text-purple-500"
                                }), e.jsxs("div", {
                                    children: [e.jsx("p", {
                                        className: "text-sm text-gray-600",
                                        children: "Contactos"
                                    }), e.jsx("p", {
                                        className: "text-2xl font-bold",
                                        children: v.contact
                                    })]
                                })]
                            })
                        })
                    })]
                }), e.jsx(U, {
                    children: e.jsx(q, {
                        className: "p-4",
                        children: e.jsxs("div", {
                            className: "flex flex-col sm:flex-row gap-4",
                            children: [e.jsx("div", {
                                className: "flex-1",
                                children: e.jsxs("div", {
                                    className: "relative",
                                    children: [e.jsx(Cr, {
                                        className: "absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"
                                    }), e.jsx(te, {
                                        placeholder: "Buscar por nombre, email o mensaje...",
                                        value: t,
                                        onChange: F => s(F.target.value),
                                        className: "pl-10"
                                    })]
                                })
                            }), e.jsxs("div", {
                                className: "flex gap-2",
                                children: [e.jsxs("select", {
                                    value: r,
                                    onChange: F => n(F.target.value),
                                    className: "px-3 py-2 border border-gray-300 rounded-md text-sm",
                                    children: [e.jsx("option", {
                                        value: "all",
                                        children: "Todos los estados"
                                    }), e.jsx("option", {
                                        value: "unread",
                                        children: "Sin leer"
                                    }), e.jsx("option", {
                                        value: "read",
                                        children: "Leídos"
                                    }), e.jsx("option", {
                                        value: "archived",
                                        children: "Archivados"
                                    })]
                                }), e.jsxs("select", {
                                    value: a,
                                    onChange: F => i(F.target.value),
                                    className: "px-3 py-2 border border-gray-300 rounded-md text-sm",
                                    children: [e.jsx("option", {
                                        value: "all",
                                        children: "Todos los tipos"
                                    }), e.jsx("option", {
                                        value: "contact",
                                        children: "Contacto"
                                    }), e.jsx("option", {
                                        value: "valuation",
                                        children: "Tasación"
                                    }), e.jsx("option", {
                                        value: "quote",
                                        children: "Presupuesto"
                                    })]
                                })]
                            })]
                        })
                    })
                }), e.jsxs(U, {
                    children: [e.jsx(ne, {
                        children: e.jsxs(ae, {
                            className: "flex items-center justify-between",
                            children: [e.jsxs("div", {
                                className: "flex items-center gap-2",
                                children: [e.jsx(Ls, {
                                    className: "h-5 w-5"
                                }), "Mensajes (", G.length, ")"]
                            }), u.length > 0 && e.jsxs("div", {
                                className: "flex items-center gap-2",
                                children: [e.jsxs("span", {
                                    className: "text-sm text-gray-600",
                                    children: [u.length, " seleccionado", u.length > 1 ? "s" : ""]
                                }), e.jsxs(T, {
                                    variant: "destructive",
                                    size: "sm",
                                    onClick: k,
                                    disabled: w.isPending,
                                    children: [e.jsx(Jt, {
                                        className: "h-4 w-4 mr-2"
                                    }), "Eliminar seleccionados"]
                                })]
                            })]
                        })
                    }), e.jsx(q, {
                        children: G.length === 0 ? e.jsxs("div", {
                            className: "text-center py-8",
                            children: [e.jsx(Ls, {
                                className: "h-12 w-12 text-gray-400 mx-auto mb-4"
                            }), e.jsx("p", {
                                className: "text-gray-500",
                                children: "No hay mensajes que mostrar"
                            })]
                        }) : e.jsxs("div", {
                            className: "space-y-3",
                            children: [e.jsxs("div", {
                                className: "flex items-center gap-2 pb-2 border-b",
                                children: [e.jsx(yi, {
                                    checked: u.length === G.length && G.length > 0,
                                    onCheckedChange: E
                                }), e.jsx("span", {
                                    className: "text-sm text-gray-600",
                                    children: "Seleccionar todos"
                                })]
                            }), G.map(F => {
                                const _ = H(F.form_type),
                                    S = F.status === "unread",
                                    I = u.includes(F.id);
                                return e.jsx("div", {
                                    className: `p-4 border rounded-lg transition-colors ${I ? "bg-blue-100 border-blue-300" : S ? "bg-blue-50 border-blue-200" : "bg-white"}`,
                                    children: e.jsxs("div", {
                                        className: "flex items-start justify-between",
                                        children: [e.jsxs("div", {
                                            className: "flex items-start space-x-3 flex-1",
                                            children: [e.jsx(yi, {
                                                checked: I,
                                                onCheckedChange: W => C(F.id, W),
                                                onClick: W => W.stopPropagation()
                                            }), e.jsx(_, {
                                                className: `h-5 w-5 mt-1 ${S ? "text-blue-600" : "text-gray-400"}`
                                            }), e.jsxs("div", {
                                                className: "flex-1 min-w-0 cursor-pointer",
                                                onClick: () => $(F),
                                                children: [e.jsxs("div", {
                                                    className: "flex items-center gap-2 mb-2",
                                                    children: [e.jsx("h3", {
                                                        className: `font-medium ${S ? "text-blue-900" : "text-gray-900"}`,
                                                        children: F.name
                                                    }), e.jsx(ye, {
                                                        variant: "outline",
                                                        className: z(F.status),
                                                        children: A(F.status)
                                                    }), e.jsx(ye, {
                                                        variant: "secondary",
                                                        children: R(F.form_type)
                                                    })]
                                                }), e.jsx("p", {
                                                    className: "text-sm text-gray-600 mb-2",
                                                    children: F.email
                                                }), F.subject && e.jsxs("p", {
                                                    className: `text-sm mb-2 ${S ? "text-blue-800" : "text-gray-700"}`,
                                                    children: [e.jsx("strong", {
                                                        children: "Asunto:"
                                                    }), " ", F.subject]
                                                }), e.jsx("p", {
                                                    className: "text-sm text-gray-600 line-clamp-2",
                                                    children: F.message
                                                }), F.images && F.images.length > 0 && e.jsxs("div", {
                                                    className: "flex items-center gap-1 mt-2",
                                                    children: [e.jsx("svg", {
                                                        className: "h-4 w-4 text-blue-600",
                                                        fill: "none",
                                                        stroke: "currentColor",
                                                        viewBox: "0 0 24 24",
                                                        children: e.jsx("path", {
                                                            strokeLinecap: "round",
                                                            strokeLinejoin: "round",
                                                            strokeWidth: 2,
                                                            d: "M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"
                                                        })
                                                    }), e.jsxs("span", {
                                                        className: "text-xs text-blue-600 font-medium",
                                                        children: [F.images.length, " imagen", F.images.length > 1 ? "es" : "", " adjunta", F.images.length > 1 ? "s" : ""]
                                                    })]
                                                })]
                                            })]
                                        }), e.jsxs("div", {
                                            className: "flex flex-col items-end gap-2 ml-4",
                                            children: [e.jsx("span", {
                                                className: "text-xs text-gray-500",
                                                children: g(F.created_at)
                                            }), e.jsxs("div", {
                                                className: "flex gap-1",
                                                children: [e.jsx(T, {
                                                    size: "sm",
                                                    variant: "outline",
                                                    onClick: W => {
                                                        W.stopPropagation(),
                                                        $(F)
                                                    },
                                                    children: e.jsx(bs, {
                                                        className: "h-4 w-4"
                                                    })
                                                }), F.status !== "archived" && e.jsx(T, {
                                                    size: "sm",
                                                    variant: "outline",
                                                    onClick: W => {
                                                        W.stopPropagation(),
                                                        b.mutate(F.id)
                                                    },
                                                    disabled: b.isPending,
                                                    children: e.jsx(JN, {
                                                        className: "h-4 w-4"
                                                    })
                                                }), e.jsx(T, {
                                                    size: "sm",
                                                    variant: "destructive",
                                                    onClick: W => {
                                                        W.stopPropagation(),
                                                        confirm("¿Estás seguro de que quieres eliminar este mensaje? Esta acción no se puede deshacer.") && N.mutate(F.id)
                                                    },
                                                    disabled: N.isPending,
                                                    children: e.jsx(Jt, {
                                                        className: "h-4 w-4"
                                                    })
                                                })]
                                            })]
                                        })]
                                    })
                                }, F.id)
                            })]
                        })
                    })]
                }), e.jsx(Ps, {
                    open: c,
                    onOpenChange: d,
                    children: e.jsx(xs, {
                        className: "max-w-2xl max-h-[80vh] overflow-y-auto",
                        children: o && e.jsxs(e.Fragment, {
                            children: [e.jsx(gs, {
                                children: e.jsxs(vs, {
                                    className: "flex items-center gap-2",
                                    children: [ke.createElement(H(o.form_type), {
                                        className: "h-5 w-5"
                                    }), R(o.form_type), " - ", o.name]
                                })
                            }), e.jsxs("div", {
                                className: "space-y-4",
                                children: [e.jsxs("div", {
                                    className: "flex gap-2",
                                    children: [e.jsx(ye, {
                                        className: z(o.status),
                                        children: A(o.status)
                                    }), e.jsx(ye, {
                                        variant: "secondary",
                                        children: R(o.form_type)
                                    })]
                                }), e.jsxs("div", {
                                    className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                                    children: [e.jsxs("div", {
                                        className: "space-y-2",
                                        children: [e.jsxs("div", {
                                            className: "flex items-center gap-2",
                                            children: [e.jsx(Lr, {
                                                className: "h-4 w-4 text-gray-500"
                                            }), e.jsx("span", {
                                                className: "font-medium",
                                                children: "Nombre:"
                                            }), e.jsx("span", {
                                                children: o.name
                                            })]
                                        }), e.jsxs("div", {
                                            className: "flex items-center gap-2",
                                            children: [e.jsx(Ls, {
                                                className: "h-4 w-4 text-gray-500"
                                            }), e.jsx("span", {
                                                className: "font-medium",
                                                children: "Email:"
                                            }), e.jsx("span", {
                                                children: o.email
                                            })]
                                        }), o.phone && e.jsxs("div", {
                                            className: "flex items-center gap-2",
                                            children: [e.jsx(Xn, {
                                                className: "h-4 w-4 text-gray-500"
                                            }), e.jsx("span", {
                                                className: "font-medium",
                                                children: "Teléfono:"
                                            }), e.jsx("span", {
                                                children: o.phone
                                            })]
                                        })]
                                    }), e.jsx("div", {
                                        className: "space-y-2",
                                        children: e.jsxs("div", {
                                            className: "flex items-center gap-2",
                                            children: [e.jsx(ur, {
                                                className: "h-4 w-4 text-gray-500"
                                            }), e.jsx("span", {
                                                className: "font-medium",
                                                children: "Recibido:"
                                            }), e.jsx("span", {
                                                children: g(o.created_at)
                                            })]
                                        })
                                    })]
                                }), o.subject && e.jsxs("div", {
                                    children: [e.jsx("h4", {
                                        className: "font-medium mb-2",
                                        children: "Asunto:"
                                    }), e.jsx("p", {
                                        className: "text-gray-700 bg-gray-50 p-3 rounded",
                                        children: o.subject
                                    })]
                                }), e.jsxs("div", {
                                    children: [e.jsx("h4", {
                                        className: "font-medium mb-2",
                                        children: "Mensaje:"
                                    }), e.jsx("div", {
                                        className: "text-gray-700 bg-gray-50 p-4 rounded whitespace-pre-wrap",
                                        children: o.message
                                    })]
                                }), o.images && o.images.length > 0 && e.jsxs("div", {
                                    children: [e.jsxs("h4", {
                                        className: "font-medium mb-2",
                                        children: ["Imágenes adjuntas (", o.images.length, ")"]
                                    }), e.jsx("div", {
                                        className: "grid grid-cols-2 md:grid-cols-3 gap-4",
                                        children: o.images.map((F, _) => e.jsxs("div", {
                                            className: "relative group",
                                            children: [e.jsx("img", {
                                                src: F.startsWith("http") ? F : `${window.location.origin}${F}`,
                                                alt: `Imagen ${_ + 1}`,
                                                className: "w-full h-32 object-cover rounded-lg border border-gray-200 cursor-pointer hover:opacity-75 transition-opacity",
                                                onClick: () => window.open(F.startsWith("http") ? F : `${window.location.origin}${F}`, "_blank"),
                                                onError: S => {
                                                    console.error(`Error loading image: ${F}`),
                                                    S.currentTarget.style.display = "none"
                                                }
                                            }), e.jsx("div", {
                                                className: "absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-opacity rounded-lg flex items-center justify-center",
                                                children: e.jsx("span", {
                                                    className: "text-white opacity-0 group-hover:opacity-100 text-sm font-medium",
                                                    children: "Ver imagen"
                                                })
                                            })]
                                        }, _))
                                    })]
                                }), e.jsxs("div", {
                                    className: "flex gap-2 pt-4 border-t",
                                    children: [o.status !== "archived" && e.jsxs(T, {
                                        variant: "outline",
                                        onClick: () => b.mutate(o.id),
                                        disabled: b.isPending,
                                        children: [e.jsx(JN, {
                                            className: "h-4 w-4 mr-2"
                                        }), "Archivar"]
                                    }), e.jsxs(T, {
                                        variant: "destructive",
                                        onClick: () => N.mutate(o.id),
                                        disabled: N.isPending,
                                        children: [e.jsx(Jt, {
                                            className: "h-4 w-4 mr-2"
                                        }), "Eliminar"]
                                    })]
                                })]
                            })]
                        })
                    })
                })]
            })
        })
    },
    mQ = ({userId: t}) => {
        const [s] = ut(),
            [r] = h.useState(() => sessionStorage.getItem("sessionId") || Math.random().toString(36).substr(2, 9)),
            [n, a] = h.useState(new Set),
            [i, o] = h.useState(null),
            [l, c] = h.useState(new Set);
        h.useEffect(() => {
            sessionStorage.setItem("sessionId", r)
        }, [r]);
        const {data: d} = Te({
                queryKey: ["/api/popups/active", s],
                queryFn: async () => {
                    const y = await fetch(`/api/popups/active?page=${encodeURIComponent(s)}`);
                    if (!y.ok)
                        throw new Error("Error al obtener pop-ups");
                    return y.json()
                },
                refetchInterval: 6e4
            }),
            u = nt({
                mutationFn: async ({popupId: y, action: v}) => {
                    const f = await fetch("/api/popups/stats", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json"
                        },
                        body: JSON.stringify({
                            popupId: y,
                            action: v,
                            page: s,
                            sessionId: r,
                            userId: t
                        })
                    });
                    if (!f.ok)
                        throw new Error("Error al registrar estadística");
                    return f.json()
                }
            });
        h.useEffect(() => {
            const y = sessionStorage.getItem("shownPopups");
            if (y && a(new Set(JSON.parse(y))), t) {
                const v = new Date().toDateString(),
                    f = `popupsToday_${t}_${v}`,
                    b = localStorage.getItem(f);
                b && c(new Set(JSON.parse(b)))
            }
        }, [t]),
        h.useEffect(() => {
            var N;
            if (!((N = d == null ? void 0 : d.popups) != null && N.length))
                return;
            const y = d.popups.filter(w => {
                switch (w.displayFrequency) {
                case "once_per_session":
                    if (n.has(w.id))
                        return !1;
                    break;
                case "once_per_user":
                    if (t && localStorage.getItem(`popup_shown_${t}_${w.id}`))
                        return !1;
                    break;
                case "daily":
                    if (l.has(w.id))
                        return !1;
                    break;
                case "always":
                default:
                    if (n.has(w.id)) {
                        const C = sessionStorage.getItem(`popup_last_${w.id}`);
                        if (C && Date.now() - parseInt(C) < 3e4)
                            return !1
                    }
                    break
                }
                return !0
            });
            if (y.length === 0)
                return;
            const f = y.sort((w, C) => C.priority - w.priority)[0],
                b = () => {
                    o(f),
                    u.mutate({
                        popupId: f.id,
                        action: "viewed"
                    });
                    const w = new Set(n).add(f.id);
                    if (a(w), sessionStorage.setItem("shownPopups", JSON.stringify([...w])), sessionStorage.setItem(`popup_last_${f.id}`, Date.now().toString()), f.displayFrequency === "once_per_user" && t)
                        localStorage.setItem(`popup_shown_${t}_${f.id}`, "true");
                    else if (f.displayFrequency === "daily" && t) {
                        const C = new Date().toDateString(),
                            E = `popupsToday_${t}_${C}`,
                            k = new Set(l).add(f.id);
                        c(k),
                        localStorage.setItem(E, JSON.stringify([...k]))
                    }
                };
            switch (f.trigger) {
            case "immediate":
                setTimeout(b, 100);
                break;
            case "delay":
                setTimeout(b, (f.triggerValue || 3) * 1e3);
                break;
            case "scroll":
                const w = () => {
                    window.scrollY / (document.documentElement.scrollHeight - window.innerHeight) * 100 >= (f.triggerValue || 50) && (b(), window.removeEventListener("scroll", w))
                };
                return window.addEventListener("scroll", w), () => window.removeEventListener("scroll", w);
            case "exit":
                const C = E => {
                    E.clientY <= 0 && (b(), document.removeEventListener("mouseleave", C))
                };
                return document.addEventListener("mouseleave", C), () => document.removeEventListener("mouseleave", C)
            }
        }, [d, n, l, t, s]);
        const m = () => {
                i && u.mutate({
                    popupId: i.id,
                    action: "closed"
                }),
                o(null)
            },
            p = () => {
                if (i)
                    switch (u.mutate({
                        popupId: i.id,
                        action: "clicked"
                    }), i.buttonAction) {
                    case "close":
                        m();
                        break;
                    case "redirect":
                        i.buttonUrl && (window.location.href = i.buttonUrl),
                        m();
                        break;
                    case "external":
                        i.buttonUrl && window.open(i.buttonUrl, "_blank", "noopener,noreferrer"),
                        m();
                        break
                    }
            },
            j = () => {
                i != null && i.backdropClose && (u.mutate({
                    popupId: i.id,
                    action: "ignored"
                }), m())
            };
        if (!i)
            return null;
        const g = () => {
                switch (i.position) {
                case "top":
                    return "top-4 left-1/2 transform -translate-x-1/2";
                case "bottom":
                    return "bottom-4 left-1/2 transform -translate-x-1/2";
                case "corner":
                    return "bottom-4 right-4";
                case "center":
                default:
                    return "top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"
                }
            },
            x = () => {
                switch (i.type) {
                case "warning":
                    return "border-yellow-500 bg-yellow-50";
                case "promotion":
                    return "border-green-500 bg-green-50";
                case "announcement":
                    return "border-blue-500 bg-blue-50";
                case "info":
                default:
                    return "border-gray-300 bg-white"
                }
            };
        return e.jsx("div", {
            className: "fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",
            onClick: j,
            children: e.jsxs("div", {
                className: `
          relative max-w-md mx-4 p-6 rounded-lg shadow-xl border-2 
          ${
                x()} 
          ${i.position !== "center" ? `fixed ${g()}` : ""}
        `
                ,
                style: i.styles,
                onClick: y => y.stopPropagation(),
                children: [i.showCloseButton && e.jsx("button", {
                    onClick: m,
                    className: "absolute top-2 right-2 p-1 text-gray-500 hover:text-gray-700 transition-colors",
                    children: e.jsx(tr, {
                        size: 20
                    })
                }), e.jsxs("div", {
                    className: "mb-4",
                    children: [e.jsx("h3", {
                        className: "text-lg font-semibold mb-2 text-gray-800",
                        children: i.title
                    }), i.image && e.jsx("div", {
                        className: "mb-3",
                        children: e.jsx("img", {
                            src: i.image,
                            alt: i.title,
                            className: "w-full max-h-48 object-cover rounded-md"
                        })
                    }), e.jsx("div", {
                        className: "text-gray-600 prose prose-sm max-w-none",
                        dangerouslySetInnerHTML: {
                            __html: di.sanitize(i.content, {
                                ALLOWED_TAGS: ["p", "br", "strong", "em", "a", "ul", "ol", "li", "h1", "h2", "h3", "h4", "h5", "h6", "div", "span"],
                                ALLOWED_ATTR: ["href", "target", "rel", "class"],
                                ALLOWED_URI_REGEXP: /^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i
                            })
                        }
                    })]
                }), e.jsx("div", {
                    className: "flex justify-end",
                    children: e.jsxs("button", {
                        onClick: p,
                        className: `
              px-4 py-2 rounded-md font-medium transition-colors
              ${
                        i.type === "promotion" ? "bg-green-600 hover:bg-green-700 text-white" : i.type === "warning" ? "bg-yellow-600 hover:bg-yellow-700 text-white" : "bg-blue-600 hover:bg-blue-700 text-white"}
            `
                        ,
                        children: [i.buttonAction === "external" && e.jsx(ju, {
                            size: 16,
                            className: "inline mr-1"
                        }), i.buttonText]
                    })
                })]
            })
        })
    };
function Va() {
    const t = am(),
        [s] = ut(),
        r = t.slug || s.replace("/", ""),
        {data: n, isLoading: a, error: i} = Te({
            queryKey: [`/api/cms/pages/${r}`],
            queryFn: async () => {
                const o = await fetch(`/api/cms/pages/${r}`);
                if (!o.ok)
                    throw new Error("Página no encontrada");
                return o.json()
            },
            enabled: !!r
        });
    if (a)
        return e.jsx("div", {
            className: "container mx-auto py-12",
            children: e.jsxs("div", {
                className: "animate-pulse space-y-4",
                children: [e.jsx("div", {
                    className: "h-8 bg-gray-200 rounded w-1/3"
                }), e.jsx("div", {
                    className: "h-4 bg-gray-200 rounded w-2/3"
                }), e.jsxs("div", {
                    className: "space-y-3",
                    children: [e.jsx("div", {
                        className: "h-4 bg-gray-200 rounded"
                    }), e.jsx("div", {
                        className: "h-4 bg-gray-200 rounded"
                    }), e.jsx("div", {
                        className: "h-4 bg-gray-200 rounded w-5/6"
                    })]
                })]
            })
        });
    if (i || !n)
        return e.jsx("div", {
            className: "container mx-auto py-12",
            children: e.jsx(U, {
                children: e.jsxs(q, {
                    className: "text-center py-12",
                    children: [e.jsx("h1", {
                        className: "text-2xl font-bold mb-4",
                        children: "Página no encontrada"
                    }), e.jsx("p", {
                        className: "text-muted-foreground",
                        children: "La página que buscas no existe o no está disponible."
                    })]
                })
            })
        });
    if (typeof document < "u") {
        document.title = n.title;
        const o = document.querySelector('meta[name="description"]');
        if (o && n.metaDescription)
            o.setAttribute("content", n.metaDescription);
        else if (n.metaDescription) {
            const l = document.createElement("meta");
            l.name = "description",
            l.content = n.metaDescription,
            document.head.appendChild(l)
        }
    }
    return e.jsx("div", {
        className: "container mx-auto py-12",
        children: e.jsx("article", {
            className: "max-w-4xl mx-auto",
            children: e.jsx(U, {
                children: e.jsx(q, {
                    className: "py-8",
                    children: e.jsx("div", {
                        className: "prose prose-lg max-w-none",
                        dangerouslySetInnerHTML: {
                            __html: di.sanitize(n.content, {
                                ALLOWED_TAGS: ["p", "br", "strong", "em", "a", "ul", "ol", "li", "h1", "h2", "h3", "h4", "h5", "h6", "div", "span", "img", "blockquote"],
                                ALLOWED_ATTR: ["href", "target", "rel", "class", "src", "alt", "width", "height"],
                                ALLOWED_URI_REGEXP: /^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i
                            })
                        }
                    })
                })
            })
        })
    })
}
function hQ() {
    y5();
    const [t, s] = h.useState(!1);
    return h.useEffect(() => {
        function r() {
            return new URLSearchParams(window.location.search).get("platform") === "mobile"
        }
        s(r());
        function n(a) {
            var i;
            if (t)
                try {
                    const l = a.target.closest("a");
                    if (!l || !l.href || l.target === "_blank" || (i = l.getAttribute("href")) != null && i.startsWith("http") && !l.href.includes(window.location.hostname))
                        return;
                    if (!l.href.includes("platform=mobile")) {
                        a.preventDefault();
                        const c = new URL(l.href);
                        c.searchParams.set("platform", "mobile");
                        const d = c.toString();
                        Qk({}, "", d),
                        Zk(new Event("popstate"))
                    }
                } catch (o) {
                    console.warn("Error handling click navigation:", o)
                }
        }
        return t && Kk(document, "click", n), () => {
            Yk(document, "click", n)
        }
    }, [t]), e.jsxs("div", {
        className: "flex flex-col min-h-screen",
        children: [e.jsx(c$, {}), !t && e.jsx(z8, {}), e.jsx("main", {
            className: `flex-grow ${t ? "mobile-view" : ""}`,
            children: e.jsxs(v5, {
                children: [e.jsx(Nt, {
                    path: "/",
                    component: LV
                }), e.jsx(Nt, {
                    path: "/vehiculos",
                    component: zV
                }), e.jsx(Nt, {
                    path: "/vehiculos/buscar",
                    component: HV
                }), e.jsx(Nt, {
                    path: "/vehiculos/:slug",
                    component: BV
                }), e.jsx(Nt, {
                    path: "/piezas",
                    component: a1
                }), e.jsx(Nt, {
                    path: "/piezas/:slug",
                    component: i1
                }), e.jsx(Nt, {
                    path: "/parts",
                    component: a1
                }), e.jsx(Nt, {
                    path: "/parts/:slug",
                    component: i1
                }), e.jsx(Nt, {
                    path: "/tasamos-tu-vehiculo",
                    component: Y7
                }), e.jsx(Nt, {
                    path: "/contacto",
                    component: Z7
                }), e.jsx(Nt, {
                    path: "/prueba-matching",
                    component: o2
                }), e.jsx(Nt, {
                    path: "/admin",
                    component: eU
                }), e.jsx(Nt, {
                    path: "/login",
                    component: SG
                }), e.jsx(Nt, {
                    path: "/register",
                    component: kG
                }), e.jsx(Nt, {
                    path: "/checkout",
                    component: vG
                }), e.jsx(Nt, {
                    path: "/cart",
                    component: yG
                }), e.jsx(Nt, {
                    path: "/redsys-redirect",
                    component: pY
                }), e.jsx(Nt, {
                    path: "/order-confirmation/:orderId",
                    component: wG
                }), e.jsx(Nt, {
                    path: "/payment/stripe",
                    component: tQ
                }), e.jsx(Nt, {
                    path: "/payment/stripe/success",
                    component: sQ
                }), e.jsx(Nt, {
                    path: "/payment/paypal",
                    component: nQ
                }), e.jsx(Nt, {
                    path: "/payment/success",
                    component: aQ
                }), e.jsx(Nt, {
                    path: "/payment/failure",
                    component: iQ
                }), e.jsx(_t, {
                    path: "/panel",
                    component: TG
                }), e.jsx(_t, {
                    path: "/pedidos",
                    component: jG
                }), e.jsx(_t, {
                    path: "/pedidos/:id",
                    component: NG
                }), e.jsx(_t, {
                    path: "/manager",
                    component: v2
                }), e.jsx(_t, {
                    path: "/manager/dashboard",
                    component: v2
                }), e.jsx(_t, {
                    path: "/admin/dashboard",
                    component: T1
                }), e.jsx(_t, {
                    path: "/admin/dashboard",
                    component: T1
                }), e.jsx(_t, {
                    path: "/admin/imports",
                    component: gW
                }), e.jsx(_t, {
                    path: "/admin/import-optimized",
                    component: mY
                }), e.jsx(_t, {
                    path: "/admin/settings",
                    component: VW
                }), e.jsx(_t, {
                    path: "/admin/vehicles",
                    component: Cg
                }), e.jsx(_t, {
                    path: "/admin/vehicles/new",
                    component: Cg
                }), e.jsx(_t, {
                    path: "/admin/vehicles/edit/:id",
                    component: Cg
                }), e.jsx(_t, {
                    path: "/admin/parts",
                    component: Sg
                }), e.jsx(_t, {
                    path: "/admin/parts/new",
                    component: Sg
                }), e.jsx(_t, {
                    path: "/admin/parts/edit/:id",
                    component: Sg
                }), e.jsx(_t, {
                    path: "/admin/orders",
                    component: U1
                }), e.jsx(_t, {
                    path: "/admin/pedidos",
                    component: U1
                }), e.jsx(_t, {
                    path: "/admin/users",
                    component: WW
                }), e.jsx(_t, {
                    path: "/admin/clients",
                    component: GW
                }), e.jsx(_t, {
                    path: "/admin/payments",
                    component: QW
                }), e.jsx(_t, {
                    path: "/admin/payment-methods",
                    component: XW
                }), e.jsx(_t, {
                    path: "/admin/payment-modules",
                    component: JW
                }), e.jsx(_t, {
                    path: "/admin/shipping",
                    component: rG
                }), e.jsx(_t, {
                    path: "/admin/cms",
                    component: fY
                }), e.jsx(_t, {
                    path: "/admin-cms-simple",
                    component: hY
                }), e.jsx(_t, {
                    path: "/admin/popups",
                    component: cQ
                }), e.jsx(_t, {
                    path: "/admin/backups",
                    component: dQ
                }), e.jsx(_t, {
                    path: "/admin/messages",
                    component: uQ
                }), e.jsx(_t, {
                    path: "/admin/email-config",
                    component: nG
                }), e.jsx(_t, {
                    path: "/admin/cookie-settings",
                    component: aG
                }), e.jsx(_t, {
                    path: "/admin/api-tester",
                    component: iG
                }), e.jsx(_t, {
                    path: "/admin/vehicle-matching-test",
                    component: o2
                }), e.jsx(Nt, {
                    path: "/test-payment-modules",
                    component: lY
                }), e.jsx(Nt, {
                    path: "/test-tabs",
                    component: xY
                }), e.jsx(Nt, {
                    path: "/google-merchant-center",
                    component: dY
                }), e.jsx(Nt, {
                    path: "/nosotros",
                    component: Va
                }), e.jsx(Nt, {
                    path: "/aviso-legal",
                    component: Va
                }), e.jsx(Nt, {
                    path: "/politica-privacidad",
                    component: Va
                }), e.jsx(Nt, {
                    path: "/politica-cookies",
                    component: Va
                }), e.jsx(Nt, {
                    path: "/terminos-condiciones",
                    component: Va
                }), e.jsx(Nt, {
                    path: "/formas-pago",
                    component: Va
                }), e.jsx(Nt, {
                    path: "/politica-envios",
                    component: Va
                }), e.jsx(Nt, {
                    path: "/condiciones-compra",
                    component: Va
                }), e.jsx(Nt, {
                    path: "/:slug",
                    component: Va
                }), e.jsx(Nt, {
                    component: cY
                })]
            })
        }), !t && e.jsx(o$, {}), e.jsx(sz, {}), e.jsx(mQ, {})]
    })
}
function pQ() {
    return h.useEffect(() => {
        Xk(),
        (async () => {
            try {
                const r = await (await fetch("/api/config/chatbot")).json();
                if (r.chatbotCode) {
                    const n = document.getElementById("voiceflow-chatbot");
                    if (n && n.remove(), r.chatbotCode && typeof r.chatbotCode == "string" && r.chatbotCode.trim() !== "")
                        try {
                            const a = document.createElement("script");
                            a.id = "voiceflow-chatbot",
                            a.type = "text/javascript";
                            const i = r.chatbotCode.replace(/<script[^>]*>|<\/script>/gi, "");
                            i.trim() && !i.includes("eval(") && !i.includes("Function(") ? (a.textContent = i, document.body.appendChild(a), console.log("✅ Chatbot Voiceflow cargado correctamente")) : console.warn("⚠️ Código del chatbot contiene contenido inseguro, no se cargará")
                        } catch (a) {
                            console.error("❌ Error al cargar el chatbot:", a)
                        }
                }
            } catch (s) {
                console.error("❌ Error cargando código del chatbot:", s)
            }
        })()
    }, []), e.jsx(_L, {
        client: rn,
        children: e.jsx(lL, {
            children: e.jsx(qL, {
                children: e.jsxs(BL, {
                    children: [e.jsx(L3, {}), e.jsx(hQ, {})]
                })
            })
        })
    })
}
const y2 = new Map,
    j2 = async () => {
        [134062, 134074, 134075].forEach(async s => {
            const r = `vehicle-detail-${s}`;
            if (!y2.has(r)) {
                const n = fetch(`/api/vehicles/${s}`, {
                    credentials: "include",
                    headers: {
                        "Cache-Control": "max-age=1800"
                    }
                });
                y2.set(r, n)
            }
        })
    },
    b2 = () => {
        ["https://cdn11.metasync.com", "https://images.unsplash.com", "https://fonts.googleapis.com"].forEach(s => {
            const r = new Image;
            r.src = `${s}/favicon.ico`,
            r.style.display = "none",
            r.onerror = () => document.body.removeChild(r),
            r.onload = () => document.body.removeChild(r),
            document.body.appendChild(r)
        })
    },
    fQ = () => {
        "requestIdleCallback" in window ? requestIdleCallback(() => {
            j2(),
            b2()
        }) : setTimeout(() => {
            j2(),
            b2()
        }, 1e3)
    },
    N2 = () => {
        "serviceWorker" in navigator && navigator.serviceWorker.register("/sw.js", {
            scope: "/",
            updateViaCache: "imports"
        }).catch(() => {})
    },
    xQ = () => {
        fQ(),
        document.readyState === "loading" ? document.addEventListener("DOMContentLoaded", () => {
            N2()
        }) : N2()
    },
    gQ = () => {
        [{
            href: "/desguacesmurcia1.png",
            as: "image",
            type: "image/png"
        }].forEach(s => {
            if (!document.querySelector(`link[href="${s.href}"]`)) {
                const r = document.createElement("link");
                r.rel = "preload",
                Object.assign(r, s),
                document.head.appendChild(r)
            }
        })
    },
    w2 = () => {
        const t = document.createElement("style");
        t.textContent = `
    @font-face {
      font-family: 'Montserrat';
      font-display: swap;
      src: url('https://fonts.gstatic.com/s/montserrat/v30/JTUSjIg1_i6t8kCHKm459WlhyyTh89Y.woff2') format('woff2');
      font-weight: 400;
      unicode-range: U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;
    }
  `







        ,
        document.head.appendChild(t)
    },
    C2 = () => {
        document.querySelectorAll("img:not([width]):not([height])").forEach(s => {
            var r;
            s.src.includes("metasync.com") ? (s.width = 400, s.height = 300, s.style.aspectRatio = "4/3") : (r = s.alt) != null && r.includes("Logo") && (s.width = 106, s.height = 48),
            s.style.maxWidth = "100%",
            s.style.height = "auto"
        })
    },
    vQ = () => {
        gQ(),
        document.readyState === "loading" ? document.addEventListener("DOMContentLoaded", () => {
            w2(),
            C2()
        }) : (w2(), C2()),
        new MutationObserver(s => {
            s.forEach(r => {
                r.type === "childList" && r.addedNodes.forEach(n => {
                    n instanceof HTMLElement && n.querySelectorAll("img:not([width]):not([height])").forEach(i => {
                        i.src.includes("metasync.com") && (i.width = 400, i.height = 300, i.style.aspectRatio = "4/3", i.style.maxWidth = "100%", i.style.height = "auto")
                    })
                })
            })
        }).observe(document.body, {
            childList: !0,
            subtree: !0
        })
    },
    xh = new Map,
    yQ = async (t, s={}) => {
        const r = `${t}-${JSON.stringify(s)}`;
        if (xh.has(r))
            return xh.get(r);
        const n = fetch(t, {
            ...s,
            keepalive: !0,
            headers: {
                Connection: "keep-alive",
                "Cache-Control": "max-age=300",
                ...s.headers
            }
        }).finally(() => {
            setTimeout(() => xh.delete(r), 5e3)
        });
        return xh.set(r, n), n
    },
    S2 = () => {
        "requestIdleCallback" in window && requestIdleCallback(() => {
            ["/api/vehicles/134062", "/api/maintenance/status", "/api/popups/active"].forEach(s => {
                yQ(s).catch(() => {})
            })
        })
    },
    jQ = () => {
        setTimeout(() => {
            typeof window.gtag < "u" && window.gtag("config", "GA_MEASUREMENT_ID", {
                page_title: document.title,
                page_location: window.location.href
            })
        }, 3e3),
        setTimeout(() => {
            var s;
            const t = document.querySelector("[data-voiceflow]");
            t && !t.initialized && ((s = t.initialize) == null || s.call(t))
        }, 5e3)
    },
    bQ = () => {
        [{
            rel: "preconnect",
            href: "https://cdn11.metasync.com"
        }, {
            rel: "preconnect",
            href: "https://fonts.gstatic.com"
        }, {
            rel: "dns-prefetch",
            href: "https://www.googletagmanager.com"
        }, {
            rel: "dns-prefetch",
            href: "https://analytics.google.com"
        }].forEach(s => {
            if (!document.querySelector(`link[href="${s.href}"]`)) {
                const r = document.createElement("link");
                Object.assign(r, s),
                document.head.appendChild(r)
            }
        })
    },
    NQ = () => {
        bQ(),
        S2(),
        jQ(),
        window.addEventListener("online", () => {
            S2()
        })
    },
    wQ = () => {
        document.getElementById("critical-css") || document.head.insertAdjacentHTML("afterbegin", `
    <style id="critical-css">
      /* Layout base para evitar shifts */
      .flex { display: flex; }
      .flex-col { flex-direction: column; }
      .md\\:flex-row { flex-direction: column; }
      .justify-between { justify-content: space-between; }
      .items-start { align-items: flex-start; }
      .mb-8 { margin-bottom: 2rem; }
      .h-12 { height: 3rem; }
      .w-auto { width: auto; }
      
      /* Container base */
      .container { width: 100%; margin: 0 auto; padding: 0 1rem; }
      .max-w-7xl { max-width: 80rem; }
      
      /* Header crítico */
      .bg-white { background-color: white; }
      .shadow-md { box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1); }
      .py-4 { padding-top: 1rem; padding-bottom: 1rem; }
      
      /* Imágenes con dimensiones fijas */
      img[src*="metasync"] {
        min-width: 123px;
        min-height: 92px;
        aspect-ratio: 4/3;
      }
      
      img[alt="Desguace Murcia Logo"] {
        min-width: 138px;
        min-height: 64px;
        width: 138px;
        height: 64px;
      }
      
      /* Layout específico VehicleDetail */
      .vehicle-detail-header {
        min-height: 120px;
        display: flex;
        flex-direction: column;
      }
      
      /* Font optimizations */
      body {
        font-family: system-ui, -apple-system, sans-serif;
        font-display: swap;
      }
      
      /* Carousel base */
      .carousel-container {
        min-height: 273px;
        display: block;
      }
      
      @media (min-width: 768px) {
        .md\\:flex-row { flex-direction: row; }
        .md\\:h-16 { height: 4rem; }
        .container { padding: 0 2rem; }
        
        img[alt="Desguace Murcia Logo"] {
          min-width: 138px;
          min-height: 64px;
          width: 138px;
          height: 64px;
        }
      }
    </style>
  `


































































        )
    },
    CQ = () => {
        [{
            href: "https://fonts.gstatic.com/s/montserrat/v30/JTUSjIg1_i6t8kCHKm459WlhyyTh89Y.woff2",
            as: "font",
            type: "font/woff2",
            crossorigin: "anonymous"
        }, {
            href: "https://fonts.gstatic.com/s/opensans/v43/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS-mu0SC55I.woff2",
            as: "font",
            type: "font/woff2",
            crossorigin: "anonymous"
        }].forEach(s => {
            if (!document.querySelector(`link[href="${s.href}"]`)) {
                const r = document.createElement("link");
                r.rel = "preload",
                Object.assign(r, s),
                document.head.appendChild(r)
            }
        })
    },
    SQ = () => {
        console.log("Unused imports identified:", ["react-icons/si", "framer-motion", "date-fns/locale", "@radix-ui/react-navigation-menu"].length)
    },
    EQ = () => {
        {
            const t = console.log;
            return console.log = () => {}, console.info = () => {}, console.debug = () => {}, t
        }
    },
    kQ = () => {
        EQ(),
        setTimeout(() => {
            SQ()
        }, 3e3)
    },
    PQ = () => {
        _Q(),
        TQ(),
        AQ(),
        console.log("Safe cache strategy initialized - Meta tags preserved")
    },
    _Q = () => {
        [{
            href: "https://fonts.gstatic.com/s/montserrat/v30/JTUSjIg1_i6t8kCHKm459WlhyyTh89Y.woff2",
            as: "font",
            type: "font/woff2",
            crossorigin: "anonymous"
        }, {
            href: "/desguacesmurcia1.png",
            as: "image",
            fetchpriority: "high"
        }].forEach(s => {
            if (!document.querySelector(`link[href="${s.href}"]`)) {
                const r = document.createElement("link");
                r.rel = "preload",
                Object.assign(r, s),
                document.head.appendChild(r)
            }
        })
    },
    TQ = () => {
        const t = {
            fonts: {
                "Montserrat-400": "/fonts/montserrat-400.woff2",
                "Montserrat-600": "/fonts/montserrat-600.woff2"
            },
            cssVariables: {
                "--primary": "hsl(var(--primary))",
                "--secondary": "hsl(var(--secondary))"
            }
        };
        try {
            localStorage.setItem("desguace-static-config", JSON.stringify(t))
        } catch {
            console.warn("LocalStorage not available for static cache")
        }
    },
    AQ = () => {
        [{
            rel: "dns-prefetch",
            href: "//fonts.googleapis.com"
        }, {
            rel: "dns-prefetch",
            href: "//fonts.gstatic.com"
        }, {
            rel: "dns-prefetch",
            href: "//cdn11.metasync.com"
        }, {
            rel: "preconnect",
            href: "https://fonts.googleapis.com"
        }, {
            rel: "preconnect",
            href: "https://fonts.gstatic.com",
            crossorigin: "anonymous"
        }].forEach(s => {
            if (!document.querySelector(`link[href="${s.href}"]`)) {
                const r = document.createElement("link");
                Object.assign(r, s),
                document.head.appendChild(r)
            }
        })
    },
    MQ = () => {
        document.querySelectorAll('img[src*="metasync.com"]').forEach((s, r) => {
            const n = s;
            r === 0 ? (n.loading = "eager", n.fetchPriority = "high") : n.loading = "lazy",
            !n.width && !n.height && (n.width = 364, n.height = 273)
        })
    },
    IQ = () => {
        document.querySelectorAll("script[src]").forEach(s => {
            const r = s.getAttribute("src");
            r && !RQ(r) && s.setAttribute("defer", "")
        })
    },
    RQ = t => ["/src/main.tsx", "/src/App.tsx", "/@vite/client", "/@react-refresh"].some(r => t.includes(r)),
    E2 = () => {
        const t = new IntersectionObserver(s => {
            s.forEach(r => {
                if (r.isIntersecting) {
                    const n = r.target,
                        a = n.getAttribute("data-src");
                    a && (n.src = a, n.removeAttribute("data-src"), t.unobserve(n), n.style.opacity = "0", n.onload = () => {
                        n.style.transition = "opacity 0.3s ease",
                        n.style.opacity = "1"
                    })
                }
            })
        }, {
            rootMargin: "50px 0px",
            threshold: .1
        });
        document.querySelectorAll("img[data-src]").forEach(s => {
            t.observe(s)
        })
    },
    DQ = () => {
        const t = document.querySelector('img[data-priority="high"]');
        if (t) {
            const s = t.getAttribute("data-src") || t.src,
                r = document.createElement("link");
            r.rel = "preload",
            r.as = "image",
            r.href = s,
            r.fetchPriority = "high",
            document.head.appendChild(r),
            t.getAttribute("data-src") && (t.src = s, t.removeAttribute("data-src"))
        }
    },
    OQ = () => {
        document.querySelectorAll("img:not([data-compressed])").forEach(s => {
            const r = s;
            r.onload = () => {
                r.naturalWidth * r.naturalHeight > 5e4 && LQ(r)
            }
        })
    },
    LQ = t => {
        const s = document.createElement("canvas"),
            r = s.getContext("2d");
        if (!r)
            return;
        const n = t.offsetWidth || t.width,
            a = t.offsetHeight || t.height;
        s.width = n * 2,
        s.height = a * 2,
        r.drawImage(t, 0, 0, s.width, s.height);
        const i = s.toDataURL("image/webp", .75);
        i.length < t.src.length * .8 && (t.src = i, t.setAttribute("data-compressed", "true"))
    },
    FQ = () => {
        DQ(),
        document.addEventListener("DOMContentLoaded", () => {
            E2(),
            OQ()
        }),
        new MutationObserver(() => {
            E2()
        }).observe(document.body, {
            childList: !0,
            subtree: !0
        })
    };
function zQ() {
    if (typeof window < "u") {
        const t = console.error,
            s = console.warn;
        console.error = (...n) => {
            const a = n.join(" ");
            ["Failed to load resource: the server responded with a status of 401", "Failed to load resource: the server responded with a status of 404", "favicon.ico", "/api/auth/me", "status of 401 ()", "status of 404 ()"].some(l => a.toLowerCase().includes(l.toLowerCase())) || t.apply(console, n)
        },
        console.warn = (...n) => {
            const a = n.join(" ");
            ["favicon.ico", "401", "404"].some(l => a.toLowerCase().includes(l.toLowerCase())) || s.apply(console, n)
        };
        const r = window.fetch;
        window.fetch = async (...n) => {
            var i;
            const a = ((i = n[0]) == null ? void 0 : i.toString()) || "";
            if (a.includes("favicon.ico"))
                try {
                    return await r(...n)
                } catch {
                    return new Response("", {
                        status: 204
                    })
                }
            if (a.includes("/api/auth/me"))
                try {
                    return await r(...n)
                } catch {
                    return new Response('{"error":"Unauthorized"}', {
                        status: 401,
                        headers: {
                            "Content-Type": "application/json"
                        }
                    })
                }
            return r(...n)
        },
        window.addEventListener("error", n => {
            if (n.message && (n.message.includes("favicon.ico") || n.message.includes("401") || n.message.includes("404")))
                return n.preventDefault(), n.stopPropagation(), !1
        }),
        window.addEventListener("unhandledrejection", n => {
            if (n.reason && n.reason.message && (n.reason.message.includes("favicon.ico") || n.reason.message.includes("401") || n.reason.message.includes("404")))
                return n.preventDefault(), !1
        })
    }
}
zQ();
wQ();
CQ();
PQ();
FQ();
kQ();
vQ();
xQ();
NQ();
document.addEventListener("DOMContentLoaded", () => {
    MQ(),
    IQ()
});
QS(document.getElementById("root")).render(e.jsx(pQ, {}));